_keystoreSetupPath Script findScript KeyStoreUtils KS_SETUP_SCRIPT _keystoreSetupPath CloudRuntimeException String format KeyStoreUtils KS_SETUP_SCRIPT _keystoreCertImportPath Script findScript KeyStoreUtils KS_IMPORT_SCRIPT _keystoreCertImportPath CloudRuntimeException String format KeyStoreUtils KS_IMPORT_SCRIPT _connection start e s_logger warn e s_logger info _connection String host _shell getNextHost _shell getBackoffAlgorithm waitBeforeRetry _connection NioClient host _shell getPort _shell getWorkers
_connection start e s_logger warn e s_logger info _connection String host _shell getNextHost _shell getBackoffAlgorithm waitBeforeRetry _connection NioClient host _shell getPort _shell getWorkers s_logger info host _connection start e _connection stop _connection cleanUp
setLink cancelTasks _resource disconnected s_logger info _shell getConnectedHost _inProgress get _connection stop _connection cleanUp e s_logger warn e _connection _shell getBackoffAlgorithm waitBeforeRetry String host _shell getNextHost _connection NioClient host _shell getPort _shell getWorkers s_logger info host
e s_logger warn e _connection _shell getBackoffAlgorithm waitBeforeRetry String host _shell getNextHost _connection NioClient host _shell getPort _shell getWorkers s_logger info host _connection start e s_logger info e _connection stop _connection cleanUp
requestLogged Response response Command cmds request getCommands Answer answers Answer cmds length i i cmds length i Command cmd cmds i Answer answer cmd getContextParam MDC put cmd getContextParam requestLogged String requestMsg request toString requestMsg
cmd getContextParam MDC put cmd getContextParam s_logger requestLogged String requestMsg request toString requestMsg s_logger debug requestMsg requestLogged s_logger debug cmd toString cmd CronCommand CronCommand watch CronCommand cmd scheduleWatch link request watch getInterval watch getInterval answer Answer cmd cmd ShutdownCommand ShutdownCommand shutdown ShutdownCommand cmd
answer listener processControlRequest request AgentControlCommand cmd answer answer s_logger warn cmd toString answer AgentControlAnswer cmd cmd SetupKeyStoreCommand SetupKeyStoreCommand cmd answer setupAgentKeystore SetupKeyStoreCommand cmd cmd SetupCertificateCommand SetupCertificateCommand cmd answer setupAgentCertificate SetupCertificateCommand cmd scheduleServicesRestartTask cmd SetupMSListCommand answer setupManagementServerList SetupMSListCommand cmd
Answer cmd String certificate cmd getCertificate String privateKey cmd getPrivateKey String caCertificates cmd getCaCertificates s_logger debug File agentFile PropertiesUtil findConfigFile agentFile Answer cmd String keyStoreFile agentFile getParent KeyStoreUtils KS_FILENAME String certFile agentFile getParent KeyStoreUtils CERT_FILENAME String privateKeyFile agentFile getParent KeyStoreUtils PKEY_FILENAME String caCertFile agentFile getParent KeyStoreUtils CACERT_FILENAME FileUtils writeStringToFile File certFile certificate Charset defaultCharset FileUtils writeStringToFile File caCertFile caCertificates Charset defaultCharset
String msList String lbAlgorithm msList lbAlgorithm String newMSHosts String format StringUtils toCSVList msList IAgentShell hostLbAlgorithmSeparator lbAlgorithm _shell setPersistentProperty newMSHosts _shell setHosts newMSHosts _shell resetHostCounter
response Answer answer response getAnswer
file DOMConfigurator configureAndWatch file getAbsolutePath s_logger info s_logger error Class c getClass _version c getPackage getImplementationVersion _version CloudRuntimeException s_logger info _version loadProperties parseCommand args s_logger List String properties Collections list Enumeration String _properties propertyNames String properties
String macAddr String vmName macAddr InetAddress inetAddr _vmIpMap remove vmName String ipAddr inetAddr getHostName String String entry _macIpMap entry ipAddr macAddr entry getKey ipAddr _macIpMap remove macAddr s_logger info macAddr ipAddr inetAddr ipAddr _ipAddresses offer ipAddr
retry valid valid retry retry
metalinkChecksums String chk metalinkChecksums get random nextInt metalinkChecksums size setChecksum chk
vmName vnetId dns privateIP privateMac privateMask publicIP publicMac publicMask cpuCount cpuUtilization ramSize localPath StringBuffer sb StringBuffer sb append vmName vnetId dns sb append privateIP privateMac privateMask sb append publicIP publicMac publicMask sb append cpuCount cpuUtilization ramSize sb append localPath
destIpOrCidr s_logger debug NetUtils destIpOrCidr NetUtils destIpOrCidr s_logger warn destIpOrCidr inSameSubnet NetUtils destIpOrCidr eth1ip eth1mask inSameSubnet NetUtils sameSubnet eth1ip destIpOrCidr eth1mask s_logger warn eth1ip destIpOrCidr eth1mask inSameSubnet NetUtils isNetworkAWithinNetworkB destIpOrCidr NetUtils ipAndNetMaskToCidr eth1ip eth1mask inSameSubnet
s_logger warn eth1ip destIpOrCidr eth1mask inSameSubnet NetUtils isNetworkAWithinNetworkB destIpOrCidr NetUtils ipAndNetMaskToCidr eth1ip eth1mask inSameSubnet s_logger debug destIpOrCidr eth1ip Script command Script s_logger command add command add destIpOrCidr command execute command Script s_logger command add command add destIpOrCidr localgw String result command execute
Object resource s_logger info
s_logger info s_logger info encryptorPassword Class consoleProxyClazz Class forName s_logger info Method method consoleProxyClazz getMethod Properties Object String String method invoke _properties resource ksBits ksPassword encryptorPassword e s_logger error e System exit ExitStatus Error value e
Class consoleProxyClazz Class forName s_logger info Method method consoleProxyClazz getMethod Properties Object String String method invoke _properties resource ksBits ksPassword encryptorPassword e s_logger error e System exit ExitStatus Error value e s_logger error e System exit ExitStatus Error value e
Class consoleProxyClazz Class forName s_logger info Method method consoleProxyClazz getMethod Properties Object String String method invoke _properties resource ksBits ksPassword encryptorPassword e s_logger error e System exit ExitStatus Error value e s_logger error e System exit ExitStatus Error value e s_logger error e System exit ExitStatus Error value e
Method method consoleProxyClazz getMethod Properties Object String String method invoke _properties resource ksBits ksPassword encryptorPassword e s_logger error e System exit ExitStatus Error value e s_logger error e System exit ExitStatus Error value e s_logger error e System exit ExitStatus Error value e s_logger error e System exit ExitStatus Error value e
e s_logger error e System exit ExitStatus Error value e s_logger error e getTargetException toString e System exit ExitStatus Error value e s_logger error System exit ExitStatus Error value _consoleProxyMain setDaemon _consoleProxyMain start s_logger info
e s_logger error e getTargetException toString e System exit ExitStatus Error value e s_logger error System exit ExitStatus Error value _consoleProxyMain setDaemon _consoleProxyMain start s_logger info Class consoleProxyClazz Class forName Method methodSetup consoleProxyClazz getMethod String methodSetup invoke encryptorPassword
System exit ExitStatus Error value e s_logger error System exit ExitStatus Error value _consoleProxyMain setDaemon _consoleProxyMain start s_logger info Class consoleProxyClazz Class forName Method methodSetup consoleProxyClazz getMethod String methodSetup invoke encryptorPassword e s_logger error e
e s_logger error System exit ExitStatus Error value _consoleProxyMain setDaemon _consoleProxyMain start s_logger info Class consoleProxyClazz Class forName Method methodSetup consoleProxyClazz getMethod String methodSetup invoke encryptorPassword e s_logger error e System exit ExitStatus Error value
_consoleProxyMain setDaemon _consoleProxyMain start s_logger info Class consoleProxyClazz Class forName Method methodSetup consoleProxyClazz getMethod String methodSetup invoke encryptorPassword e s_logger error e System exit ExitStatus Error value e s_logger error e System exit ExitStatus Error value
_consoleProxyMain setDaemon _consoleProxyMain start s_logger info Class consoleProxyClazz Class forName Method methodSetup consoleProxyClazz getMethod String methodSetup invoke encryptorPassword e s_logger error e System exit ExitStatus Error value e s_logger error e System exit ExitStatus Error value
ConsoleAccessAuthenticationCommand cmd ConsoleAccessAuthenticationCommand host port vmId sid ticket cmd setReauthenticating isReauthentication ConsoleProxyAuthenticationResult result ConsoleProxyAuthenticationResult result setSuccess result setReauthentication isReauthentication AgentControlAnswer answer getAgentControl sendRequest cmd answer ConsoleAccessAuthenticationAnswer authAnswer ConsoleAccessAuthenticationAnswer answer result setSuccess authAnswer succeeded result setHost authAnswer getHost result setPort authAnswer getPort result setTunnelUrl authAnswer getTunnelUrl result setTunnelSession authAnswer getTunnelSession
ConsoleProxyAuthenticationResult result ConsoleProxyAuthenticationResult result setSuccess result setReauthentication isReauthentication AgentControlAnswer answer getAgentControl sendRequest cmd answer ConsoleAccessAuthenticationAnswer authAnswer ConsoleAccessAuthenticationAnswer answer result setSuccess authAnswer succeeded result setHost authAnswer getHost result setPort authAnswer getPort result setTunnelUrl authAnswer getTunnelUrl result setTunnelSession authAnswer getTunnelSession s_logger error vmId sid
List Field validFields ArrayList Field Account caller CallContext current getCallingAccount Field field Parameter parameterAnnotation field getAnnotation Parameter RoleType allowedRoles parameterAnnotation authorized roleIsAllowed allowedRoles roleIsAllowed RoleType allowedRoles caller roleIsAllowed roleIsAllowed validFields add field
IpAddress ip ip _networkService allocateIP _accountService getAccount getEntityOwnerId getZoneId getNetworkId getDisplayIp ipAddress ip _networkService allocatePortableIP _accountService getAccount getEntityOwnerId getZoneId getNetworkId getVpcId ip setEntityId ip getId setEntityUuid ip getUuid ServerApiException ApiErrorCode INTERNAL_ERROR ex s_logger warn ex ServerApiException ApiErrorCode INTERNAL_ERROR ex getMessage ex
s_logger info getVMSnapshotId getEntityId System currentTimeMillis CallContext current setEventDetails _uuidMgr getUuid VMSnapshot getVMSnapshotId Snapshot snapshot snapshot _snapshotService backupSnapshotFromVmSnapshot getEntityId getVmId getVolumeId getVMSnapshotId snapshot SnapshotResponse response _responseGenerator createSnapshotResponse snapshot response setResponseName getCommandName setResponseObject response ServerApiException ApiErrorCode INTERNAL_ERROR getVMSnapshotId ex ex
ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_UNAVAILABLE_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_ALLOCATION_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode INTERNAL_ERROR ex getMessage ex StringBuilder message StringBuilder ex getMessage ex ex message append s_logger info ex
ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_UNAVAILABLE_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode INTERNAL_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_UNAVAILABLE_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_ALLOCATION_ERROR ex getMessage ex StringBuilder message StringBuilder ex getMessage ex
ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_UNAVAILABLE_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode INTERNAL_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_UNAVAILABLE_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_ALLOCATION_ERROR ex getMessage ex StringBuilder message StringBuilder ex getMessage ex
Vpc vpc _vpcService startVpc getEntityId s_logger debug ApiConstants START vpc _entityMgr findById Vpc getEntityId ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_UNAVAILABLE_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode INTERNAL_ERROR ex getMessage ex
result _vpcService restartVpc result SuccessResponse response SuccessResponse getCommandName setResponseObject response ServerApiException ApiErrorCode INTERNAL_ERROR ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_UNAVAILABLE_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode INTERNAL_ERROR ex getMessage ex
setContextPath properties getProperty CONTEXT_PATH setHttpEnable Boolean valueOf properties getProperty HTTP_ENABLE setHttpPort Integer valueOf properties getProperty HTTP_PORT setHttpsEnable Boolean valueOf properties getProperty HTTPS_ENABLE setHttpsPort Integer valueOf properties getProperty HTTPS_PORT setKeystoreFile properties getProperty KEYSTORE_FILE setKeystorePassword properties getProperty KEYSTORE_PASSWORD setWebAppLocation properties getProperty WEBAPP_DIR setAccessLogFile properties getProperty ACCESS_LOG setSessionTimeout Integer valueOf properties getProperty SESSION_TIMEOUT e LOG warn e setHttpEnable
String lines executionResult trim split readingFailedChecks readingMonitorResults String line lines line line trim line readingFailedChecks readingMonitorResults line readingFailedChecks readingMonitorResults readingFailedChecks readingMonitorResults failingChecks addAll getFailingChecks line readingFailedChecks readingMonitorResults monitorResults append line
cmd String routerIp cmd getAccessDetail NetworkElementCommand ROUTER_IP String args cmd shouldPerformFreshChecks
String String params get String value String params get _eachTimeout Duration standardSeconds NumbersUtil parseLong value
String name String params _name name _params params String value String params get _sleep NumbersUtil parseInt value value String params get _retry NumbersUtil parseInt value value String params get _port NumbersUtil parseInt value value String params get _eachTimeout Duration standardSeconds NumbersUtil parseInt value VRScripts VR_SCRIPT_EXEC_TIMEOUT getStandardSeconds
SocketChannel sch
sch configureBlocking InetSocketAddress addr InetSocketAddress ipAddress _port sch connect addr s_logger s_logger debug ipAddress sch sch close Thread sleep sleep
List ConfigItem List ConfigItem cfg LinkedList String remoteFilename appendUuidToJsonFiles destinationFile
ByteArrayInputStream byteIn buffer byteIn ByteArrayInputStream buffer array buffer position buffer arrayOffset buffer remaining array buffer limit buffer position buffer get array byteIn ByteArrayInputStream array ByteBuffer retBuff ByteBuffer allocate length len GZIPInputStream in GZIPInputStream byteIn len in byteArrayIn retBuff put byteArrayIn len in close
String msg logContent String log log msg logContent Level DEBUG log
String lbCmd List String result ArrayList String List String gSection Arrays asList globalSection gSection set lbCmd maxconn String pipesLine Long toString Long parseLong lbCmd maxconn gSection set pipesLine String gSection
List String result ArrayList String List String gSection Arrays asList globalSection gSection set lbCmd maxconn String pipesLine Long toString Long parseLong lbCmd maxconn gSection set pipesLine s_logger String s gSection s_logger debug s result addAll gSection result add blankLine List String dSection Arrays asList defaultsSection lbCmd dSection set s_logger String s dSection
Long bytesRcvd Long st nextToken bytesSentAndReceived bytesSentAndReceived bytesSent bytesSentAndReceived bytesRcvd answer put publicIp bytesSentAndReceived e1 s_logger info e1 ExecutionException e1 getMessage e s_logger debug e ExecutionException e getMessage os os close
_storageNic2 getNetworkInterface storageNic2 s_logger warn Enumeration NetworkInterface nics nics NetworkInterface getNetworkInterfaces nics nics ConfigurationException ConfigurationException nics NetworkInterface nic nics nextElement String nicName nic getName nic nicName nicName nicName nicName nicName nicName String info NetUtils getNicParams nicName
Enumeration NetworkInterface nics nics NetworkInterface getNetworkInterfaces nics nics ConfigurationException ConfigurationException nics NetworkInterface nic nics nextElement String nicName nic getName nic nicName nicName nicName nicName nicName nicName String info NetUtils getNicParams nicName info info _privateNic nic s_logger info nicName
status TemplateUploader Status IN_PROGRESS bytes block CHUNK_SIZE done done status Status bytes block CHUNK_SIZE outputStream write block bytes totalBytes bytes done status TemplateUploader Status UPLOAD_FINISHED totalBytes e status TemplateUploader Status UNRECOVERABLE_ERROR errorString e getMessage
done status Status bytes block outputStream write block bytes totalBytes bytes done status TemplateUploader Status UPLOAD_FINISHED totalBytes e status TemplateUploader Status UNRECOVERABLE_ERROR errorString e getMessage s_logger error errorString e status TemplateUploader Status UNRECOVERABLE_ERROR errorString e getMessage
String user String password Pair String Integer hostAndPort UriUtils validateUrl downloadUrl user password client getParams setAuthenticationPreemptive Credentials defaultcreds UsernamePasswordCredentials user password client getState setCredentials AuthScope hostAndPort first hostAndPort second AuthScope ANY_REALM defaultcreds
resume skipDownloadOnStatus bytes File file File toFile localFileSize checkLocalFileSizeForResume resume file Date start Date checkServerResponse localFileSize tryAndGetRemoteSize canHandleDownloadSize checkAndSetDownloadSize out file out seek localFileSize
file localFileSize file localFileSize file length
s_logger info templatePath templateName String templateFilePath templatePath File separator templateName ImageFormat OVA getFileExtension templateFilePath s_logger s_logger info templateFilePath s_logger info templatePath templateName String templateFileFullPath templatePath File separator templateName ImageFormat OVA getFileExtension File templateFile File templateFileFullPath Script command Script processTimeout s_logger command add command add command add templateFileFullPath command setWorkDir templateFile getParent String result command execute
s_logger warn templatePath result command Script s_logger command add templatePath result command execute result s_logger warn templatePath result FormatInfo info FormatInfo info format ImageFormat OVA info filename templateName ImageFormat OVA getFileExtension info size _storage getSize templateFilePath info virtualSize getTemplateVirtualSize templatePath info filename String ovfFile getOVFFilePath templateFileFullPath OVFHelper ovfHelper OVFHelper List DatadiskTO disks ovfHelper getOVFVolumeInfo ovfFile
String templatePath String templateName virtualSize String templateFileFullPath templatePath endsWith File separator templatePath templatePath File separator templateFileFullPath templateName endsWith ImageFormat OVA getFileExtension templateName templateName ImageFormat OVA getFileExtension String ovfFileName getOVFFilePath templateFileFullPath ovfFileName String msg templatePath
String ovfFileName getOVFFilePath templateFileFullPath ovfFileName String msg templatePath s_logger error msg InternalErrorException msg Document ovfDoc ovfDoc DocumentBuilderFactory newInstance newDocumentBuilder parse File ovfFileName Element disk Element ovfDoc getElementsByTagName item virtualSize Long parseLong disk getAttribute String allocationUnits disk getAttribute virtualSize OVFHelper getDiskVirtualSize virtualSize allocationUnits ovfFileName virtualSize e String msg templatePath templateName e
Element file Element files item j file getAttribute diskName fileSize Long parseLong file getAttribute fileId file getAttribute i i disks i Element disk Element disks item i disk getAttribute fileId virtualSize Long parseLong disk getAttribute String allocationUnits disk getAttribute virtualSize OVFHelper getDiskVirtualSize virtualSize allocationUnits ovfFilePath Pair Long Long virtualSize fileSize e String msg ovfFilePath diskName e
format s_logger debug format String qcow2Path templatePath File separator templateName ImageFormat QCOW2 getFileExtension _storage qcow2Path s_logger debug qcow2Path FormatInfo info FormatInfo info format ImageFormat QCOW2 info filename templateName ImageFormat QCOW2 getFileExtension File qcow2File _storage getFile qcow2Path info size _storage getSize qcow2Path info virtualSize getTemplateVirtualSize qcow2File
status Status UNRECOVERABLE_ERROR remoteSize Long parseLong contentLengthHeader getValue remoteSize maxTemplateSizeInByte errorString downloadUrl remoteSize maxTemplateSizeInByte LOGGER warn errorString status Status UNRECOVERABLE_ERROR InputStream inputStream inputStream BufferedInputStream getMethod getResponseBodyAsStream errorString downloadUrl LOGGER warn errorString
PutObjectRequest putObjectRequest PutObjectRequest s3TO getBucketName s3Key inputStream objectMetadata s3TO putObjectRequest withStorageClass StorageClass ReducedRedundancy Upload upload S3Utils putObject s3TO putObjectRequest upload progressEvent totalBytes progressEvent getBytesTransferred LOGGER trace downloadUrl s3TO getBucketName toHumanReadableSize totalBytes Date getTime start getTime progressEvent status Status IN_PROGRESS progressEvent status Status DOWNLOAD_FINISHED progressEvent status Status ABORTED progressEvent
strm _file _props load strm e s_logger warn _file e format String currentExtension format getFileExtension String ext _props getProperty currentExtension ext s_logger s_logger debug currentExtension _file FormatInfo info FormatInfo info format format info filename _props getProperty currentExtension info filename s_logger
e s_logger warn _file e format String currentExtension format getFileExtension String ext _props getProperty currentExtension ext s_logger s_logger debug currentExtension _file FormatInfo info FormatInfo info format format info filename _props getProperty currentExtension info filename s_logger s_logger debug currentExtension _file
FormatInfo info FormatInfo info format format info filename _props getProperty currentExtension info filename s_logger s_logger debug currentExtension _file s_logger s_logger debug currentExtension _file info size NumbersUtil parseLong _props getProperty currentExtension _props setProperty Long toString info size info virtualSize NumbersUtil parseLong _props getProperty currentExtension _formats add info info _isCorrupted
info s_logger s_logger debug currentExtension _file s_logger s_logger debug currentExtension _file info size NumbersUtil parseLong _props getProperty currentExtension _props setProperty Long toString info size info virtualSize NumbersUtil parseLong _props getProperty currentExtension _formats add info info _isCorrupted s_logger warn format s_logger
newInfo deleteFormat newInfo format newInfo s_logger warn
format s_logger debug format String vhdPath templatePath File separator templateName ImageFormat VHD getFileExtension _storage vhdPath s_logger debug vhdPath File vhdFile _storage getFile vhdPath FormatInfo info FormatInfo info format ImageFormat VHD info filename templateName ImageFormat VHD getFileExtension info size _storage getSize vhdPath info virtualSize getTemplateVirtualSize vhdFile
String templatePath String templateName virtualSize String templateFileFullPath templatePath endsWith File separator templatePath templatePath File separator templateFileFullPath templateName endsWith ImageFormat VMDK getFileExtension templateName templateName ImageFormat VMDK getFileExtension templateFileFullPath Pattern regex Pattern compile String line line Matcher m regex matcher line m sectors Long parseLong m group virtualSize sectors ex String msg templateFileFullPath ex toString
templateFileFullPath Pattern regex Pattern compile String line line Matcher m regex matcher line m sectors Long parseLong m group virtualSize sectors ex String msg templateFileFullPath ex toString s_logger error msg InternalErrorException msg ex String msg templateFileFullPath ex toString
s_logger info GetHostStatsCommand cmd3 GetHostStatsCommand Request sreq Request Command cmd3 sreq setSequence Logger logger Logger getLogger GsonHelper Level level logger getLevel logger setLevel Level DEBUG String log sreq log Level DEBUG assert log log sreq log Level DEBUG assert log logger setLevel Level TRACE log sreq log Level TRACE assert log contains GetHostStatsCommand getSimpleName
Set Map Entry Long Listener entries _waitForList entrySet Iterator Map Entry Long Listener it entries iterator it Map Entry Long Listener entry it next it remove Listener monitor entry getValue
s_logger debug log seq req getManagementServerId AgentUnavailableException _name _id req _currentSequence req logD _currentSequence addRequest req req logD send req req _currentSequence _currentSequence seq s_logger s_logger trace log seq
s_logger debug log seq answers s_logger Response req answers logD answers answers sl getAnswers answers s_logger Response req answers logD _agentMgr notifyAnswersToMonitors _id seq answers answers Long current _currentSequence current seq current s_logger
answers s_logger Response req answers logD answers answers sl getAnswers answers s_logger Response req answers logD _agentMgr notifyAnswersToMonitors _id seq answers answers Long current _currentSequence current seq current s_logger s_logger debug log seq OperationTimedoutException req getCommands _id seq wait
_currentSequence
s_logger info mgmtServiceConf getPingTimeout threads DirectAgentLoadSize value _nodeId ManagementServerNode getManagementServerId
s_logger info mgmtServiceConf getPingTimeout threads DirectAgentLoadSize value _nodeId ManagementServerNode getManagementServerId s_logger info _nodeId lastPing System currentTimeMillis mgmtServiceConf getTimeout _hostDao markHostsAsDisconnected _nodeId lastPing registerForHostEvents BehindOnPingListener registerForHostEvents SetHostParamsListener _executor ThreadPoolExecutor threads threads TimeUnit SECONDS LinkedBlockingQueue Runnable NamedThreadFactory _connectExecutor ThreadPoolExecutor TimeUnit SECONDS LinkedBlockingQueue Runnable NamedThreadFactory _connectExecutor allowCoreThreadTimeOut _connection NioServer Port value Workers value caService
s_logger info mgmtServiceConf getPingTimeout threads DirectAgentLoadSize value _nodeId ManagementServerNode getManagementServerId s_logger info _nodeId lastPing System currentTimeMillis mgmtServiceConf getTimeout _hostDao markHostsAsDisconnected _nodeId lastPing registerForHostEvents BehindOnPingListener registerForHostEvents SetHostParamsListener _executor ThreadPoolExecutor threads threads TimeUnit SECONDS LinkedBlockingQueue Runnable NamedThreadFactory _connectExecutor ThreadPoolExecutor TimeUnit SECONDS LinkedBlockingQueue Runnable NamedThreadFactory _connectExecutor allowCoreThreadTimeOut _connection NioServer Port value Workers value caService s_logger info Port value Workers value _directAgentExecutor ScheduledThreadPoolExecutor DirectAgentPoolSize value NamedThreadFactory _cronJobExecutor ScheduledThreadPoolExecutor DirectAgentPoolSize value NamedThreadFactory
agent Long hostId agent getId HostVO host _hostDao findById hostId host host host
AgentAttache attache attache hostId attache getId s_logger s_logger debug hostId AgentAttache removed conflict _agents removed _agents remove hostId removed removed attache conflict _agents put hostId removed removed attache conflict
HostVO host _hostDao findById hostId monitor s_logger s_logger debug monitor second getClass getSimpleName i i cmd i monitor second processConnect host cmd i forRebalance e e ConnectionException ConnectionException ce ConnectionException e ce s_logger warn monitor second getClass getSimpleName hostId e getMessage handleDisconnectWithoutInvestigation attache Event AgentDisconnected ce
monitor second processConnect host cmd i forRebalance e e ConnectionException ConnectionException ce ConnectionException e ce s_logger warn monitor second getClass getSimpleName hostId e getMessage handleDisconnectWithoutInvestigation attache Event AgentDisconnected ce s_logger info monitor second getClass getSimpleName hostId e getMessage handleDisconnectWithoutInvestigation attache Event ShutdownRequested attache e handleDisconnectWithoutInvestigation attache Event ShutdownRequested CloudRuntimeException attache getId e
host initialized ServerResource resource Discoverer discoverer _resourceMgr getMatchingDiscover host getHypervisorType discoverer
attache hostId attache getId
HostVO host _hostDao findById hostId host s_logger warn hostId nextStatus Status Removed Status currentStatus host getStatus currentStatus Status currentStatus Status currentStatus Status Removed s_logger s_logger debug hostId currentStatus nextStatus currentStatus nextStatus currentStatus getNextStatus event String err event currentStatus hostId
nextStatus Status Removed Status currentStatus host getStatus currentStatus Status currentStatus Status currentStatus Status Removed s_logger s_logger debug hostId currentStatus nextStatus currentStatus nextStatus currentStatus getNextStatus event String err event currentStatus hostId s_logger debug err CloudRuntimeException err s_logger
Status currentStatus host getStatus currentStatus Status currentStatus Status currentStatus Status s_logger s_logger debug hostId currentStatus nextStatus currentStatus nextStatus currentStatus getNextStatus event String err event currentStatus hostId s_logger debug err CloudRuntimeException err s_logger s_logger debug hostId nextStatus currentStatus caService purgeHostCertificate host
nextStatus host getStatus getNextStatus event ne s_logger debug ne nextStatus Status Alert s_logger info hostId event Status determinedState investigate attache determinedState host AlertWait value s_logger warn hostId AlertWait AlertWait value determinedState Status Alert s_logger warn hostId Status currentStatus host getStatus
Status currentStatus host getStatus s_logger info hostId determinedState determinedState Status String message host getId host getName s_logger error message host host _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_HOST host getDataCenterId host getPodId host getId message event Status Event HostDown determinedState Status s_logger info agentStatusTransitTo host Status Event Ping _nodeId determinedState Status s_logger warn host getId host getName currentStatus Status
Status s_logger warn host getId host getName Status host AlertWait s_logger warn host getId event Status Event WaitedTooLong s_logger debug host getId Status DataCenterVO dcVO _dcDao findById host getDataCenterId HostPodVO podVO _podDao findById host getPodId String hostDesc host getName host getId dcVO getName podVO getName host host _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_HOST host getDataCenterId host getPodId hostDesc hostDesc AlertWait
hostId Host h _hostDao findById hostId h h
Answer hostId cmd Host h _hostDao findById hostId h h s_logger debug hostId Status status h getStatus status Status status Status s_logger debug cmd hostId Answer answer send hostId cmd answer s_logger warn s_logger answer
ReadyCommand ready List String agentMSHostList ArrayList startup startup String agentMSHosts startup getMsHostList agentMSHosts agentMSHostList addAll Arrays asList agentMSHosts split HostVO host _resourceMgr createHostVOForConnectedAgent startup host ready ReadyCommand host getDataCenterId host getId NumbersUtil enableHumanReadableSizes indirectAgentLB host getId host getDataCenterId agentMSHostList List String newMSList indirectAgentLB getManagementServerList host getId host getDataCenterId ready setMsHostList newMSList ready setLbAlgorithm indirectAgentLB getLBAlgorithmName ready setLbCheckInterval indirectAgentLB getLBPreferredHostCheckInterval host getClusterId
String agentMSHosts startup getMsHostList agentMSHosts agentMSHostList addAll Arrays asList agentMSHosts split HostVO host _resourceMgr createHostVOForConnectedAgent startup host ready ReadyCommand host getDataCenterId host getId NumbersUtil enableHumanReadableSizes indirectAgentLB host getId host getDataCenterId agentMSHostList List String newMSList indirectAgentLB getManagementServerList host getId host getDataCenterId ready setMsHostList newMSList ready setLbAlgorithm indirectAgentLB getLBAlgorithmName ready setLbCheckInterval indirectAgentLB getLBPreferredHostCheckInterval host getClusterId s_logger debug newMSList attache createAttacheForConnect host link attache notifyMonitorsOfConnection attache startup
s_logger debug newMSList attache createAttacheForConnect host link attache notifyMonitorsOfConnection attache startup e s_logger debug e ready ReadyCommand ready setDetails e toString ready ready ReadyCommand attache Request readyRequest Request ready link send readyRequest getBytes
host e _agentStatusLock lock ResourceState state host getResourceState StringBuilder msg StringBuilder msg append append state msg append append e toString msg append append host getId append host getName append
Long List Long hostsPerZone params SetHostParamsCommand cmds SetHostParamsCommand params Long zoneId hostsPerZone List Long hostIds hostsPerZone get zoneId Long hostId hostIds Answer answer easySend hostId cmds answer answer
seq Listener listener getListener seq listener listener SynchronousListener SynchronousListener synchronous SynchronousListener listener String peerName synchronous getPeer peerName
data AgentUnavailableException s_logger s_logger debug log Request getSequence data Request getManagementServerId data _link s_logger s_logger debug log Request getSequence data AgentUnavailableException _id _link send data s_logger s_logger debug log Request getSequence data AgentUnavailableException _id s_logger
s_logger debug log seq addRequestToTransfer req s_clusteredAgentMgr AgentUnavailableException _id i SocketChannel ch error i String peerName s_clusteredAgentMgr findPeer _id peerName AgentUnavailableException _id ch s_clusteredAgentMgr connectToPeer peerName ch
s_clusteredAgentMgr AgentUnavailableException _id i SocketChannel ch error i String peerName s_clusteredAgentMgr findPeer _id peerName AgentUnavailableException _id ch s_clusteredAgentMgr connectToPeer peerName ch ch s_logger s_logger debug log seq req toString
peerName AgentUnavailableException _id ch s_clusteredAgentMgr connectToPeer peerName ch ch s_logger s_logger debug log seq req toString SSLEngine sslEngine s_clusteredAgentMgr getSSLEngine peerName sslEngine AgentUnavailableException peerName _id s_logger s_logger debug log seq req toString peerName req listener listener SynchronousListener SynchronousListener synchronous SynchronousListener listener
ch s_clusteredAgentMgr connectToPeer peerName ch ch s_logger s_logger debug log seq req toString SSLEngine sslEngine s_clusteredAgentMgr getSSLEngine peerName sslEngine AgentUnavailableException peerName _id s_logger s_logger debug log seq req toString peerName req listener listener SynchronousListener SynchronousListener synchronous SynchronousListener listener synchronous setPeer peerName Link write ch req toBytes sslEngine
String String _peers HashMap String SocketChannel _sslEngines HashMap String SSLEngine _nodeId ManagementServerNode getManagementServerId
s_logger s_logger trace cutSeconds System currentTimeMillis mgmtServiceConf getTimeout List HostVO hosts _hostDao findAndUpdateDirectAgentToLoad cutSeconds LoadSize value longValue _nodeId List HostVO appliances _hostDao findAndUpdateApplianceToLoad cutSeconds _nodeId hosts hosts addAll appliances hosts size s_logger debug hosts size HostVO host hosts AgentAttache agentattache findAttache host getId agentattache agentattache s_logger
List HostVO appliances _hostDao findAndUpdateApplianceToLoad cutSeconds _nodeId hosts hosts addAll appliances hosts size s_logger debug hosts size HostVO host hosts AgentAttache agentattache findAttache host getId agentattache agentattache s_logger s_logger info host removeAgent agentattache Status Disconnected
addr InetAddress getByName ip CloudRuntimeException ip SocketChannel ch1 ch1 SocketChannel open InetSocketAddress addr port ch1 configureBlocking ch1 socket setKeepAlive ch1 socket setSoTimeout SSLContext sslContext Link initManagementSSLContext caService sslEngine sslContext createSSLEngine ip port sslEngine setUseClientMode sslEngine setEnabledProtocols SSLUtils getSupportedProtocols sslEngine getEnabledProtocols sslEngine beginHandshake
SocketChannel ch1 ch1 SocketChannel open InetSocketAddress addr port ch1 configureBlocking ch1 socket setKeepAlive ch1 socket setSoTimeout SSLContext sslContext Link initManagementSSLContext caService sslEngine sslContext createSSLEngine ip port sslEngine setUseClientMode sslEngine setEnabledProtocols SSLUtils getSupportedProtocols sslEngine getEnabledProtocols sslEngine beginHandshake Link ch1 sslEngine ch1 close IOException String format peerName ip port
vo s_logger info vo getMsid lastPing System currentTimeMillis mgmtServiceConf getTimeout _hostDao markHostsAsDisconnected vo getMsid lastPing outOfBandManagementDao expireServerOwnership vo getMsid haConfigDao expireServerOwnership vo getMsid
s_logger s_logger debug allMS size allManagedAgents size avLoad s_logger s_logger debug avLoad node allMS node getMsid List HostVO hostsToRebalance ArrayList HostVO lbPlanner hostsToRebalance lbPlanner getHostsToRebalance node getMsid avLoad hostsToRebalance hostsToRebalance
s_logger debug allMS size allManagedAgents size avLoad s_logger s_logger debug avLoad node allMS node getMsid List HostVO hostsToRebalance ArrayList HostVO lbPlanner hostsToRebalance lbPlanner getHostsToRebalance node getMsid avLoad hostsToRebalance hostsToRebalance s_logger debug lbPlanner getName node getMsid
avLoad s_logger s_logger debug avLoad node node getMsid List HostVO hostsToRebalance ArrayList HostVO lbPlanner hostsToRebalance lbPlanner getHostsToRebalance node getMsid avLoad hostsToRebalance hostsToRebalance s_logger debug lbPlanner getName node getMsid hostsToRebalance hostsToRebalance s_logger debug hostsToRebalance size node getMsid
s_logger debug node getMsid hostId result _hostTransferDao hostId s_logger warn hostId HostTransferMapVO transfer transfer _hostTransferDao startAgentTransfering hostId node getMsid _nodeId Answer answer sendRebalanceCommand node getMsid hostId node getMsid _nodeId Event RequestAgentRebalance answer s_logger warn hostId node getMsid result ex s_logger warn hostId node getMsid ex result
agentId currentOwnerId futureOwnerId event TransferAgentCommand transfer TransferAgentCommand agentId currentOwnerId futureOwnerId event Commands commands Commands Command OnError Stop commands addCommand transfer Command cmds commands toCommands
s_logger s_logger trace _nodeId _agentToTransferIds _agentToTransferIds size s_logger debug _agentToTransferIds size Long iterator _agentToTransferIds iterator iterator Long hostId iterator next AgentAttache attache findAttache hostId Date cutTime DateUtil currentGMTTime HostTransferMapVO transferMap _hostTransferDao findActiveHostTransferMapByHostId hostId Date cutTime getTime rebalanceTimeOut transferMap
s_logger trace _nodeId _agentToTransferIds _agentToTransferIds size s_logger debug _agentToTransferIds size Long iterator _agentToTransferIds iterator iterator Long hostId iterator next AgentAttache attache findAttache hostId Date cutTime DateUtil currentGMTTime HostTransferMapVO transferMap _hostTransferDao findActiveHostTransferMapByHostId hostId Date cutTime getTime rebalanceTimeOut transferMap s_logger debug hostId iterator remove _hostTransferDao completeAgentTransfer hostId transferMap _nodeId attache attache
Long hostId iterator next AgentAttache attache findAttache hostId Date cutTime DateUtil currentGMTTime HostTransferMapVO transferMap _hostTransferDao findActiveHostTransferMapByHostId hostId Date cutTime getTime rebalanceTimeOut transferMap s_logger debug hostId iterator remove _hostTransferDao completeAgentTransfer hostId transferMap _nodeId attache attache s_logger debug _nodeId hostId iterator remove _hostTransferDao completeAgentTransfer hostId ManagementServerHostVO ms _mshostDao findByMsid transferMap getFutureOwner
iterator remove _hostTransferDao completeAgentTransfer hostId ManagementServerHostVO ms _mshostDao findByMsid transferMap getFutureOwner ms ms s_logger debug hostId ms iterator remove _hostTransferDao completeAgentTransfer hostId iterator remove _executor execute RebalanceTask hostId transferMap getInitialOwner transferMap getFutureOwner s_logger warn hostId
hostId currentOwnerId futureOwnerId result currentOwnerId hostId s_logger debug finishRebalance hostId futureOwnerId Event RebalanceFailed Answer answer sendRebalanceCommand futureOwnerId hostId currentOwnerId futureOwnerId Event StartAgentRebalance answer answer result ex s_logger warn hostId futureOwnerId ex result result
Answer answer sendRebalanceCommand futureOwnerId hostId currentOwnerId futureOwnerId Event StartAgentRebalance answer answer result ex s_logger warn hostId futureOwnerId ex result result s_logger debug hostId futureOwnerId finishRebalance hostId futureOwnerId Event RebalanceCompleted s_logger warn hostId futureOwnerId finishRebalance hostId futureOwnerId Event RebalanceFailed futureOwnerId HostVO host _hostDao findById hostId
s_logger warn hostId futureOwnerId ex result result s_logger debug hostId futureOwnerId finishRebalance hostId futureOwnerId Event RebalanceCompleted s_logger warn hostId futureOwnerId finishRebalance hostId futureOwnerId Event RebalanceFailed futureOwnerId HostVO host _hostDao findById hostId s_logger s_logger debug host getId host getName AgentAttache attache findAttache hostId attache
s_logger warn hostId futureOwnerId finishRebalance hostId futureOwnerId Event RebalanceFailed futureOwnerId _nodeId HostVO host _hostDao findById hostId s_logger s_logger debug host getId host getName AgentAttache attache findAttache hostId attache result handleDisconnect attache Event AgentDisconnected result s_logger s_logger debug host getId host getName _nodeId result loadDirectlyConnectedHost host
Event event success event Event RebalanceCompleted
AgentAttache attache findAttache hostId attache attache ClusteredAgentAttache s_logger debug hostId _hostTransferDao completeAgentTransfer hostId ClusteredAgentAttache forwardAttache ClusteredAgentAttache attache forwardAttache setTransferMode Request requestToTransfer forwardAttache getRequestToTransfer requestToTransfer s_logger debug requestToTransfer getSequence hostId _nodeId futureOwnerId routeResult routeToPeer Long toString futureOwnerId requestToTransfer getBytes routeResult logD requestToTransfer getBytes requestToTransfer forwardAttache getRequestToTransfer
_hostTransferDao completeAgentTransfer hostId ClusteredAgentAttache forwardAttache ClusteredAgentAttache attache forwardAttache setTransferMode Request requestToTransfer forwardAttache getRequestToTransfer requestToTransfer s_logger debug requestToTransfer getSequence hostId _nodeId futureOwnerId routeResult routeToPeer Long toString futureOwnerId requestToTransfer getBytes routeResult logD requestToTransfer getBytes requestToTransfer forwardAttache getRequestToTransfer s_logger debug _nodeId hostId futureOwnerId failRebalance hostId
s_logger s_logger trace _nodeId QueryBuilder HostVO sc QueryBuilder create HostVO sc and sc entity getManagementServerId Op NNULL sc and sc entity getType Op EQ Host Type Routing List HostVO allManagedRoutingAgents sc list sc QueryBuilder create HostVO sc and sc entity getType Op EQ Host Type Routing List HostVO allAgents sc list allHostsCount allAgents size managedHostsCount allManagedRoutingAgents size allHostsCount load managedHostsCount allHostsCount load
QueryBuilder HostVO sc QueryBuilder create HostVO sc and sc entity getManagementServerId Op NNULL sc and sc entity getType Op EQ Host Type Routing List HostVO allManagedRoutingAgents sc list sc QueryBuilder create HostVO sc and sc entity getType Op EQ Host Type Routing List HostVO allAgents sc list allHostsCount allAgents size managedHostsCount allManagedRoutingAgents size allHostsCount load managedHostsCount allHostsCount load ConnectedAgentThreshold value s_logger debug load ConnectedAgentThreshold value scheduleRebalanceAgents _agentLbHappened
answers answers answers StartupAnswer StartupAnswer startup StartupAnswer answers interval startup getPingInterval
List HostVO msId QueryBuilder HostVO sc QueryBuilder create HostVO sc and sc entity getType Op EQ Host Type Routing sc and sc entity getManagementServerId Op EQ msId List HostVO allHosts sc list allHosts
Map Long List HostVO hostToClusterMap HashMap Long List HostVO HostVO directHost directHosts Long clusterId directHost getClusterId List HostVO directHostsPerCluster hostToClusterMap clusterId directHostsPerCluster ArrayList HostVO directHostsPerCluster hostToClusterMap get clusterId directHostsPerCluster add directHost hostToClusterMap put clusterId directHostsPerCluster hostToClusterMap sortByClusterSize hostToClusterMap hostsToGive allHosts size avLoad hostsLeftToGive hostsToGive hostsLeft directHosts size
List HostVO directHostsPerCluster hostToClusterMap clusterId directHostsPerCluster ArrayList HostVO directHostsPerCluster hostToClusterMap get clusterId directHostsPerCluster add directHost hostToClusterMap put clusterId directHostsPerCluster hostToClusterMap sortByClusterSize hostToClusterMap hostsToGive allHosts size avLoad hostsLeftToGive hostsToGive hostsLeft directHosts size List HostVO hostsToReturn ArrayList HostVO s_logger debug msId hostsToGive allHosts size avLoad cluster hostToClusterMap List HostVO hostsInCluster hostToClusterMap get cluster
directHostsPerCluster ArrayList HostVO directHostsPerCluster hostToClusterMap get clusterId directHostsPerCluster add directHost hostToClusterMap put clusterId directHostsPerCluster hostToClusterMap sortByClusterSize hostToClusterMap hostsToGive allHosts size avLoad hostsLeftToGive hostsToGive hostsLeft directHosts size List HostVO hostsToReturn ArrayList HostVO s_logger debug msId hostsToGive allHosts size avLoad cluster hostToClusterMap List HostVO hostsInCluster hostToClusterMap get cluster hostsLeft hostsLeft hostsInCluster size hostsToReturn size hostsToGive
hostToClusterMap put clusterId directHostsPerCluster hostToClusterMap sortByClusterSize hostToClusterMap hostsToGive allHosts size avLoad hostsLeftToGive hostsToGive hostsLeft directHosts size List HostVO hostsToReturn ArrayList HostVO s_logger debug msId hostsToGive allHosts size avLoad cluster hostToClusterMap List HostVO hostsInCluster hostToClusterMap get cluster hostsLeft hostsLeft hostsInCluster size hostsToReturn size hostsToGive s_logger debug cluster hostsInCluster size hostsLeftToGive s_logger debug cluster hostsInCluster size hostsLeftToGive hostsLeft hostsLeftToGive
List HostVO hostsToReturn ArrayList HostVO s_logger debug msId hostsToGive allHosts size avLoad cluster hostToClusterMap List HostVO hostsInCluster hostToClusterMap get cluster hostsLeft hostsLeft hostsInCluster size hostsToReturn size hostsToGive s_logger debug cluster hostsInCluster size hostsLeftToGive s_logger debug cluster hostsInCluster size hostsLeftToGive hostsLeft hostsLeftToGive s_logger debug hostsInCluster size hostsInCluster cluster
vm vm vm s_logger s_logger debug vm advanceStop vm getUuid VmDestroyForcestop value vm _vmDao findByUuid vm getUuid vm vm s_logger debug vm CloudRuntimeException vm e s_logger debug vm CloudRuntimeException vm e s_logger
hostId volumeMgr revokeAccess vm getId hostId volumeMgr cleanupVolumes vm getId hostId targets removeDynamicTargets hostId targets VirtualMachineGuru guru getVmGuru vm guru finalizeExpunge vm userVmDetailsDao removeDetails vm getId List Command finalizeExpungeCommands hvGuru finalizeExpunge vm finalizeExpungeCommands finalizeExpungeCommands hostId Commands cmds Commands Command OnError Stop Command command finalizeExpungeCommands cmds addCommand command
vm state ItWorkVO vo _workDao findByOutstandingWork vm getId state vo
vo getStep s_logger s_logger debug vm vo getStep VMInstanceVO instance _vmDao findById vm getId instance instance s_logger s_logger debug vm vo getSecondsTaskIsInactive value s_logger warn vm vo getSecondsTaskIsInactive Thread sleep VmOpWaitInterval value
s_logger s_logger debug vm vo getStep VMInstanceVO instance _vmDao findById vm getId instance instance s_logger s_logger debug vm vo getSecondsTaskIsInactive value s_logger warn vm vo getSecondsTaskIsInactive Thread sleep VmOpWaitInterval value s_logger info vm
ItWorkVO vm caller account vmId vm getId ItWorkVO work ItWorkVO UUID randomUUID toString _nodeId State Starting vm getType vm getId retry VmOpLockStateRetry value retry ItWorkVO workFinal work ItWorkVO ItWorkVO ItWorkVO Journal journal Journal LogJournal vm s_logger ItWorkVO work _workDao persist workFinal ReservationContextImpl context ReservationContextImpl work getId journal caller account vm work getId s_logger
Ternary VMInstanceVO ReservationContext ItWorkVO Journal journal Journal LogJournal vm s_logger ItWorkVO work _workDao persist workFinal ReservationContextImpl context ReservationContextImpl work getId journal caller account vm work getId s_logger s_logger debug vm work getId Ternary VMInstanceVO ReservationContext ItWorkVO vm context work Ternary VMInstanceVO ReservationContext ItWorkVO work work result third result result s_logger
s_logger s_logger debug vm work getId Ternary VMInstanceVO ReservationContext ItWorkVO vm context work Ternary VMInstanceVO ReservationContext ItWorkVO work work result third result result e s_logger s_logger debug e getMessage VMInstanceVO instance _vmDao findById vmId instance ConcurrentOperationException vm s_logger
Ternary VMInstanceVO ReservationContext ItWorkVO work work result third result result e s_logger s_logger debug e getMessage VMInstanceVO instance _vmDao findById vmId instance ConcurrentOperationException vm s_logger s_logger debug instance retry State state instance getState state State
e s_logger s_logger debug e getMessage VMInstanceVO instance _vmDao findById vmId instance ConcurrentOperationException vm s_logger s_logger debug instance retry State state instance getState state State s_logger s_logger debug vm state vm state
vmHost Map String String sshAccessDetails vm String csr caManager generateKeyStoreAndCsr vmHost sshAccessDetails csr Map String String ipAddressDetails HashMap sshAccessDetails ipAddressDetails remove NetworkElementCommand ROUTER_NAME Certificate certificate caManager issueCertificate csr Arrays asList vm getHostName vm getInstanceName ArrayList ipAddressDetails values CAManager CertValidityPeriod value result caManager deployCertificate vmHost certificate sshAccessDetails result
User caller cctxt getCallingUser VMInstanceVO vm _vmDao findByUuid vmUuid VirtualMachineGuru vmGuru getVmGuru vm Ternary VMInstanceVO ReservationContext ItWorkVO start changeToStartState vmGuru vm caller account start vm start first ReservationContext ctx start second ItWorkVO work start third VMInstanceVO startedVm ServiceOfferingVO offering _offeringDao findById vm getId vm getServiceOfferingId VirtualMachineTemplate template _entityMgr findByIdIncludingRemoved VirtualMachineTemplate vm getTemplateId DataCenterDeployment plan DataCenterDeployment vm getDataCenterId vm getPodIdToDeployIn ctx getDataCenterId
s_logger s_logger debug planToDeploy getDataCenterId planToDeploy getPodId planToDeploy getClusterId planToDeploy getHostId planToDeploy getPoolId plan DataCenterDeployment planToDeploy getDataCenterId planToDeploy getPodId planToDeploy getClusterId planToDeploy getHostId planToDeploy getPoolId planToDeploy getPhysicalNetworkId ctx HypervisorGuru hvGuru _hvGuruMgr getGuru vm getHypervisorType Account owner _entityMgr findById Account vm getAccountId vm resourceCountIncrement owner getAccountId Long offering getCpu Long offering getRamSize canRetry ExcludeList avoids Journal journal start second getJournal planToDeploy avoids planToDeploy getAvoids avoids avoids ExcludeList
Journal journal start second getJournal planToDeploy avoids planToDeploy getAvoids avoids avoids ExcludeList s_logger s_logger debug avoids getPodsToAvoid avoids getClustersToAvoid avoids getHostsToAvoid planChangedByVolume reuseVolume DataCenterDeployment originalPlan plan retry StartRetry value retry reuseVolume List VolumeVO vols _volsDao findReadyRootVolumesByInstance vm getId
s_logger s_logger debug vol vm StoragePool pool StoragePool dataStoreMgr getPrimaryDataStore vol getPoolId pool s_logger s_logger debug rootVolDcId pool getDataCenterId Long rootVolPodId pool getPodId Long rootVolClusterId pool getClusterId planToDeploy planToDeploy getDataCenterId Long clusterIdSpecified planToDeploy getClusterId clusterIdSpecified rootVolClusterId rootVolClusterId clusterIdSpecified
vmProfile setMemoryOvercommitRatio Float parseFloat cluster_detail_ram getValue StartAnswer startAnswer vm Event OperationRetry ConcurrentOperationException vm getUuid vm getState Event OperationRetry e1 ConcurrentOperationException e1 getMessage resetVmNicsDeviceId vm getId _networkMgr prepare vmProfile DeployDestination dest getDataCenter dest getPod dest getStorageForDisks ctx vm volumeMgr prepare vmProfile dest reuseVolume reuseVolume Commands cmds
resetVmNicsDeviceId vm getId _networkMgr prepare vmProfile DeployDestination dest getDataCenter dest getPod dest getStorageForDisks ctx vm getHypervisorType volumeMgr prepare vmProfile dest reuseVolume reuseVolume Commands cmds vmGuru finalizeVirtualMachineProfile vmProfile dest ctx VirtualMachineTO vmTO hvGuru implement vmProfile checkAndSetEnterSetupMode vmTO params handlePath vmTO getDisks vm getHypervisorType cmds Commands Command OnError Stop cmds addCommand StartCommand vmTO dest getHost getExecuteInSequence vm getHypervisorType vmGuru finalizeDeployment cmds vmProfile dest ctx
Commands cmds vmGuru finalizeVirtualMachineProfile vmProfile dest ctx VirtualMachineTO vmTO hvGuru implement vmProfile checkAndSetEnterSetupMode vmTO params handlePath vmTO getDisks vm getHypervisorType cmds Commands Command OnError Stop cmds addCommand StartCommand vmTO dest getHost getExecuteInSequence vm getHypervisorType vmGuru finalizeDeployment cmds vmProfile dest ctx addExtraConfig vmTO work _workDao findById work getId work work Step ConcurrentOperationException work _workDao updateStep work Step Starting _agentMgr send destHostId cmds _workDao updateStep work Step Started
handlePath vmTO getDisks vm getHypervisorType cmds Commands Command OnError Stop cmds addCommand StartCommand vmTO dest getHost getExecuteInSequence vm getHypervisorType vmGuru finalizeDeployment cmds vmProfile dest ctx addExtraConfig vmTO work _workDao findById work getId work work Step ConcurrentOperationException work _workDao updateStep work Step Starting _agentMgr send destHostId cmds _workDao updateStep work Step Started startAnswer cmds getAnswer StartAnswer startAnswer startAnswer handlePath vmTO getDisks startAnswer getIqnToData String host_guid startAnswer getHost_guid
destHostId syncDiskChainChange startAnswer vm Event OperationSucceeded destHostId s_logger error vm getUuid vm getState Event OperationSucceeded ConcurrentOperationException vm getUuid GPUDeviceTO gpuDevice startAnswer getVirtualMachine getGpuDevice gpuDevice _resourceMgr updateGPUDetails destHostId gpuDevice getGroupDetails userVmDetailsDao vm getId VmDetailConstants DEPLOY_VM userVmDetailsDao removeDetail vm getId VmDetailConstants DEPLOY_VM startedVm vm s_logger s_logger debug vm Host vmHost _hostDao findById destHostId vmHost vm vm
startedVm vm s_logger s_logger debug vm Host vmHost _hostDao findById destHostId vmHost vm vm Map String String sshAccessDetails _networkMgr getSystemVMAccessDetails vm setupAgentSecurity vmHost sshAccessDetails vm e s_logger error vm getId e CloudRuntimeException vm getId
setupAgentSecurity vmHost sshAccessDetails vm e s_logger error vm getId e CloudRuntimeException vm getId s_logger s_logger info vm StopCommand stopCmd StopCommand vm getExecuteInSequence vm getHypervisorType stopCmd setControlIp getControlNicIpForVM vm StopCommand cmd stopCmd Answer answer _agentMgr easySend destHostId cmd
e s_logger error vm getId e CloudRuntimeException vm getId s_logger s_logger info vm StopCommand stopCmd StopCommand vm getExecuteInSequence vm getHypervisorType stopCmd setControlIp getControlNicIpForVM vm StopCommand cmd stopCmd Answer answer _agentMgr easySend destHostId cmd answer answer StopAnswer StopAnswer stopAns StopAnswer answer vm
StringBuffer msgBuf StringBuffer log params get VirtualMachineProfile Param UefiFlag msgBuf append String format params get VirtualMachineProfile Param UefiFlag log params get VirtualMachineProfile Param BootType msgBuf append String format params get VirtualMachineProfile Param BootType log params get VirtualMachineProfile Param BootMode msgBuf append String format params get VirtualMachineProfile Param BootMode log params get VirtualMachineProfile Param BootIntoSetup msgBuf append String format params get VirtualMachineProfile Param BootIntoSetup log log
String msg vm getId s_logger info msg ConcurrentOperationException msg s_logger s_logger debug vm VirtualMachineProfile profile VirtualMachineProfileImpl vm HypervisorGuru hvGuru _hvGuruMgr getGuru vm getHypervisorType VirtualMachineGuru guru getVmGuru vm unmanageVMSnapshots vm unmanageVMNics profile vm unmanageVMVolumes vm guru finalizeUnmanage vm
answer _agentMgr send vm getHostId stop answer answer StopAnswer StopAnswer stopAns StopAnswer answer vm String platform stopAns getPlatform platform UserVmVO userVm _userVmDao findById vm getId _userVmDao loadDetails userVm userVm setDetail VmDetailConstants PLATFORM platform _userVmDao saveDetails userVm GPUDeviceTO gpuDevice stop getGpuDevice gpuDevice _resourceMgr updateGPUDetails vm getHostId gpuDevice getGroupDetails answer String details answer getDetails
UserVmVO userVm _userVmDao findById vm getId _userVmDao loadDetails userVm userVm setDetail VmDetailConstants PLATFORM platform _userVmDao saveDetails userVm GPUDeviceTO gpuDevice stop getGpuDevice gpuDevice _resourceMgr updateGPUDetails vm getHostId gpuDevice getGroupDetails answer String details answer getDetails s_logger debug details guru finalizeStop profile answer UserVmVO userVm _userVmDao findById vm getId userVm setPowerState PowerState PowerOff _userVmDao update userVm getId userVm
profile VirtualMachine vm profile getVirtualMachine State state vm getState
State state vm getState s_logger debug vm state state State Starting work Step step work getStep step Step Starting s_logger warn vm step step Step step Step Starting step Step vm s_logger warn vm State Starting step Step step Step step Step step Step Starting
State Stopping vm s_logger warn vm State Stopping State Migrating vm s_logger warn vm State Migrating vm s_logger warn vm State Migrating State
State Stopping vm s_logger warn vm State Stopping State Migrating vm s_logger warn vm State Migrating vm s_logger warn vm State Migrating State
vm State state vm getState state State
s_logger s_logger debug vm state state state s_logger s_logger debug vm state ItWorkVO work _workDao findByOutstandingWork vm getId vm getState work s_logger s_logger debug vm vm getState work getId Long hostId vm getHostId hostId s_logger
ItWorkVO work _workDao findByOutstandingWork vm getId vm getState work s_logger s_logger debug vm vm getState work getId Long hostId vm getHostId hostId s_logger s_logger debug vm vm getState CloudRuntimeException vm stateTransitTo vm Event AgentReportStopped e s_logger warn e getMessage
Long hostId vm getHostId hostId s_logger s_logger debug vm vm getState CloudRuntimeException vm stateTransitTo vm Event AgentReportStopped e s_logger warn e getMessage work s_logger s_logger debug work getId work setStep Step Done _workDao update work getId work
s_logger s_logger debug work getId work setStep Step Done _workDao update work getId work HostVO host _hostDao findById hostId vm host s_logger debug vm getId CloudRuntimeException vm getId VirtualMachineGuru vmGuru getVmGuru vm VirtualMachineProfile profile VirtualMachineProfileImpl vm vm vm ConcurrentOperationException
HostVO host _hostDao findById hostId vm getState host s_logger debug vm getId CloudRuntimeException vm getId VirtualMachineGuru vmGuru getVmGuru vm VirtualMachineProfile profile VirtualMachineProfileImpl vm vm vm ConcurrentOperationException CloudRuntimeException vm vm getState doCleanup s_logger
vmGuru prepareStop profile StopCommand stop StopCommand vm getExecuteInSequence vm getHypervisorType cleanUpEvenIfUnableToStop stop setControlIp getControlNicIpForVM vm stopped Answer answer answer _agentMgr send vm getHostId stop answer answer StopAnswer StopAnswer stopAns StopAnswer answer vm String platform stopAns getPlatform platform UserVmVO userVm _userVmDao findById vm getId _userVmDao loadDetails userVm
stop setControlIp getControlNicIpForVM vm stopped Answer answer answer _agentMgr send vm getHostId stop answer answer StopAnswer StopAnswer stopAns StopAnswer answer vm String platform stopAns getPlatform platform UserVmVO userVm _userVmDao findById vm getId _userVmDao loadDetails userVm userVm setDetail VmDetailConstants PLATFORM platform _userVmDao saveDetails userVm
answer StopAnswer StopAnswer stopAns StopAnswer answer vm String platform stopAns getPlatform platform UserVmVO userVm _userVmDao findById vm getId _userVmDao loadDetails userVm userVm setDetail VmDetailConstants PLATFORM platform _userVmDao saveDetails userVm stopped answer getResult stopped CloudRuntimeException answer getDetails vmGuru finalizeStop profile answer GPUDeviceTO gpuDevice stop getGpuDevice gpuDevice
vmUuid VMInstanceVO vm _vmDao findByUuid vmUuid vm vm vm vm
vmUuid expunge VMInstanceVO vm _vmDao findByUuid vmUuid vm vm vm vm s_logger s_logger debug vm s_logger s_logger debug vm expunge advanceStop vmUuid VmDestroyForcestop value deleteVMSnapshots vm expunge VMInstanceVO vm _vmDao findByUuid vmUuid vm vm
s_logger s_logger debug vm expunge advanceStop vmUuid VmDestroyForcestop value deleteVMSnapshots vm expunge CloudRuntimeException CloudRuntimeException VMInstanceVO vm _vmDao findByUuid vmUuid vm vm s_logger debug vm CloudRuntimeException vm expunge vm vm
VMInstanceVO vm _vmDao findByUuid vmUuid preStorageMigrationStateCheck destPool vm s_logger s_logger debug String format vm getHypervisorType toString vm getInstanceName migrateThroughHypervisorOrStorage destPool vm e String msg String format vmUuid s_logger debug msg CloudRuntimeException msg e stateTransitTo vm Event AgentReportStopped e String anotherMEssage String format vmUuid
destPool vm HypervisorGuru hvGuru _hvGuruMgr getGuru vm getHypervisorType List Command commandsToSend hvGuru finalizeMigrate vm destPool Long hostId vm getHostId hostId hostId vm getLastHostId
destPool vm isDebugEnabled s_logger isDebugEnabled isDebugEnabled String msg String format vm getInstanceName vm getUuid destPool getName destPool getUuid
vm MigrateVmToPoolAnswer relevantAnswer answer s_logger s_logger trace String format answer getClass getSimpleName answer answer MigrateVmToPoolAnswer relevantAnswer MigrateVmToPoolAnswer answer relevantAnswer CloudRuntimeException List VolumeVO volumes _volsDao findUsableVolumesForInstance vm getId s_logger String msg String format volumes size vm getInstanceName vm getUuid vm getId s_logger debug msg relevantAnswer s_logger
vm vm String msg String format vm getInstanceName
vmUuid VMInstanceVO vm _vmDao findByUuid vmUuid vm
vm srcHostId dest s_logger info vm dest UserVmVO userVm _userVmDao findById vm getId dstHostId dest getHost getId Host fromHost _hostDao findById srcHostId fromHost
UserVmVO userVm _userVmDao findById vm getId dstHostId dest getHost getId Host fromHost _hostDao findById srcHostId fromHost s_logger info srcHostId CloudRuntimeException srcHostId fromHost dest getId List VolumeVO volumes _volsDao findCreatedByInstance vm getId VolumeVO volumes findById s_logger info dest getHost getId CloudRuntimeException dest getHost getId VirtualMachineGuru vmGuru getVmGuru vm vm s_logger
ItWorkVO work ItWorkVO UUID randomUUID toString _nodeId State Migrating vm getType vm getId work setStep Step Prepare work setResourceType ItWorkVO ResourceType Host work setResourceId dstHostId work _workDao persist work Answer pfma pfma _agentMgr send dstHostId pfmc pfma pfma String details pfma pfma getDetails String msg details pfma AgentUnavailableException msg dstHostId AgentUnavailableException dstHostId
work _workDao persist work Answer pfma pfma _agentMgr send dstHostId pfmc pfma pfma String details pfma pfma getDetails String msg details pfma AgentUnavailableException msg dstHostId AgentUnavailableException dstHostId pfma _networkMgr rollbackNicForMigration vmSrc profile work setStep Step Done
stateTransitTo vm Event OperationFailed srcHostId e3 s_logger warn e3 getMessage CloudRuntimeException e2 getMessage migrated Map String DpdkTO dpdkInterfaceMapping isWindows _guestOsCategoryDao findById _guestOsDao findById vm getGuestOSId getCategoryId getName equalsIgnoreCase MigrateCommand mc MigrateCommand vm getInstanceName dest getHost getPrivateIpAddress isWindows to getExecuteInSequence vm getHypervisorType kvmAutoConvergence StorageManager KvmAutoConvergence value mc setAutoConvergence kvmAutoConvergence mc setHostGuid dest getHost getGuid dpdkInterfaceMapping PrepareForMigrationAnswer pfma getDpdkInterfaceMapping dpdkInterfaceMapping mc setDpdkInterfaceMapping dpdkInterfaceMapping
Map String DpdkTO dpdkInterfaceMapping isWindows _guestOsCategoryDao findById _guestOsDao findById vm getGuestOSId getCategoryId getName equalsIgnoreCase MigrateCommand mc MigrateCommand vm getInstanceName dest getHost getPrivateIpAddress isWindows to getExecuteInSequence vm getHypervisorType kvmAutoConvergence StorageManager KvmAutoConvergence value mc setAutoConvergence kvmAutoConvergence mc setHostGuid dest getHost getGuid dpdkInterfaceMapping PrepareForMigrationAnswer pfma getDpdkInterfaceMapping dpdkInterfaceMapping mc setDpdkInterfaceMapping dpdkInterfaceMapping Answer ma _agentMgr send vm getLastHostId mc ma ma String details ma ma getDetails CloudRuntimeException details
kvmAutoConvergence StorageManager KvmAutoConvergence value mc setAutoConvergence kvmAutoConvergence mc setHostGuid dest getHost getGuid dpdkInterfaceMapping PrepareForMigrationAnswer pfma getDpdkInterfaceMapping dpdkInterfaceMapping mc setDpdkInterfaceMapping dpdkInterfaceMapping Answer ma _agentMgr send vm getLastHostId mc ma ma String details ma ma getDetails CloudRuntimeException details s_logger warn vm _haMgr scheduleRestart vm
UserVmVO userVm _userVmDao findById vm getId Map String String details userVmDetailsDao listDetailsKeyPairs vm getId userVm setDetails details Network network _networkModel getNetwork defaultNic getNetworkId _networkModel network getId String serviceOffering _serviceOfferingDao findByIdIncludingRemoved vm getId vm getServiceOfferingId getDisplayText isWindows _guestOSCategoryDao findById _guestOSDao findById vm getGuestOSId getCategoryId getName equalsIgnoreCase vmData _networkModel generateVmData userVm getUserData serviceOffering vm getDataCenterId vm getInstanceName vm getHostName vm getId vm getUuid defaultNic getMacAddress userVm getDetail String profile getParameter VirtualMachineProfile Param VmPassword isWindows VirtualMachineManager getHypervisorHostname destination getHost getName String vmName vm getInstanceName String configDriveIsoRootFolder String isoFile configDriveIsoRootFolder vmName vmName profile setVmData vmData profile setConfigDriveLabel VmConfigDriveLabel value profile setConfigDriveIsoRootFolder configDriveIsoRootFolder profile setConfigDriveIsoFile isoFile
vmData _networkModel generateVmData userVm getUserData serviceOffering vm getDataCenterId vm getInstanceName vm getHostName vm getId vm getUuid defaultNic getMacAddress userVm getDetail String profile getParameter VirtualMachineProfile Param VmPassword isWindows VirtualMachineManager getHypervisorHostname destination getHost getName String vmName vm getInstanceName String configDriveIsoRootFolder String isoFile configDriveIsoRootFolder vmName vmName profile setVmData vmData profile setConfigDriveLabel VmConfigDriveLabel value profile setConfigDriveIsoRootFolder configDriveIsoRootFolder profile setConfigDriveIsoFile isoFile AttachOrDettachConfigDriveCommand dettachCommand AttachOrDettachConfigDriveCommand vm getInstanceName vmData VmConfigDriveLabel value _agentMgr send srcHost getId dettachCommand s_logger debug vm getInstanceName srcHost e s_logger debug e getMessage volumeMgr migrateVolumes vm to srcHost destHost volumeToPoolMap
e s_logger debug e getMessage volumeMgr migrateVolumes vm to srcHost destHost volumeToPoolMap moveVmOutofMigratingStateOnSuccess vm destHost getId work vm s_logger error vm _agentMgr send srcHostId Commands cleanup vm getInstanceName e s_logger error srcHostId cleanup vmGuru VirtualMachineProfileImpl vm work Event AgentReportStopped CloudRuntimeException vm e s_logger warn vm destHost e
vm s_logger error vm _agentMgr send srcHostId Commands cleanup vm getInstanceName e s_logger error srcHostId cleanup vmGuru VirtualMachineProfileImpl vm work Event AgentReportStopped CloudRuntimeException vm e s_logger warn vm destHost e migrated migrated s_logger info vm _alertMgr sendAlert alertType srcHost getDataCenterId srcHost getPodId vm getInstanceName srcHost getName dc getName dc getName
nodeId GlobalLock scanLock GlobalLock getInternLock scanLock List ItWorkVO works _workDao listWorkInProgressFor nodeId ItWorkVO works
work _haMgr scheduleRestart vm work setManagementServerId _nodeId work setStep Step Done _workDao update work getId work work _haMgr scheduleStop vm vm getHostId WorkType CheckStop work setManagementServerId _nodeId work setStep Step Done _workDao update work getId work work _haMgr scheduleMigration vm work setStep Step Done _workDao update work getId work
vmUuid VMInstanceVO vm _vmDao findByUuid vmUuid vm
rootVolumeOfVm StoragePoolVO rootDiskPool _storagePoolDao findById rootVolumeOfVm getPoolId rootDiskPool poolId rootDiskPool getId DataCenterDeployment plan DataCenterDeployment host getDataCenterId host getPodId host getClusterId poolId ExcludeList excludes ExcludeList excludes addHost hostId DeployDestination dest plan setMigrationPlan dest _dpMgr planDeployment profile plan excludes planner e2 s_logger warn e2 CloudRuntimeException
poolId rootDiskPool getId DataCenterDeployment plan DataCenterDeployment host getDataCenterId host getPodId host getClusterId poolId ExcludeList excludes ExcludeList excludes addHost hostId DeployDestination dest plan setMigrationPlan dest _dpMgr planDeployment profile plan excludes planner e2 s_logger warn e2 CloudRuntimeException dest s_logger s_logger debug dest
plan setMigrationPlan dest _dpMgr planDeployment profile plan excludes planner e2 s_logger warn e2 CloudRuntimeException dest s_logger s_logger debug dest s_logger s_logger debug profile InsufficientServerCapacityException host getClusterId excludes addHost dest getHost getId
CloudRuntimeException dest s_logger s_logger debug dest s_logger s_logger debug profile InsufficientServerCapacityException host getClusterId excludes addHost dest getHost getId migrate vm srcHostId dest s_logger debug dest
s_logger s_logger debug dest s_logger s_logger debug profile InsufficientServerCapacityException host getClusterId excludes addHost dest getHost getId migrate vm srcHostId dest e s_logger debug dest e s_logger debug e getMessage
s_logger s_logger debug profile InsufficientServerCapacityException host getClusterId excludes addHost dest getHost getId migrate vm srcHostId dest e s_logger debug dest e s_logger debug e getMessage advanceStop vmUuid CloudRuntimeException vm
vmUuid VMInstanceVO vm _vmDao findByUuid vmUuid vm
DeployDestination dest DeployDestination dc pod cluster host Commands cmds Commands Command OnError Stop RebootCommand rebootCmd RebootCommand vm getInstanceName getExecuteInSequence vm getHypervisorType VirtualMachineTO vmTo getVmTO vm getId checkAndSetEnterSetupMode vmTo params rebootCmd setVirtualMachine vmTo cmds addCommand rebootCmd _agentMgr send host getId cmds Answer rebootAnswer cmds getAnswer RebootAnswer rebootAnswer rebootAnswer dc vm List Long affectedVms ArrayList Long affectedVms add vm getId _securityGroupManager scheduleRulesetUpdateToHosts affectedVms
agent s_logger s_logger debug agent getId _syncMgr resetHostSyncState agent getId s_logger debug Long clusterId agent getClusterId agentId agent getId agent ClusterVMMetaDataSyncCommand syncVMMetaDataCmd ClusterVMMetaDataSyncCommand ClusterVMMetaDataSyncInterval value clusterId seq_no _agentMgr send agentId Commands syncVMMetaDataCmd
s_logger s_logger debug agent getId _syncMgr resetHostSyncState agent getId s_logger debug Long clusterId agent getClusterId agentId agent getId agent ClusterVMMetaDataSyncCommand syncVMMetaDataCmd ClusterVMMetaDataSyncCommand ClusterVMMetaDataSyncInterval value clusterId seq_no _agentMgr send agentId Commands syncVMMetaDataCmd s_logger debug seq_no
CallContext cctx CallContext current
VirtualMachineTO vmTO hvGuru implement vmProfile NicTO nicTO toNicTO nic vmProfile getVirtualMachine getHypervisorType network Map NetworkOffering Detail String details networkOfferingDetailsDao getNtwkOffDetails network getNetworkOfferingId details details putIfAbsent NetworkOffering Detail PromiscuousMode NetworkOrchestrationService PromiscuousMode value toString details putIfAbsent NetworkOffering Detail MacAddressChanges NetworkOrchestrationService MacAddressChanges value toString details putIfAbsent NetworkOffering Detail ForgedTransmits NetworkOrchestrationService ForgedTransmits value toString nicTO setDetails details s_logger debug vm network result result plugNic network nicTO vmTO context dest result _userVmMgr setupVmForPvlan vm getHostId nic
s_logger debug vm network result result plugNic network nicTO vmTO context dest result _userVmMgr setupVmForPvlan vm getHostId nic s_logger debug vm network isDefault nic isDefaultNic VirtualMachine vmVO UsageEventUtils publishUsageEvent EventTypes EVENT_NETWORK_OFFERING_ASSIGN vmVO getAccountId vmVO getDataCenterId vmVO getId Long toString nic getId network getNetworkOfferingId isDefault VirtualMachine getName vmVO getUuid vm isDisplay nic s_logger warn vm network
vm nic CallContext cctx CallContext current VMInstanceVO vmVO _vmDao findById vm getId NetworkVO network _networkDao findById nic getNetworkId ReservationContext context ReservationContextImpl cctx getCallingUser cctx getCallingAccount VirtualMachineProfileImpl vmProfile VirtualMachineProfileImpl vmVO DataCenter dc _entityMgr findById DataCenter network getDataCenterId Host host _hostDao findById vm getHostId DeployDestination dest DeployDestination dc host HypervisorGuru hvGuru _hvGuruMgr getGuru vmProfile getVirtualMachine getHypervisorType VirtualMachineTO vmTO hvGuru implement vmProfile NicProfile nicProfile NicProfile nic network nic getBroadcastUri nic getIsolationUri _networkModel getNetworkRate network getId vm getId _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vmProfile getVirtualMachine getHypervisorType network vm NicTO nicTO toNicTO nicProfile vmProfile getVirtualMachine getHypervisorType
NetworkVO network _networkDao findById nic getNetworkId ReservationContext context ReservationContextImpl cctx getCallingUser cctx getCallingAccount VirtualMachineProfileImpl vmProfile VirtualMachineProfileImpl vmVO DataCenter dc _entityMgr findById DataCenter network getDataCenterId Host host _hostDao findById vm getHostId DeployDestination dest DeployDestination dc host HypervisorGuru hvGuru _hvGuruMgr getGuru vmProfile getVirtualMachine getHypervisorType VirtualMachineTO vmTO hvGuru implement vmProfile NicProfile nicProfile NicProfile nic network nic getBroadcastUri nic getIsolationUri _networkModel getNetworkRate network getId vm getId _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vmProfile getVirtualMachine getHypervisorType network vm NicTO nicTO toNicTO nicProfile vmProfile getVirtualMachine getHypervisorType s_logger debug nic vm network result unplugNic network nicTO vmTO context dest result _userVmMgr setupVmForPvlan vm getHostId nicProfile
NicTO nicTO toNicTO nicProfile vmProfile getVirtualMachine getHypervisorType s_logger debug nic vm network result unplugNic network nicTO vmTO context dest result _userVmMgr setupVmForPvlan vm getHostId nicProfile s_logger debug vm network isDefault nic isDefaultNic UsageEventUtils publishUsageEvent EventTypes EVENT_NETWORK_OFFERING_REMOVE vm getAccountId vm getDataCenterId vm getId Long toString nic getId network getNetworkOfferingId isDefault VirtualMachine getName vm getUuid vm isDisplay s_logger warn vm network vm s_logger warn vm network ResourceUnavailableException vm DataCenter vm getDataCenterId _networkMgr releaseNic vmProfile nic
Nic nic broadcastUri nic _nicsDao findByNetworkIdInstanceIdAndBroadcastUri network getId vm getId broadcastUri toString nic _networkModel getNicInNetwork vm getId network getId nic s_logger warn network nic vm s_logger warn vm network CloudRuntimeException vm network Nic lock _nicsDao acquireInLockTable nic getId lock _nicsDao nic getId s_logger
nic _networkModel getNicInNetwork vm getId network getId nic s_logger warn network nic vm s_logger warn vm network CloudRuntimeException vm network Nic lock _nicsDao acquireInLockTable nic getId lock _nicsDao nic getId s_logger s_logger debug vm network ConcurrentOperationException nic getId
nic vm s_logger warn vm network CloudRuntimeException vm network Nic lock _nicsDao acquireInLockTable nic getId lock _nicsDao nic getId s_logger s_logger debug vm network ConcurrentOperationException nic getId s_logger s_logger debug lock getId vm network NicProfile nicProfile NicProfile nic network nic getBroadcastUri nic getIsolationUri _networkModel getNetworkRate network getId vm getId _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vmProfile getVirtualMachine getHypervisorType network
s_logger warn vm network CloudRuntimeException vm network Nic lock _nicsDao acquireInLockTable nic getId lock _nicsDao nic getId s_logger s_logger debug vm network ConcurrentOperationException nic getId s_logger s_logger debug lock getId vm network NicProfile nicProfile NicProfile nic network nic getBroadcastUri nic getIsolationUri _networkModel getNetworkRate network getId vm getId _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vmProfile getVirtualMachine getHypervisorType network vm NicTO nicTO toNicTO nicProfile vmProfile getVirtualMachine getHypervisorType
ConcurrentOperationException nic getId s_logger s_logger debug lock getId vm network NicProfile nicProfile NicProfile nic network nic getBroadcastUri nic getIsolationUri _networkModel getNetworkRate network getId vm getId _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vmProfile getVirtualMachine getHypervisorType network vm NicTO nicTO toNicTO nicProfile vmProfile getVirtualMachine getHypervisorType s_logger debug vm network result unplugNic network nicTO vmTO context dest result s_logger debug vm network s_logger warn vm network
NicProfile nicProfile NicProfile nic network nic getBroadcastUri nic getIsolationUri _networkModel getNetworkRate network getId vm getId _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vmProfile getVirtualMachine getHypervisorType network vm NicTO nicTO toNicTO nicProfile vmProfile getVirtualMachine getHypervisorType s_logger debug vm network result unplugNic network nicTO vmTO context dest result s_logger debug vm network s_logger warn vm network vm s_logger warn vm network ResourceUnavailableException vm DataCenter vm getDataCenterId _networkMgr releaseNic vmProfile nic
VirtualMachineProfile profile VirtualMachineProfileImpl vm newServiceOffering Long srcHostId vm getHostId Long oldSvcOfferingId vm getServiceOfferingId srcHostId CloudRuntimeException Host host _hostDao findById srcHostId DataCenterDeployment plan DataCenterDeployment host getDataCenterId host getPodId host getClusterId excludes addHost vm getHostId vm setServiceOfferingId newSvcOfferingId DeployDestination dest dest _dpMgr planDeployment profile plan excludes e2 s_logger warn e2 CloudRuntimeException
DataCenterDeployment plan DataCenterDeployment host getDataCenterId host getPodId host getClusterId excludes addHost vm getHostId vm setServiceOfferingId newSvcOfferingId DeployDestination dest dest _dpMgr planDeployment profile plan excludes e2 s_logger warn e2 CloudRuntimeException dest s_logger s_logger debug dest dest InsufficientServerCapacityException host getClusterId excludes addHost dest getHost getId
DeployDestination dest dest _dpMgr planDeployment profile plan excludes e2 s_logger warn e2 CloudRuntimeException dest s_logger s_logger debug dest dest InsufficientServerCapacityException host getClusterId excludes addHost dest getHost getId migrateForScale vm getUuid srcHostId dest oldSvcOfferingId
vmUuid VMInstanceVO vm _vmDao findByUuid vmUuid
vmUuid srcHostId dest VMInstanceVO vm _vmDao findByUuid vmUuid s_logger info vm dest vm getServiceOfferingId dstHostId dest getHost getId Host fromHost _hostDao findById srcHostId fromHost
s_logger info vm dest vm getServiceOfferingId dstHostId dest getHost getId Host fromHost _hostDao findById srcHostId fromHost s_logger info srcHostId CloudRuntimeException srcHostId fromHost dest getId s_logger info dstHostId CloudRuntimeException dest getHost getId VirtualMachineGuru vmGuru getVmGuru vm vmId vm getId vm _vmDao findByUuid vmUuid vm s_logger
s_logger info srcHostId CloudRuntimeException srcHostId dest getId s_logger info dstHostId CloudRuntimeException dest getHost getId VirtualMachineGuru vmGuru getVmGuru vm vmId vm getId vm _vmDao findByUuid vmUuid vm s_logger s_logger debug vm CloudRuntimeException vmId vm s_logger
PrepareForMigrationCommand pfmc PrepareForMigrationCommand to ItWorkVO work ItWorkVO UUID randomUUID toString _nodeId State Migrating vm getType vm getId work setStep Step Prepare work setResourceType ItWorkVO ResourceType Host work setResourceId dstHostId work _workDao persist work Answer pfma pfma _agentMgr send dstHostId pfmc pfma pfma String details pfma pfma getDetails String msg details pfma AgentUnavailableException msg dstHostId
work setResourceType ItWorkVO ResourceType Host work setResourceId dstHostId work _workDao persist work Answer pfma pfma _agentMgr send dstHostId pfmc pfma pfma String details pfma pfma getDetails String msg details pfma AgentUnavailableException msg dstHostId AgentUnavailableException dstHostId pfma
ConcurrentOperationException e1 getMessage migrated isWindows _guestOsCategoryDao findById _guestOsDao findById vm getGuestOSId getCategoryId getName equalsIgnoreCase MigrateCommand mc MigrateCommand vm getInstanceName dest getHost getPrivateIpAddress isWindows to getExecuteInSequence vm getHypervisorType kvmAutoConvergence StorageManager KvmAutoConvergence value mc setAutoConvergence kvmAutoConvergence mc setHostGuid dest getHost getGuid Answer ma _agentMgr send vm getLastHostId mc ma ma String details ma ma getDetails String msg details s_logger error msg CloudRuntimeException msg
mc setHostGuid dest getHost getGuid Answer ma _agentMgr send vm getLastHostId mc ma ma String details ma ma getDetails String msg details s_logger error msg CloudRuntimeException msg s_logger warn vm _haMgr scheduleRestart vm AgentUnavailableException vm dstHostId newServiceOfferingId vm getServiceOfferingId
String details ma ma getDetails String msg details s_logger error msg CloudRuntimeException msg s_logger warn vm _haMgr scheduleRestart vm AgentUnavailableException vm dstHostId newServiceOfferingId vm getServiceOfferingId vm setServiceOfferingId oldSvcOfferingId vm dstHostId ConcurrentOperationException vm vm setServiceOfferingId newServiceOfferingId
network nic vm result VMInstanceVO router _vmDao findById vm getId router NetworkDetailVO pvlanTypeDetail networkDetailsDao findDetail network getId ApiConstants ISOLATED_PVLAN_TYPE pvlanTypeDetail Map NetworkOffering Detail String nicDetails nic getDetails HashMap nic getDetails
UserVmVO userVm _userVmDao findById vm getId userVm userVm _userVmService collectVmNetworkStatistics userVm Commands cmds Commands Command OnError Stop UnPlugNicCommand unplugNicCmd UnPlugNicCommand nic vm getName cmds addCommand unplugNicCmd _agentMgr send dest getHost getId cmds UnPlugNicAnswer unplugNicAnswer cmds getAnswer UnPlugNicAnswer unplugNicAnswer unplugNicAnswer s_logger warn router result e AgentUnavailableException router network dest getHost getId e router router
s_logger info vm getInstanceName _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_SYNC vm getDataCenterId vm getPodIdToDeployIn VM_SYNC_ALERT_SUBJECT vm getHostName vm getInstanceName vm getHostId vm getHostId vm getPowerHostId s_logger info vm getHostId vm getPowerHostId stateTransitTo vm VirtualMachine Event FollowAgentPowerOnReport vm getPowerHostId e s_logger warn e s_logger info vm getInstanceName vm stateTransitTo vm VirtualMachine Event FollowAgentPowerOnReport vm getPowerHostId e s_logger warn e
e s_logger warn e s_logger info vm getInstanceName vm getState stateTransitTo vm VirtualMachine Event FollowAgentPowerOnReport vm getPowerHostId e s_logger warn e _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_SYNC vm getDataCenterId vm getPodIdToDeployIn VM_SYNC_ALERT_SUBJECT vm getHostName vm getInstanceName vm getState s_logger info vm getInstanceName s_logger info vm vm getState s_logger info vm getInstanceName vm getState
s_logger info vm getInstanceName _haMgr vm _haMgr scheduleRestart vm s_logger info vm getInstanceName vm VirtualMachineGuru vmGuru getVmGuru vm VirtualMachineProfile profile VirtualMachineProfileImpl vm vmGuru profile stateTransitTo vm VirtualMachine Event FollowAgentPowerOffReport e s_logger warn e
work VMInstanceVO vm _entityMgr findById VMInstanceVO work getVmId vm
_instanceDao entry getKey hostId entry getValue DateUtil currentGMTTime s_logger s_logger debug hostId entry getKey entry getValue _messageBus publish VirtualMachineManager Topics VM_POWER_STATE PublishScope GLOBAL entry getKey s_logger s_logger trace entry getKey Date startTime DateUtil currentGMTTime List VMInstanceVO vmsThatAreMissingReport _instanceDao findByHostInStates hostId VirtualMachine State Running VirtualMachine State Stopping VirtualMachine State Starting java util Iterator VMInstanceVO it vmsThatAreMissingReport iterator it VMInstanceVO instance it next translatedInfo get instance getId it remove vmsThatAreMissingReport Date currentTime DateUtil currentGMTTime
Date currentTime DateUtil currentGMTTime s_logger s_logger debug currentTime getTime milliSecondsGracefullPeriod mgmtServiceConf getPingInterval instance _instanceDao instance getId s_logger warn instance getId _instanceDao resetVmPowerStateTracking instance getId e s_logger warn e Date vmStateUpdateTime instance getPowerStateUpdateTime vmStateUpdateTime
milliSecondsGracefullPeriod mgmtServiceConf getPingInterval instance _instanceDao instance getId s_logger warn instance getId _instanceDao resetVmPowerStateTracking instance getId e s_logger warn e Date vmStateUpdateTime instance getPowerStateUpdateTime vmStateUpdateTime s_logger warn instance getId vmStateUpdateTime instance getUpdateTime vmStateUpdateTime
_instanceDao instance getId s_logger warn instance getId _instanceDao resetVmPowerStateTracking instance getId e s_logger warn e Date vmStateUpdateTime instance getPowerStateUpdateTime vmStateUpdateTime s_logger warn instance getId vmStateUpdateTime instance getUpdateTime vmStateUpdateTime s_logger warn instance getId vmStateUpdateTime instance getCreated
e s_logger warn e Date vmStateUpdateTime instance getPowerStateUpdateTime vmStateUpdateTime s_logger warn instance getId vmStateUpdateTime instance getUpdateTime vmStateUpdateTime s_logger warn instance getId vmStateUpdateTime instance getCreated s_logger String lastTime SimpleDateFormat format vmStateUpdateTime s_logger debug String format hostId instance getId instance getUuid VirtualMachine PowerState PowerReportMissing lastTime milliSecondsSinceLastStateUpdate currentTime getTime vmStateUpdateTime getTime
e s_logger warn e Date vmStateUpdateTime instance getPowerStateUpdateTime vmStateUpdateTime s_logger warn instance getId vmStateUpdateTime instance getUpdateTime vmStateUpdateTime s_logger warn instance getId vmStateUpdateTime instance getCreated s_logger String lastTime SimpleDateFormat format vmStateUpdateTime s_logger debug String format hostId instance getId instance getUuid VirtualMachine PowerState PowerReportMissing lastTime milliSecondsSinceLastStateUpdate currentTime getTime vmStateUpdateTime getTime milliSecondsSinceLastStateUpdate
Class workClz workClz Class forName job getCmd e s_logger error cmd job getRelated e _asyncJobMgr completeAsyncJob job getId JobInfo Status FAILED e getMessage work VmWorkSerializer deserialize workClz job getCmdInfo work s_logger error job getCmd job getCmdInfo job getRelated _asyncJobMgr completeAsyncJob job getId JobInfo Status FAILED s_logger isDebugEnabled s_logger debug cmd work getVmId job getRelated
s_logger error cmd job getRelated e _asyncJobMgr completeAsyncJob job getId JobInfo Status FAILED e getMessage work VmWorkSerializer deserialize workClz job getCmdInfo work s_logger error job getCmd job getCmdInfo job getRelated _asyncJobMgr completeAsyncJob job getId JobInfo Status FAILED s_logger isDebugEnabled s_logger debug cmd work getVmId job getRelated _handlers _handlers s_logger error job getCmd job getCmdInfo job getRelated _asyncJobMgr completeAsyncJob job getId JobInfo Status FAILED VmWorkJobHandler handler _handlers get work getHandlerName
_handlers _handlers s_logger error job getCmd job getCmdInfo job getRelated _asyncJobMgr completeAsyncJob job getId JobInfo Status FAILED VmWorkJobHandler handler _handlers get work getHandlerName handler s_logger error work getHandlerName job getCmd job getCmdInfo job getRelated _asyncJobMgr completeAsyncJob job getId JobInfo Status FAILED CallContext register work getUserId work getAccountId Pair JobInfo Status String result handler handleVmWorkJob work _asyncJobMgr completeAsyncJob job getId result first result second CallContext unregister
VmWorkJobHandler handler _handlers get work getHandlerName handler s_logger error work getHandlerName job getCmd job getCmdInfo job getRelated _asyncJobMgr completeAsyncJob job getId JobInfo Status FAILED CallContext register work getUserId work getAccountId Pair JobInfo Status String result handler handleVmWorkJob work _asyncJobMgr completeAsyncJob job getId result first result second CallContext unregister s_logger isDebugEnabled s_logger debug cmd work getVmId job getRelated
e s_logger error job getCmd e VmWork work VmWorkSerializer deserialize workClz joinedJob getCmdInfo assert work AccountVO account _accountDao findById work getAccountId assert account VMInstanceVO vm _instanceDao findById work getVmId assert vm CallContext register work getUserId work getAccountId job getRelated Method handler getHandler joinRecord getWakeupHandler handler handler invoke _vmMgr
SearchCriteria EngineClusterVO sc StateChangeSearch create sc setParameters vo getId sc setParameters currentState UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update vo sc rows EngineClusterVO dbCluster findByIdIncludingRemoved vo getId dbCluster StringBuilder str StringBuilder append vo toString str append append dbCluster getId append append dbCluster getState append append dbCluster getLastUpdated str append append vo getId append append nextState append append event append append vo getLastUpdated str append append vo getId append append currentState append append event append append oldUpdatedTime
SearchCriteria EngineDataCenterVO sc StateChangeSearch create sc setParameters vo getId sc setParameters currentState UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update vo sc rows EngineDataCenterVO dbDC findByIdIncludingRemoved vo getId dbDC StringBuilder str StringBuilder append vo toString str append append dbDC getId append append dbDC getState append append dbDC getLastUpdated str append append vo getId append append nextState append append event append append vo getLastUpdated str append append vo getId append append currentState append append event append append oldUpdatedTime
SearchCriteria EngineHostVO sc StateChangeSearch create sc setParameters hostEntity getId sc setParameters currentState UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update vo sc rows EngineHostVO dbHost findByIdIncludingRemoved vo getId dbHost StringBuilder str StringBuilder append vo toString str append append dbHost getId append append dbHost getState append append dbHost getLastUpdated str append append vo getId append append nextState append append event append append vo getLastUpdated str append append vo getId append append currentState append append event append append oldUpdatedTime
SearchCriteria EngineHostPodVO sc StateChangeSearch create sc setParameters vo getId sc setParameters currentState UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update vo sc rows EngineHostPodVO dbDC findByIdIncludingRemoved vo getId dbDC StringBuilder str StringBuilder append vo toString str append append dbDC getId append append dbDC getState append append dbDC getLastUpdated str append append vo getId append append nextState append append event append append vo getLastUpdated str append append vo getId append append currentState append append event append append oldUpdatedTime
netGcInterval NumbersUtil parseInt _configDao getValue NetworkGcInterval key
network NetworkVO ntwkVO _networksDao findById network getId
Pair NetworkGuru NetworkVO networkId Pair NetworkGuru NetworkVO implemented Pair NetworkGuru NetworkVO NetworkVO network _networksDao findById networkId NetworkGuru guru AdapterBase getAdapterByName networkGurus network getGuruName network
NetworkVO network _networksDao findById networkId NetworkGuru guru AdapterBase getAdapterByName networkGurus network getGuruName network s_logger debug networkId implemented set guru network implemented network _networksDao acquireInLockTable networkId NetworkLockTimeout value network ConcurrentOperationException ex ConcurrentOperationException ex addProxyObject _entityMgr findById Network networkId getUuid ex s_logger s_logger debug networkId network
implemented set guru network implemented network _networksDao acquireInLockTable networkId NetworkLockTimeout value network ConcurrentOperationException ex ConcurrentOperationException ex addProxyObject _entityMgr findById Network networkId getUuid ex s_logger s_logger debug networkId network s_logger debug networkId implemented set guru network implemented s_logger
network setBroadcastUri result getBroadcastUri network setGateway result getGateway network setMode result getMode network setPhysicalNetworkId result getPhysicalNetworkId _networksDao update networkId network implementNetworkElementsAndResources dest context network offering network network setState Network State Implemented stateTransitTo network Event OperationSucceeded network setRestartRequired _networksDao update network getId network implemented set guru network implemented
stateTransitTo network Event OperationSucceeded network setRestartRequired _networksDao update network getId network implemented set guru network implemented e s_logger error e getMessage e s_logger error e getMessage implemented s_logger debug network
network setRestartRequired _networksDao update network getId network implemented set guru network implemented e s_logger error e getMessage e s_logger error e getMessage implemented s_logger debug network network
implemented e s_logger error e getMessage e s_logger error e getMessage implemented s_logger debug network network network setState Network State Shutdown _networksDao update networkId network
network offering sharedSourceNat offering isSharedSourceNat DataCenter zone _dcDao findById network getDataCenterId sharedSourceNat network network network zone List IPAddressVO ips Account owner _entityMgr findById Account network getAccountId network getVpcId ips _ipAddressDao listByAssociatedVpc network getVpcId ips Vpc vpc _vpcMgr getActiveVpc network getVpcId
network offering sharedSourceNat offering isSharedSourceNat DataCenter zone _dcDao findById network getDataCenterId sharedSourceNat network getId network network zone List IPAddressVO ips Account owner _entityMgr findById Account network getAccountId network getVpcId ips _ipAddressDao listByAssociatedVpc network getVpcId ips Vpc vpc _vpcMgr getActiveVpc network getVpcId s_logger debug vpc _vpcMgr assignSourceNatIpAddressToVpc owner vpc ips _ipAddressDao listByAssociatedNetwork network getId ips
ips _ipAddressDao listByAssociatedNetwork network getId ips s_logger debug network _ipAddrMgr assignSourceNatIpAddressToGuestNetwork owner network List Provider providersToImplement getNetworkProviders network getId implementNetworkElements dest context network offering providersToImplement List NicVO nicVOs _nicDao listByNetworkId network getId NicVO nicVO nicVOs nicVO configureExtraDhcpOptions network nicVO getId element element AggregatedCommandExecutor providersToImplement element AggregatedCommandExecutor element prepareAggregatedExecution network dest
network networkId network getId Account caller _accountDao findById Account ACCOUNT_ID_SYSTEM userId User UID_SYSTEM
services network networkId network getId Account caller _accountDao findById Account ACCOUNT_ID_SYSTEM userId User UID_SYSTEM s_logger info services network getUuid network getNetworkOfferingId services services networkId userId caller
ip setOneToOneNat ip setAssociatedWithVmId ip setVmIp _ipAddressDao update ip getId ip ex s_logger warn networkId ex List IPAddressVO ips _ipAddressDao listByAssociatedNetwork network getId IPAddressVO ip ips ip setSourceNat _ipAddressDao update ip getId ip
ex s_logger warn networkId ex List IPAddressVO ips _ipAddressDao listByAssociatedNetwork network getId IPAddressVO ip ips ip setSourceNat _ipAddressDao update ip getId ip networkId s_logger debug networkId
nic _nicDao update nic getId nic nic
nic setIPv4Netmask profile getIPv4Netmask nic setIPv4Gateway profile getIPv4Gateway profile getReservationStrategy nic setReservationStrategy profile getReservationStrategy updateNic nic network getId profile NicProfile nic network nic getBroadcastUri nic getIsolationUri networkRate _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vmProfile getHypervisorType network guru updateNicProfile profile network nic setState Nic State Reserved updateNic nic network getId List Provider providersToImplement getNetworkProviders network getId element providersToImplement element getProvider _networkModel _networkModel getPhysicalNetworkId network element getProvider getName CloudRuntimeException element getProvider getName network getPhysicalNetworkId
NetworkVO network _networksDao findById nic getNetworkId Integer networkRate _networkModel getNetworkRate network getId vm getId NetworkGuru guru AdapterBase getAdapterByName networkGurus network getGuruName NicProfile profile NicProfile nic network nic getBroadcastUri nic getIsolationUri networkRate _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vm getHypervisorType network guru guru profile network vm s_logger error guru network vm _userVmMgr setupVmForPvlan vm getVirtualMachine getHostId profile List Provider providersToImplement getNetworkProviders network getId element providersToImplement element getProvider _networkModel _networkModel getPhysicalNetworkId network element getProvider getName CloudRuntimeException element getProvider getName network getPhysicalNetworkId element
network network guestNetworkId network getId Integer networkRate _networkModel getNetworkRate network getId vm getId NetworkGuru guru AdapterBase getAdapterByName networkGurus network getGuruName NicProfile profile NicProfile nic network nic getBroadcastUri nic getIsolationUri networkRate _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vm getHypervisorType network guru guru profile network vm s_logger error guru List Provider providersToImplement getNetworkProviders network getId element providersToImplement element getProvider _networkModel _networkModel getPhysicalNetworkId network element getProvider getName CloudRuntimeException element getProvider getName network getPhysicalNetworkId element element profile network vm
element element getProvider getPhysicalNetworkId network element getProvider getName CloudRuntimeException element getProvider getName network getPhysicalNetworkId element element profile network vm s_logger error element guru updateNicProfile profile network vm addNic profile List String addedURIs ArrayList String guestNetworkId List IPAddressVO publicIps _ipAddressDao listByAssociatedNetwork guestNetworkId IPAddressVO userIp publicIps PublicIp publicIp PublicIp createFromAddrAndVlan userIp _vlanDao findById userIp getVlanId URI broadcastUri BroadcastDomainType Vlan toUri publicIp getVlanTag
nic setState Nic State Allocated updateNic nic network getId vmProfile NicVO nic _nicDao findById nicId nic NetworkVO vmNetwork _networksDao findById nic getNetworkId VMNetworkMapVO vno _vmNetworkMapDao findByVmAndNetworkId vmProfile getVirtualMachine getId vmNetwork getId vno _vmNetworkMapDao remove vno getId networkToRelease Network network networkToRelease first NicProfile profile networkToRelease second
NetworkVO network _networksDao findById nic getNetworkId network network String nicIp Strings isNullOrEmpty nic getIPv4Address nic getIPv6Address nic getIPv4Address Strings isNullOrEmpty nicIp NicProfile nicProfile NicProfile nic getIPv4Address nic getIPv6Address nic getMacAddress nicProfile setId nic getId cleanupNicDhcpDnsEntry network vm nicProfile Boolean preserveNics Boolean vm getParameter VirtualMachineProfile Param PreserveNics preserveNics nic setState Nic State Deallocating _nicDao update nic getId nic NicProfile profile NicProfile nic network _networkModel isSecurityGroupSupportedInNetwork network _networkModel getNetworkTag vm getHypervisorType network nic Nic List Provider providersToImplement getNetworkProviders network getId
ex s_logger warn nic toString ex ex s_logger warn nic toString ex network network nic network DhcpServiceProvider dhcpServiceProvider getDhcpServiceProvider network dhcpServiceProvider dhcpServiceProvider removeDhcpServiceInSubnet nic network DnsServiceProvider dnsServiceProvider getDnsServiceProvider network dnsServiceProvider dnsServiceProvider network s_logger warn
ex s_logger warn nic toString ex ex s_logger warn nic toString ex network network nic network DhcpServiceProvider dhcpServiceProvider getDhcpServiceProvider network dhcpServiceProvider dhcpServiceProvider removeDhcpServiceInSubnet nic network DnsServiceProvider dnsServiceProvider getDnsServiceProvider network dnsServiceProvider dnsServiceProvider network s_logger warn
networkId NetworkVO network _networksDao findById networkId network
NetworkVO network _networksDao findById networkId network s_logger debug network network network s_logger debug network network _networksDao acquireInLockTable networkId NetworkLockTimeout value network s_logger warn network s_logger s_logger debug network network
network network s_logger debug network network _networksDao acquireInLockTable networkId NetworkLockTimeout value network s_logger warn network s_logger s_logger debug network network s_logger debug network network network
cleanupNeeded cleanupNeeded cleanupResult shutdownNetworkResources network getId context getAccount context getCaller getId ex s_logger warn network ex cleanupResult s_logger warn network getId success s_logger
networkId context Account callerAccount context getAccount NetworkVO network _networksDao findById networkId network
vm getState vm s_logger warn vm vm getState nicCount getActiveNicsInNetwork networkId nicCount s_logger debug networkId _networksDao changeActiveNicsBy networkId nicCount DataCenter zone _entityMgr findById DataCenter network getDataCenterId zone List VMInstanceVO systemVms _vmDao listNonRemovedVmsByTypeAndNetwork network getId Type ConsoleProxy Type SecondaryStorageVm systemVms systemVms s_logger warn shutdownNetwork networkId context network _networksDao findById networkId
s_logger warn networkId List Provider providersToDestroy getNetworkProviders network getId element providersToDestroy element s_logger s_logger debug element element network success s_logger warn element getName e s_logger warn element getName e success e
e s_logger warn element getName e success e s_logger warn element getName e success e s_logger warn element getName e success success s_logger s_logger debug networkId NetworkVO networkFinal network
NetworkVO networkFinal network NetworkGuru guru AdapterBase getAdapterByName networkGurus networkFinal getGuruName guru networkFinal networkFinal CloudRuntimeException networkFinal s_logger warn networkFinal CloudRuntimeException networkFinal stateTransitTo networkFinal Event DestroyNetwork e s_logger debug e getMessage
networkId status restartRequired NetworkVO network _networksDao findById networkId
List VirtualRouter List VirtualRouter remainingRouters ArrayList VirtualRouter
network String passwordProvider _ntwkSrvcDao getProviderForServiceInNetwork network getId Service UserData passwordProvider
network String SSHKeyProvider _ntwkSrvcDao getProviderForServiceInNetwork network getId Service UserData SSHKeyProvider
network String DhcpProvider _ntwkSrvcDao getProviderForServiceInNetwork network getId Service Dhcp DhcpProvider
network String dnsProvider _ntwkSrvcDao getProviderForServiceInNetwork network getId Service Dns dnsProvider
networkId success Network network _networksDao findById networkId List PortForwardingRuleVO pfRules _portForwardingRulesDao listByNetwork networkId
s_logger s_logger debug pfRules size networkId pfRule pfRules s_logger trace pfRule pfRule setState FirewallRule State Revoke pfRules s_logger warn success ex s_logger warn ex success List FirewallRuleVO firewallStaticNatRules _firewallDao listByNetworkAndPurpose networkId Purpose StaticNat List StaticNatRule staticNatRules ArrayList StaticNatRule s_logger
s_logger warn success ex s_logger warn ex success s_logger warn success ex s_logger warn ex success
success ex s_logger warn ex success networkId s_logger warn success ex s_logger warn ex success List FirewallRuleVO firewallRules _firewallDao listByNetworkPurposeTrafficType networkId Purpose Firewall FirewallRule TrafficType Ingress s_logger s_logger debug firewallRules size networkId FirewallRuleVO firewallRules
FirewallRuleVO firewallRule s_logger trace firewallRule firewallRule setState FirewallRule State Revoke s_logger warn success ex s_logger warn ex success List FirewallRuleVO firewallEgressRules _firewallDao listByNetworkPurposeTrafficType networkId Purpose Firewall FirewallRule TrafficType Egress s_logger s_logger debug firewallEgressRules size networkId DataCenter zone _dcDao findById network getDataCenterId
hostId host getId StartupRoutingCommand startup StartupRoutingCommand cmd String dataCenter startup getDataCenter dcId DataCenterVO dc _dcDao findByName dataCenter dc dcId Long parseLong dataCenter dc _dcDao findById dcId dc IllegalArgumentException startup getPrivateIpAddress dataCenter dcId dc getId HypervisorType hypervisorType startup getHypervisorType
nic vmProfile getType Type deviceId _nicDao getFreeDeviceId vm getId nic allocateNic requested network deviceId vmProfile first nic CloudRuntimeException vm network vmProfile getType Type VMNetworkMapVO vno VMNetworkMapVO vm getId network getId _vmNetworkMapDao persist vno s_logger debug vm network Pair NetworkGuru NetworkVO implemented implementNetwork nic getNetworkId dest context vmProfile getVirtualMachine getType Type DomainRouter implemented implemented first s_logger warn nic getNetworkId nic getId CloudRuntimeException nic getNetworkId nic getId nic prepareNic vmProfile dest context nic getId implemented second
List NetworkElement network service List NetworkElement elements ArrayList NetworkElement List Provider providers getProvidersForServiceInNetwork network service providers
existingNic setRemoved Date _nicDao update existingNic getId existingNic NicVO vo NicVO network getGuruName vm getId network getId vm getType vo setMacAddress macAddress vo setAddressFormat Networks AddressFormat Ip4 NetUtils finalGuestIp network getGateway vo setIPv4Address finalGuestIp vo setIPv4Gateway network getGateway network getCidr vo setIPv4Netmask NetUtils cidr2Netmask network getCidr vo setBroadcastUri network getBroadcastUri vo setMode network getMode vo setState Nic State Reserved vo setReservationStrategy ReservationStrategy Start vo setReservationId UUID randomUUID toString
vm hostId vm getHostId hostId Host vmHost _entityMgr findById Host hostId clusterId vmHost getClusterId List VolumeVO rootVolumesOfVm _volsDao findByInstanceAndType vm getId Volume Type ROOT rootVolumesOfVm CloudRuntimeException vm getHostName VolumeVO rootVolumeOfVm rootVolumesOfVm get StoragePoolVO rootDiskPool _storagePoolDao findById rootVolumeOfVm getPoolId clusterId rootDiskPool rootDiskPool getClusterId clusterId hostId vm
VolumeVO rootVolumeOfVm rootVolumesOfVm get StoragePoolVO rootDiskPool _storagePoolDao findById rootVolumeOfVm getPoolId clusterId rootDiskPool rootDiskPool getClusterId clusterId vm s_logger s_logger debug vm getUuid StringBuilder addDetails StringBuilder msg addDetails append addDetails append vm getUuid msg addDetails toString
clusterId rootDiskPool rootDiskPool getClusterId pod first clusterId vm s_logger s_logger debug vm getUuid StringBuilder addDetails StringBuilder msg addDetails append addDetails append vm getUuid msg addDetails toString pod getId podsToAvoid podsToAvoid add pod first getId pod first
DiskProfile dskCh createDiskCharacteristics volume template dc diskOffering dskCh setHyperType vm getHypervisorType storageMgr setDiskProfileThrottling dskCh diskOffering StoragePool destPool findStoragePool dskCh dc pod clusterId vm avoidPools destPool CloudRuntimeException vm getUuid DataStore destStore dataStoreMgr getDataStore destPool getId DataStoreRole Primary AsyncCallFuture VolumeApiResult future volService copyVolume volume destStore VolumeApiResult result future get result s_logger debug result getResult CloudRuntimeException result getResult result getVolume
StoragePool destPool findStoragePool dskCh dc pod clusterId vm avoidPools destPool CloudRuntimeException vm getUuid DataStore destStore dataStoreMgr getDataStore destPool getId DataStoreRole Primary AsyncCallFuture VolumeApiResult future volService copyVolume volume destStore VolumeApiResult result future get result s_logger debug result getResult CloudRuntimeException result getResult result getVolume e s_logger debug volume getId e CloudRuntimeException e e
volume template dskCh createDiskCharacteristics volume template dc offering storageMgr setDiskProfileThrottling dskCh offering diskOffering dskCh createDiskCharacteristics volume template dc diskOffering storageMgr setDiskProfileThrottling dskCh diskOffering diskOffering diskOffering dskCh setSize size dskCh setHyperType hyperType HashSet StoragePool avoidPools HashSet StoragePool avoids pool findStoragePool dskCh dc pod clusterId vm getHostId vm avoidPools pool s_logger warn volume getName CloudRuntimeException volume getName s_logger
s_logger s_logger debug volume pool DataStore store dataStoreMgr getDataStore pool getId DataStoreRole Primary AsyncCallFuture VolumeApiResult future isNotCreatedFromTemplate volume getTemplateId isNotCreatedFromTemplate future volService createVolumeAsync volume store TemplateInfo templ tmplFactory getTemplate template getId DataStoreRole Image future volService createVolumeFromTemplateAsync volume store getId templ VolumeApiResult result future get result result
existingVolume vm Long templateIdToUse Long volTemplateId existingVolume getTemplateId vmTemplateId vm getTemplateId volTemplateId volTemplateId vmTemplateId
VolumeVO VolumeVO existingVolume vm Long templateIdToUse Long volTemplateId existingVolume getTemplateId vmTemplateId vm getTemplateId volTemplateId volTemplateId vmTemplateId s_logger s_logger debug volTemplateId vmTemplateId templateIdToUse vmTemplateId Long templateIdToUseFinal templateIdToUse VolumeVO VolumeVO VolumeVO newVolume allocateDuplicateVolumeVO existingVolume templateIdToUseFinal stateTransitTo existingVolume Volume Event DestroyRequested
Long volTemplateId existingVolume getTemplateId vmTemplateId vm getTemplateId volTemplateId volTemplateId vmTemplateId s_logger s_logger debug volTemplateId vmTemplateId templateIdToUse vmTemplateId Long templateIdToUseFinal templateIdToUse VolumeVO VolumeVO VolumeVO newVolume allocateDuplicateVolumeVO existingVolume templateIdToUseFinal stateTransitTo existingVolume Volume Event DestroyRequested e s_logger debug e toString vm
templateIdToUse vmTemplateId Long templateIdToUseFinal templateIdToUse VolumeVO VolumeVO VolumeVO newVolume allocateDuplicateVolumeVO existingVolume templateIdToUseFinal stateTransitTo existingVolume Volume Event DestroyRequested e s_logger debug e toString s_logger info existingVolume getId AsyncCallFuture VolumeApiResult future volService expungeVolumeAsync volFactory getVolume existingVolume getId future get e
s_logger debug vmId List VolumeVO volumesForVm _volsDao findByInstance vmId List VolumeVO toBeExpunged ArrayList VolumeVO VolumeVO vol volumesForVm vol volumeAlreadyDestroyed vol getState Volume State Destroy vol getState Volume State Expunged vol getState Volume State Expunging volumeAlreadyDestroyed volService destroyVolume vol getId s_logger debug vol vol getState toString toBeExpunged add vol s_logger
volService destroyVolume vol getId s_logger debug vol vol getState toString toBeExpunged add vol s_logger s_logger debug vol _volsDao detachVolume vol getId AsyncCallFuture VolumeApiResult future expunge toBeExpunged future volService expungeVolumeAsync volFactory getVolume expunge getId future get
s_logger debug vol vol getState toString toBeExpunged add vol s_logger s_logger debug vol _volsDao detachVolume vol getId AsyncCallFuture VolumeApiResult future expunge toBeExpunged future volService expungeVolumeAsync volFactory getVolume expunge getId future get e s_logger debug expunge getId e
checkConcurrentJobsPerDatastoreThreshhold destPool DataStore dataStoreTarget dataStoreMgr getDataStore destPool getId DataStoreRole Primary AsyncCallFuture VolumeApiResult future volService copyVolume vol dataStoreTarget VolumeApiResult result future get result s_logger error result getResult StorageUnavailableException result getResult destPool getId _snapshotDao vol getId _snapshotDao updateVolumeIds vol getId result getVolume getId _snapshotDataStoreDao updateVolumeIds vol getId result getVolume getId result getVolume e s_logger debug e
volume destPool VolumeInfo vol volFactory getVolume volume getId DataStore dataStoreTarget dataStoreMgr getDataStore destPool getId DataStoreRole Primary AsyncCallFuture VolumeApiResult future volService migrateVolume vol dataStoreTarget VolumeApiResult result future get result
migrateVolumes vm vmTo srcHost destHost Map Volume StoragePool Map VolumeInfo DataStore volumeMap HashMap VolumeInfo DataStore Map Volume StoragePool entry Volume volume entry getKey StoragePool storagePool entry getValue StoragePool destPool StoragePool dataStoreMgr getDataStore storagePool getId DataStoreRole Primary volume vm getId CloudRuntimeException volume vm destPool CloudRuntimeException storagePool getId volumeMap put volFactory getVolume volume getId DataStore destPool AsyncCallFuture CommandResult future volService migrateVolumes volumeMap vmTo srcHost destHost CommandResult result future get result
Volume volume entry getKey StoragePool storagePool entry getValue StoragePool destPool StoragePool dataStoreMgr getDataStore storagePool getId DataStoreRole Primary volume vm getId CloudRuntimeException volume vm destPool CloudRuntimeException storagePool getId volumeMap put volFactory getVolume volume getId DataStore destPool AsyncCallFuture CommandResult future volService migrateVolumes volumeMap vmTo srcHost destHost CommandResult result future get result s_logger debug vm result getResult CloudRuntimeException vm
StoragePool destPool StoragePool dataStoreMgr getDataStore storagePool getId DataStoreRole Primary volume vm getId CloudRuntimeException volume vm destPool CloudRuntimeException storagePool getId volumeMap put volFactory getVolume volume getId DataStore destPool AsyncCallFuture CommandResult future volService migrateVolumes volumeMap vmTo srcHost destHost CommandResult result future get result s_logger debug vm result getResult CloudRuntimeException vm e s_logger debug vm e e
vm List VolumeVO vols _volsDao findUsableVolumesForInstance vm getId List Volume volumesNeedToMigrate ArrayList Volume VolumeVO vols Volume
vm List VolumeVO vols _volsDao findUsableVolumesForInstance vm getId
StoragePoolVO assignedPool destVols StoragePool pool destVols get vol pool assignedPool _storagePoolDao findById pool getId assignedPool assignedPool _storagePoolDao findById vol getPoolId assignedPool Volume State state vol getState state Volume State state Volume State VolumeTask task VolumeTask VolumeTaskType RECREATE vol tasks add task vol
assignedPool assignedPool _storagePoolDao findById vol getPoolId assignedPool Volume State state vol getState state Volume State state Volume State VolumeTask task VolumeTask VolumeTaskType RECREATE vol tasks add task vol s_logger s_logger debug vol assignedPool VolumeTask task VolumeTask VolumeTaskType RECREATE vol tasks add task assignedPool vol getPoolId
assignedPool Volume State state vol getState state Volume State state Volume State VolumeTask task VolumeTask VolumeTaskType RECREATE vol tasks add task vol s_logger s_logger debug vol assignedPool VolumeTask task VolumeTask VolumeTaskType RECREATE vol tasks add task assignedPool vol s_logger s_logger debug assignedPool vol
VolumeTask task VolumeTask VolumeTaskType RECREATE vol tasks add task assignedPool vol s_logger s_logger debug assignedPool vol DiskOffering diskOffering _entityMgr findById DiskOffering vol getDiskOfferingId diskOffering s_logger s_logger debug vol assignedPool CloudRuntimeException vol assignedPool Boolean isHAOperation Boolean vm getParameter VirtualMachineProfile Param HaOperation Boolean storageMigrationEnabled isHAOperation isHAOperation
CloudRuntimeException vol assignedPool Boolean isHAOperation Boolean vm getParameter VirtualMachineProfile Param HaOperation Boolean storageMigrationEnabled isHAOperation isHAOperation storageMigrationEnabled StorageHAMigrationEnabled value storageMigrationEnabled StorageMigrationEnabled value storageMigrationEnabled s_logger s_logger debug vol assignedPool VolumeTask task VolumeTask VolumeTaskType MIGRATE vol assignedPool tasks add task CloudRuntimeException
VolumeVO DataStore VolumeVO vol VolumeVO newVol recreate RecreatableSystemVmEnabled value DataStore destPool recreate vol destPool dataStoreMgr getDataStore vol getPoolId DataStoreRole Primary
dest getStorageForDisks dest getStorageForDisks get vol destPool dataStoreMgr getDataStore vol getPoolId DataStoreRole Primary s_logger debug destPool getId StoragePool pool dest getStorageForDisks get vol destPool dataStoreMgr getDataStore pool getId DataStoreRole Primary vol vol newVol vol newVol switchVolume vol vm dest getStorageForDisks dest getStorageForDisks vol StoragePool poolWithOldVol dest getStorageForDisks get vol dest getStorageForDisks put newVol poolWithOldVol dest getStorageForDisks remove vol s_logger
s_logger s_logger debug newVol vol VolumeInfo volume volFactory getVolume newVol getId destPool Long templateId newVol getTemplateId AsyncCallFuture VolumeApiResult future templateId DiskOffering diskOffering _entityMgr findById DiskOffering volume getDiskOfferingId HypervisorType hyperType vm getVirtualMachine getHypervisorType volService updateHypervisorSnapshotReserveForVolume diskOffering volume getId hyperType volume volFactory getVolume newVol getId destPool future volService createVolumeAsync volume destPool TemplateInfo templ tmplFactory getReadyTemplateOnImageStore templateId dest getDataCenter getId templ
tmplFactory templateId templ tmplFactory getReadyBypassedTemplateOnPrimaryStore templateId destPool getId dest getHost getId s_logger debug templateId dest getDataCenter getId CloudRuntimeException templateId dest getDataCenter getId PrimaryDataStore primaryDataStore PrimaryDataStore destPool primaryDataStore DiskOffering diskOffering _entityMgr findById DiskOffering volume getDiskOfferingId HypervisorType hyperType vm getVirtualMachine getHypervisorType volService updateHypervisorSnapshotReserveForVolume diskOffering volume getId hyperType hostId vm getVirtualMachine getHostId future volService createManagedStorageVolumeFromTemplateAsync volume destPool getId templ hostId future volService createVolumeFromTemplateAsync volume destPool getId templ VolumeApiResult result
cleanupVolumeDuringSnapshotFailure volumeId snapshotId _snapshotSrv cleanupVolumeDuringSnapshotFailure volumeId snapshotId VolumeVO volume _volsDao findById volumeId volume
IllegalArgumentException IllegalArgumentException parent Domain ROOT_DOMAIN domain getParent domain getParent longValue Domain ROOT_DOMAIN parent domain getParent longValue DomainVO parentDomain findById parent parentDomain s_logger error parent TransactionLegacy txn TransactionLegacy currentTxn txn start parentDomain lockRow parent parentDomain
DomainVO domain findById id domain s_logger info id domain getParent s_logger error id String sql id String sql1 id success TransactionLegacy txn TransactionLegacy currentTxn txn start DomainVO parentDomain lockRow domain getParent
s_logger s_logger debug sql COPY_ALL_EVENTS PreparedStatement pstmt txn start pstmt txn prepareAutoCloseStatement sql i recentEventId pstmt setLong i recentEventId pstmt setLong i maxEventId pstmt executeUpdate txn commit txn rollback
PreparedStatement pstmt pstmt txn prepareAutoCloseStatement sql String gmtCutTime DateUtil getDateDisplayString TimeZone getTimeZone cutTime pstmt setString gmtCutTime pstmt setString gmtCutTime ResultSet rs pstmt executeQuery rs RunningHostCountInfo info RunningHostCountInfo info setDcId rs getLong info setHostType rs getString info setCount rs getInt l add info
RouterHealthCheckResultVO routerId checkName checkType SearchCriteria RouterHealthCheckResultVO sc RouterChecksSearchBuilder create sc setParameters routerId sc setParameters checkName sc setParameters checkType List RouterHealthCheckResultVO checks listBy sc checks
accountId SearchCriteria ProjectAccountVO sc AllFieldsSearch create sc setParameters accountId rowsRemoved remove sc rowsRemoved
projectId SearchCriteria ProjectInvitationVO sc AllFieldsSearch create sc setParameters projectId numberRemoved remove sc
configure String name String params result configure name params PublicSearch createSearchBuilder PublicSearch and PublicSearch entity isPublicTemplate SearchCriteria Op EQ routerTmpltName String params get
sc setParameters currentState sc setParameters vo getUpdatedCount vo incrUpdatedCount UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update VMTemplateVO vo sc rows VMTemplateVO dbTemplate findByIdIncludingRemoved vo getId dbTemplate StringBuilder str StringBuilder append vo toString str append append dbTemplate getId append append dbTemplate getState append append dbTemplate getUpdatedCount append append dbTemplate getUpdated str append append vo getId append append nextState append append event append append vo getUpdatedCount append append vo getUpdated str append append vo getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
sc setParameters currentState sc setParameters templateHost getUpdatedCount templateHost incrUpdatedCount UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update VMTemplateHostVO vo sc rows VMTemplateHostVO dbVol findByIdIncludingRemoved templateHost getId dbVol StringBuilder str StringBuilder append vo toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append templateHost getId append append nextState append append event append append templateHost getUpdatedCount append append templateHost getUpdated str append append templateHost getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
sc setParameters currentState sc setParameters templatePool getUpdatedCount templatePool incrUpdatedCount UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update VMTemplateStoragePoolVO vo sc rows VMTemplateStoragePoolVO dbVol findByIdIncludingRemoved templatePool getId dbVol StringBuilder str StringBuilder append vo toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append templatePool getId append append nextState append append event append append templatePool getUpdatedCount append append templatePool getUpdated str append append templatePool getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
sc setParameters currentState sc setParameters vo getUpdatedCount vo incrUpdatedCount UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update VolumeVO vo sc rows VolumeVO dbVol findByIdIncludingRemoved vo getId dbVol StringBuilder str StringBuilder append vo toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append vo getId append append nextState append append event append append vo getUpdatedCount append append vo getUpdated str append append vo getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
sc setParameters currentState sc setParameters volHost getUpdatedCount volHost incrUpdatedCount UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update VolumeHostVO vo sc rows VolumeHostVO dbVol findByIdIncludingRemoved volHost getId dbVol StringBuilder str StringBuilder append vo toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append volHost getId append append nextState append append event append append volHost getUpdatedCount append append volHost getUpdated str append append volHost getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
pstmt rs pstmt noDuplicate StringBuffer helpInfo StringBuffer String note helpInfo append note rs poolId rs getLong pstmt setLong poolId dhrs String help formatDuplicateHostToReadText poolId dhrs helpInfo append help helpInfo append noDuplicate
String note helpInfo append note rs poolId rs getLong pstmt setLong poolId dhrs String help formatDuplicateHostToReadText poolId dhrs helpInfo append help helpInfo append noDuplicate e s_logger error e getMessage CloudRuntimeException e getMessage e e
pstmt setLong poolId dhrs String help formatDuplicateHostToReadText poolId dhrs helpInfo append help helpInfo append noDuplicate e s_logger error e getMessage CloudRuntimeException e getMessage e e s_logger error e getMessage CloudRuntimeException e getMessage e noDuplicate s_logger debug
helpInfo append noDuplicate e s_logger error e getMessage CloudRuntimeException e getMessage e e s_logger error e getMessage CloudRuntimeException e getMessage e noDuplicate s_logger debug s_logger error helpInfo toString txn commit noDuplicate e
e s_logger error e getMessage CloudRuntimeException e getMessage e e s_logger error e getMessage CloudRuntimeException e getMessage e noDuplicate s_logger debug s_logger error helpInfo toString txn commit noDuplicate e s_logger error e getMessage CloudRuntimeException e getMessage e
CloudRuntimeException e getMessage e noDuplicate s_logger debug s_logger error helpInfo toString txn commit noDuplicate e s_logger error e getMessage CloudRuntimeException e getMessage e e s_logger error e getMessage CloudRuntimeException e getMessage e
rs num rs String tableName rs getString tableName tableName tableName num
found
s_logger error txn commit s_logger error txn commit txn commit e s_logger error e getMessage CloudRuntimeException e getMessage e e s_logger error e getMessage
conn txn getConnection e String errorMessage s_logger error errorMessage e CloudRuntimeException errorMessage e InputStream scripts upgrade getPrepareScripts scripts InputStream script scripts runScript conn script upgrade performDataMigration conn version VersionVO upgrade getUpgradedVersion version _dao persist version txn commit CloudRuntimeException e String errorMessage
upgrade performDataMigration conn version VersionVO upgrade getUpgradedVersion version _dao persist version txn commit CloudRuntimeException e String errorMessage s_logger error errorMessage e CloudRuntimeException errorMessage e txn close txn TransactionLegacy open s_logger info upgrade getClass getSimpleName upgrade getUpgradableVersionRange upgrade getUpgradableVersionRange upgrade getUpgradedVersion txn start Connection conn
pstmt pstmt executeUpdate
pstmt pstmt executeUpdate
dataCenterId s_logger debug dataCenterId selectInstance selectInstance setLong dataCenterId selectInstance
String state instanceResult getString running state equals state equals state equals String privateMac instanceResult getString String privateIp instanceResult getString String privateNetmask instanceResult getString String publicMac instanceResult getString String publicIp instanceResult getString String publicNetmask instanceResult getString String guestMac instanceResult getString String guestIp instanceResult getString String guestNetmask instanceResult getString String gateway instanceResult getString selectHost selectHost setLong dataCenterId selectHost
pstmt setString vlanType pstmt executeUpdate pstmt pstmt setLong dcId pstmt setString vlanType rs pstmt ArrayList Object allocatedIps ArrayList Object rs Object ip Object ip rs getLong ip rs getString ip rs getLong ip rs getDate allocatedIps add ip s_logger debug allocatedIps size networkId
_basicZone rs next Boolean parseBoolean rs getString updateDatacenterWithServices conn updateBasicZoneDataCenterWithVnetAndGuestCidr conn ArrayList Object dcs retrieveDataCenters conn managementNetworkOfferingId retrieveNetworkOfferingId conn publicNetworkOfferingId retrieveNetworkOfferingId conn controlNetworkOfferingId retrieveNetworkOfferingId conn storageNetworkOfferingId retrieveNetworkOfferingId conn _basicZone Object dc dcs updateBasicNetworkingDataCenter conn managementNetworkOfferingId controlNetworkOfferingId storageNetworkOfferingId dc Object dc dcs updateAdvancedNetworkingDataCenter conn managementNetworkOfferingId publicNetworkOfferingId controlNetworkOfferingId storageNetworkOfferingId dc
type networkOfferingId pstmt pstmt setString type pstmt
selectDomainRouterIds setLong dataCenterId selectDomainRouterIds Long deviceId selectnonRemovedVms selectnonRemovedVms setLong accountId selectnonRemovedVms setLong dataCenterId selectnonRemovedVms s_logger warn accountId dataCenterId selectNetworkType selectNetworkType setLong accountId selectNetworkType setLong dataCenterId selectNetworkType
rule rs getString rule rs getString rule rs getString rules add rule rules s_logger debug rules size rule rules id Long rule String sourcePort String rule String protocol String rule String publicIp String rule selectUserIpAddressData selectUserIpAddressData setString publicIp selectUserIpAddressData
upgradeHostMemoryCapacityInfo conn upgradeHostCpuCapacityInfo conn upgradeDomainResourceCounts conn migrateEvents conn createPortForwardingEvents conn createLoadBalancerEvents conn createNetworkOfferingEvents conn hypervisorTypeUpdate executeUpdate instanceUpdate executeUpdate updateUserStats conn deleteOrphanedTemplateRef conn cleanupVolumes conn modifyIndexes conn cleanupLbVmMaps conn
s_logger debug rs Long id rs getLong Long poolId rs getLong selectStoragePool selectStoragePool setLong poolId selectStoragePool s_logger debug id delete delete setLong id delete executeUpdate s_logger debug
selectedVolumes selectedVolumes Long id selectedVolumes getLong
selectAccounts selectAccounts setLong accountId selectAccounts removeVolume instanceId selectInstances selectInstances setLong instanceId selectInstances removeVolume removeVolume pstmt pstmt setLong id pstmt executeUpdate
removeVolume instanceId selectInstances selectInstances setLong instanceId selectInstances removeVolume removeVolume pstmt pstmt setLong id pstmt executeUpdate s_logger debug id s_logger debug
rs rs lbId rs getLong pstmt1 pstmt1 setLong lbId pstmt1 lbId
conn HashMap Long Long networkDomainMap HashMap Long Long PreparedStatement pstmt conn prepareStatement ResultSet rs pstmt executeQuery
conn HashMap Long Long networkDomainMap HashMap Long Long PreparedStatement pstmt conn prepareStatement ResultSet rs pstmt executeQuery s_logger debug pstmt rs Long networkId rs getLong Long vlanId Long domainId pstmt conn prepareStatement pstmt setLong networkId
ResultSet rs pstmt executeQuery s_logger debug pstmt rs Long networkId rs getLong Long vlanId Long domainId pstmt conn prepareStatement pstmt setLong networkId s_logger debug pstmt rs pstmt executeQuery rs vlanId rs getLong vlanId pstmt conn prepareStatement pstmt setLong vlanId
rs close List Long domains ArrayList Long pstmt conn prepareStatement rs pstmt executeQuery rs domains add rs getLong rs close String resourceTypes Long accountId String resourceType resourceTypes pstmt conn prepareStatement pstmt setString resourceType pstmt setLong accountId rs pstmt executeQuery rs
pstmt setLong accountId rs pstmt executeQuery rs s_logger debug resourceType accountId pstmt conn prepareStatement pstmt setLong accountId pstmt setString resourceType pstmt executeUpdate rs close pstmt close domainId resourceType pstmt conn prepareStatement pstmt setString resourceType pstmt setLong domainId
crtPbNtwk PreparedStatement pstmt2 conn prepareStatement pstmt2Close add pstmt2 pstmt2 setLong zoneId ResultSet rsTags pstmt2 executeQuery rsTags s_logger debug PreparedStatement pstmt4 conn prepareStatement pstmt2Close add pstmt4 pstmt4 setLong zoneId ResultSet rsVNet pstmt4 executeQuery rsVNet String message
Long nic_id rsNic getLong Long instance_id rsNic getLong rsNic CloudRuntimeException vnetValue nic_id instance_id String freeVnet pstmtUpdate conn prepareStatement freeVnet pstmtUpdate setLong vnet_id pstmtUpdate executeUpdate pstmtUpdate close isFirstPhysicalNtwk String guestNetworkTag rsTags getString physicalNetworkId addPhysicalNetworkToZone conn zoneId zoneName networkType isFirstPhysicalNtwk vnet domainId isFirstPhysicalNtwk
addPhysicalNtwk_To_Ntwk_IP_Vlan conn physicalNetworkId networkId pstmt3 close s_logger debug pstmt3 conn prepareStatement zoneId ResultSet rsPubNet pstmt3 executeQuery rsPubNet Long publicNetworkId rsPubNet getLong addPhysicalNtwk_To_Ntwk_IP_Vlan conn physicalNetworkId publicNetworkId pstmt3 close s_logger debug String updateVnet physicalNetworkId zoneId pstmtUpdate conn prepareStatement updateVnet pstmtUpdate executeUpdate pstmtUpdate close
String encryptedValue DBEncryptionUtil encrypt value pstmt conn prepareStatement pstmt setBytes encryptedValue getBytes pstmt setString name pstmt executeUpdate e CloudRuntimeException e e CloudRuntimeException e rs rs close pstmt pstmt close
conn List PreparedStatement pstmt2Close ArrayList PreparedStatement PreparedStatement pstmt ResultSet rs pstmt conn prepareStatement pstmt2Close add pstmt rs pstmt executeQuery rs subdomainAccess Boolean valueOf rs getString pstmt conn prepareStatement pstmt2Close add pstmt pstmt setBoolean subdomainAccess pstmt executeUpdate
subdomainAccess Boolean valueOf rs getString pstmt conn prepareStatement pstmt2Close add pstmt pstmt setBoolean subdomainAccess pstmt executeUpdate s_logger debug subdomainAccess pstmt conn prepareStatement pstmt2Close add pstmt rs pstmt executeQuery rs networkId rs getLong pstmt conn prepareStatement pstmt2Close add pstmt pstmt setLong networkId pstmt executeUpdate
rs pstmt executeQuery pstmt conn prepareStatement pstmt2Close add pstmt rs1 pstmt executeQuery ntwkOffCount rs1 ntwkOffCount rs1 getLong s_logger debug ntwkOffCount pstmt conn prepareStatement pstmt2Close add pstmt pstmt executeUpdate HashMap Long Long newNetworkOfferingMap HashMap Long Long rs networkId rs getLong networkOfferingId rs getLong
pstmt conn prepareStatement newNetworkOfferingId pstmt2Close add pstmt pstmt executeUpdate pstmt conn prepareStatement pstmt2Close add pstmt pstmt setLong newNetworkOfferingId pstmt setLong networkId pstmt executeUpdate newNetworkOfferingMap put networkOfferingId ntwkOffCount pstmt conn prepareStatement pstmt2Close add pstmt newNetworkOfferingId newNetworkOfferingMap get networkOfferingId pstmt setLong newNetworkOfferingId pstmt setLong networkId
newNetworkOfferingMap put networkOfferingId ntwkOffCount pstmt conn prepareStatement pstmt2Close add pstmt newNetworkOfferingId newNetworkOfferingMap get networkOfferingId pstmt setLong newNetworkOfferingId pstmt setLong networkId pstmt executeUpdate s_logger debug networkId newNetworkOfferingId e CloudRuntimeException e pstmt conn prepareStatement pstmt executeUpdate
pstmt setLong networkOfferingId pstmt executeUpdate pstmt conn prepareStatement newNetworkOfferingId pstmt2Close add pstmt pstmt executeUpdate pstmt conn prepareStatement pstmt2Close add pstmt pstmt setLong newNetworkOfferingId pstmt setLong networkId pstmt executeUpdate newNetworkOfferingMap put networkOfferingId ntwkOffCount pstmt conn prepareStatement pstmt2Close add pstmt newNetworkOfferingId newNetworkOfferingMap get networkOfferingId
pstmt2Close add pstmt newNetworkOfferingId newNetworkOfferingMap get networkOfferingId pstmt setLong newNetworkOfferingId pstmt setLong networkId pstmt executeUpdate s_logger debug networkId newNetworkOfferingId pstmt conn prepareStatement pstmt2Close add pstmt pstmt executeUpdate ex s_logger debug ex e CloudRuntimeException e
String newAllocAlgo newAllocAlgo newAllocAlgo pstmt conn prepareStatement pstmt setString newAllocAlgo pstmt executeUpdate e CloudRuntimeException e rs rs close pstmt
pstmt setLong networkOfferingId pstmt executeUpdate pstmt conn prepareStatement newNetworkOfferingId pstmt2Close add pstmt pstmt executeUpdate pstmt conn prepareStatement pstmt2Close add pstmt pstmt setLong newNetworkOfferingId pstmt setLong networkId pstmt executeUpdate newNetworkOfferingMap put networkOfferingId ntwkOffCount pstmt conn prepareStatement pstmt2Close add pstmt newNetworkOfferingId newNetworkOfferingMap get networkOfferingId
pstmt2Close add pstmt pstmt setLong newNetworkOfferingId pstmt setLong networkId pstmt executeUpdate newNetworkOfferingMap put networkOfferingId ntwkOffCount pstmt conn prepareStatement pstmt2Close add pstmt newNetworkOfferingId newNetworkOfferingMap get networkOfferingId pstmt setLong newNetworkOfferingId pstmt setLong networkId pstmt executeUpdate s_logger debug networkId newNetworkOfferingId e CloudRuntimeException e
tableName pstmtUpdate conn prepareStatement updateSQLPrefix tableName updateSQLSuffix pstmtUpdate setLong hostId pstmtUpdate setLong hostId pstmtUpdate executeUpdate pstmtUpdate close e CloudRuntimeException e pstmtUpdate pstmtUpdate close e
pstmtUpdate setLong hostId pstmtUpdate setLong hostId pstmtUpdate executeUpdate pstmtUpdate close e CloudRuntimeException e pstmtUpdate pstmtUpdate close e s_logger info e rs rs close
e CloudRuntimeException e pstmtUpdate pstmtUpdate close e s_logger info e rs rs close e s_logger info e
conn PreparedStatement pstmt conn prepareStatement ResultSet rs pstmt executeQuery rs Long id rs getLong Long instanceId rs getLong instanceId instanceId pstmt conn prepareStatement pstmt setLong instanceId ResultSet rs1 pstmt executeQuery rs1
conn PreparedStatement pstmt conn prepareStatement ResultSet rs pstmt executeQuery rs Long zoneId rs getLong Long networkId Long vmCount
speed rs getLong totalCapacity cpus speed String updateSQL pstmtUpdate conn prepareStatement updateSQL pstmtUpdate setLong totalCapacity pstmtUpdate setLong hostId pstmtUpdate executeUpdate pstmtUpdate close e CloudRuntimeException e pstmtUpdate pstmtUpdate close e
pstmtUpdate setLong hostId pstmtUpdate executeUpdate pstmtUpdate close e CloudRuntimeException e pstmtUpdate pstmtUpdate close e s_logger info e rs rs close e
e CloudRuntimeException e pstmtUpdate pstmtUpdate close e s_logger info e rs rs close e s_logger info e
keyToStatementMap put keyToStatementMap put keyToStatementMap put keyToStatementMap put keyToStatementMap put keyToStatementMap put String key keyToTableMap String tableName keyToTableMap get key pstmt conn prepareStatement pstmt setString key ResultSet rs pstmt executeQuery rs pstmt conn prepareStatement tableName key keyToStatementMap get key pstmt executeUpdate
keyToStatementMap put String key keyToTableMap String tableName keyToTableMap get key pstmt conn prepareStatement pstmt setString key ResultSet rs pstmt executeQuery rs pstmt conn prepareStatement tableName key keyToStatementMap get key pstmt executeUpdate s_logger debug key tableName rs close s_logger debug pstmt close
ResultSet rs pstmt executeQuery rs dcId rs getLong pstmt conn prepareStatement pstmt setLong dcId ResultSet rs1 pstmt executeQuery rs1 secHostId rs1 getLong pstmt conn prepareStatement pstmt setLong secHostId pstmt setLong dcId pstmt executeUpdate pstmt conn prepareStatement pstmt executeUpdate
PreparedStatement pstmt conn prepareStatement ResultSet rs pstmt executeQuery ArrayList Object networks ArrayList Object rs Object network Object network rs getLong networks add network rs close pstmt close Object network networks Long networkId Long network pstmt conn prepareStatement pstmt setLong networkId rs pstmt executeQuery rs
PreparedStatement pstmt conn prepareStatement ResultSet rs pstmt executeQuery rs volumeId rs getLong accountId rs getLong zoneId rs getLong String volumeName rs getString pstmt conn prepareStatement pstmt setLong accountId pstmt setLong zoneId pstmt setString volumeName pstmt setLong volumeId pstmt executeUpdate s_logger debug
PreparedStatement pstmt pstmt conn prepareStatement ResultSet rs pstmt executeQuery rs s_logger info insertField insertField s_logger debug pstmt conn prepareStatement pstmt executeUpdate s_logger debug pstmt close
rs2 Long networkId rs2 getLong String dbs String db dbs stmt db pstmt conn prepareStatement stmt pstmt setLong networkId pstmt setString publicIpAddress pstmt executeUpdate rs2 close rs close pstmt close s_logger debug String errorMsg
accountId rs getLong domainId rs getLong networkId rs getLong currentRuleId id Long firewallRuleId pstmt conn prepareStatement pstmt setLong ipId pstmt setInt startPort pstmt setInt endPort pstmt setString protocol pstmt setLong accountId pstmt setLong domainId pstmt setLong networkId pstmt setString UUID randomUUID toString pstmt setLong id
pstmt setLong ipId pstmt setLong networkId pstmt setLong id ResultSet rs1 pstmt executeQuery rs1 firewallRuleId rs1 getLong CloudRuntimeException protocol startPort endPort ipId pstmt conn prepareStatement pstmt setLong id ResultSet rs2 pstmt executeQuery rs2 pstmt conn prepareStatement pstmt setLong firewallRuleId pstmt setLong id
firewallRuleId rs1 getLong CloudRuntimeException protocol startPort endPort ipId pstmt conn prepareStatement pstmt setLong id ResultSet rs2 pstmt executeQuery rs2 pstmt conn prepareStatement pstmt setLong firewallRuleId pstmt setLong id s_logger debug id firewallRuleId pstmt pstmt executeUpdate pstmt conn prepareStatement pstmt setLong firewallRuleId
pstmt setLong id s_logger debug id firewallRuleId pstmt pstmt executeUpdate pstmt conn prepareStatement pstmt setLong firewallRuleId s_logger debug firewallRuleId pstmt pstmt executeUpdate e CloudRuntimeException currentRuleId e rs rs close pstmt
ntwkOffId rs getLong mapId rs getLong pstmt conn prepareStatement pstmt setLong ntwkOffId rs1 pstmt executeQuery rs1 pstmt conn prepareStatement pstmt setLong ntwkOffId rs1 pstmt executeQuery rs1 pstmt conn prepareStatement pstmt setLong mapId pstmt executeUpdate
rs1 pstmt executeQuery rs1 pstmt conn prepareStatement pstmt setLong mapId pstmt executeUpdate s_logger debug ntwkOffId pstmt conn prepareStatement pstmt setLong ntwkOffId rs1 pstmt executeQuery rs1 mapId rs1 getLong ntwkId rs1 getLong pstmt conn prepareStatement pstmt setLong mapId
PreparedStatement pstmtUpdate
PreparedStatement pstmtUpdate
PreparedStatement pstmtUpdate
pstmt conn prepareStatement pstmt setLong zoneId rs pstmt executeQuery rs Long count rs getLong count String xenGuestLabel getNetworkLabelFromConfig conn xenGuestLabel DBEncryptionUtil decrypt xenGuestLabel xenGuestLabel PreparedStatement pstmt5 conn prepareStatement pstmt5 setLong zoneId pstmt5 setString xenGuestLabel ResultSet rsSameLabel pstmt5 executeQuery rsSameLabel Long sameLabelcount rsSameLabel getLong
pstmt setLong zoneId rs pstmt executeQuery rs Long count rs getLong count String xenGuestLabel getNetworkLabelFromConfig conn xenGuestLabel DBEncryptionUtil decrypt xenGuestLabel xenGuestLabel PreparedStatement pstmt5 conn prepareStatement pstmt5 setLong zoneId pstmt5 setString xenGuestLabel ResultSet rsSameLabel pstmt5 executeQuery rsSameLabel Long sameLabelcount rsSameLabel getLong sameLabelcount
pstmt setString provider pstmt executeUpdate rs close pstmt close pstmt conn prepareStatement networkOfferingId pstmt setLong newNetworkOfferingId pstmt setLong physicalNetworkId pstmt executeUpdate pstmt close e CloudRuntimeException e closeAutoCloseable rs pstmt conn prepareStatement
pstmt conn prepareStatement rs pstmt executeQuery rs next Long pNtwkId rs getLong pstmt conn prepareStatement pstmt setLong pNtwkId pstmt executeUpdate pstmt conn prepareStatement pstmt setLong pNtwkId ResultSet rs1 pstmt executeQuery rs1 next providerId rs1 getLong pstmt conn prepareStatement pstmt setLong providerId pstmt executeUpdate
CloudRuntimeException zoneId pstmt conn prepareStatement pstmt setLong srxHostId rs pstmt executeQuery rs srxDevivceId rs getLong CloudRuntimeException srxHostId pstmt conn prepareStatement pstmt setLong zoneId pstmt setLong networkOfferingId rs pstmt executeQuery rs networkId rs getLong
pstmtUpdate executeUpdate pstmt_count_networks setLong zoneId rsNetworks pstmt_count_networks rsNetworks Long count rsNetworks getLong count String xenGuestLabel getNetworkLabelFromConfig conn xenGuestLabel DBEncryptionUtil decrypt xenGuestLabel xenGuestLabel pstmt_count_traffic_types_and_labels setLong zoneId pstmt_count_traffic_types_and_labels setString xenGuestLabel rsSameLabel pstmt_count_traffic_types_and_labels rsSameLabel Long sameLabelcount rsSameLabel getLong sameLabelcount
pstmt_count_networks setLong zoneId rsNetworks pstmt_count_networks rsNetworks Long count rsNetworks getLong count String xenGuestLabel getNetworkLabelFromConfig conn xenGuestLabel DBEncryptionUtil decrypt xenGuestLabel xenGuestLabel pstmt_count_traffic_types_and_labels setLong zoneId pstmt_count_traffic_types_and_labels setString xenGuestLabel rsSameLabel pstmt_count_traffic_types_and_labels rsSameLabel Long sameLabelcount rsSameLabel getLong sameLabelcount s_logger error xenGuestLabel
s_logger debug rsNet Long networkId rsNet getLong addPhysicalNtwk_To_Ntwk_IP_Vlan conn physicalNetworkId networkId multiplePhysicalNetworks pstmt_count_traffic_types setLong zoneId rs pstmt_count_traffic_types rs Long count rs getLong count s_logger debug count multiplePhysicalNetworks multiplePhysicalNetworks pstmt_select_vnets_on_different_physical_net setLong zoneId pstmt_select_vnets_on_different_physical_net
rs_service rs_service String service rs_service getString String provider rs_service getString pstmt_insert_netofferservicemap setLong newNetworkOfferingId pstmt_insert_netofferservicemap setString service pstmt_insert_netofferservicemap setString provider pstmt_insert_netofferservicemap executeUpdate pstmt_update_networks setLong newNetworkOfferingId pstmt_update_networks setLong physicalNetworkId pstmt_update_networks setLong networkOfferingId pstmt_update_networks executeUpdate e CloudRuntimeException e
pstmt conn prepareStatement rs pstmt executeQuery rs next Long pNtwkId rs getLong pstmt conn prepareStatement pstmt setLong pNtwkId pstmt executeUpdate pstmt conn prepareStatement pstmt setLong pNtwkId ResultSet rs1 pstmt executeQuery rs1 next providerId rs1 getLong pstmt conn prepareStatement pstmt setLong providerId pstmt executeUpdate
pstmt conn prepareStatement rs pstmt executeQuery rs next Long routerId rs getLong Long networkId rs getLong pstmt conn prepareStatement pstmt setLong networkId ResultSet rs1 pstmt executeQuery rs1 next String networkType rs1 getString pstmt conn prepareStatement pstmt setLong routerId pstmt setLong networkId pstmt setString networkType pstmt executeUpdate
CloudRuntimeException zoneId pstmt conn prepareStatement pstmt setLong srxHostId rs pstmt executeQuery rs srxDevivceId rs getLong CloudRuntimeException srxHostId pstmt conn prepareStatement pstmt setLong zoneId pstmt setLong networkOfferingId rs pstmt executeQuery rs networkId rs getLong
conn PreparedStatement pstmt ResultSet rs ResultSet rsId ResultSet rsNw pstmt conn prepareStatement
conn PreparedStatement pstmt ResultSet rs ResultSet rsId ResultSet rsNw pstmt conn prepareStatement s_logger debug pstmt pstmt executeUpdate pstmt conn prepareStatement rs pstmt executeQuery rs netId rs getLong pstmt conn prepareStatement pstmt setLong netId
pstmt conn prepareStatement s_logger debug pstmt pstmt executeUpdate pstmt conn prepareStatement rs pstmt executeQuery rs netId rs getLong pstmt conn prepareStatement pstmt setLong netId s_logger debug pstmt rsNw pstmt executeQuery rsNw accountId rsNw getLong domainId rsNw getLong
netId rs getLong pstmt conn prepareStatement pstmt setLong netId s_logger debug pstmt rsNw pstmt executeQuery rsNw accountId rsNw getLong domainId rsNw getLong s_logger debug netId pstmt conn prepareStatement pstmt setString UUID randomUUID toString pstmt setLong accountId pstmt setLong domainId pstmt setLong netId pstmt setString UUID randomUUID toString
pstmt setString UUID randomUUID toString pstmt setLong accountId pstmt setLong domainId pstmt setLong netId pstmt setString UUID randomUUID toString s_logger debug pstmt pstmt executeUpdate pstmt conn prepareStatement pstmt setLong netId rsId pstmt executeQuery firewallRuleId rsId firewallRuleId rsId getLong pstmt conn prepareStatement pstmt setLong firewallRuleId
conn PreparedStatement pstmt ResultSet rs s_logger debug pstmt conn prepareStatement rs pstmt executeQuery rs id rs getLong String backUpPath rs getString index backUpPath indexOf File separator index String correctedPath File separator backUpPath substring index
pstmt setLong networkId rs1 pstmt executeQuery rs1 network_offering_id rs1 getLong pstmt conn prepareStatement pstmt setLong network_offering_id rs2 pstmt executeQuery rs2 rs2 maxconnections pstmt conn prepareStatement pstmt setInt maxconnections pstmt setLong network_offering_id pstmt executeUpdate pstmt conn prepareStatement pstmt executeUpdate
pstmt conn prepareStatement rs pstmt executeQuery rs accountId rs getLong pstmt conn prepareStatement pstmt setLong accountId rs1 pstmt executeQuery count rs1 count rs1 getLong pstmt conn prepareStatement pstmt setLong accountId pstmt setLong count pstmt executeUpdate
s_logger debug physicalNetworkId zoneId String sql pstmtUpdate conn prepareStatement sql pstmtUpdate setLong physicalNetworkId pstmtUpdate setString uuid pstmtUpdate setLong zoneId pstmtUpdate setString vnet pstmtUpdate setString broadcastDomainRange pstmtUpdate setString zoneName zoneName physicalNetworkId pstmtUpdate setString zoneName s_logger warn pstmtUpdate toString pstmtUpdate executeUpdate pstmtUpdate close
updateNwpstmt updateNwpstmt executeUpdate
updateNwpstmt updateNwpstmt executeUpdate s_logger debug updateNwpstmt e CloudRuntimeException e vrNwsRs vrNwsRs netId vrNwsRs getLong NwAcctDomIdpstmt NwAcctDomIdpstmt setLong netId NwAcctDomIdps NwAcctDomIdpstmt s_logger debug NwAcctDomIdpstmt NwAcctDomIdps accountId NwAcctDomIdps getLong domainId NwAcctDomIdps getLong
vrNwsRs vrNwsRs netId vrNwsRs getLong NwAcctDomIdpstmt NwAcctDomIdpstmt setLong netId NwAcctDomIdps NwAcctDomIdpstmt s_logger debug NwAcctDomIdpstmt NwAcctDomIdps accountId NwAcctDomIdps getLong domainId NwAcctDomIdps getLong s_logger debug netId fwRulespstmt fwRulespstmt setString UUID randomUUID toString fwRulespstmt setLong accountId fwRulespstmt setLong domainId
fwRulespstmt setString UUID randomUUID toString fwRulespstmt setLong accountId fwRulespstmt setLong domainId fwRulespstmt setLong netId fwRulespstmt setString UUID randomUUID toString s_logger debug fwRulespstmt fwRulespstmt executeUpdate e CloudRuntimeException e protoAllpstmt protoAllpstmt setLong netId protoAllRs protoAllpstmt firewallRuleId protoAllRs firewallRuleId protoAllRs getLong
userData newUserData updateStatement updateStatement setString newUserData updateStatement setLong userVmId updateStatement executeUpdate e LOG error userVmId e getMessage CloudRuntimeException userVmId e LOG warn userVmId LOG warn userData updateStatement updateStatement setLong userVmId updateStatement executeUpdate e
clusterHypervisorType clusters getString clusterId clusters getLong clusterHypervisorType paramValStr getConfigurationParameter conn VSWITCH_GLOBAL_CONFIG_PARAM_CATEGORY NEXUS_GLOBAL_CONFIG_PARAM_NAME paramValStr nexusEnabled nexusEnabled publicVswitchType NEXUS_1000V_DVSWITCH guestVswitchType NEXUS_1000V_DVSWITCH detailsList ArrayList Pair String String detailsList add Pair String String ApiConstants VSWITCH_TYPE_GUEST_TRAFFIC guestVswitchType detailsList add Pair String String ApiConstants VSWITCH_TYPE_PUBLIC_TRAFFIC publicVswitchType detailsMap put clusterId detailsList updateClusterDetails conn detailsMap
paramValStr getConfigurationParameter conn VSWITCH_GLOBAL_CONFIG_PARAM_CATEGORY NEXUS_GLOBAL_CONFIG_PARAM_NAME paramValStr nexusEnabled nexusEnabled publicVswitchType NEXUS_1000V_DVSWITCH guestVswitchType NEXUS_1000V_DVSWITCH detailsList ArrayList Pair String String detailsList add Pair String String ApiConstants VSWITCH_TYPE_GUEST_TRAFFIC guestVswitchType detailsList add Pair String String ApiConstants VSWITCH_TYPE_PUBLIC_TRAFFIC publicVswitchType detailsMap put clusterId detailsList updateClusterDetails conn detailsMap s_logger debug clusterId
nexusEnabled nexusEnabled publicVswitchType NEXUS_1000V_DVSWITCH guestVswitchType NEXUS_1000V_DVSWITCH detailsList ArrayList Pair String String detailsList add Pair String String ApiConstants VSWITCH_TYPE_GUEST_TRAFFIC guestVswitchType detailsList add Pair String String ApiConstants VSWITCH_TYPE_PUBLIC_TRAFFIC publicVswitchType detailsMap put clusterId detailsList updateClusterDetails conn detailsMap s_logger debug clusterId s_logger debug clusterId clusterHypervisorType e String msg e getMessage
detailsList ArrayList Pair String String detailsList add Pair String String ApiConstants VSWITCH_TYPE_GUEST_TRAFFIC guestVswitchType detailsList add Pair String String ApiConstants VSWITCH_TYPE_PUBLIC_TRAFFIC publicVswitchType detailsMap put clusterId detailsList updateClusterDetails conn detailsMap s_logger debug clusterId s_logger debug clusterId clusterHypervisorType e String msg e getMessage s_logger error msg CloudRuntimeException msg e setConfigurationParameter conn VSWITCH_GLOBAL_CONFIG_PARAM_CATEGORY DVS_GLOBAL_CONFIG_PARAM_NAME
paramName paramVal pstmt pstmt setString paramVal pstmt setString paramName
sel_aff_grp_pstmt setLong domainId rs2 sel_aff_grp_pstmt rs2 affinityGroupId rs2 getLong sel_dom_id_pstmt sel_dom_id_pstmt setLong domainId sel_dom_id_res sel_dom_id_pstmt sel_dom_id_res domainName sel_dom_id_res getString e CloudRuntimeException e String type String uuid UUID randomUUID toString String groupName domainName
rsParams pstmt rsParams trafficTypeVswitchParam rsParams getString trafficTypeVswitchParamValue rsParams getString trafficTypeVswitchParam trafficType trafficTypeVswitchParam trafficType trafficTypeVswitchParam trafficType pstmt setString trafficType rsLabel newLabel getNewLabel rsLabel trafficTypeVswitchParamValue
tokens url split vc tokens dcName tokens dcOfPreviousCluster dcOfCurrentCluster dcOfCurrentCluster dcName vc dcList dcOfCurrentCluster dcList add dcOfCurrentCluster dcOfPreviousCluster dcOfCurrentCluster legacyZone s_logger debug zoneId e CloudRuntimeException e e CloudRuntimeException e
count clusters next e CloudRuntimeException e getMessage e listOfLegacyZones add zoneId listOfNonLegacyZones add zoneId dc ArrayList Long dcZones ArrayList Long dcToZoneMap get dc dcZones dcToZoneMap get dc dcZones add zoneId
e CloudRuntimeException e getMessage e listOfLegacyZones add zoneId listOfNonLegacyZones add zoneId dc ArrayList Long dcZones ArrayList Long dcToZoneMap get dc dcZones dcToZoneMap get dc dcZones add zoneId dcToZoneMap put dc dcZones ArrayList Long dcToZoneMap
legacyZonesQuery zoneId legacyZonesQuery setLong zoneId legacyZonesQuery executeUpdate
ResultSet rs pstmt rs pstmt executeQuery rs netId rs getLong sel_net_pstmt sel_net_pstmt setLong netId s_logger debug ResultSet rsNw pstmt executeQuery rsNw accountId rsNw getLong domainId rsNw getLong
netId rs getLong sel_net_pstmt sel_net_pstmt setLong netId s_logger debug rsNw rsNw accountId rsNw getLong domainId rsNw getLong s_logger debug netId insert_pstmt insert_pstmt setString UUID randomUUID toString insert_pstmt setLong accountId insert_pstmt setLong domainId insert_pstmt setLong netId insert_pstmt setString UUID randomUUID toString
insert_pstmt setLong domainId insert_pstmt setLong netId insert_pstmt setString UUID randomUUID toString s_logger debug insert_pstmt insert_pstmt executeUpdate e CloudRuntimeException e sel_firewall_pstmt sel_firewall_pstmt setLong netId rsId sel_firewall_pstmt firewallRuleId rsId firewallRuleId rsId getLong insert_pstmt insert_pstmt setLong firewallRuleId
s_logger debug nextAclId String sqlSelectNetworkIds String sqlSelectFirewallRules String sqlInsertNetworkAcl String sqlSelectFirewallCidrs String sqlDeleteFirewallCidr String sqlInsertNetworkAclItem String sqlDeleteFirewallRules String sqlUpdateNetworks sqlSelectNetworkIds sqlUpdateNetworks sqlInsertNetworkAclItem sqlSelectFirewallRules sqlInsertNetworkAcl sqlSelectFirewallCidrs sqlDeleteFirewallCidr sqlDeleteFirewallRules rsNetworkIds rsNetworkIds Long networkId rsNetworkIds getLong
pstmtSelectFirewallRules rsNetworkIds rsNetworkIds Long networkId rsNetworkIds getLong s_logger debug networkId Long vpcId rsNetworkIds getLong String tierUuid rsNetworkIds getString pstmtSelectFirewallRules setLong networkId hasAcls Long aclId number pstmtSelectFirewallRules hasAcls hasAcls aclId nextAclId
pstmtInsertNetworkAcl executeUpdate Long fwRuleId rsAcls getLong String cidr pstmtSelectFirewallCidrs setLong fwRuleId rsCidr pstmtSelectFirewallCidrs rsCidr Long cidrId rsCidr getLong String sourceCidr rsCidr getString cidr cidr sourceCidr cidr sourceCidr pstmtDeleteFirewallCidr setLong cidrId pstmtDeleteFirewallCidr executeUpdate String aclItemUuid rsAcls getString
s_logger debug rs rs id rs getLong String backUpPath rs getString index backUpPath indexOf File separator index String correctedPath backUpPath substring index
String insertF5 insertF5
String insertSrx insertSrx
String insertPNSP insertPNSP
CloudRuntimeException zoneId e CloudRuntimeException e getMessage e e CloudRuntimeException e getMessage e sel_id_ext_frwl_pstmt sel_id_ext_frwl_pstmt setLong srxHostId sel_id_ext_frwl_pstmt_rs sel_id_ext_frwl_pstmt sel_id_ext_frwl_pstmt_rs srxDevivceId sel_id_ext_frwl_pstmt_rs getLong CloudRuntimeException srxHostId e CloudRuntimeException e getMessage e e
s_logger debug volStoreInsert rowCount volStoreInsert executeUpdate
s_logger debug volStoreInsert rowCount volStoreInsert executeUpdate s_logger debug rowCount volStoreUpdate rowCount volStoreUpdate executeUpdate
s_logger debug tmplStoreInsert rowCount tmplStoreInsert executeUpdate
s_logger debug snapshotStoreInsert rowCount snapshotStoreInsert executeUpdate
s_logger debug snapshotStoreInsert rowCount snapshotStoreInsert executeUpdate s_logger debug rowCount snapshotStoreInsert_2 rowCount snapshotStoreInsert_2 executeUpdate
tmplStoreInsert setLong s3_tmpl_id tmplStoreInsert setDate s3_created s3_size tmplStoreInsert setLong s3_size tmplStoreInsert setNull Types BIGINT s3_psize tmplStoreInsert setLong s3_psize tmplStoreInsert setNull Types BIGINT String path account_id s3_tmpl_id tmplStoreInsert setString path tmplStoreInsert setString path tmplStoreInsert executeUpdate
tmplStoreInsert setLong s3_size tmplStoreInsert setNull Types BIGINT s3_psize tmplStoreInsert setLong s3_psize tmplStoreInsert setNull Types BIGINT String path account_id s3_tmpl_id tmplStoreInsert setString path tmplStoreInsert setString path tmplStoreInsert executeUpdate e s_logger error e getMessage e CloudRuntimeException e getMessage e e
tmplStoreInsert setNull Types BIGINT s3_psize tmplStoreInsert setLong s3_psize tmplStoreInsert setNull Types BIGINT String path account_id s3_tmpl_id tmplStoreInsert setString path tmplStoreInsert setString path tmplStoreInsert executeUpdate e s_logger error e getMessage e CloudRuntimeException e getMessage e e s_logger error e getMessage e CloudRuntimeException e getMessage e
snapshotStoreInsert setLong s3StoreMap get s3_id snapshotStoreInsert setLong snapshot_id snapshotStoreInsert setDate s3_created s3_size snapshotStoreInsert setLong s3_size snapshotStoreInsert setNull Types BIGINT s3_prev_id snapshotStoreInsert setLong s3_prev_id snapshotStoreInsert setNull Types BIGINT snapshotStoreInsert setString install_path snapshotStoreInsert setLong s3_vol_id snapshotStoreInsert executeUpdate
s3_size snapshotStoreInsert setLong s3_size snapshotStoreInsert setNull Types BIGINT s3_prev_id snapshotStoreInsert setLong s3_prev_id snapshotStoreInsert setNull Types BIGINT snapshotStoreInsert setString install_path snapshotStoreInsert setLong s3_vol_id snapshotStoreInsert executeUpdate e s_logger error e getMessage e CloudRuntimeException e getMessage e e
snapshotStoreInsert setNull Types BIGINT s3_prev_id snapshotStoreInsert setLong s3_prev_id snapshotStoreInsert setNull Types BIGINT snapshotStoreInsert setString install_path snapshotStoreInsert setLong s3_vol_id snapshotStoreInsert executeUpdate e s_logger error e getMessage e CloudRuntimeException e getMessage e e s_logger error e getMessage e CloudRuntimeException e getMessage e
Map String String detailMap HashMap String String detailMap put ApiConstants ACCOUNT swift_account detailMap put ApiConstants USERNAME swift_username detailMap put ApiConstants KEY swift_key Iterator String keyIt detailMap keySet iterator keyIt String key keyIt next String val detailMap get key storeDetailInsert setLong storeId storeDetailInsert setString key storeDetailInsert setString val storeDetailInsert executeUpdate swift_store_id_map put swift_id storeId e String msg e getMessage
tmplStoreInsert setLong tmpl_id tmplStoreInsert setDate created size tmplStoreInsert setLong size tmplStoreInsert setNull Types BIGINT psize tmplStoreInsert setLong psize tmplStoreInsert setNull Types BIGINT tmplStoreInsert setString path tmplStoreInsert setString path tmplStoreInsert executeUpdate e String msg e getMessage
Long snapshot_id rs getLong Date created rs getDate Long size rs getLong Long prev_id rs getLong String install_path rs getString Long vol_id rs getLong snapshotStoreInsert setLong swiftStoreMap get swift_id snapshotStoreInsert setLong snapshot_id snapshotStoreInsert setDate created snapshotStoreInsert setLong size snapshotStoreInsert setLong prev_id snapshotStoreInsert setString install_path snapshotStoreInsert setLong vol_id snapshotStoreInsert executeUpdate
Long prev_id rs getLong String install_path rs getString Long vol_id rs getLong snapshotStoreInsert setLong swiftStoreMap get swift_id snapshotStoreInsert setLong snapshot_id snapshotStoreInsert setDate created snapshotStoreInsert setLong size snapshotStoreInsert setLong prev_id snapshotStoreInsert setString install_path snapshotStoreInsert setLong vol_id snapshotStoreInsert executeUpdate e s_logger error e getMessage e CloudRuntimeException e getMessage e e
snapshotStoreInsert setLong swiftStoreMap get swift_id snapshotStoreInsert setLong snapshot_id snapshotStoreInsert setDate created snapshotStoreInsert setLong size snapshotStoreInsert setLong prev_id snapshotStoreInsert setString install_path snapshotStoreInsert setLong vol_id snapshotStoreInsert executeUpdate e s_logger error e getMessage e CloudRuntimeException e getMessage e e s_logger error e getMessage e CloudRuntimeException e getMessage e e
String name String value prepSelStmt prepSelStmt setString name prepSelStmt
String value prepSelStmt prepSelStmt setString name resultSet prepSelStmt LOG LOG info name resultSet resultSet getString value DBEncryptionUtil decrypt resultSet getString prepUpdStmt prepUpdStmt setString value prepUpdStmt setString name prepUpdStmt execute LOG
prepSelStmt setString name resultSet prepSelStmt LOG LOG info name resultSet resultSet getString value DBEncryptionUtil decrypt resultSet getString prepUpdStmt prepUpdStmt setString value prepUpdStmt setString name prepUpdStmt execute LOG LOG info name value LOG
put Hypervisor HypervisorType Ovm3 Hypervisor HypervisorType Hypervisor HypervisorType put Hypervisor HypervisorType KVM put Hypervisor HypervisorType XenServer put Hypervisor HypervisorType VMware put Hypervisor HypervisorType Hyperv put Hypervisor HypervisorType LXC put Hypervisor HypervisorType Ovm3 Hypervisor HypervisorType hypervisorAndTemplateName LOG debug hypervisorAndTemplateName getKey pstmt templateId pstmt setString hypervisorAndTemplateName getValue
put Hypervisor HypervisorType XenServer put Hypervisor HypervisorType VMware put Hypervisor HypervisorType Hyperv put Hypervisor HypervisorType LXC put Hypervisor HypervisorType Ovm3 Hypervisor HypervisorType hypervisorAndTemplateName LOG debug hypervisorAndTemplateName getKey pstmt templateId pstmt setString hypervisorAndTemplateName getValue rs pstmt rs templateId rs getLong
hypervisorAndTemplateName LOG debug hypervisorAndTemplateName getKey pstmt templateId pstmt setString hypervisorAndTemplateName getValue rs pstmt rs templateId rs getLong e LOG error e getMessage CloudRuntimeException e templateId templ_type_pstmt templ_type_pstmt setLong templateId
rs templateId rs getLong e LOG error e getMessage CloudRuntimeException e templateId templ_type_pstmt templ_type_pstmt setLong templateId templ_type_pstmt executeUpdate e LOG error templateId e getMessage CloudRuntimeException templateId e update_templ_id_pstmt update_templ_id_pstmt setLong templateId update_templ_id_pstmt setString hypervisorAndTemplateName getKey toString
update_templ_id_pstmt update_templ_id_pstmt setLong templateId update_templ_id_pstmt setString hypervisorAndTemplateName getKey toString update_templ_id_pstmt executeUpdate e LOG error hypervisorAndTemplateName getKey toString templateId e getMessage CloudRuntimeException hypervisorAndTemplateName getKey toString templateId e update_pstmt update_pstmt setString hypervisorAndTemplateName getValue update_pstmt setString routerTemplateConfigurationNames get hypervisorAndTemplateName getKey update_pstmt executeUpdate e LOG error routerTemplateConfigurationNames get hypervisorAndTemplateName getKey hypervisorAndTemplateName getValue e getMessage CloudRuntimeException routerTemplateConfigurationNames get hypervisorAndTemplateName getKey hypervisorAndTemplateName getValue e update_pstmt
readOnlyAdminRules put readOnlyAdminRules put readOnlyAdminRule readOnlyAdminRules pstmt conn prepareStatement pstmt setLong readOnlyAdminRoleId pstmt setString readOnlyAdminRule getKey pstmt setString readOnlyAdminRule getValue pstmt setLong readOnlyAdminSortOrder pstmt executeUpdate rs rs rs close pstmt pstmt pstmt close LOG debug
s_logger debug String networkAclItemSql String networkAclItemCidrSql networkAclItemSql rsItems networkAclItemCidrSql rsItems itemId rsItems getLong String cidrList rsItems getString
CloudRuntimeException e pstmt conn pstmt executeUpdate e CloudRuntimeException e migrateAccountsToDefaultRoles conn s_logger s_logger debug String scriptFile InputStream script Thread currentThread getContextClassLoader getResourceAsStream scriptFile script s_logger error script ScriptRunner runner ScriptRunner conn
TransactionLegacy txn TransactionLegacy open TransactionLegacy USAGE_DB txn start pstmt txn pstmt pstmt setString DateUtil getDateDisplayString TimeZone getTimeZone eventDate pstmt setLong accountId pstmt setLong vmId pstmt executeUpdate e LOGGER error e getMessage e CloudException e getMessage e txn commit e txn rollback
pstmt setLong RoleType User getId pstmt setLong acct getRoleId pstmt setLong acct getDomainId Date removed acct getRemoved removed pstmt setString pstmt setString DateUtil getDateDisplayString TimeZone getTimeZone acct getRemoved pstmt setBoolean acct getNeedsCleanup pstmt addBatch pstmt executeBatch txn commit txn rollback
PreparedStatement pstmt pstmt txn prepareAutoCloseStatement sql acct pstmt setString acct getAccountName Date removed acct getRemoved removed pstmt setString pstmt setString DateUtil getDateDisplayString TimeZone getTimeZone acct getRemoved pstmt setLong acct getId pstmt addBatch pstmt executeBatch txn commit txn rollback
pstmt setString userStat getDeviceType userStat getNetworkId pstmt setLong userStat getNetworkId pstmt setNull Types BIGINT pstmt setLong userStat getNetBytesReceived pstmt setLong userStat getNetBytesSent pstmt setLong userStat getCurrentBytesReceived pstmt setLong userStat getCurrentBytesSent pstmt setLong userStat getAggBytesReceived pstmt setLong userStat getAggBytesSent pstmt addBatch pstmt executeBatch txn commit
PreparedStatement pstmt pstmt txn prepareAutoCloseStatement sql userStat pstmt setLong userStat getNetBytesReceived pstmt setLong userStat getNetBytesSent pstmt setLong userStat getCurrentBytesReceived pstmt setLong userStat getCurrentBytesSent pstmt setLong userStat getAggBytesReceived pstmt setLong userStat getAggBytesSent pstmt setLong userStat getId pstmt addBatch pstmt executeBatch txn commit txn rollback
pstmt setLong vmDiskStat getCurrentIOWrite pstmt setLong vmDiskStat getAggIORead pstmt setLong vmDiskStat getAggIOWrite pstmt setLong vmDiskStat getNetBytesRead pstmt setLong vmDiskStat getNetBytesWrite pstmt setLong vmDiskStat getCurrentBytesRead pstmt setLong vmDiskStat getCurrentBytesWrite pstmt setLong vmDiskStat getAggBytesRead pstmt setLong vmDiskStat getAggBytesWrite pstmt setLong vmDiskStat getId pstmt addBatch pstmt executeBatch txn commit txn rollback
Pair List UsageVO Integer accountId domainId s_logger s_logger debug accountId domainId Pair List UsageVO Integer Pair List UsageVO Integer Pair List UsageVO Integer usageRecords Pair List UsageVO Integer ArrayList UsageVO Filter usageFilter Filter UsageVO Long MAX_VALUE QueryBuilder UsageVO qb QueryBuilder create UsageVO accountId qb and qb entity getAccountId SearchCriteria Op EQ accountId domainId qb and qb entity getDomainId SearchCriteria Op EQ domainId qb and qb entity getQuotaCalculated SearchCriteria Op NEQ qb and qb entity getRawUsage SearchCriteria Op GT s_logger
TransactionLegacy txn TransactionLegacy open TransactionLegacy USAGE_DB txn start usage getReleased pstmt txn pstmt pstmt setString DateUtil getDateDisplayString TimeZone getTimeZone usage getReleased pstmt setLong usage getAccountId pstmt setString usage getAddress pstmt executeUpdate e CloudException e getMessage e txn commit e txn rollback
TransactionLegacy txn TransactionLegacy open TransactionLegacy USAGE_DB txn start UsageJobVO job lockRow jobId Boolean TRUE UsageJobVO jobForUpdate createForUpdate jobForUpdate setStartMillis startMillis jobForUpdate setEndMillis endMillis jobForUpdate setExecTime execTime jobForUpdate setStartDate Date startMillis jobForUpdate setEndDate Date endMillis jobForUpdate setSuccess success update job getId jobForUpdate txn commit txn rollback
zoneId rs getLong Long hostId rs getLong String hostType rs getString Long networkId rs getLong bytesSent rs getLong bytesReceived rs getLong aggBytesReceived rs getLong aggBytesSent rs getLong eventTimeMillis rs getLong hostId returnMap put zoneId accountId hostId UsageNetworkVO accountId zoneId hostId hostType networkId bytesSent bytesReceived aggBytesReceived aggBytesSent eventTimeMillis returnMap put zoneId accountId UsageNetworkVO accountId zoneId hostId hostType networkId bytesSent bytesReceived aggBytesReceived aggBytesSent eventTimeMillis returnMap
pstmt setLong usageNetwork getAccountId pstmt setLong usageNetwork getZoneId pstmt setLong usageNetwork getHostId pstmt setString usageNetwork getHostType pstmt setLong usageNetwork getNetworkId pstmt setLong usageNetwork getBytesSent pstmt setLong usageNetwork getBytesReceived pstmt setLong usageNetwork getAggBytesReceived pstmt setLong usageNetwork getAggBytesSent pstmt setLong usageNetwork getEventTimeMillis pstmt addBatch pstmt executeBatch txn commit txn rollback
accountId volId storageType TransactionLegacy txn TransactionLegacy open TransactionLegacy USAGE_DB txn start String sql REMOVE_BY_USERID_STORAGEID pstmt txn sql pstmt setLong accountId pstmt setLong volId pstmt setInt storageType pstmt executeUpdate e CloudException e getMessage e txn commit e txn rollback
txn start usage getDeleted pstmt txn pstmt pstmt setString DateUtil getDateDisplayString TimeZone getTimeZone usage getDeleted pstmt setLong usage getAccountId pstmt setLong usage getId pstmt setInt usage getStorageType pstmt setLong usage getZoneId pstmt executeUpdate e CloudException e getMessage e txn commit e txn rollback
List UsageSnapshotOnPrimaryVO accountId startDate endDate List UsageSnapshotOnPrimaryVO usageRecords ArrayList UsageSnapshotOnPrimaryVO String sql GET_USAGE_RECORDS_BY_ACCOUNT TransactionLegacy txn TransactionLegacy open TransactionLegacy USAGE_DB PreparedStatement pstmt i pstmt txn prepareAutoCloseStatement sql pstmt setLong i accountId pstmt setString i DateUtil getDateDisplayString TimeZone getTimeZone endDate pstmt setString i DateUtil getDateDisplayString TimeZone getTimeZone startDate pstmt setString i DateUtil getDateDisplayString TimeZone getTimeZone endDate
TransactionLegacy txn TransactionLegacy open TransactionLegacy USAGE_DB txn start usage getDeleted pstmt txn pstmt pstmt setString DateUtil getDateDisplayString TimeZone getTimeZone usage getDeleted pstmt setLong usage getAccountId pstmt setLong usage getUserId pstmt executeUpdate e CloudException e getMessage e txn commit e txn rollback
ioRead rs getLong ioWrite rs getLong aggIORead rs getLong aggIOWrite rs getLong bytesRead rs getLong bytesWrite rs getLong aggBytesRead rs getLong aggBytesWrite rs getLong eventTimeMillis rs getLong vmId returnMap put zoneId accountId vmId volumeId UsageVmDiskVO accountId zoneId vmId volumeId ioRead ioWrite aggIORead aggIOWrite bytesRead bytesWrite aggBytesRead aggBytesWrite eventTimeMillis returnMap put zoneId accountId UsageVmDiskVO accountId zoneId vmId volumeId ioRead ioWrite aggIORead aggIOWrite bytesRead bytesWrite aggBytesRead aggBytesWrite eventTimeMillis returnMap
pstmt setLong usageVmDisk getVolumeId pstmt setLong usageVmDisk getIORead pstmt setLong usageVmDisk getIOWrite pstmt setLong usageVmDisk getAggIORead pstmt setLong usageVmDisk getAggIOWrite pstmt setLong usageVmDisk getBytesRead pstmt setLong usageVmDisk getBytesWrite pstmt setLong usageVmDisk getAggBytesRead pstmt setLong usageVmDisk getAggBytesWrite pstmt setLong usageVmDisk getEventTimeMillis pstmt addBatch pstmt executeBatch txn commit txn rollback
Pair Long Integer dcId ArrayList Pair Long Integer l ArrayList Pair Long Integer TransactionLegacy txn TransactionLegacy currentTxn PreparedStatement pstmt pstmt txn prepareAutoCloseStatement STORAGE_POOL_HOST_INFO pstmt txn prepareAutoCloseStatement SHARED_STORAGE_POOL_HOST_INFO pstmt setLong dcId ResultSet rs pstmt executeQuery rs l add Pair Long Integer rs getLong rs getInt
ConsoleProxyLoadInfo sql ArrayList ConsoleProxyLoadInfo l ArrayList ConsoleProxyLoadInfo TransactionLegacy txn TransactionLegacy currentTxn PreparedStatement pstmt pstmt txn prepareAutoCloseStatement sql ResultSet rs pstmt executeQuery rs ConsoleProxyLoadInfo info ConsoleProxyLoadInfo info setId rs getLong info setName rs getString info setCount rs getInt l add info
String sql role sql sql pstmt txn prepareAutoCloseStatement sql role pstmt setLong msid pstmt setString role toString pstmt setLong msid ResultSet rs pstmt executeQuery rs l add rs getLong
String sql role sql sql pstmt txn prepareAutoCloseStatement sql role pstmt setLong zoneId pstmt setLong zoneId pstmt setString role toString ResultSet rs pstmt executeQuery rs l add rs getLong
TransactionLegacy txn TransactionLegacy currentTxn List Long result ArrayList Long String sql LIST_PODS_HAVING_VMS_FOR_ACCOUNT pstmt txn sql pstmt setLong zoneId pstmt setLong accountId rs pstmt rs result add rs getLong e s_logger error e getMessage CloudRuntimeException e getMessage e txn commit result e
rs result add rs getLong e s_logger error e getMessage CloudRuntimeException e getMessage e txn commit result e s_logger error e getMessage CloudRuntimeException e getMessage e txn txn close e
List UserVmData userVmDataList ArrayList userVmDataHash values userVmDataList pstmt userVmDataList k j j j k pstmt setLong k userVmDataList get j getId rs pstmt rs vm_id rs getLong UserVmData uvm userVmDataHash get vm_id uvm uvm UserVmData uvm setId vm_id setUserVmData uvm rs
k j curr_index j curr_index VM_DETAILS_BATCH_SIZE j k pstmt setLong k userVmDataList get j getId rs pstmt rs vm_id rs getLong UserVmData uvm userVmDataHash get vm_id uvm uvm UserVmData uvm setId vm_id setUserVmData uvm rs e s_logger error e getMessage CloudRuntimeException e getMessage e curr_index VM_DETAILS_BATCH_SIZE e
CloudRuntimeException e getMessage e curr_index VM_DETAILS_BATCH_SIZE e s_logger error e getMessage CloudRuntimeException e getMessage e curr_index userVmDataList size batch_size userVmDataList size curr_index vm_details_pstmt batch_size k j curr_index j curr_index batch_size j k vm_details_pstmt setLong k userVmDataList get j getId rs vm_details_pstmt rs vm_id rs getLong UserVmData uvm userVmDataHash get vm_id uvm
e s_logger error e getMessage CloudRuntimeException e getMessage e curr_index userVmDataList size batch_size userVmDataList size curr_index vm_details_pstmt batch_size k j curr_index j curr_index batch_size j k vm_details_pstmt setLong k userVmDataList get j getId rs vm_details_pstmt rs vm_id rs getLong UserVmData uvm userVmDataHash get vm_id uvm uvm UserVmData uvm setId vm_id
curr_index userVmDataList size batch_size userVmDataList size curr_index vm_details_pstmt batch_size k j curr_index j curr_index batch_size j k vm_details_pstmt setLong k userVmDataList get j getId rs vm_details_pstmt rs vm_id rs getLong UserVmData uvm userVmDataHash get vm_id uvm uvm UserVmData uvm setId vm_id setUserVmData uvm rs e s_logger error e getMessage
rs rs vm_id rs getLong UserVmData uvm userVmDataHash get vm_id uvm uvm UserVmData uvm setId vm_id setUserVmData uvm rs e s_logger error e getMessage CloudRuntimeException e getMessage e e s_logger error e getMessage CloudRuntimeException e getMessage e txn commit
sc setParameters vmi getHostId sc setParameters vmi getUpdated vmi incrUpdated UpdateBuilder ub getUpdateBuilder vmi ub set vmi newState ub set vmi newHostId ub set vmi vmi getPodIdToDeployIn ub set vmi _updateTimeAttr Date result update vmi sc result VMInstanceVO vo findByIdIncludingRemoved vm getId vo StringBuilder str StringBuilder append vo toString str append append vo getHostId append append vo getState toString append append vo getUpdated append append vo getUpdateTime
vmi incrUpdated UpdateBuilder ub getUpdateBuilder vmi ub set vmi newState ub set vmi newHostId ub set vmi vmi getPodIdToDeployIn ub set vmi _updateTimeAttr Date result update vmi sc result VMInstanceVO vo findByIdIncludingRemoved vm getId vo StringBuilder str StringBuilder append vo toString str append append vo getHostId append append vo getState toString append append vo getUpdated append append vo getUpdateTime str append append vm getHostId append append vm getState toString append append vmi getUpdated append append vo getUpdateTime str append append oldHostId append append oldState append append oldUpdated append append oldUpdateDate append
sc setParameters currentState sc setParameters vo getUpdatedCount vo incrUpdatedCount UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update VMSnapshotVO vo sc rows VMSnapshotVO dbVol findByIdIncludingRemoved vo getId dbVol StringBuilder str StringBuilder append vo toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append vo getId append append nextState append append event append append vo getUpdatedCount append append vo getUpdated str append append vo getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
serverId String resetOwnerSql executeExpireOwnershipSql resetOwnerSql serverId
Long newManagementServerId event getServerId oldStatus newStatus oobmHost oobmHost newManagementServerId event newManagementServerId SearchCriteria OutOfBandManagementVO sc StateUpdateSearch create sc setParameters oldStatus sc setParameters oobmHost getId sc setParameters oobmHost getUpdateCount oobmHost incrUpdateCount UpdateBuilder ub getUpdateBuilder oobmHost ub set oobmHost PowerStateAttr newStatus ub set oobmHost UpdateTimeAttr DateUtil currentGMTTime ub set oobmHost MsIdAttr newManagementServerId result update ub sc
typeName String msg CloudRuntimeException msg s_logger debug typeName dataId storeId DataObject existingDataObj DataObjectInStore obj objectInStoreMgr findObject data store obj State st obj getState miliSeconds timeoutSeconds timeoutMiliSeconds timeoutSeconds Date now Date expiredEpoch now getTime timeoutMiliSeconds
st st st s_logger debug typeName obj getObjectId lock hashCode lock wait miliSeconds s_logger debug s_logger debug now Date now String msg timeoutSeconds CloudRuntimeException msg obj objectInStoreMgr findObject data store st obj getState st s_logger debug
s_logger debug s_logger debug now Date now String msg timeoutSeconds CloudRuntimeException msg obj objectInStoreMgr findObject data store st obj getState st s_logger debug DataObject dataObj objectInStoreMgr get data store dataObj incRefCount existingDataObj dataObj existingDataObj s_logger debug typeName dataId storeId
isoFileName driveLabel tempDirName File tmpIsoStore File tempDirName isoFileName Script command Script getProgramToGenerateIso Duration standardSeconds LOG command add tmpIsoStore getAbsolutePath command add command add command add command add command add command add command add command add command add driveLabel command add tempDirName
JsonObject String String JsonObject metaData JsonObject String item String dataType item CONFIGDATA_DIR String fileName item CONFIGDATA_FILE String content item CONFIGDATA_CONTENT
String tempDirName String userDataFilePath tempDirName ConfigDrive cloudStackConfigDriveName File file File userDataFilePath file Script hardLink Script Duration standardSeconds LOG hardLink add userDataFilePath hardLink add tempDirName ConfigDrive openStackConfigDriveName
Scope destScope pickCacheScopeForCopy srcData destData srcForCopy cacheData cacheMgr createCacheObject srcData destScope CopyCommand cmd CopyCommand srcForCopy getTO addFullCloneFlagOnVMwareDest destData getTO primaryStorageDownloadWait VirtualMachineManager ExecuteInSequence value EndPoint ep destHost RemoteHostEndPoint getHypervisorHostEndPoint destHost selector select srcForCopy destData ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd cacheData Long cacheId cacheData getId String cacheType cacheData getType toString String cacheUuid cacheData getUuid toString srcData getType destData getType destData getType
s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd cacheData Long cacheId cacheData getId String cacheType cacheData getType toString String cacheUuid cacheData getUuid toString getType getType getType s_logger debug cacheType cacheId cacheUuid cacheMgr deleteCacheObject srcForCopy answer answer srcForCopy s_logger warn ep ep getId cacheType cacheId cacheUuid cacheMgr deleteCacheObject srcForCopy
DataObject srcData snapObj srcData cacheSnapshotChain snapshot ZoneScope pool getDataCenterId String value configDao getValue Config CreateVolumeFromSnapshotWait toString _createVolumeFromSnapshotWait NumbersUtil parseInt value Integer parseInt Config CreateVolumeFromSnapshotWait getDefaultValue EndPoint ep srcData ep selector select volObj ep selector select srcData volObj CopyCommand cmd CopyCommand srcData getTO addFullCloneFlagOnVMwareDest volObj getTO _createVolumeFromSnapshotWait VirtualMachineManager ExecuteInSequence value Answer answer ep String errMsg
Answer template volume CopyCommand cmd CopyCommand template getTO addFullCloneFlagOnVMwareDest volume getTO VirtualMachineManager ExecuteInSequence value EndPoint ep selector select volume getDataStore Answer answer ep String errMsg
Answer srcData destData String value configDao getValue Config CopyVolumeWait key _copyvolumewait NumbersUtil parseInt value Integer parseInt Config CopyVolumeWait getDefaultValue Scope destScope getZoneScope destData getDataStore getScope DataStore cacheStore cacheMgr getCacheStorage destScope bypassSecondaryStorage srcData srcData bypassSecondaryStorage cacheStore bypassSecondaryStorage CopyCommand cmd CopyCommand srcData getTO destData getTO _copyvolumewait VirtualMachineManager ExecuteInSequence value EndPoint ep selector select srcData destData Answer answer ep String errMsg
String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd answer ImageStoreEntity imageStore ImageStoreEntity dataStoreMgr getImageStoreWithFreeCapacity destScope getScopeId imageStore imageStore imageStore String errMsg Answer answer Answer errMsg answer DataObject objOnImageStore imageStore create srcData objOnImageStore processEvent Event CreateOnlyRequested Answer answer copyObject srcData objOnImageStore answer answer
imageStore imageStore imageStore String errMsg Answer answer Answer errMsg answer DataObject objOnImageStore imageStore create srcData objOnImageStore processEvent Event CreateOnlyRequested Answer answer copyObject srcData objOnImageStore answer answer answer s_logger debug answer getDetails objOnImageStore processEvent Event OperationFailed imageStore delete objOnImageStore answer objOnImageStore processEvent Event OperationSuccessed answer objOnImageStore processEvent Event CopyingRequested
objOnImageStore processEvent Event CreateOnlyRequested Answer answer copyObject srcData objOnImageStore answer answer answer s_logger debug answer getDetails objOnImageStore processEvent Event OperationFailed imageStore delete objOnImageStore answer objOnImageStore processEvent Event OperationSuccessed answer objOnImageStore processEvent Event CopyingRequested CopyCommand cmd CopyCommand objOnImageStore getTO addFullCloneFlagOnVMwareDest destData getTO _copyvolumewait VirtualMachineManager ExecuteInSequence value EndPoint ep selector select objOnImageStore destData ep String errMsg s_logger error errMsg
ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd answer answer answer s_logger debug answer getDetails objOnImageStore processEvent Event OperationFailed imageStore delete objOnImageStore answer objOnImageStore processEvent Event OperationSuccessed imageStore delete objOnImageStore answer
Answer srcData destData String value configDao getValue Config MigrateWait key waitInterval NumbersUtil parseInt value Integer parseInt Config MigrateWait getDefaultValue VolumeInfo volume VolumeInfo srcData StoragePool destPool StoragePool dataStoreMgr getDataStore destData getDataStore getId DataStoreRole Primary MigrateVolumeCommand command MigrateVolumeCommand volume getId volume getPath destPool volume getAttachedVmName volume getVolumeType waitInterval EndPoint ep selector select srcData StorageAction MIGRATEVOLUME Answer answer ep String errMsg
_createprivatetemplatefromsnapshotwait NumbersUtil parseInt value Integer parseInt Config CreatePrivateTemplateFromSnapshotWait getDefaultValue needCache srcData destData needCache SnapshotInfo snapshot SnapshotInfo srcData srcData cacheSnapshotChain snapshot snapshot getDataStore getScope EndPoint ep srcData getDataStore ep selector select destData ep selector select srcData destData CopyCommand cmd CopyCommand srcData getTO addFullCloneFlagOnVMwareDest destData getTO _createprivatetemplatefromsnapshotwait VirtualMachineManager ExecuteInSequence value Answer answer ep String errMsg
snapshotFullBackup fullSnapshot snapshotFullBackup Map String String options HashMap String String options put fullSnapshot toString Answer answer srcData destData Scope selectedScope pickCacheScopeForCopy srcData destData cacheData cacheMgr getCacheObject srcData selectedScope CopyCommand cmd CopyCommand srcData getTO addFullCloneFlagOnVMwareDest destData getTO _backupsnapshotwait VirtualMachineManager ExecuteInSequence value cmd setCacheTO cacheData getTO cmd setOptions options EndPoint ep selector select srcData destData ep String errMsg
cmd setCacheTO cacheData getTO cmd setOptions options EndPoint ep selector select srcData destData ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd addFullCloneFlagOnVMwareDest destData getTO CopyCommand cmd CopyCommand srcData getTO destData getTO _backupsnapshotwait VirtualMachineManager ExecuteInSequence value cmd setOptions options EndPoint ep selector select srcData destData StorageAction BACKUPSNAPSHOT ep
srcVolumeInfo DataStore destStoragePool VMTemplateStoragePoolVO sourceVolumeTemplateStoragePoolVO vmTemplatePoolDao findByPoolTemplate destStoragePool getId srcVolumeInfo getTemplateId sourceVolumeTemplateStoragePoolVO destStoragePool DataStore sourceTemplateDataStore dataStoreManagerImpl getRandomImageStore srcVolumeInfo getDataCenterId sourceTemplateDataStore TemplateInfo sourceTemplateInfo templateDataFactory getTemplate srcVolumeInfo getTemplateId sourceTemplateDataStore TemplateObjectTO sourceTemplate TemplateObjectTO sourceTemplateInfo
snapshotInfo volumeInfo String errMsg CopyCmdAnswer copyCmdAnswer DiskOfferingVO diskOffering _diskOfferingDao findByIdIncludingRemoved volumeInfo getDiskOfferingId SnapshotVO snapshot _snapshotDao findById snapshotInfo getId _volumeService updateHypervisorSnapshotReserveForVolume diskOffering volumeInfo getId snapshot getHypervisorType HostVO hostVO AsyncCallFuture VolumeApiResult future _volumeService createVolumeAsync volumeInfo volumeInfo getDataStore VolumeApiResult result future get result
_volumeDao updateUuid srcVolumeInfo getId destVolumeInfo getId VolumeVO volumeVO _volumeDao findById destVolumeInfo getId volumeVO setFormat ImageFormat QCOW2 _volumeDao update volumeVO getId volumeVO _volumeService destroyVolume srcVolumeInfo getId srcVolumeInfo _volumeDataFactory getVolume srcVolumeInfo getId AsyncCallFuture VolumeApiResult destroyFuture _volumeService expungeVolumeAsync srcVolumeInfo destroyFuture LOGGER debug e LOGGER debug e _snapshotDao srcVolumeInfo getId _snapshotDao updateVolumeIds srcVolumeInfo getId destVolumeInfo getId _snapshotDataStoreDao updateVolumeIds srcVolumeInfo getId destVolumeInfo getId
_volumeService destroyVolume srcVolumeInfo getId srcVolumeInfo _volumeDataFactory getVolume srcVolumeInfo getId AsyncCallFuture VolumeApiResult destroyFuture _volumeService expungeVolumeAsync srcVolumeInfo destroyFuture LOGGER debug e LOGGER debug e _snapshotDao srcVolumeInfo getId _snapshotDao updateVolumeIds srcVolumeInfo getId destVolumeInfo getId _snapshotDataStoreDao updateVolumeIds srcVolumeInfo getId destVolumeInfo getId disconnectHostFromVolume destHost destVolumeInfo getPoolId destVolumeInfo get_iScsiName e
_snapshotDao srcVolumeInfo getId _snapshotDao updateVolumeIds srcVolumeInfo getId destVolumeInfo getId _snapshotDataStoreDao updateVolumeIds srcVolumeInfo getId destVolumeInfo getId disconnectHostFromVolume destHost destVolumeInfo getPoolId destVolumeInfo get_iScsiName e LOGGER debug e _volumeService revokeAccess destVolumeInfo destHost destVolumeInfo getDataStore e LOGGER debug e destVolumeInfo processEvent Event OperationFailed srcVolumeInfo processEvent Event OperationFailed
VMTemplateVO templ imageDataDao findById templateId store templ TemplateObject tmpl TemplateObject getTemplate templ tmpl found store VMTemplateStoragePoolVO templatePoolVO templatePoolDao findByPoolTemplate store getId templateId templatePoolVO found TemplateDataStoreVO templateStoreVO templateStoreDao findByStoreTemplate store getId templateId templateStoreVO found found
TemplateObject tmpl TemplateObject getTemplate templ tmpl found store getRole VMTemplateStoragePoolVO templatePoolVO templatePoolDao findByPoolTemplate store getId templateId templatePoolVO found TemplateDataStoreVO templateStoreVO templateStoreDao findByStoreTemplate store getId templateId templateStoreVO found s_logger found s_logger debug templateId store getId store getRole
store List VMTemplateVO rtngTmplts _templateDao listAllSystemVMTemplates List VMTemplateVO defaultBuiltin _templateDao listDefaultBuiltinTemplates VMTemplateVO rtngTmplt rtngTmplts rtngTmplt rtngTmplt toBeDownloaded add rtngTmplt VMTemplateVO builtinTmplt defaultBuiltin builtinTmplt builtinTmplt toBeDownloaded add builtinTmplt VMTemplateVO template toBeDownloaded TemplateDataStoreVO tmpltHost _vmTemplateStoreDao findByStoreTemplate store getId template getId tmpltHost associateTemplateToZone template getId dcId
VMTemplateVO builtinTmplt allTemplates builtinTmplt allTemplates add builtinTmplt VMTemplateVO iter allTemplates iter VMTemplateVO child_template iter next child_template String uniqueName child_template getUniqueName templateInfos uniqueName templateInfos remove uniqueName iter remove toBeDownloaded addAll allTemplates StateMachine2 VirtualMachineTemplate State VirtualMachineTemplate Event VirtualMachineTemplate stateMachine VirtualMachineTemplate State getStateMachine VMTemplateVO tmplt allTemplates String uniqueName tmplt getUniqueName
VMTemplateVO child_template iter next child_template String uniqueName child_template getUniqueName templateInfos uniqueName templateInfos remove uniqueName iter remove toBeDownloaded addAll allTemplates StateMachine2 VirtualMachineTemplate State VirtualMachineTemplate Event VirtualMachineTemplate stateMachine VirtualMachineTemplate State getStateMachine VMTemplateVO tmplt allTemplates String uniqueName tmplt getUniqueName TemplateDataStoreVO tmpltStore _vmTemplateStoreDao findByStoreTemplate storeId tmplt getId templateInfos uniqueName TemplateProp tmpltInfo templateInfos remove uniqueName toBeDownloaded remove tmplt tmpltStore
iter remove toBeDownloaded addAll allTemplates StateMachine2 VirtualMachineTemplate State VirtualMachineTemplate Event VirtualMachineTemplate stateMachine VirtualMachineTemplate State getStateMachine tmplt allTemplates String uniqueName tmplt getUniqueName TemplateDataStoreVO tmpltStore _vmTemplateStoreDao findByStoreTemplate storeId tmplt getId templateInfos uniqueName TemplateProp tmpltInfo templateInfos remove uniqueName toBeDownloaded remove tmplt tmpltStore s_logger info uniqueName tmpltStore Status tmpltStore setErrorString tmpltInfo tmpltStore setDownloadState Status DOWNLOAD_ERROR
StateMachine2 VirtualMachineTemplate State VirtualMachineTemplate Event VirtualMachineTemplate stateMachine VirtualMachineTemplate State getStateMachine tmplt String uniqueName tmplt getUniqueName TemplateDataStoreVO tmpltStore _vmTemplateStoreDao findByStoreTemplate storeId tmplt getId templateInfos uniqueName TemplateProp tmpltInfo templateInfos remove uniqueName toBeDownloaded remove tmplt tmpltStore s_logger info uniqueName tmpltStore Status tmpltStore setErrorString tmpltInfo tmpltStore setDownloadState Status DOWNLOAD_ERROR String msg tmplt getName tmplt getId tmpltStore getId tmpltStore setErrorString msg
tmplt msg tmplt tmpltInfo getInstallPath tmpltStore getDataStoreId s_logger warn msg s_logger info tmplt getName _vmTemplateStoreDao remove tmpltStore getId toBeDownloaded add tmplt tmpltStore String etype EventTypes EVENT_TEMPLATE_CREATE tmplt etype EventTypes EVENT_ISO_CREATE zoneId UsageEventUtils publishUsageEvent etype tmplt getAccountId zoneId tmplt getId tmplt getName tmpltInfo getPhysicalSize tmpltInfo getSize VirtualMachineTemplate getName tmplt getUuid tmpltStore setDownloadPercent
stateMachine transitTo tmplt event _templateDao e s_logger error tmplt getName e getMessage tmpltInfo getSize tmplt getAccountId tmplt getUrl accountId tmplt getAccountId _resourceLimitMgr checkResourceLimit _accountMgr getAccount accountId com cloud configuration Resource ResourceType secondary_storage tmpltInfo getSize UriUtils getRemoteSize tmplt getUrl e s_logger warn e getMessage _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_RESOURCE_LIMIT_EXCEEDED zoneId e getMessage e getMessage _resourceLimitMgr recalculateResourceCount accountId _accountMgr getAccount accountId getDomainId com cloud configuration Resource ResourceType secondary_storage getOrdinal _vmTemplateStoreDao update tmpltStore getId tmpltStore
stateMachine transitTo tmplt event _templateDao e s_logger error tmplt getName e getMessage tmpltInfo getSize tmplt getAccountId tmplt getUrl accountId tmplt getAccountId _resourceLimitMgr checkResourceLimit _accountMgr getAccount accountId com cloud configuration Resource ResourceType secondary_storage tmpltInfo getSize UriUtils getRemoteSize tmplt getUrl e s_logger warn e getMessage _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_RESOURCE_LIMIT_EXCEEDED zoneId e getMessage e getMessage _resourceLimitMgr recalculateResourceCount accountId _accountMgr getAccount accountId getDomainId com cloud configuration Resource ResourceType secondary_storage getOrdinal _vmTemplateStoreDao update tmpltStore getId tmpltStore tmpltStore TemplateDataStoreVO storeId tmplt getId Date Status DOWNLOADED tmpltInfo getInstallPath tmplt getUrl
s_logger error tmplt getName e getMessage tmpltInfo getSize tmplt getAccountId tmplt getUrl accountId tmplt getAccountId _resourceLimitMgr checkResourceLimit _accountMgr getAccount accountId com cloud configuration Resource ResourceType secondary_storage tmpltInfo getSize UriUtils getRemoteSize tmplt getUrl e s_logger warn e getMessage _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_RESOURCE_LIMIT_EXCEEDED zoneId e getMessage e getMessage _resourceLimitMgr recalculateResourceCount accountId _accountMgr getAccount accountId getDomainId com cloud configuration Resource ResourceType secondary_storage getOrdinal _vmTemplateStoreDao update tmpltStore getId tmpltStore tmpltStore TemplateDataStoreVO storeId tmplt getId Date Status DOWNLOADED tmpltInfo getInstallPath tmplt getUrl tmpltStore setSize tmpltInfo getSize tmpltStore setPhysicalSize tmpltInfo getPhysicalSize
_vmTemplateStoreDao update tmpltStore getId tmpltStore tmpltStore TemplateDataStoreVO storeId tmplt getId Date Status DOWNLOADED tmpltInfo getInstallPath tmplt getUrl tmpltStore setSize tmpltInfo getSize tmpltStore setPhysicalSize tmpltInfo getPhysicalSize tmpltStore setDataStoreRole store getRole _vmTemplateStoreDao persist tmpltStore VMTemplateVO tmlpt _templateDao findById tmplt getId tmlpt setSize tmpltInfo getSize _templateDao update tmplt getId tmlpt associateTemplateToZone tmplt getId zoneId String etype EventTypes EVENT_TEMPLATE_CREATE tmplt etype EventTypes EVENT_ISO_CREATE UsageEventUtils publishUsageEvent etype tmplt getAccountId zoneId tmplt getId tmplt getName tmpltInfo getPhysicalSize tmpltInfo getSize VirtualMachineTemplate getName tmplt getUuid
tmpltStore TemplateDataStoreVO storeId tmplt getId Date Status DOWNLOADED tmpltInfo getInstallPath tmplt getUrl tmpltStore setSize tmpltInfo getSize tmpltStore setPhysicalSize tmpltInfo getPhysicalSize tmpltStore setDataStoreRole store getRole _vmTemplateStoreDao persist tmpltStore VMTemplateVO tmlpt _templateDao findById tmplt getId tmlpt setSize tmpltInfo getSize _templateDao update tmplt getId tmlpt associateTemplateToZone tmplt getId zoneId String etype EventTypes EVENT_TEMPLATE_CREATE tmplt etype EventTypes EVENT_ISO_CREATE UsageEventUtils publishUsageEvent etype tmplt getAccountId zoneId tmplt getId tmplt getName tmpltInfo getPhysicalSize tmpltInfo getSize VirtualMachineTemplate getName tmplt getUuid tmplt VirtualMachineTemplate tmplt VirtualMachineTemplate
tmlpt setSize tmpltInfo getSize _templateDao update tmplt getId tmlpt associateTemplateToZone tmplt getId zoneId String etype EventTypes EVENT_TEMPLATE_CREATE tmplt etype EventTypes EVENT_ISO_CREATE UsageEventUtils publishUsageEvent etype tmplt getAccountId zoneId tmplt getId tmplt getName tmpltInfo getPhysicalSize tmpltInfo getSize VirtualMachineTemplate getName tmplt getUuid tmplt VirtualMachineTemplate State tmplt VirtualMachineTemplate State s_logger info uniqueName storeId toBeDownloaded remove tmplt tmpltStore setDownloadState Status DOWNLOAD_ERROR String msg tmplt getName tmplt getId tmpltStore getId tmpltStore setErrorString msg tmpltStore setState State Failed _vmTemplateStoreDao update tmpltStore getId tmpltStore
tmplt VirtualMachineTemplate State tmplt VirtualMachineTemplate State s_logger info uniqueName storeId toBeDownloaded remove tmplt tmpltStore setDownloadState Status DOWNLOAD_ERROR String msg tmplt getName tmplt getId tmpltStore getId tmpltStore setErrorString msg tmpltStore setState State Failed _vmTemplateStoreDao update tmpltStore getId tmpltStore stateMachine transitTo tmplt VirtualMachineTemplate Event OperationFailed _templateDao e s_logger error tmplt getName e getMessage tmplt s_logger info tmplt getName tmplt getId toBeDownloaded remove tmplt
toBeDownloaded remove tmplt s_logger info uniqueName storeId tmpltStore tmpltStore tmpltStore tmpltStore s_logger info s_logger info uniqueName _vmTemplateStoreDao remove tmpltStore getId toBeDownloaded List HypervisorType availHypers _clusterDao getAvailableHypervisorInZone zoneId availHypers availHypers add HypervisorType KVM availHypers remove HypervisorType BareMetal availHypers add HypervisorType None
String ssStore String nfsVersion imageStoreDetailsUtil getNfsVersion ssStore getId ListTemplateCommand cmd ListTemplateCommand ssStore getTO nfsVersion EndPoint ep _epSelector select ssStore Answer answer ep String errMsg
String nfsVersion imageStoreDetailsUtil getNfsVersion ssStore getId ListTemplateCommand cmd ListTemplateCommand ssStore getTO nfsVersion EndPoint ep _epSelector select ssStore Answer answer ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd answer answer ListTemplateAnswer tanswer ListTemplateAnswer answer tanswer getTemplateInfo s_logger
templateVO setParentTemplateId template getId templateVO setSize dataDiskTemplate getVirtualSize templateVO _templateDao persist templateVO TemplateApiResult result TemplateInfo dataDiskTemplateInfo imageFactory getTemplate templateVO getId imageStore AsyncCallFuture TemplateApiResult future createDatadiskTemplateAsync parentTemplate dataDiskTemplateInfo dataDiskTemplate getPath dataDiskTemplate getDiskId dataDiskTemplate getFileSize dataDiskTemplate isBootable result future get result imageStore associateTemplateToZone templateId imageStore Long zoneId ImageStoreEntity imageStore getDataCenterId VMTemplateZoneVO templateZone VMTemplateZoneVO zoneId templateId Date _vmTemplateZoneDao persist templateZone _resourceLimitMgr incrementResourceCount template getAccountId ResourceType secondary_storage templateVO getSize
dataDiskTemplate templateVO TemplateInfo parentTemplate imageStore TemplateInfo templateInfo imageFactory getTemplate templateVO getId imageStore AsyncCallFuture TemplateApiResult templateFuture createDatadiskTemplateAsync parentTemplate templateInfo dataDiskTemplate getPath dataDiskTemplate getDiskId dataDiskTemplate getFileSize dataDiskTemplate isBootable TemplateApiResult result result templateFuture get result
parentTemplateInfo DataStore imageStore parentTemplateInfo getDataStore List VMTemplateVO datadiskTemplatesToDelete _templateDao listByParentTemplatetId parentTemplateInfo getId VMTemplateVO datadiskTemplatesToDelete
CreateCmdResult callback TemplateApiResult context s_logger s_logger debug TemplateInfo destTemplate context getTemplate CreateCmdResult result callback getResult AsyncCallFuture TemplateApiResult future context getFuture TemplateApiResult res TemplateApiResult destTemplate result res setResult result getResult destTemplate processEvent Event OperationFailed destTemplate processEvent Event OperationSuccessed result getAnswer future complete res
hostId HostVO host hostDao findById hostId Map String Object params HashMap String Object params put host getGuid params put host getPrivateIpAddress params put params put params put String valueOf host getDataCenterId params put String valueOf host getPodId ServerResource resource host resource XcpOssResource resource configure host getName params
snapshotInfo VolumeInfo volumeInfo snapshotInfo getBaseVolume ImageFormat imageFormat volumeInfo getFormat ImageFormat imageFormat
SnapshotInfo parentSnapshot snapshot getParent parentSnapshot snapshot parentSnapshot SnapshotDataStoreVO parentSnapshotOnBackupStore snapshotStoreDao findBySnapshot parentSnapshot getId DataStoreRole Image parentSnapshotOnBackupStore parentSnapshotOnBackupStore DataStore store dataStoreMgr getDataStore parentSnapshotOnBackupStore getDataStoreId parentSnapshotOnBackupStore getRole SnapshotInfo snapshotOnImageStore SnapshotInfo store create snapshot snapshotOnImageStore processEvent Event CreateOnlyRequested SnapshotObjectTO snapTO SnapshotObjectTO snapTO setPath parentSnapshotOnBackupStore getInstallPath CreateObjectAnswer createSnapshotAnswer CreateObjectAnswer snapTO snapshotOnImageStore processEvent Event OperationSuccessed createSnapshotAnswer SnapshotObject snapObj SnapshotObject snapshot snapObj processEvent Snapshot Event OperationNotPerformed
deleted snapshot s_logger debug snapshot processEvent Event DestroyRequested snapshot processEvent Event OperationSuccessed deleted resultIsSet result resultIsSet deleted r snapshotSvr deleteSnapshot snapshot r List SnapshotInfo cacheSnaps snapshotDataFactory listSnapshotOnCache snapshot getId
resultIsSet r snapshotSvr deleteSnapshot snapshot r List SnapshotInfo cacheSnaps snapshotDataFactory listSnapshotOnCache snapshot getId SnapshotInfo cacheSnap cacheSnaps s_logger debug snapshot getId cacheSnap getDataStore getName cacheSnap delete resultIsSet result r resultIsSet e s_logger debug e snapshot parent
Snapshot State snapshotVO getState List SnapshotDataStoreVO storeRefs snapshotStoreDao findBySnapshotId snapshotId SnapshotDataStoreVO ref storeRefs snapshotStoreDao expunge ref getId snapshotDao remove snapshotId snapshotVO getState Snapshot State snapshotVO setState Snapshot State Destroyed snapshotDao update snapshotId snapshotVO Snapshot State snapshotVO getState Snapshot State snapshotVO getState InvalidParameterValueException snapshotId snapshotVO getState Boolean deletedOnSecondary deleteOnSecondaryIfNeeded snapshotId deletedOnPrimary deleteOnPrimaryIfNeeded snapshotId
Snapshot State snapshotVO getState List SnapshotDataStoreVO storeRefs snapshotStoreDao findBySnapshotId snapshotId SnapshotDataStoreVO ref storeRefs snapshotStoreDao expunge ref getId snapshotDao remove snapshotId snapshotVO getState Snapshot State snapshotVO setState Snapshot State Destroyed snapshotDao update snapshotId snapshotVO Snapshot State snapshotVO getState Snapshot State snapshotVO getState InvalidParameterValueException snapshotId snapshotVO getState Boolean deletedOnSecondary deleteOnSecondaryIfNeeded snapshotId deletedOnPrimary deleteOnPrimaryIfNeeded snapshotId deletedOnPrimary
ref snapshotStoreDao expunge ref getId snapshotDao remove snapshotId snapshotVO getState Snapshot State snapshotVO setState Snapshot State Destroyed snapshotDao update snapshotId snapshotVO Snapshot State snapshotVO getState Snapshot State snapshotVO getState InvalidParameterValueException snapshotId snapshotVO getState Boolean deletedOnSecondary deleteOnSecondaryIfNeeded snapshotId deletedOnPrimary deleteOnPrimaryIfNeeded snapshotId deletedOnPrimary s_logger debug String format snapshotId
Boolean snapshotId Boolean deletedOnSecondary SnapshotInfo snapshotOnImage snapshotDataFactory getSnapshot snapshotId DataStoreRole Image snapshotOnImage
snapshotId SnapshotDataStoreVO snapshotOnPrimary snapshotStoreDao findBySnapshot snapshotId DataStoreRole Primary snapshotId
CloudRuntimeException SnapshotVO snapshotVO snapshotDao acquireInLockTable snapshot getId snapshotVO CloudRuntimeException snapshot getId VolumeInfo volumeInfo snapshot getBaseVolume StoragePool store StoragePool volumeInfo getDataStore store store snapshot processEvent Event OperationFailed CloudRuntimeException volumeInfo stateTransit Volume Event RevertSnapshotRequested result result snapshotSvr revertSnapshot snapshot result
CreateSnapshotPayload createSnapshotPayload payload createSnapshotPayload CreateSnapshotPayload payload createSnapshotPayload InvalidParameterValueException SnapshotVO snapshotVO snapshotDao acquireInLockTable snapshot getId snapshotVO CloudRuntimeException snapshot getId VolumeInfo volumeInfo snapshot getBaseVolume volumeInfo stateTransit Volume Event SnapshotRequested SnapshotResult result result snapshotSvr takeSnapshot snapshot result
primaryStore Long parentSnapshotId parent getId parentSnapshotId parentSnapshotId SnapshotDataStoreVO snapshotDataStoreVO snapshotStoreDao findByStoreSnapshot primaryStore getRole primaryStore getId parentSnapshotId snapshotDataStoreVO parentSnapshotId snapshotDataStoreVO getParentSnapshotId UsageEventUtils publishUsageEvent EventTypes EVENT_SNAPSHOT_OFF_PRIMARY parent getAccountId parent getDataCenterId parent getId parent getName parent getClass getName parent getUuid snapshotStoreDao remove snapshotDataStoreVO getId parentSnapshotId SnapshotDataStoreVO snapshotDataStoreVO snapshotStoreDao findByStoreSnapshot primaryStore getRole primaryStore getId snapshotOnPrimary getId snapshotDataStoreVO snapshotDataStoreVO setParentSnapshotId snapshotStoreDao update snapshotDataStoreVO getId snapshotDataStoreVO
answer CreateObjectAnswer SnapshotObjectTO snapshotTO SnapshotObjectTO CreateObjectAnswer answer getData snapshotStore setInstallPath snapshotTO getPath snapshotStoreDao update snapshotStore getId snapshotStore answer CopyCmdAnswer SnapshotObjectTO snapshotTO SnapshotObjectTO CopyCmdAnswer answer getNewData snapshotStore setInstallPath snapshotTO getPath snapshotTO getPhysicalSize snapshotStore setPhysicalSize snapshotTO getPhysicalSize snapshotTO snapshotStore setParentSnapshotId snapshotStoreDao update snapshotStore getId snapshotStore snapshotTO getVolume snapshotTO getVolume getPath VolumeVO vol volumeDao findByUuid snapshotTO getVolume getUuid vol
SnapshotResult snapResult SnapshotResult snapshot result getAnswer result s_logger debug context snapshot getName result getResult snapshot processEvent Snapshot Event OperationFailed snapshot processEvent Event OperationFailed e s_logger debug e getMessage snapResult setResult result getResult future complete snapResult snapshot processEvent Event OperationSuccessed result getAnswer snapshot processEvent Snapshot Event OperationSucceeded e
snapshot processEvent Event OperationFailed e s_logger debug e getMessage snapResult setResult result getResult future complete snapResult snapshot processEvent Event OperationSuccessed result getAnswer snapshot processEvent Snapshot Event OperationSucceeded e s_logger debug e snapResult setResult e toString snapshot processEvent Snapshot Event OperationFailed
SnapshotObject snapshot SnapshotObject snap SnapshotObject snapshotOnPrimary snapshotOnPrimary SnapshotObject snap getDataStore create snapshot e s_logger debug e getMessage CloudRuntimeException e snapshotOnPrimary processEvent Snapshot Event CreateRequested e s_logger debug e toString CloudRuntimeException e snapshotOnPrimary processEvent Event CreateOnlyRequested e
e s_logger debug e getMessage CloudRuntimeException e snapshotOnPrimary processEvent Snapshot Event CreateRequested e s_logger debug e toString CloudRuntimeException e snapshotOnPrimary processEvent Event CreateOnlyRequested e s_logger debug e toString snapshotOnPrimary processEvent Snapshot Event OperationFailed
CloudRuntimeException e snapshotOnPrimary processEvent Event CreateOnlyRequested e s_logger debug e toString snapshotOnPrimary processEvent Snapshot Event OperationFailed e1 s_logger debug e1 toString CloudRuntimeException e AsyncCallFuture SnapshotResult future AsyncCallFuture SnapshotResult CreateSnapshotContext CommandResult context CreateSnapshotContext CommandResult snap getBaseVolume snapshotOnPrimary future AsyncCallbackDispatcher SnapshotServiceImpl CreateCmdResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget createSnapshotAsyncCallback setContext context
e s_logger debug e toString snapshotOnPrimary processEvent Snapshot Event OperationFailed e1 s_logger debug e1 toString CloudRuntimeException e AsyncCallFuture SnapshotResult future AsyncCallFuture SnapshotResult CreateSnapshotContext CommandResult context CreateSnapshotContext CommandResult snap getBaseVolume snapshotOnPrimary future AsyncCallbackDispatcher SnapshotServiceImpl CreateCmdResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget createSnapshotAsyncCallback setContext context PrimaryDataStoreDriver primaryStore PrimaryDataStoreDriver snapshotOnPrimary getDataStore getDriver primaryStore takeSnapshot snapshot caller e
CloudRuntimeException e AsyncCallFuture SnapshotResult future AsyncCallFuture SnapshotResult CreateSnapshotContext CommandResult context CreateSnapshotContext CommandResult snap getBaseVolume snapshotOnPrimary future AsyncCallbackDispatcher SnapshotServiceImpl CreateCmdResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget createSnapshotAsyncCallback setContext context PrimaryDataStoreDriver primaryStore PrimaryDataStoreDriver snapshotOnPrimary getDataStore getDriver primaryStore takeSnapshot snapshot caller e s_logger debug snapshot getId e snapshot processEvent Snapshot Event OperationFailed snapshot processEvent Event OperationFailed s_logger debug e
CreateSnapshotContext CommandResult context CreateSnapshotContext CommandResult snap getBaseVolume snapshotOnPrimary future AsyncCallbackDispatcher SnapshotServiceImpl CreateCmdResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget createSnapshotAsyncCallback setContext context PrimaryDataStoreDriver primaryStore PrimaryDataStoreDriver snapshotOnPrimary getDataStore getDriver primaryStore takeSnapshot snapshot caller e s_logger debug snapshot getId e snapshot processEvent Snapshot Event OperationFailed snapshot processEvent Event OperationFailed s_logger debug e CloudRuntimeException snapshot getId SnapshotResult result
AsyncCallFuture SnapshotResult future AsyncCallFuture SnapshotResult SnapshotResult result SnapshotResult snapshot Snapshot State origState snapObj getState snapObj processEvent Snapshot Event BackupToSecondary DataStore imageStore findSnapshotImageStore snapshot imageStore CloudRuntimeException SnapshotInfo snapshotOnImageStore SnapshotInfo imageStore create snapshot snapshotOnImageStore processEvent Event CreateOnlyRequested CopySnapshotContext CommandResult context CopySnapshotContext CommandResult snapshot snapshotOnImageStore future AsyncCallbackDispatcher SnapshotServiceImpl CopyCommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget copySnapshotAsyncCallback setContext context motionSrv copyAsync snapshot snapshotOnImageStore caller
SnapshotInfo snapshotOnImageStore SnapshotInfo imageStore create snapshot snapshotOnImageStore processEvent Event CreateOnlyRequested CopySnapshotContext CommandResult context CopySnapshotContext CommandResult snapshot snapshotOnImageStore future AsyncCallbackDispatcher SnapshotServiceImpl CopyCommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget copySnapshotAsyncCallback setContext context motionSrv copyAsync snapshot snapshotOnImageStore caller e s_logger debug e result setResult e toString Snapshot snapObj processEvent Snapshot Event OperationNotPerformed snapObj processEvent Snapshot Event OperationFailed
s_logger debug e result setResult e toString Snapshot snapObj processEvent Snapshot Event OperationNotPerformed snapObj processEvent Snapshot Event OperationFailed e1 s_logger debug e1 toString future complete result SnapshotResult res future get res CloudRuntimeException res getResult SnapshotInfo destSnapshot res getSnapshot
Snapshot snapObj processEvent Snapshot Event OperationNotPerformed snapObj processEvent Snapshot Event OperationFailed e1 s_logger debug e1 toString future complete result SnapshotResult res future get res CloudRuntimeException res getResult SnapshotInfo destSnapshot res getSnapshot destSnapshot e s_logger debug e
SnapshotInfo destSnapshot context destSnapshot SnapshotObject srcSnapshot SnapshotObject context srcSnapshot Object payload srcSnapshot getPayload CreateSnapshotPayload createSnapshotPayload CreateSnapshotPayload payload AsyncCallFuture SnapshotResult future context future SnapshotResult snapResult SnapshotResult destSnapshot result getAnswer result createSnapshotPayload destSnapshot processEvent Event OperationFailed SnapshotBackupException srcSnapshot getId destSnapshot processEvent Event OperationFailed cleanupOnSnapshotBackupFailure context srcSnapshot SnapshotBackupException
destSnapshot processEvent Event OperationFailed cleanupOnSnapshotBackupFailure context srcSnapshot e s_logger debug e toString snapResult setResult result getResult future complete snapResult CopyCmdAnswer copyCmdAnswer CopyCmdAnswer result getAnswer destSnapshot processEvent Event OperationSuccessed copyCmdAnswer srcSnapshot processEvent Snapshot Event OperationSucceeded snapResult SnapshotResult _snapshotFactory getSnapshot destSnapshot getId destSnapshot getDataStore copyCmdAnswer future complete snapResult e
CommandResult callback CommandResult context CommandResult result callback getResult AsyncCallFuture SnapshotResult future context future SnapshotInfo snapshot context snapshot SnapshotResult res result
CommandResult callback CommandResult context CommandResult result callback getResult AsyncCallFuture SnapshotResult future context future SnapshotInfo snapshot context snapshot SnapshotResult res result s_logger debug result getResult snapshot processEvent ObjectInDataStoreStateMachine Event OperationFailed res SnapshotResult context snapshot res setResult result getResult snapshot processEvent ObjectInDataStoreStateMachine Event OperationSuccessed res SnapshotResult context snapshot
CommandResult callback CommandResult context CommandResult result callback getResult AsyncCallFuture SnapshotResult future context future SnapshotResult res result
snapInfo snapInfo processEvent ObjectInDataStoreStateMachine Event DestroyRequested AsyncCallFuture SnapshotResult future AsyncCallFuture SnapshotResult DeleteSnapshotContext CommandResult context DeleteSnapshotContext CommandResult snapInfo future AsyncCallbackDispatcher SnapshotServiceImpl CommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget deleteSnapshotCallback setContext context DataStore store snapInfo getDataStore store getDriver deleteAsync store snapInfo caller SnapshotResult result result future get result CloudRuntimeException result getResult
AsyncCallFuture SnapshotResult future AsyncCallFuture SnapshotResult DeleteSnapshotContext CommandResult context DeleteSnapshotContext CommandResult snapInfo future AsyncCallbackDispatcher SnapshotServiceImpl CommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget deleteSnapshotCallback setContext context DataStore store snapInfo getDataStore store getDriver deleteAsync store snapInfo caller SnapshotResult result result future get result CloudRuntimeException result getResult e s_logger debug e toString e
snapshotOnPrimaryStore CloudRuntimeException snapshot getId PrimaryDataStore store PrimaryDataStore snapshotOnPrimaryStore getDataStore AsyncCallFuture SnapshotResult future AsyncCallFuture SnapshotResult RevertSnapshotContext CommandResult context RevertSnapshotContext CommandResult snapshot future AsyncCallbackDispatcher SnapshotServiceImpl CommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget revertSnapshotCallback setContext context PrimaryDataStoreDriver store getDriver revertSnapshot snapshot snapshotOnPrimaryStore caller SnapshotResult result result future get result CloudRuntimeException result getResult
PrimaryDataStore store PrimaryDataStore snapshotOnPrimaryStore getDataStore AsyncCallFuture SnapshotResult future AsyncCallFuture SnapshotResult RevertSnapshotContext CommandResult context RevertSnapshotContext CommandResult snapshot future AsyncCallbackDispatcher SnapshotServiceImpl CommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget revertSnapshotCallback setContext context PrimaryDataStoreDriver store getDriver revertSnapshot snapshot snapshotOnPrimaryStore caller SnapshotResult result result future get result CloudRuntimeException result getResult e s_logger debug e toString e
snapshotId SnapshotVO snaphsot _snapshotDao findById snapshotId snaphsot snaphsot List SnapshotDataStoreVO snapshotDataStoreVOs _snapshotStoreDao findBySnapshotId snapshotId SnapshotDataStoreVO snapshotDataStoreVOs
snapshotId SnapshotObject snapshotObj SnapshotObject snapshotDataFactory getSnapshot snapshotId DataStoreRole Primary snapshotObj s_logger debug snapshotDao remove snapshotId snapshotObj InvalidParameterValueException snapshotId snapshotObj processEvent Snapshot Event DestroyRequested List VolumeDetailVO volumesFromSnapshot volumeDetailsDaoImpl findDetails String valueOf snapshotId volumesFromSnapshot snapshotObj processEvent Snapshot Event OperationFailed
s_logger debug snapshotDao remove snapshotId snapshotObj InvalidParameterValueException snapshotId snapshotObj processEvent Snapshot Event DestroyRequested List VolumeDetailVO volumesFromSnapshot volumeDetailsDaoImpl findDetails String valueOf snapshotId volumesFromSnapshot snapshotObj processEvent Snapshot Event OperationFailed e1 s_logger debug e1 toString InvalidParameterValueException snapshotId
snapshotObj processEvent Snapshot Event DestroyRequested List VolumeDetailVO volumesFromSnapshot volumeDetailsDaoImpl findDetails String valueOf snapshotId volumesFromSnapshot snapshotObj processEvent Snapshot Event OperationFailed e1 s_logger debug e1 toString InvalidParameterValueException snapshotId e s_logger debug e snapshotSvr deleteSnapshot snapshotObj snapshotObj processEvent Snapshot Event OperationSucceeded
snapshotObj processEvent Snapshot Event OperationFailed e1 s_logger debug e1 toString InvalidParameterValueException snapshotId e s_logger debug e snapshotSvr deleteSnapshot snapshotObj snapshotObj processEvent Snapshot Event OperationSucceeded UsageEventUtils publishUsageEvent EventTypes EVENT_SNAPSHOT_OFF_PRIMARY snapshotObj getAccountId snapshotObj getDataCenterId snapshotId snapshotObj getName snapshotObj getClass getName snapshotObj getUuid e s_logger debug e
snapshotInfo VolumeInfo volumeInfo snapshotInfo getBaseVolume verifyFormat volumeInfo verifyDiskTypeAndHypervisor volumeInfo verifySnapshotType snapshotInfo SnapshotDataStoreVO snapshotStore snapshotStoreDao findBySnapshot snapshotInfo getId DataStoreRole Primary snapshotStore snapshotStoragePoolId snapshotStore getDataStoreId volumeInfo snapshotStoragePoolId String errMsg
snapshotInfo VolumeInfo volumeInfo snapshotInfo getBaseVolume verifyFormat volumeInfo verifyDiskTypeAndHypervisor volumeInfo verifySnapshotType snapshotInfo SnapshotDataStoreVO snapshotStore snapshotStoreDao findBySnapshot snapshotInfo getId DataStoreRole Primary snapshotStore snapshotStoragePoolId snapshotStore getDataStoreId volumeInfo getPoolId snapshotStoragePoolId String errMsg s_logger error errMsg CloudRuntimeException errMsg storageSystemSupportsCapability storageSystemSupportsCapability volumeInfo getPoolId DataStoreCapabilities CAN_REVERT_VOLUME_TO_SNAPSHOT toString storageSystemSupportsCapability String errMsg
snapshotInfo Long hostId success SnapshotVO snapshotVO snapshotDao acquireInLockTable snapshotInfo getId snapshotVO String errMsg snapshotInfo getId
String errMsg snapshotInfo getId s_logger error errMsg CloudRuntimeException errMsg volumeInfo stateTransit Volume Event RevertSnapshotRequested volumeInfo hostId getHostId volumeInfo hostId HostVO hostVO hostDao findById hostId DataStore dataStore dataStoreMgr getDataStore volumeInfo getPoolId DataStoreRole Primary volService revokeAccess volumeInfo hostVO dataStore modifyTarget volumeInfo hostId success snapshotSvr revertSnapshot snapshotInfo success String errMsg String format volumeInfo getName volumeInfo getFormat snapshotInfo getSnapshotId
CloudRuntimeException SnapshotVO snapshotVO snapshotDao acquireInLockTable snapshotInfo getId snapshotVO CloudRuntimeException snapshotInfo getId VMSnapshot vmSnapshot volumeInfo setVmdk snapshotInfo volumeInfo vmSnapshot takeHypervisorSnapshot volumeInfo SnapshotResult result SnapshotInfo snapshotOnPrimary volumeInfo stateTransit Volume Event SnapshotRequested SnapshotDetailsVO snapshotDetail SnapshotDetailsVO snapshotInfo getId Boolean TRUE toString snapshotDetailsDao persist snapshotDetail
hostId hostId vmInstanceVO getLastHostId hostId sourceDetails getSourceDetails volumeInfo sourceDetails getSourceDetails volumeInfo HostVO hostVO hostId hostVO hostDao findById hostId hostVO hostVO Optional HostVO optHostVO getHost volumeInfo getDataCenterId optHostVO hostVO optHostVO get hostVO String errMsg
String errMsg s_logger error errMsg CloudRuntimeException errMsg storagePoolId volumeVO getPoolId StoragePoolVO storagePoolVO storagePoolDao findById storagePoolId DataStore dataStore dataStoreMgr getDataStore storagePoolId DataStoreRole Primary Map String String destDetails getDestDetails storagePoolVO snapshotInfo SnapshotAndCopyCommand snapshotAndCopyCommand SnapshotAndCopyCommand volumeInfo getPath sourceDetails destDetails SnapshotAndCopyAnswer snapshotAndCopyAnswer sourceDetails volService grantAccess volumeInfo hostVO dataStore volService grantAccess snapshotInfo hostVO dataStore snapshotAndCopyAnswer SnapshotAndCopyAnswer agentMgr send hostVO getId snapshotAndCopyCommand
currentSnapshot current vmSnapshotHelper getSnapshotWithParents currentSnapshot VMSnapshotOptions options VMSnapshotVO vmSnapshot getOptions quiescevm options quiescevm options needQuiesceVM VMSnapshotTO target VMSnapshotTO vmSnapshot getId vmSnapshot getName vmSnapshot getType vmSnapshot getDescription current quiescevm current vmSnapshotVO setParent vmSnapshotVO setParent current getId HostVO host hostDao findById hostId GuestOSHypervisorVO guestOsMapping guestOsHypervisorDao findByOsIdAndHypervisor guestOS getId host getHypervisorType toString host getHypervisorVersion CreateVMSnapshotCommand ccmd CreateVMSnapshotCommand userVm getInstanceName userVm getUuid target volumeTOs guestOS getDisplayName guestOsMapping ccmd setPlatformEmulator ccmd setPlatformEmulator guestOsMapping getGuestOsName ccmd setWait _wait
ccmd setPlatformEmulator guestOsMapping getGuestOsName ccmd setWait _wait answer CreateVMSnapshotAnswer agentMgr send hostId ccmd answer answer processAnswer vmSnapshotVO userVm answer hostId s_logger debug vmSnapshot getName userVm getInstanceName result new_chain_size volumeTo answer publishUsageEvent EventTypes EVENT_VM_SNAPSHOT_CREATE vmSnapshot userVm volumeTo new_chain_size volumeTo getSize publishUsageEvent EventTypes EVENT_VM_SNAPSHOT_ON_PRIMARY vmSnapshot userVm new_chain_size prev_chain_size virtual_size vmSnapshot String errMsg vmSnapshot getName
answer CreateVMSnapshotAnswer agentMgr send hostId ccmd answer answer processAnswer vmSnapshotVO userVm answer hostId s_logger debug vmSnapshot getName userVm getInstanceName result new_chain_size volumeTo answer publishUsageEvent EventTypes EVENT_VM_SNAPSHOT_CREATE vmSnapshot userVm volumeTo new_chain_size volumeTo getSize publishUsageEvent EventTypes EVENT_VM_SNAPSHOT_ON_PRIMARY vmSnapshot userVm new_chain_size prev_chain_size virtual_size vmSnapshot String errMsg vmSnapshot getName answer answer getDetails errMsg errMsg answer getDetails s_logger error errMsg
String vmInstanceName userVm getInstanceName VMSnapshotTO parent vmSnapshotHelper getSnapshotWithParents vmSnapshotVO getParent VMSnapshotTO vmSnapshotTO VMSnapshotTO vmSnapshot getId vmSnapshot getName vmSnapshot getType vmSnapshot getCreated getTime vmSnapshot getDescription vmSnapshot getCurrent parent GuestOSVO guestOS guestOSDao findById userVm getGuestOSId DeleteVMSnapshotCommand deleteSnapshotCommand DeleteVMSnapshotCommand vmInstanceName vmSnapshotTO volumeTOs guestOS getDisplayName Answer answer agentMgr send hostId deleteSnapshotCommand answer answer DeleteVMSnapshotAnswer deleteVMSnapshotAnswer DeleteVMSnapshotAnswer answer processAnswer vmSnapshotVO userVm answer hostId full_chain_size volumeTo deleteVMSnapshotAnswer publishUsageEvent EventTypes EVENT_VM_SNAPSHOT_DELETE vmSnapshot userVm volumeTo full_chain_size volumeTo getSize publishUsageEvent EventTypes EVENT_VM_SNAPSHOT_OFF_PRIMARY vmSnapshot userVm full_chain_size
as CreateVMSnapshotAnswer CreateVMSnapshotAnswer answer CreateVMSnapshotAnswer as finalizeCreate vmSnapshot answer getVolumeTOs vmSnapshotHelper vmSnapshotStateTransitTo vmSnapshot VMSnapshot Event OperationSucceeded as RevertToVMSnapshotAnswer RevertToVMSnapshotAnswer answer RevertToVMSnapshotAnswer as finalizeRevert vmSnapshot answer getVolumeTOs vmSnapshotHelper vmSnapshotStateTransitTo vmSnapshot VMSnapshot Event OperationSucceeded as DeleteVMSnapshotAnswer DeleteVMSnapshotAnswer answer DeleteVMSnapshotAnswer as finalizeDelete vmSnapshot answer getVolumeTOs vmSnapshotDao remove vmSnapshot getId e String errMsg as getClass e getMessage
guestOsMapping revertToSnapshotCommand setPlatformEmulator revertToSnapshotCommand setPlatformEmulator guestOsMapping getGuestOsName RevertToVMSnapshotAnswer answer RevertToVMSnapshotAnswer agentMgr send hostId revertToSnapshotCommand answer answer processAnswer vmSnapshotVO userVm answer hostId result String errMsg userVm getInstanceName vmSnapshotVO getName answer answer getDetails errMsg errMsg answer getDetails s_logger error errMsg CloudRuntimeException errMsg e s_logger debug e
dcId plan getDataCenterId Long podId plan getPodId Long clusterId plan getClusterId podId dskCh getTags dskCh getTags s_logger debug dcId podId clusterId Arrays toString dskCh getTags s_logger debug dcId podId clusterId s_logger List StoragePoolVO disabledPools storagePoolDao findDisabledPoolsByScope dcId podId clusterId ScopeType CLUSTER disabledPools disabledPools StoragePoolVO pool disabledPools s_logger trace pool List StoragePoolVO pools storagePoolDao findPoolsByTags dcId podId clusterId dskCh getTags
dskCh getTags dskCh getTags s_logger debug dcId podId clusterId Arrays toString dskCh getTags s_logger debug dcId podId clusterId s_logger List StoragePoolVO disabledPools storagePoolDao findDisabledPoolsByScope dcId podId clusterId ScopeType CLUSTER disabledPools disabledPools StoragePoolVO pool disabledPools s_logger trace pool List StoragePoolVO pools storagePoolDao findPoolsByTags dcId podId clusterId dskCh getTags s_logger debug pools List StoragePoolVO allPools storagePoolDao findPoolsByTags dcId podId clusterId allPools removeAll pools StoragePoolVO pool allPools
List StoragePoolVO pools storagePoolDao findPoolsByTags dcId podId clusterId dskCh getTags s_logger debug pools List StoragePoolVO allPools storagePoolDao findPoolsByTags dcId podId clusterId allPools removeAll pools StoragePoolVO pool allPools s_logger debug pool avoid addPool pool getId pools s_logger s_logger debug ServiceOffering StorageType shared toString suitablePools StoragePoolVO pool pools suitablePools StoragePool storagePool StoragePool dataStoreMgr getPrimaryDataStore pool getId
s_logger debug dskCh s_logger List StoragePoolVO disabledPools storagePoolDao findDisabledPoolsByScope plan getDataCenterId plan getPodId plan getClusterId ScopeType HOST disabledPools disabledPools StoragePoolVO pool disabledPools s_logger trace pool List StoragePool suitablePools ArrayList StoragePool plan getHostId List StoragePoolVO hostTagsPools storagePoolDao findLocalStoragePoolsByHostAndTags plan getHostId dskCh getTags StoragePoolVO pool hostTagsPools pool pool StoragePool storagePool StoragePool dataStoreMgr getPrimaryDataStore pool getId storagePool dskCh plan
avoid addPool pool getId suitablePools plan getPodId List StoragePoolVO availablePools storagePoolDao findLocalStoragePoolsByTags plan getDataCenterId plan getPodId plan getClusterId dskCh getTags StoragePoolVO pool availablePools suitablePools StoragePool storagePool StoragePool dataStoreMgr getPrimaryDataStore pool getId avoid storagePool dskCh plan suitablePools add storagePool avoid addPool pool getId
ObjectInDataStoreStateMachine Event event event ObjectInDataStoreStateMachine Event CreateOnlyRequested event ObjectInDataStoreStateMachine Event CreateRequested objectInDataStoreMgr update objInStore event e objectInDataStoreMgr update objInStore ObjectInDataStoreStateMachine Event OperationFailed e1 s_logger debug e1 CreateCmdResult result CreateCmdResult result setSuccess result setResult e toString
objectInDataStoreMgr update objInStrore ObjectInDataStoreStateMachine Event OperationSuccessed e objectInDataStoreMgr update objInStrore ObjectInDataStoreStateMachine Event OperationFailed e1 s_logger debug e1 upResult setResult e toString context getParentCallback complete upResult e objectInDataStoreMgr update objInStrore ObjectInDataStoreStateMachine Event OperationFailed e1
objectInDataStoreMgr update destData ObjectInDataStoreStateMachine Event CopyingRequested e s_logger debug e objectInDataStoreMgr update destData ObjectInDataStoreStateMachine Event OperationFailed e1 s_logger debug e1 CreateCmdResult res CreateCmdResult res setResult e toString callback complete res e s_logger debug e objectInDataStoreMgr update destData ObjectInDataStoreStateMachine Event OperationFailed e1
CopyCommandResult result callback getResult DataObject destObj context destObj result objectInDataStoreMgr update destObj Event OperationFailed e s_logger debug e e s_logger debug e CreateCmdResult res CreateCmdResult res setResult result getResult context getParentCallback complete res objectInDataStoreMgr update destObj ObjectInDataStoreStateMachine Event OperationSuccessed e
objectInDataStoreMgr update destObj Event OperationFailed e s_logger debug e e s_logger debug e CreateCmdResult res CreateCmdResult res setResult result getResult context getParentCallback complete res objectInDataStoreMgr update destObj ObjectInDataStoreStateMachine Event OperationSuccessed e s_logger debug e objectInDataStoreMgr update destObj ObjectInDataStoreStateMachine Event OperationFailed
e s_logger debug e CreateCmdResult res CreateCmdResult res setResult result getResult context getParentCallback complete res objectInDataStoreMgr update destObj ObjectInDataStoreStateMachine Event OperationSuccessed e s_logger debug e objectInDataStoreMgr update destObj ObjectInDataStoreStateMachine Event OperationFailed e1 s_logger debug e1 CreateCmdResult res CreateCmdResult res setResult e toString
res setResult result getResult context getParentCallback complete res objectInDataStoreMgr update destObj ObjectInDataStoreStateMachine Event OperationSuccessed e s_logger debug e objectInDataStoreMgr update destObj ObjectInDataStoreStateMachine Event OperationFailed e1 s_logger debug e1 CreateCmdResult res CreateCmdResult res setResult e toString context getParentCallback complete res e s_logger debug e
DataObject destObj context obj CommandResult res callback getResult res objectInDataStoreMgr update destObj Event OperationFailed e s_logger debug e e s_logger debug e objectInDataStoreMgr update destObj Event OperationSuccessed e s_logger debug e e
obj SnapshotInfo snapshotInfo SnapshotInfo obj SnapshotDataStoreVO ss SnapshotDataStoreVO ss setSnapshotId obj getId ss setDataStoreId dataStore getId ss setRole dataStore getRole ss setVolumeId snapshotInfo getVolumeId ss setSize snapshotInfo getSize ss setPhysicalSize snapshotInfo getSize SnapshotDataStoreVO snapshotDataStoreVO snapshotDataStoreDao findParent dataStore getRole dataStore getId snapshotInfo getVolumeId snapshotDataStoreVO SnapshotVO parentSnap snapshotDao findById snapshotDataStoreVO getSnapshotId parentSnap ss setParentSnapshotId snapshotDataStoreVO getSnapshotId
DataObjectInStore objId dataStoreId role DataObjectInStore vo role role vo dataStoreId objId vo snapshotDataStoreDao findByStoreSnapshot role dataStoreId objId vo dataStoreId objId role vo templatePoolDao findByPoolTemplate dataStoreId objId role vo snapshotDataStoreDao findByStoreSnapshot role dataStoreId objId
provider Map String Object copyParams HashMap String Object String providerName provider getName providerName
s_logger debug provider getName providerMap put providerName provider registrationResult provider configure copyParams registrationResult providerMap remove providerName s_logger debug providerName Set DataStoreProviderType types provider getTypes types DataStoreProviderType primaryDataStoreProviderMgr registerDriver provider getName PrimaryDataStoreDriver provider getDataStoreDriver primaryDataStoreProviderMgr registerHostListener provider getName provider getHostListener types DataStoreProviderType imageStoreProviderMgr registerDriver provider getName ImageStoreDriver provider getDataStoreDriver
sc setParameters currentState sc setParameters vo getUpdatedCount vo incrUpdatedCount UpdateBuilder builder getUpdateBuilder vo builder set vo nextState builder set vo Date rows update vo sc rows ObjectInDataStoreVO dbVol findByIdIncludingRemoved vo getId dbVol StringBuilder str StringBuilder append vo toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append vo getId append append nextState append append event append append vo getUpdatedCount append append vo getUpdated str append append vo getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
object scope storeId EndPoint ep selector select scope storeId IntroduceObjectCmd cmd IntroduceObjectCmd object Answer answer ep String errMsg
object scope storeId EndPoint ep selector select scope storeId ForgetObjectCmd cmd ForgetObjectCmd object Answer answer ep String errMsg
data CreateCmdResult callback CreateContext CreateCmdResult context CreateContext CreateCmdResult callback data AsyncCallbackDispatcher BaseImageStoreDriverImpl DownloadAnswer caller AsyncCallbackDispatcher create caller setContext context data caller setCallback caller getTarget createTemplateAsyncCallback
data CommandResult CommandResult result CommandResult DeleteCommand cmd DeleteCommand data getTO EndPoint ep _epSelector select data Answer answer ep String errMsg
data CommandResult CommandResult result CommandResult DeleteCommand cmd DeleteCommand data getTO EndPoint ep _epSelector select data Answer answer ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd answer answer result setResult answer getDetails
String String Answer answer String errMsg
sc setParameters currentState sc setParameters dataObj getUpdatedCount dataObj incrUpdatedCount UpdateBuilder builder getUpdateBuilder dataObj builder set dataObj nextState builder set dataObj Date rows update dataObj sc rows SnapshotDataStoreVO dbVol findByIdIncludingRemoved dataObj getId dbVol StringBuilder str StringBuilder append dataObj toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append dataObj getId append append nextState append append event append append dataObj getUpdatedCount append append dataObj getUpdated str append append dataObj getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
SearchCriteria SnapshotDataStoreVO sc storeSnapshotSearch create sc setParameters DataStoreRole ImageCache sc setParameters List SnapshotDataStoreVO snapshots listBy sc snapshots
storeId SearchCriteria SnapshotDataStoreVO sc storeSnapshotSearch create sc setParameters DataStoreRole ImageCache sc setParameters List SnapshotDataStoreVO snapshots listBy sc snapshots s_logger info snapshots size SnapshotDataStoreVO snap snapshots SnapshotDataStoreVO snapStore findByStoreSnapshot DataStoreRole Image storeId snap getSnapshotId snapStore
storeId SearchCriteria SnapshotDataStoreVO sc storeSearch create sc setParameters storeId sc setParameters List SnapshotDataStoreVO snaps listBy sc snaps
dataObj incrUpdatedCount UpdateBuilder builder getUpdateBuilder dataObj builder set dataObj nextState builder set dataObj Date nextState builder set dataObj rows update dataObj sc rows TemplateDataStoreVO dbVol findByIdIncludingRemoved dataObj getId dbVol StringBuilder str StringBuilder append dataObj toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append dataObj getId append append nextState append append event append append dataObj getUpdatedCount append append dataObj getUpdated str append append dataObj getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
SearchCriteria TemplateDataStoreVO sc templateRoleSearch create sc setParameters DataStoreRole ImageCache sc setParameters List TemplateDataStoreVO tmpls listBy sc tmpls
sc setParameters DataStoreRole ImageCache sc setParameters List TemplateDataStoreVO tmpls listBy sc tmpls s_logger info tmpls size TemplateDataStoreVO tmpl tmpls templateId tmpl getTemplateId VMTemplateVO template _tmpltDao findById templateId template CloudRuntimeException templateId template s_logger info TemplateDataStoreVO tmpStore findByStoreTemplate storeId tmpl getTemplateId tmpStore
storeId SearchCriteria TemplateDataStoreVO sc storeSearch create sc setParameters storeId sc setParameters List TemplateDataStoreVO tmpls listBy sc tmpls
dataObj incrUpdatedCount UpdateBuilder builder getUpdateBuilder dataObj builder set dataObj nextState builder set dataObj Date nextState builder set dataObj rows update dataObj sc rows VolumeDataStoreVO dbVol findByIdIncludingRemoved dataObj getId dbVol StringBuilder str StringBuilder append dataObj toString str append append dbVol getId append append dbVol getState append append dbVol getUpdatedCount append append dbVol getUpdated str append append dataObj getId append append nextState append append event append append dataObj getUpdatedCount append append dataObj getUpdated str append append dataObj getId append append currentState append append event append append oldUpdated append append oldUpdatedTime
obj obj String templateIdPoolIdString obj getId getId VMTemplateStoragePoolVO templateStoragePoolRef GlobalLock lock GlobalLock getInternLock templateIdPoolIdString lock lock
String templateIdPoolIdString obj getId getId VMTemplateStoragePoolVO templateStoragePoolRef GlobalLock lock GlobalLock getInternLock templateIdPoolIdString lock lock s_logger debug templateIdPoolIdString templateStoragePoolRef templatePoolDao findByPoolTemplate getId obj getId templateStoragePoolRef s_logger s_logger debug templateIdPoolIdString templateStoragePoolRef VMTemplateStoragePoolVO getId obj getId templateStoragePoolRef templatePoolDao persist templateStoragePoolRef s_logger
templateStoragePoolRef templatePoolDao findByPoolTemplate getId obj getId templateStoragePoolRef s_logger s_logger debug templateIdPoolIdString templateStoragePoolRef VMTemplateStoragePoolVO getId obj getId templateStoragePoolRef templatePoolDao persist templateStoragePoolRef t s_logger s_logger debug templateIdPoolIdString t templateStoragePoolRef templatePoolDao findByPoolTemplate getId obj getId templateStoragePoolRef CloudRuntimeException s_logger
AsyncCallFuture VolumeApiResult volume AsyncCallFuture VolumeApiResult future AsyncCallFuture VolumeApiResult VolumeApiResult result VolumeApiResult volume volume s_logger info volume
s_logger info volume getId volDao remove volume getId future complete result future VolumeDataStoreVO volumeStore _volumeStoreDao findByVolume volume getId volumeStore volumeStore String msg volume getName s_logger debug msg result setSuccess result setResult msg future complete result future VolumeVO vol volDao findById volume getId vol
VolumeDataStoreVO volumeStore _volumeStoreDao findByVolume volume getId volumeStore volumeStore String msg volume getName s_logger debug msg result setSuccess result setResult msg future complete result future VolumeVO vol volDao findById volume getId vol s_logger debug volume getId future complete result future vol
CommandResult callback VolumeApiResult context CommandResult result callback getResult VolumeObject vo context getVolume VolumeApiResult apiResult VolumeApiResult vo result vo processEvent Event OperationSuccessed vo
templatePoolRef CloudRuntimeException template getUniqueName dataStore getId s_logger s_logger debug template getUniqueName dataStore getId templatePoolRef getId templatePoolRefId templatePoolRef getId CreateBaseImageContext CreateCmdResult context CreateBaseImageContext CreateCmdResult volume dataStore template future templateOnPrimaryStoreObj templatePoolRefId AsyncCallbackDispatcher VolumeServiceImpl CopyCommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget copyBaseImageCallback setContext context storagePoolMaxWaitSeconds NumbersUtil parseInt configDao getValue Config StoragePoolMaxWaitSeconds key s_logger s_logger debug templatePoolRefId storagePoolMaxWaitSeconds templatePoolRef _tmpltPoolDao acquireInLockTable templatePoolRefId storagePoolMaxWaitSeconds templatePoolRef s_logger
s_logger s_logger debug template getUniqueName dataStore getId templatePoolRef getId templatePoolRefId templatePoolRef getId CreateBaseImageContext CreateCmdResult context CreateBaseImageContext CreateCmdResult volume dataStore template future templateOnPrimaryStoreObj templatePoolRefId AsyncCallbackDispatcher VolumeServiceImpl CopyCommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget copyBaseImageCallback setContext context storagePoolMaxWaitSeconds NumbersUtil parseInt configDao getValue Config StoragePoolMaxWaitSeconds key s_logger s_logger debug templatePoolRefId storagePoolMaxWaitSeconds templatePoolRef _tmpltPoolDao acquireInLockTable templatePoolRefId storagePoolMaxWaitSeconds templatePoolRef s_logger s_logger info templatePoolRefId templatePoolRef _tmpltPoolDao findByPoolTemplate dataStore getId template getId
templatePoolRefId templatePoolRef getId CreateBaseImageContext CreateCmdResult context CreateBaseImageContext CreateCmdResult volume dataStore template future templateOnPrimaryStoreObj templatePoolRefId AsyncCallbackDispatcher VolumeServiceImpl CopyCommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget copyBaseImageCallback setContext context storagePoolMaxWaitSeconds NumbersUtil parseInt configDao getValue Config StoragePoolMaxWaitSeconds key s_logger s_logger debug templatePoolRefId storagePoolMaxWaitSeconds templatePoolRef _tmpltPoolDao acquireInLockTable templatePoolRefId storagePoolMaxWaitSeconds templatePoolRef s_logger s_logger info templatePoolRefId templatePoolRef _tmpltPoolDao findByPoolTemplate dataStore getId template getId templatePoolRef templatePoolRef s_logger info templatePoolRefId template getUniqueName createVolumeFromBaseImageAsync volume templateOnPrimaryStoreObj dataStore future
caller setCallback caller getTarget copyBaseImageCallback setContext context storagePoolMaxWaitSeconds NumbersUtil parseInt configDao getValue Config StoragePoolMaxWaitSeconds key s_logger s_logger debug templatePoolRefId storagePoolMaxWaitSeconds templatePoolRef _tmpltPoolDao acquireInLockTable templatePoolRefId storagePoolMaxWaitSeconds templatePoolRef s_logger s_logger info templatePoolRefId templatePoolRef _tmpltPoolDao findByPoolTemplate dataStore getId template getId templatePoolRef templatePoolRef s_logger info templatePoolRefId template getUniqueName createVolumeFromBaseImageAsync volume templateOnPrimaryStoreObj dataStore future CloudRuntimeException templatePoolRefId s_logger
CloudRuntimeException templatePoolRefId s_logger s_logger info templatePoolRefId s_logger info template getUniqueName createVolumeFromBaseImageAsync volume templateOnPrimaryStoreObj dataStore future templateOnPrimaryStoreObj processEvent Event CreateOnlyRequested motionSrv copyAsync template templateOnPrimaryStoreObj caller e s_logger debug e templateOnPrimaryStoreObj processEvent Event OperationFailed dataStore create template
Boolean storageCanCloneVolume Boolean destPrimaryDataStore getDriver getCapabilities get DataStoreCapabilities CAN_CREATE_VOLUME_FROM_VOLUME toString computeSupportsVolumeClone computeSupportsVolumeClone destHost getDataCenterId destHost getHypervisorType AsyncCallFuture VolumeApiResult future AsyncCallFuture storageCanCloneVolume computeSupportsVolumeClone s_logger debug destDataStoreId TemplateInfo templateOnPrimary destPrimaryDataStore getTemplate srcTemplateInfo getId templateOnPrimary templateOnPrimary createManagedTemplateVolume srcTemplateInfo destPrimaryDataStore templateOnPrimary CloudRuntimeException srcTemplateInfo getUniqueName destDataStoreId VMTemplateStoragePoolVO templatePoolRef _tmpltPoolDao findByPoolTemplate destPrimaryDataStore getId templateOnPrimary getId templatePoolRef CloudRuntimeException srcTemplateInfo getUniqueName destPrimaryDataStore getId templatePoolRef copyTemplateToManagedTemplateVolume srcTemplateInfo templateOnPrimary templatePoolRef destPrimaryDataStore destHost
SnapshotInfo snapshot context snapshot VolumeApiResult apiResult VolumeApiResult volume Event event result apiResult setResult result getResult event Event OperationFailed event Event OperationSuccessed result volume processEvent event result getAnswer volume processEvent event _volumeDetailsDao removeDetail volume getId SNAPSHOT_ID
srcVolume DataStore destStore DataStore srcStore srcVolume getDataStore String srcRole srcStore srcStore getRole srcVolume getDataStore getRole toString String msg String format srcVolume getName srcVolume getId srcRole destStore getName destStore getId destStore getRole
future complete res srcVolume processEvent Event OperationSuccessed destVolume processEvent Event MigrationCopySucceeded result getAnswer volDao updateUuid srcVolume getId destVolume getId destroyVolume srcVolume getId srcVolume volFactory getVolume srcVolume getId AsyncCallFuture VolumeApiResult destroyFuture expungeVolumeAsync srcVolume destroyFuture get Thread sleep destroyFuture expungeVolumeAsync srcVolume destroyFuture get future complete res
srcVolume processEvent Event OperationSuccessed destVolume processEvent Event MigrationCopySucceeded result getAnswer volDao updateUuid srcVolume getId destVolume getId destroyVolume srcVolume getId srcVolume volFactory getVolume srcVolume getId AsyncCallFuture VolumeApiResult destroyFuture expungeVolumeAsync srcVolume destroyFuture get Thread sleep destroyFuture expungeVolumeAsync srcVolume destroyFuture get future complete res e s_logger debug e
AsyncCallFuture VolumeApiResult future AsyncCallFuture VolumeApiResult VolumeApiResult res VolumeApiResult srcVolume srcVolume s_logger debug res setResult future complete res future VolumeInfo destVolume volFactory getVolume srcVolume getId destStore srcVolume processEvent Event MigrationRequested MigrateVolumeContext VolumeApiResult context MigrateVolumeContext VolumeApiResult future srcVolume destVolume destStore AsyncCallbackDispatcher VolumeServiceImpl CopyCommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget migrateVolumeCallBack setContext context motionSrv copyAsync srcVolume destVolume caller
CopyCommandResult callback VolumeApiResult context VolumeInfo srcVolume context srcVolume CopyCommandResult result callback getResult AsyncCallFuture VolumeApiResult future context future VolumeApiResult res VolumeApiResult srcVolume result res setResult result getResult srcVolume processEvent Event OperationFailed future complete res srcVolume processEvent Event OperationSuccessed snapshotMgr cleanupSnapshotsByVolume srcVolume getId future complete res
volume s_logger debug res setResult future complete res volumeMigrating volumesMigrating volumeMigrating processEvent Event OperationFailed future volume processEvent Event MigrationRequested volumesMigrating add volume MigrateVmWithVolumesContext CommandResult context MigrateVmWithVolumesContext CommandResult future volumeMap AsyncCallbackDispatcher VolumeServiceImpl CopyCommandResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget migrateVmWithVolumesCallBack setContext context motionSrv copyAsync volumeMap vmTo srcHost destHost caller
CommandResult res CommandResult result res setResult result getResult VolumeInfo entry VolumeInfo volume entry getKey volume processEvent Event OperationFailed future complete res VolumeInfo entry VolumeInfo volume entry getKey snapshotMgr cleanupSnapshotsByVolume volume getId volume processEvent Event OperationSuccessed future complete res
AsyncCallFuture VolumeApiResult future AsyncCallFuture VolumeApiResult VolumeApiResult result VolumeApiResult volume volume processEvent Event ResizeRequested e s_logger debug e result setResult e toString future complete result future CreateVolumeContext VolumeApiResult context CreateVolumeContext VolumeApiResult volume future AsyncCallbackDispatcher VolumeServiceImpl CreateCmdResult caller AsyncCallbackDispatcher create caller setCallback caller getTarget resizeVolumeCallback caller context setContext context volume getDataStore getDriver resize volume caller e
CreateCmdResult result callback getResult AsyncCallFuture VolumeApiResult future context future VolumeInfo volume VolumeInfo context volume result volume processEvent Event OperationFailed e s_logger debug e VolumeApiResult res VolumeApiResult volume res setResult result getResult future complete res volume processEvent Event OperationSuccessed e
Map Long TemplateProp volumeInfos listVolume store volumeInfos List VolumeDataStoreVO dbVolumes _volumeStoreDao listByStoreId storeId List VolumeDataStoreVO toBeDownloaded ArrayList VolumeDataStoreVO dbVolumes VolumeDataStoreVO volumeStore dbVolumes VolumeVO volume volDao findById volumeStore getVolumeId volume s_logger warn volumeStore getVolumeId storeId volumeStore setDestroyed _volumeStoreDao update volumeStore getId volumeStore volumeInfos volume getId TemplateProp volInfo volumeInfos remove volume getId
volume s_logger warn volumeStore getVolumeId storeId volumeStore setDestroyed _volumeStoreDao update volumeStore getId volumeStore volumeInfos volume getId TemplateProp volInfo volumeInfos remove volume getId toBeDownloaded remove volumeStore s_logger info volume getUuid volumeStore Status volumeStore setErrorString volInfo volumeStore setDownloadState Status DOWNLOAD_ERROR String msg volume getUuid volumeStore setErrorString msg
toBeDownloaded remove volumeStore s_logger info volume getUuid volumeStore Status volumeStore setErrorString volumeStore setDownloadState Status DOWNLOAD_ERROR String msg volume getUuid volumeStore setErrorString msg s_logger info msg volume volume s_logger info volume getUuid storeId _volumeStoreDao update volumeStore getId volumeStore VolumeObject volObj VolumeObject volFactory getVolume volume getId volObj processEvent Event OperationFailed volumeStore
volumeStore setDownloadState Status DOWNLOADED volumeStore setState ObjectInDataStoreStateMachine State Ready volumeStore setInstallPath volInfo getInstallPath volumeStore setSize volInfo getSize volumeStore setPhysicalSize volInfo getPhysicalSize volumeStore setLastUpdated Date _volumeStoreDao update volumeStore getId volumeStore volume getSize volume setSize volInfo getSize volDao update volumeStore getVolumeId volume volume State volume State VolumeObject volObj VolumeObject volFactory getVolume volume getId volObj processEvent Event OperationSuccessed volInfo getSize
volume volume VolumeObject volObj VolumeObject volFactory getVolume volume getId volObj processEvent Event OperationSuccessed volInfo getSize _resourceLimitMgr checkResourceLimit _accountMgr getAccount volume getAccountId com cloud configuration Resource ResourceType secondary_storage volInfo getSize volInfo getPhysicalSize e s_logger warn e getMessage _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_RESOURCE_LIMIT_EXCEEDED volume getDataCenterId volume getPodId e getMessage e getMessage _resourceLimitMgr recalculateResourceCount volume getAccountId volume getDomainId com cloud configuration Resource ResourceType secondary_storage getOrdinal volume volume s_logger info volume getUuid storeId toBeDownloaded remove volumeStore
volumeHost volumeHost getDownloadUrl s_logger info volumeHost getVolumeId store volumeHost volumeHost s_logger info s_logger debug volumeHost getVolumeId store getName VolumeObject vol VolumeObject volFactory getVolume volumeHost getVolumeId vol processEvent Event OperationFailed _volumeStoreDao remove volumeHost getId vol VolumeObject volFactory getVolume volumeHost getVolumeId RegisterVolumePayload payload RegisterVolumePayload volumeHost getDownloadUrl volumeHost getChecksum vol getFormat toString
store ListVolumeCommand cmd ListVolumeCommand store getTO store getUri EndPoint ep _epSelector select store Answer answer ep String errMsg
store ListVolumeCommand cmd ListVolumeCommand store getTO store getUri EndPoint ep _epSelector select store Answer answer ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd answer answer ListVolumeAnswer tanswer ListVolumeAnswer answer tanswer getTemplateInfo s_logger
ClusterServicePdu pdu popOutgoingClusterPdu pdu ClusterService peerService peerService getPeerService pdu getDestPeer s_logger error pdu getDestPeer peerService s_logger
ClusterService peerService peerService getPeerService pdu getDestPeer s_logger error pdu getDestPeer peerService s_logger s_logger debug getSelfPeerName pdu getDestPeer pdu getAgentId pdu getSequenceId pdu getAckSequenceId pdu getJsonPackage Profiler profiler Profiler profiler start String strResult peerService execute pdu profiler stop s_logger
s_logger error pdu getDestPeer peerService s_logger s_logger debug getSelfPeerName pdu getDestPeer pdu getAgentId pdu getSequenceId pdu getAckSequenceId pdu getJsonPackage Profiler profiler Profiler profiler start String strResult peerService execute pdu profiler stop s_logger s_logger debug getSelfPeerName pdu getDestPeer profiler getDurationInMillis pdu getAgentId pdu getSequenceId pdu getAckSequenceId pdu getJsonPackage strResult
peerService s_logger s_logger debug getSelfPeerName pdu getDestPeer pdu getAgentId pdu getSequenceId pdu getAckSequenceId pdu getJsonPackage Profiler profiler Profiler profiler start String strResult peerService execute pdu profiler stop s_logger s_logger debug getSelfPeerName pdu getDestPeer profiler getDurationInMillis pdu getAgentId pdu getSequenceId pdu getAckSequenceId pdu getJsonPackage strResult invalidatePeerService pdu getDestPeer s_logger
s_logger s_logger debug getSelfPeerName strPeer agentId cmds ClusterServiceRequestPdu pdu ClusterServiceRequestPdu pdu setSourcePeer getSelfPeerName pdu setDestPeer strPeer pdu setAgentId agentId pdu setJsonPackage cmds pdu setStopOnError stopOnError registerRequestPdu pdu addOutgoingClusterPdu pdu pdu pdu wait s_logger
s_logger s_logger debug
s_logger trace _mshostId _mshostDao update _mshostId _runId DateUtil currentGMTTime profilerHeartbeatUpdate stop profilerPeerScan start s_logger s_logger trace _mshostId _peerScanInited _peerScanInited initPeerScan peerScan profilerPeerScan stop profiler stop profiler s_logger
peerScan profilerPeerScan stop profiler stop profiler s_logger s_logger debug profiler toString profilerHeartbeatUpdate toString profilerPeerScan toString e s_logger error e getCause e getCause s_logger error queueNotification ClusterManagerMessage ClusterManagerMessage MessageType nodeIsolated e getCause invalidHeartbeatConnection e
Date cutTime DateUtil currentGMTTime List ManagementServerHostVO inactiveList _mshostDao getInactiveList Date cutTime getTime HeartbeatThreshold value List Long orphanList _mshostDao listOrphanMsids orphanList Long orphanList
Date cutTime DateUtil currentGMTTime Profiler profiler Profiler profiler start Profiler profilerQueryActiveList Profiler profilerQueryActiveList start List ManagementServerHostVO currentList _mshostDao getActiveList Date cutTime getTime HeartbeatThreshold value profilerQueryActiveList stop Profiler profilerSyncClusterInfo Profiler profilerSyncClusterInfo start List ManagementServerHostVO removedNodeList ArrayList ManagementServerHostVO List ManagementServerHostVO invalidatedNodeList ArrayList ManagementServerHostVO String msg
profilerQueryActiveList stop Profiler profilerSyncClusterInfo Profiler profilerSyncClusterInfo start List ManagementServerHostVO removedNodeList ArrayList ManagementServerHostVO List ManagementServerHostVO invalidatedNodeList ArrayList ManagementServerHostVO String msg s_logger error msg ActiveFencingException msg ManagementServerHostVO entry ManagementServerHostVO current getInListById entry getKey currentList current entry getKey s_logger
String msg s_logger error msg ActiveFencingException msg ManagementServerHostVO entry ManagementServerHostVO current getInListById entry getKey currentList current entry getKey s_logger s_logger debug entry getKey entry getValue getServiceIP removedNodeList add entry getValue current entry getKey s_logger
ManagementServerHostVO entry ManagementServerHostVO current getInListById entry getKey currentList current entry getKey s_logger s_logger debug entry getKey entry getValue getServiceIP removedNodeList add entry getValue current entry getKey s_logger s_logger debug entry getKey entry getValue getServiceIP invalidatedNodeList add entry getValue entry getValue current
profilerSyncClusterInfo stop Profiler profilerInvalidatedNodeList Profiler profilerInvalidatedNodeList start invalidatedNodeList ManagementServerHostVO mshost invalidatedNodeList _activePeers remove mshost getId JmxUtil unregisterMBean mshost getId e s_logger warn e toString queueNotification ClusterManagerMessage ClusterManagerMessage MessageType nodeRemoved invalidatedNodeList profilerInvalidatedNodeList stop Profiler profilerRemovedList Profiler profilerRemovedList start Iterator ManagementServerHostVO it removedNodeList iterator
JmxUtil unregisterMBean mshost getId e s_logger warn e toString queueNotification ClusterManagerMessage ClusterManagerMessage MessageType nodeRemoved invalidatedNodeList profilerInvalidatedNodeList stop Profiler profilerRemovedList Profiler profilerRemovedList start Iterator ManagementServerHostVO it removedNodeList iterator it ManagementServerHostVO mshost it next mshost s_logger warn mshost getId _activePeers remove mshost getId JmxUtil unregisterMBean mshost getId
ManagementServerHostVO mshost _mshostDao findByMsid _msId mshost mshost ManagementServerHostVO mshost setMsid _msId mshost setRunid _runId mshost setName NetUtils getCanonicalHostName mshost setVersion version mshost setServiceIP _clusterNodeIP mshost setServicePort _currentServiceAdapter getServicePort mshost setLastUpdateTime DateUtil currentGMTTime mshost setRemoved mshost setAlertCount mshost setState ManagementServerHost State Up mshost setUuid UUID randomUUID toString _mshostDao persist mshost
mshost setRunid _runId mshost setName NetUtils getCanonicalHostName mshost setVersion version mshost setServiceIP _clusterNodeIP mshost setServicePort _currentServiceAdapter getServicePort mshost setLastUpdateTime DateUtil currentGMTTime mshost setRemoved mshost setAlertCount mshost setState ManagementServerHost State Up mshost setUuid UUID randomUUID toString _mshostDao persist mshost s_logger s_logger info _msId _runId _mshostDao update mshost getId _runId NetUtils getCanonicalHostName version _clusterNodeIP _currentServiceAdapter getServicePort DateUtil currentGMTTime
mshost setLastUpdateTime DateUtil currentGMTTime mshost setRemoved mshost setAlertCount mshost setState ManagementServerHost State Up mshost setUuid UUID randomUUID toString _mshostDao persist mshost s_logger s_logger info _msId _runId _mshostDao update mshost getId _runId NetUtils getCanonicalHostName version _clusterNodeIP _currentServiceAdapter getServicePort DateUtil currentGMTTime s_logger s_logger info _msId _runId mshost _mshostId mshost getId
s_logger info retry retry SocketChannel sch s_logger info targetIp sch SocketChannel open sch configureBlocking sch socket setSoTimeout InetSocketAddress addr InetSocketAddress targetIp mshost getServicePort sch connect addr
InetSocketAddress addr InetSocketAddress targetIp mshost getServicePort sch connect addr e e s_logger error targetIp mshost getServicePort e sch sch close e Thread sleep
Date cutTime DateUtil currentGMTTime List ManagementServerHostVO peers _mshostDao getActiveList Date cutTime getTime HeartbeatThreshold value ManagementServerHostVO peer peers String peerIP peer getServiceIP trim peerIP peer String msg
List ManagementServerHostVO peers _mshostDao getActiveList Date cutTime getTime HeartbeatThreshold value ManagementServerHostVO peer peers String peerIP peer getServiceIP trim peerIP peer String msg s_logger error msg ConfigurationException msg String msg s_logger info msg peer String msg peer getServiceIP
peer String msg s_logger error msg ConfigurationException msg String msg s_logger info msg peer String msg peer getServiceIP s_logger error msg ConfigurationException msg String msg peer getServiceIP
request response s_logger s_logger trace parseRequest request handleRequest request response s_logger s_logger trace e s_logger s_logger debug e toString writeResponse response HttpStatus SC_INTERNAL_SERVER_ERROR s_logger
String req String callingPeer String req getParams getParameter
String client method response String result Profiler profiler Profiler profiler start response client executeMethod method response result method getResponseBodyAsString profiler stop
response String result Profiler profiler Profiler profiler start response client executeMethod method response result method getResponseBodyAsString profiler stop s_logger s_logger debug _serviceUrl result profiler getDurationInMillis profiler stop s_logger error response _serviceUrl method getParameter profiler getDurationInMillis
Profiler profiler Profiler profiler start response client executeMethod method response result method getResponseBodyAsString profiler stop s_logger s_logger debug _serviceUrl result profiler getDurationInMillis profiler stop s_logger error response _serviceUrl method getParameter profiler getDurationInMillis s_logger error _serviceUrl method getParameter
profiler start response client executeMethod method response result method getResponseBodyAsString profiler stop s_logger s_logger debug _serviceUrl result profiler getDurationInMillis profiler stop s_logger error response _serviceUrl method getParameter profiler getDurationInMillis s_logger error _serviceUrl method getParameter s_logger error _serviceUrl method getParameter
id runid lastUpdate TransactionLegacy txn TransactionLegacy currentTxn PreparedStatement pstmt txn start pstmt txn prepareAutoCloseStatement pstmt setString DateUtil getDateDisplayString TimeZone getTimeZone lastUpdate pstmt setLong id pstmt setLong runid count pstmt executeUpdate txn commit count
id runId state lastUpdate TransactionLegacy txn TransactionLegacy currentTxn PreparedStatement pstmt pstmt txn prepareAutoCloseStatement pstmt setString state toString pstmt setString DateUtil getDateDisplayString TimeZone getTimeZone lastUpdate pstmt setLong id pstmt setLong runId count pstmt executeUpdate count
name timeoutSeconds Connection conn getConnectionForGlobalLocks name conn s_logger error pstmt conn pstmt setString name pstmt setInt timeoutSeconds pstmt s_logger isDebugEnabled s_logger debug name
s_logger error pstmt pstmt setString name pstmt setInt timeoutSeconds pstmt s_logger isDebugEnabled s_logger debug name e s_logger error e e
name name s_logger error assert pstmt pstmt setString name rs pstmt rs rs rs getInt s_logger error e s_logger error e e
String dbDriver String driverClass DRIVERS get dbDriver driverClass
String dbDriver String driverClass DRIVERS get dbDriver driverClass LOGGER error dbDriver CloudRuntimeException dbDriver LOADED_DRIVERS dbDriver LOGGER LOGGER debug driverClass Class forName driverClass newInstance LOADED_DRIVERS add dbDriver LOGGER LOGGER debug driverClass
String params String value String params get value CacheManager cm CacheManager create maxElements NumbersUtil parseInt value live NumbersUtil parseInt String params get idle NumbersUtil parseInt String params get _cache Cache getName maxElements live live Integer MAX_VALUE live idle cm addCache _cache
operationId GlobalLock lock GlobalLock getInternLock operationId lock lock
s_logger s_logger trace key timeInSeconds startTime InaccurateClock getTime InaccurateClock getTime startTime timeInSeconds count owns key count increment key threadName threadId count key threadName threadId s_logger s_logger trace key Thread sleep
pstmt setLong _msId pstmt setString threadName pstmt setInt threadId pstmt setString DateUtil getDateDisplayString _gmtTimeZone Date rows pstmt executeUpdate rows s_logger s_logger trace key incrCount e e e CloudRuntimeException key InaccurateClock getTime startTime e e
msId s_logger info msId pstmt pstmt setLong msId rows pstmt executeUpdate
s_logger warn e item s_stmtLogger s_stmtLogger trace ref toString Statement stmt Statement ref ResultSet rs stmt getResultSet rs rs close e s_stmtLogger trace stmt close e s_stmtLogger trace item
dbProps dbProps size s_dbHAEnabled Boolean valueOf dbProps getProperty
cloudIsolationLevel isolationLevel Connection TRANSACTION_SERIALIZABLE cloudIsolationLevel isolationLevel Connection TRANSACTION_READ_UNCOMMITTED s_logger warn cloudIsolationLevel cloudTestOnBorrow Boolean parseBoolean dbProps getProperty cloudTestWhileIdle Boolean parseBoolean dbProps getProperty cloudTimeBtwEvictionRunsMillis Long parseLong dbProps getProperty cloudMinEvcitableIdleTimeMillis Long parseLong dbProps getProperty cloudPoolPreparedStatements Boolean parseBoolean dbProps getProperty String url dbProps getProperty String cloudDbHAParams String cloudSlaves
String String String errMsg
String path packageName replace Enumeration URL resources loader getResources path resources resources String filePath resources nextElement getFile filePath filePath indexOf filePath filePath replace filePath indexOf filePath indexOf String jarPath filePath substring filePath indexOf substring filePath indexOf jarPath indexOf jarPath jarPath substring classes addAll getFromJARFile jarPath path classes addAll getFromDirectory File filePath packageName
Enumeration URL resources loader getResources path resources resources String filePath resources nextElement getFile filePath filePath indexOf filePath filePath replace filePath indexOf filePath indexOf String jarPath filePath substring filePath indexOf substring filePath indexOf jarPath indexOf jarPath jarPath substring classes addAll getFromJARFile jarPath path classes addAll getFromDirectory File filePath packageName e s_logger debug e e
SampleStoragePrepareCommand cmd SampleStoragePrepareCommand cmd setStoragePool cmd setVolumeId cmd
call s_logger info SampleStoragePrepareCommand cmd call getCommandArgument
journalText s_jobMgr logJobJournal _job getId AsyncJob JournalType SUCCESS journalText
disjoinJob joinedJobId assert _job AsyncJobJoinMapVO record s_joinMapDao getJoinRecord _job getId joinedJobId s_jobMgr disjoinJob _job getId joinedJobId record record getJoinResult Object exception JobSerializerHelper fromObjectSerializedString record getJoinResult exception exception exception
disjoinJob joinedJobId InsufficientCapacityException ConcurrentOperationException assert _job AsyncJobJoinMapVO record s_joinMapDao getJoinRecord _job getId joinedJobId s_jobMgr disjoinJob _job getId joinedJobId record record getJoinResult Object exception JobSerializerHelper fromObjectSerializedString record getJoinResult exception exception exception InsufficientCapacityException s_logger error joinedJobId InsufficientCapacityException exception exception ConcurrentOperationException s_logger error joinedJobId ConcurrentOperationException exception exception
s_jobMgr disjoinJob _job getId joinedJobId record record getJoinResult Object exception JobSerializerHelper fromObjectSerializedString record getJoinResult exception exception exception InsufficientCapacityException s_logger error joinedJobId InsufficientCapacityException exception exception ConcurrentOperationException s_logger error joinedJobId ConcurrentOperationException exception exception ResourceUnavailableException s_logger error joinedJobId ResourceUnavailableException exception
Object exception JobSerializerHelper fromObjectSerializedString record getJoinResult exception exception Exception exception InsufficientCapacityException s_logger error joinedJobId InsufficientCapacityException exception exception ConcurrentOperationException s_logger error joinedJobId ConcurrentOperationException exception exception ResourceUnavailableException s_logger error joinedJobId ResourceUnavailableException exception s_logger error joinedJobId RuntimeException Exception exception
TransactionLegacy txn TransactionLegacy currentTxn PreparedStatement pstmt pstmt txn prepareAutoCloseStatement sql pstmt setInt maxItems ResultSet rs pstmt executeQuery rs SyncQueueItemVO item SyncQueueItemVO item setId rs getLong item setQueueId rs getLong item setContentType rs getString item setContentId rs getLong item setCreated DateUtil parseDateString TimeZone getTimeZone rs getString l add item
pstmt txn prepareAutoCloseStatement sql pstmt setInt maxItems ResultSet rs pstmt executeQuery rs SyncQueueItemVO item SyncQueueItemVO item setId rs getLong item setQueueId rs getLong item setContentType rs getString item setContentId rs getLong item setCreated DateUtil parseDateString TimeZone getTimeZone rs getString l add item e s_logger error e e
msid execute TransactionLegacy txn TransactionLegacy currentTxn pstmt txn pstmt setLong msid pstmt execute e s_logger info e getLocalizedMessage e s_logger info e getLocalizedMessage pstmt txn pstmt setLong msid pstmt execute e
TransactionLegacy txn TransactionLegacy currentTxn pstmt txn pstmt setLong msid pstmt execute e s_logger info e getLocalizedMessage e s_logger info e getLocalizedMessage pstmt txn pstmt setLong msid pstmt execute e s_logger info e getLocalizedMessage e
SuppressWarnings job scheduleJobExecutionInContext SuppressWarnings GenericDao dao GenericDaoBase getDao job getClass job setInitMsid getMsid job setSyncSource dao persist job publishOnEventBus job scheduleExecution job scheduleJobExecutionInContext
String resultObject String resultObj obfuscatePassword resultObject HidePassword value resultObj convertHumanReadableJson resultObj
s_logger debug jobId jobStatus resultCode resultObj AsyncJobVO job _jobDao findById jobId job s_logger s_logger debug jobId jobStatus resultCode resultObject _queueMgr purgeAsyncJobQueueItemId jobId job s_logger s_logger debug jobId _queueMgr purgeAsyncJobQueueItemId jobId resultObject job setResult resultObject s_logger
AsyncJobVO job _jobDao findById jobId job s_logger s_logger debug jobId jobStatus resultCode resultObject _queueMgr purgeAsyncJobQueueItemId jobId job s_logger s_logger debug jobId _queueMgr purgeAsyncJobQueueItemId jobId resultObject job setResult resultObject s_logger s_logger debug jobId
_queueMgr purgeAsyncJobQueueItemId jobId job s_logger s_logger debug jobId _queueMgr purgeAsyncJobQueueItemId jobId resultObject job setResult resultObject s_logger s_logger debug jobId s_logger s_logger debug jobId
s_logger s_logger debug jobId s_logger s_logger debug jobId s_logger s_logger debug jobId job setCompleteMsid getMsid job setStatus jobStatus job setResultCode resultCode resultObject job setResult resultObject job setResult
NDC pop runNumber getJobRunNumber JmxUtil registerMBean job getId AsyncJobMBeanImpl job e s_logger isTraceEnabled s_logger trace job getId ExceptionUtil toString e _jobMonitor registerActiveTask runNumber job getId AsyncJobExecutionContext setCurrentExecutionContext AsyncJobExecutionContext job String related job getRelated String logContext job getShortUuid related related AsyncJob relatedJob _jobDao findByIdIncludingRemoved Long parseLong related
String related job getRelated String logContext job getShortUuid related related AsyncJob relatedJob _jobDao findByIdIncludingRemoved Long parseLong related relatedJob logContext relatedJob getShortUuid MDC put logContext s_logger s_logger debug StringUtils cleanString job toString job AsyncJob AsyncJobDispatcher jobDispatcher findWakeupDispatcher job jobDispatcher jobDispatcher runJob job s_logger isTraceEnabled s_logger trace job
jobDispatcher runJob job s_logger isTraceEnabled s_logger trace job AsyncJobDispatcher jobDispatcher getDispatcher job getDispatcher jobDispatcher jobDispatcher runJob job s_logger error completeAsyncJob job getId JobInfo Status FAILED ApiErrorCode INTERNAL_ERROR getHttpCode s_logger s_logger debug job getCmd job getId e s_logger error e completeAsyncJob job getId JobInfo Status FAILED ApiErrorCode INTERNAL_ERROR getHttpCode
item AsyncJobVO job _jobDao findById item getContentId job
job setExecutingMsid getMsid _jobDao update job getId job e s_logger warn item getContentId e _queueMgr returnItem item getId thr s_logger error item getContentId thr scheduleExecution job e s_logger warn job getId _queueMgr returnItem item getId
thr s_logger error item getContentId thr scheduleExecution job s_logger warn job getId _queueMgr returnItem item getId e2 s_logger error item getContentId e2 job setExecutingMsid _jobDao update job getId job s_logger warn item getContentId
queueId SyncQueueItemVO item _queueMgr dequeueFromOne queueId getMsid item
GlobalLock scanLock GlobalLock getInternLock scanLock reallyRun scanLock unlock scanLock releaseRef reallyRun List SyncQueueItemVO l _queueMgr dequeueFromAny getMsid MAX_ONETIME_SCHEDULE_SIZE l l SyncQueueItemVO l
scanLock reallyRun scanLock unlock scanLock releaseRef reallyRun s_logger trace List SyncQueueItemVO blockItems _queueMgr getBlockedQueueItems JobCancelThresholdMinutes value blockItems blockItems SyncQueueItemVO blockItems
s_logger trace List SyncQueueItemVO blockItems _queueMgr getBlockedQueueItems JobCancelThresholdMinutes value blockItems blockItems SyncQueueItemVO item blockItems item s_logger info item getContentId item getId completeAsyncJob item getContentId JobInfo Status FAILED _jobMonitor unregisterByJobId item getContentId _queueMgr purgeItem item getId e s_logger error e Date cutTime Date DateUtil currentGMTTime getTime JobExpireMinutes value List AsyncJobVO unfinishedJobs _jobDao getExpiredUnfinishedJobs cutTime
item item s_logger info item getContentId item getId completeAsyncJob item getContentId JobInfo Status FAILED _jobMonitor unregisterByJobId item getContentId _queueMgr purgeItem item getId e s_logger error e Date cutTime Date DateUtil currentGMTTime getTime JobExpireMinutes value List AsyncJobVO unfinishedJobs _jobDao getExpiredUnfinishedJobs cutTime AsyncJobVO job unfinishedJobs s_logger info job getId _jobMonitor unregisterByJobId job getId
s_logger info item getContentId item getId completeAsyncJob item getContentId JobInfo Status FAILED _jobMonitor unregisterByJobId item getContentId _queueMgr purgeItem item getId e s_logger error e Date cutTime Date DateUtil currentGMTTime getTime JobExpireMinutes value List AsyncJobVO unfinishedJobs _jobDao getExpiredUnfinishedJobs cutTime AsyncJobVO job unfinishedJobs s_logger info job getId _jobMonitor unregisterByJobId job getId expungeAsyncJob job e s_logger error job getId e
_queueMgr purgeItem item getId e s_logger error e Date cutTime Date DateUtil currentGMTTime getTime JobExpireMinutes value List AsyncJobVO unfinishedJobs _jobDao getExpiredUnfinishedJobs cutTime AsyncJobVO job unfinishedJobs s_logger info job getId _jobMonitor unregisterByJobId job getId expungeAsyncJob job e s_logger error job getId e List AsyncJobVO completedJobs _jobDao getExpiredCompletedJobs cutTime AsyncJobVO job completedJobs
Properties dbProps DbProperties getDbProperties cloudMaxActive Integer parseInt dbProps getProperty apiPoolSize cloudMaxActive workPoolSize cloudMaxActive
Properties dbProps DbProperties getDbProperties cloudMaxActive Integer parseInt dbProps getProperty apiPoolSize cloudMaxActive workPoolSize cloudMaxActive s_logger info apiPoolSize _apiJobExecutor Executors newFixedThreadPool apiPoolSize NamedThreadFactory AsyncJobManager API_JOB_POOL_THREAD_PREFIX
msid _queueMgr cleanupActiveQueueItems msid List AsyncJobVO jobs _jobDao getResetJobs msid AsyncJobVO jobs
_queueMgr cleanupActiveQueueItems msid List AsyncJobVO jobs _jobDao getResetJobs msid AsyncJobVO job jobs s_logger s_logger debug job getId job setStatus JobInfo Status FAILED job setResultCode ApiErrorCode INTERNAL_ERROR getHttpCode job setResult job setCompleteMsid msid Date currentGMTTime DateUtil currentGMTTime job setLastUpdated currentGMTTime job setRemoved currentGMTTime _jobDao update job getId job s_logger
runNumber ActiveTaskRecord record _activeTasks get runNumber assert record record
_syncQueueDao ensureQueue syncObjType syncObjId SyncQueueVO queueVO _syncQueueDao find syncObjType syncObjId queueVO CloudRuntimeException queueVO setQueueSizeLimit queueSizeLimit _syncQueueDao update queueVO getId queueVO Date dt DateUtil currentGMTTime SyncQueueItemVO item SyncQueueItemVO item setQueueId queueVO getId item setContentType itemType item setContentId itemId item setCreated dt _syncQueueItemDao persist item queueVO
queueId SyncQueueVO queueVO _syncQueueDao findById queueId queueVO
processNumber processNumber Long processNumber processNumber Date dt DateUtil currentGMTTime queueVO setLastProcessNumber processNumber queueVO setLastUpdated dt queueVO setQueueSize queueVO getQueueSize _syncQueueDao update queueVO getId queueVO itemVO setLastProcessMsid msid itemVO setLastProcessNumber processNumber itemVO setLastProcessTime dt _syncQueueItemDao update item getId itemVO resultList add itemVO resultList
SyncQueueItemVO itemVO _syncQueueItemDao findById queueItemId itemVO SyncQueueVO queueVO _syncQueueDao findById itemVO getQueueId itemVO setLastProcessMsid itemVO setLastProcessNumber itemVO setLastProcessTime _syncQueueItemDao update queueItemId itemVO queueVO setQueueSize queueVO getQueueSize queueVO setLastUpdated DateUtil currentGMTTime _syncQueueDao update queueVO getId queueVO
msid List SyncQueueItemVO l getActiveQueueItems msid SyncQueueItemVO l
_testDashboard increaseConcurrency
log error listener t invocations push ListenerInvocation ManagedContextListener Object listener data firstError callable call throwException firstError Throwable lastError invocations ListenerInvocation invocation invocations pop invocation listener onLeaveContext invocation data reentry Throwable t
tl String msg tl
List DeferredQuotaEmail deferredQuotaEmailList ArrayList DeferredQuotaEmail BigDecimal zeroBalance BigDecimal
List DeferredQuotaEmail deferredQuotaEmailList ArrayList DeferredQuotaEmail BigDecimal zeroBalance BigDecimal quotaAccount s_logger s_logger debug quotaAccount getId BigDecimal accountBalance quotaAccount getQuotaBalance Date balanceDate quotaAccount getQuotaBalanceDate Date alertDate quotaAccount getQuotaAlertDate lockable quotaAccount getQuotaEnforce BigDecimal thresholdBalance quotaAccount getQuotaMinBalance accountBalance AccountVO account _accountDao findById quotaAccount getId account s_logger
s_logger debug quotaAccount getId BigDecimal accountBalance quotaAccount getQuotaBalance Date balanceDate quotaAccount getQuotaBalanceDate Date alertDate quotaAccount getQuotaAlertDate lockable quotaAccount getQuotaEnforce BigDecimal thresholdBalance quotaAccount getQuotaMinBalance accountBalance AccountVO account _accountDao findById quotaAccount getId account s_logger s_logger debug account getId accountBalance alertDate lockable accountBalance lockable account
Date balanceDate quotaAccount getQuotaBalanceDate Date alertDate quotaAccount getQuotaAlertDate lockable quotaAccount getQuotaEnforce BigDecimal thresholdBalance quotaAccount getQuotaMinBalance accountBalance AccountVO account _accountDao findById quotaAccount getId account s_logger s_logger debug account getId accountBalance alertDate lockable accountBalance lockable account s_logger info account getAccountName lockAccount account getId
accountBalance AccountVO account _accountDao findById quotaAccount getId account s_logger s_logger debug account getId accountBalance alertDate lockable accountBalance lockable account s_logger info account getAccountName lockAccount account getId alertDate alertDate alertDate s_logger info account getAccountName deferredQuotaEmailList add DeferredQuotaEmail account quotaAccount QuotaConfig QuotaEmailTemplateTypes QUOTA_EMPTY accountBalance
user userNames String format user getUsername user getEmail emailRecipients add user getEmail userNames userNames userNames substring userNames length Map String String optionMap HashMap String String optionMap put account getAccountName optionMap put account getUuid optionMap put userNames optionMap put accountDomain getName optionMap put accountDomain getUuid optionMap put QuotaConfig QuotaCurrencySymbol value balance toString optionMap put QuotaConfig QuotaCurrencySymbol value usage toString
optionMap put account getAccountName optionMap put account getUuid optionMap put userNames optionMap put accountDomain getName optionMap put accountDomain getUuid optionMap put QuotaConfig QuotaCurrencySymbol value balance toString optionMap put QuotaConfig QuotaCurrencySymbol value usage toString s_logger s_logger debug account getAccountName account getUuid userNames accountDomain getName accountDomain getUuid StrSubstitutor templateEngine StrSubstitutor optionMap String subject templateEngine replace emailTemplate getTemplateSubject String body templateEngine replace emailTemplate getTemplateBody _emailQuotaAlert sendQuotaAlert emailRecipients subject body
optionMap put userNames optionMap put accountDomain getName optionMap put accountDomain getUuid optionMap put QuotaConfig QuotaCurrencySymbol value balance toString optionMap put QuotaConfig QuotaCurrencySymbol value usage toString s_logger s_logger debug account getAccountName account getUuid userNames accountDomain getName accountDomain getUuid StrSubstitutor templateEngine StrSubstitutor optionMap String subject templateEngine replace emailTemplate getTemplateSubject String body templateEngine replace emailTemplate getTemplateBody _emailQuotaAlert sendQuotaAlert emailRecipients subject body emailToBeSent sentSuccessfully _quotaAcc
optionMap put accountDomain getUuid optionMap put QuotaConfig QuotaCurrencySymbol value balance toString optionMap put QuotaConfig QuotaCurrencySymbol value usage toString s_logger s_logger debug account getAccountName account getUuid userNames accountDomain getName accountDomain getUuid StrSubstitutor templateEngine StrSubstitutor optionMap String subject templateEngine replace emailTemplate getTemplateSubject String body templateEngine replace emailTemplate getTemplateBody _emailQuotaAlert sendQuotaAlert emailRecipients subject body emailToBeSent sentSuccessfully _quotaAcc e s_logger error String format subject body account getAccountName account getUuid emailRecipients e s_logger
Account account _accountDao findById accountId account account getState State locked account getState State AccountVO acctForUpdate _accountDao createForUpdate acctForUpdate setState State locked success _accountDao update Long valueOf accountId acctForUpdate s_logger s_logger info account getState accountId s_logger warn accountId
Date endDate quotaListForAccount get getEndDate s_logger s_logger debug startDate endDate s_logger debug quotaListForAccount get quotaListForAccount size getStartDate quotaListForAccount get quotaListForAccount size getEndDate quotaListForAccount add QuotaUsageVO BigDecimal aggrUsage BigDecimal List QuotaBalanceVO creditsReceived QuotaUsageVO lastQuotaUsage _quotaUsageDao findLastQuotaUsageEntry account getAccountId account getDomainId startDate lastQuotaUsage aggrUsage aggrUsage add aggregateCreditBetweenDates account Date startDate QuotaBalanceVO firstBalance QuotaBalanceVO account getAccountId account getDomainId aggrUsage startDate _quotaBalanceDao saveQuotaBalance firstBalance QuotaBalanceVO lastRealBalanceEntry _quotaBalanceDao findLastBalanceEntry account getAccountId account getDomainId endDate lastRealBalanceEntry
s_logger s_logger debug lastRealBalanceEntry aggrUsage aggrUsage aggrUsage add aggregateCreditBetweenDates account lastRealBalanceEntry getUpdatedOn endDate entry s_logger s_logger debug entry entry BigDecimal aggrUsage aggrUsage add aggregateCreditBetweenDates account entry getStartDate entry getEndDate startDate entry getStartDate saveQuotaBalance account aggrUsage endDate aggrUsage BigDecimal startDate entry getStartDate endDate entry getEndDate QuotaBalanceVO lastRealBalanceEntry _quotaBalanceDao findLastBalanceEntry account getAccountId account getDomainId endDate
QuotaBalanceVO account aggrUsage endDate QuotaBalanceVO newBalance QuotaBalanceVO account getAccountId account getDomainId aggrUsage endDate
account aggrUsage endDate QuotaAccountVO quota_account _quotaAcc findByIdQuotaAccount account getAccountId quota_account quota_account QuotaAccountVO account getAccountId quota_account setQuotaBalance aggrUsage quota_account setQuotaBalanceDate endDate
BigDecimal account startDate endDate BigDecimal aggrUsage BigDecimal List QuotaBalanceVO creditsReceived creditsReceived _quotaBalanceDao findCreditBalance account getAccountId account getDomainId startDate endDate
List AccountVO accounts _accountDao listAll AccountVO account accounts Pair List UsageVO Integer usageRecords _usageDao getUsageRecordsPendingQuotaAggregation account getAccountId account getDomainId
List DeferredQuotaEmail deferredQuotaEmailList ArrayList DeferredQuotaEmail quotaAccount quotaAccount Calendar interval statementTime Calendar getInstance _period Date lastStatementDate quotaAccount getLastStatementDate interval AccountVO account _accountDao findById quotaAccount getId account lastStatementDate lastStatementDate Date BigDecimal quotaUsage _quotaUsage findTotalQuotaUsage account getAccountId account getDomainId interval getTime interval getTime s_logger info quotaAccount getId quotaUsage deferredQuotaEmailList add DeferredQuotaEmail account quotaAccount quotaUsage QuotaConfig QuotaEmailTemplateTypes QUOTA_STATEMENT s_logger
quotaAccount Calendar interval statementTime Calendar getInstance _period Date lastStatementDate quotaAccount getLastStatementDate interval AccountVO account _accountDao findById quotaAccount getId account lastStatementDate lastStatementDate Date BigDecimal quotaUsage _quotaUsage findTotalQuotaUsage account getAccountId account getDomainId interval getTime interval getTime s_logger info quotaAccount getId quotaUsage deferredQuotaEmailList add DeferredQuotaEmail account quotaAccount quotaUsage QuotaConfig QuotaEmailTemplateTypes QUOTA_STATEMENT s_logger s_logger debug quotaAccount getId lastStatementDate
List QuotaBalanceVO List QuotaBalanceVO List QuotaBalanceVO quotaUsageRecords List QuotaBalanceVO trimmedRecords ArrayList QuotaBalanceVO Filter filter Filter QuotaBalanceVO QueryBuilder QuotaBalanceVO qb QueryBuilder create QuotaBalanceVO accountId qb and qb entity getAccountId SearchCriteria Op EQ accountId domainId qb and qb entity getDomainId SearchCriteria Op EQ domainId pivotDate qb and qb entity getUpdatedOn SearchCriteria Op LTEQ pivotDate quotaUsageRecords search qb create filter QuotaBalanceVO quotaUsageRecords
List QuotaTariffVO effectiveDate List QuotaTariffVO List QuotaTariffVO List QuotaTariffVO tariffs ArrayList QuotaTariffVO Filter filter Filter QuotaTariffVO SearchCriteria QuotaTariffVO sc listAllIncludedUsageType create sc setParameters effectiveDate quotaType sc setParameters quotaType List QuotaTariffVO result search sc filter result result tariffs add result get
String name RegistryUtils getName item name name name RuntimeException item i String name registered add i item i registered i RegistryUtils getName registered i i
Iterator Object iter beans iterator Registry Object registry lookupRegistry iter Object next iter next registry next
def ApplicationContext context getApplicationContext def getName Runnable runnable context getBean Runnable
def parent ResourceApplicationContext context ResourceApplicationContext context setApplicationName def getName Resource resources getConfigResources def getName context setConfigResources resources context setParent parent context setClassLoader def getClassLoader start System currentTimeMillis Resource resources
def def def
vmProfile VirtualMachine vm vmProfile getVirtualMachine List AffinityGroupVMMapVO vmGroupMappings _affinityGroupVMMapDao findByVmIdType vm getId getType DataCenter dc _dcDao findById vm getDataCenterId List DedicatedResourceVO resourceList ArrayList DedicatedResourceVO vmGroupMappings vmGroupMappings AffinityGroupVMMapVO vmGroupMappings
group group List DedicatedResourceVO dedicatedResources _dedicatedDao listByAffinityGroupId group getId dedicatedResources
s_logger s_logger debug group SearchBuilder DedicatedResourceVO listByAffinityGroup _dedicatedDao createSearchBuilder listByAffinityGroup and listByAffinityGroup entity getAffinityGroupId SearchCriteria Op EQ listByAffinityGroup done SearchCriteria DedicatedResourceVO sc listByAffinityGroup create sc setParameters group getId _dedicatedDao lockRows sc _dedicatedDao remove sc s_logger
vmGroupMapping AffinityGroupVO group _affinityGroupDao findById vmGroupMapping getAffinityGroupId
vmProfile VirtualMachine vm vmProfile getVirtualMachine List AffinityGroupVMMapVO vmGroupMappings _affinityGroupVMMapDao findByVmIdType vm getId getType AffinityGroupVMMapVO vmGroupMapping vmGroupMappings vmGroupMapping AffinityGroupVO group _affinityGroupDao findById vmGroupMapping getAffinityGroupId
VirtualMachine vm vmProfile getVirtualMachine List AffinityGroupVMMapVO vmGroupMappings _affinityGroupVMMapDao findByVmIdType vm getId getType AffinityGroupVMMapVO vmGroupMapping vmGroupMappings vmGroupMapping AffinityGroupVO group _affinityGroupDao findById vmGroupMapping getAffinityGroupId s_logger s_logger debug group getName vm getId List Long groupVMIds _affinityGroupVMMapDao listVmIdsByAffinityGroup group getId groupVMIds remove vm getId Long groupVMId groupVMIds VMInstanceVO groupVM _vmInstanceDao findById groupVMId groupVM groupVM groupVM getHostId avoid addHost groupVM getHostId s_logger
s_logger debug group getName vm getId List Long groupVMIds _affinityGroupVMMapDao listVmIdsByAffinityGroup group getId groupVMIds remove vm getId Long groupVMId groupVMIds VMInstanceVO groupVM _vmInstanceDao findById groupVMId groupVM groupVM groupVM getHostId avoid addHost groupVM getHostId s_logger s_logger debug groupVM getHostId groupVM getId groupVM groupVM getLastHostId secondsSinceLastUpdate DateUtil currentGMTTime getTime groupVM getUpdateTime getTime secondsSinceLastUpdate avoid addHost groupVM getLastHostId s_logger
s_apiNameDiscoveryResponseMap startTime System nanoTime s_apiNameDiscoveryResponseMap HashMap String ApiDiscoveryResponse Set Class cmdClasses HashSet Class
enabled Boolean parseBoolean isEnabled String duration _configDao getValue Config ApiLimitInterval key duration timeToLive Integer parseInt duration String maxReqs _configDao getValue Config ApiLimitMax key maxReqs maxAllowed Integer parseInt maxReqs EhcacheLimitStore cacheStore EhcacheLimitStore maxElements String cachesize _configDao getValue Config ApiLimitCacheSize key cachesize maxElements Integer parseInt cachesize CacheManager cm CacheManager create Cache cache Cache maxElements timeToLive timeToLive cm addCache cache
sharesInfo setShares newShares diskUpdated currentLimitIops sioai getLimit sioai getLimit Long MIN_VALUE newLimitIops getNewLimitIopsBasedOnVolumeSize volumeVO limitIopsPerGB limitIopsTotal newLimitIops currentLimitIops newLimitIops sioai setLimit newLimitIops diskUpdated diskUpdated VirtualDeviceConfigSpec vdcs VirtualDeviceConfigSpec vdcs setDevice disk vdcs setOperation VirtualDeviceConfigSpecOperation EDIT VirtualMachineConfigSpec vmcs VirtualMachineConfigSpec vmcs getDeviceChange add vdcs
currentLimitIops sioai getLimit sioai getLimit Long MIN_VALUE newLimitIops getNewLimitIopsBasedOnVolumeSize disk getCapacityInBytes limitIopsPerGB limitIopsTotal newLimitIops currentLimitIops newLimitIops sioai setLimit newLimitIops diskUpdated diskUpdated VirtualDeviceConfigSpec vdcs VirtualDeviceConfigSpec vdcs setDevice disk vdcs setOperation VirtualDeviceConfigSpecOperation EDIT VirtualMachineConfigSpec vmcs VirtualMachineConfigSpec vmcs getDeviceChange add vdcs ManagedObjectReference task VMwareUtil reconfigureVm connection morVm vmcs tasks add task
vm backupOffering VeeamClient client getClient vm getDataCenterId Job parentJob client listJob backupOffering getExternalId String clonedJobName getGuestBackupName vm getInstanceName vm getUuid client parentJob clonedJobName
LOG debug HttpResponse response get checkResponseOK response ObjectMapper objectMapper XmlMapper EntityReferences entityReferences objectMapper readValue response getEntity getContent EntityReferences entityReferences
HttpResponse response get String format jobId checkResponseOK response ObjectMapper objectMapper XmlMapper objectMapper configure DeserializationFeature FAIL_ON_UNKNOWN_PROPERTIES ObjectsInJob jobObjects objectMapper readValue response getEntity getContent ObjectsInJob jobObjects jobObjects LOG warn jobId jobObject jobObjects jobObject vmwareInstanceName jobObject HttpResponse deleteResponse delete String format jobId jobObject getObjectInJobId checkTaskStatus deleteResponse LOG warn vmwareInstanceName jobId
certificates certificates certificates CertificateException clientAddress X509Certificate primaryClientCertificate certificates BigInteger serialNumber primaryClientCertificate getSerialNumber serialNumber serialNumber String errorMsg String format primaryClientCertificate getSerialNumber primaryClientCertificate getSubjectDN clientAddress LOG error errorMsg CertificateException errorMsg primaryClientCertificate checkValidity String errorMsg String format primaryClientCertificate getSerialNumber primaryClientCertificate getSubjectDN clientAddress
LOG error errorMsg CertificateException errorMsg primaryClientCertificate checkValidity String errorMsg String format primaryClientCertificate getSerialNumber primaryClientCertificate getSubjectDN clientAddress LOG error errorMsg CertificateException errorMsg certMatchesOwnership primaryClientCertificate list primaryClientCertificate list list list get String String alternativeName String list get clientAddress alternativeName
primaryClientCertificate checkValidity String errorMsg String format primaryClientCertificate getSerialNumber primaryClientCertificate getSubjectDN clientAddress LOG error errorMsg CertificateException errorMsg certMatchesOwnership primaryClientCertificate list primaryClientCertificate list list list get String String alternativeName String list get clientAddress alternativeName certMatchesOwnership certMatchesOwnership String errorMsg clientAddress LOG error errorMsg
Pair List QuotaTariffVO Integer result _responseBuilder listQuotaTariffPlans List QuotaTariffResponse responses ArrayList QuotaTariffResponse QuotaTariffVO result
QuotaBalanceVO o1 QuotaBalanceVO o2 o1 o1 QuotaBalanceVO o1 o2 o2 QuotaBalanceVO o2 o2 getUpdatedOn compareTo o1 getUpdatedOn have_balance_entries QuotaBalanceVO it quotaBalance it QuotaBalanceVO entry it next entry have_balance_entries have_balance_entries ListIterator QuotaBalanceVO li quotaBalance listIterator quotaBalance size li QuotaBalanceVO entry li previous
ListIterator QuotaBalanceVO li quotaBalance listIterator quotaBalance size li QuotaBalanceVO entry li previous s_logger s_logger debug entry entry li remove quota_activity quotaBalance size QuotaBalanceResponse resp QuotaBalanceResponse BigDecimal lastCredits BigDecimal consecutive
s_logger s_logger debug quotaUsage get getUsageType quotaUsage get getQuotaUsed setScale RoundingMode HALF_EVEN quotaUsage get getUsageItemId quotaUsage get getStartDate quotaUsage get getEndDate quotaUsage QuotaUsageVO QuotaUsageVO o1 QuotaUsageVO o2 o1 getUsageType o2 getUsageType o1 getUsageType o2 getUsageType List QuotaStatementItemResponse items ArrayList QuotaStatementItemResponse QuotaStatementItemResponse lineitem type BigDecimal usage BigDecimal BigDecimal totalUsage BigDecimal quotaUsage add QuotaUsageVO QuotaUsageVO prev quotaUsage get
Pair List QuotaTariffVO Integer cmd Pair List QuotaTariffVO Integer result Date effectiveDate cmd getEffectiveDate Date cmd getEffectiveDate Date adjustedEffectiveDate _quotaService computeAdjustedTime effectiveDate
effectiveDate now InvalidParameterValueException effectiveDate now QuotaTypes quotaConstant QuotaTypes listQuotaTypes get quotaType quotaConstant InvalidParameterValueException quotaType QuotaTariffVO result result QuotaTariffVO quotaType result setUsageName quotaConstant getQuotaName result setUsageUnit quotaConstant getQuotaUnit result setUsageDiscriminator quotaConstant getDiscriminator result setCurrencyValue quotaCost result setEffectiveOn effectiveDate result setUpdatedOn now result setUpdatedBy cmd getEntityOwnerId
InvalidParameterValueException despositedOn QuotaCreditsVO credits QuotaCreditsVO accountId domainId BigDecimal amount updatedBy credits setUpdatedOn despositedOn QuotaCreditsVO result _quotaCreditsDao saveCredits credits AccountVO account _accountDao findById accountId account InvalidParameterValueException accountId lockAccountEnforcement equalsIgnoreCase QuotaConfig QuotaEnableEnforcement value BigDecimal currentAccountBalance _quotaBalanceDao lastQuotaBalance accountId domainId startOfNextDay Date despositedOn getTime s_logger s_logger debug amount despositedOn currentAccountBalance _quotaService saveQuotaAccount account currentAccountBalance despositedOn lockAccountEnforcement currentAccountBalance BigDecimal account
QuotaCreditsVO result _quotaCreditsDao saveCredits credits AccountVO account _accountDao findById accountId account InvalidParameterValueException accountId lockAccountEnforcement equalsIgnoreCase QuotaConfig QuotaEnableEnforcement value BigDecimal currentAccountBalance _quotaBalanceDao lastQuotaBalance accountId domainId startOfNextDay Date despositedOn getTime s_logger s_logger debug amount despositedOn currentAccountBalance _quotaService saveQuotaAccount account currentAccountBalance despositedOn lockAccountEnforcement currentAccountBalance BigDecimal account s_logger info account getAccountName currentAccountBalance _accountMgr enableAccount account getAccountName domainId accountId
domainId Filter filter Filter AccountVO Boolean FALSE List AccountVO accounts _accountDao listAccounts accountName domainId filter accounts userAccount accounts get userAccount accountId userAccount getId InvalidParameterValueException accountName domainId PermissionDeniedException startDate startDate Date startDate Date adjustedStartDate computeAdjustedTime _respBldr startOfNextDay startDate
accounts userAccount accounts get userAccount accountId userAccount getId InvalidParameterValueException accountName domainId PermissionDeniedException startDate startDate Date startDate Date adjustedStartDate computeAdjustedTime _respBldr startOfNextDay startDate s_logger s_logger debug accountId domainId adjustedStartDate List QuotaBalanceVO qbrecords _quotaBalanceDao lastQuotaBalanceVO accountId domainId adjustedStartDate s_logger
userAccount accountId userAccount getId InvalidParameterValueException accountName domainId PermissionDeniedException startDate startDate Date startDate Date adjustedStartDate computeAdjustedTime _respBldr startOfNextDay startDate s_logger s_logger debug accountId domainId adjustedStartDate List QuotaBalanceVO qbrecords _quotaBalanceDao lastQuotaBalanceVO accountId domainId adjustedStartDate s_logger s_logger debug qbrecords size qbrecords
startDate startDate Date startDate Date adjustedStartDate computeAdjustedTime _respBldr startOfNextDay startDate s_logger s_logger debug accountId domainId adjustedStartDate List QuotaBalanceVO qbrecords _quotaBalanceDao lastQuotaBalanceVO accountId domainId adjustedStartDate s_logger s_logger debug qbrecords size qbrecords s_logger info adjustedStartDate qbrecords qbrecords Date adjustedStartDate computeAdjustedTime startDate
Date adjustedStartDate computeAdjustedTime _respBldr startOfNextDay startDate s_logger s_logger debug accountId domainId adjustedStartDate List QuotaBalanceVO qbrecords _quotaBalanceDao lastQuotaBalanceVO accountId domainId adjustedStartDate s_logger s_logger debug qbrecords size qbrecords s_logger info adjustedStartDate qbrecords qbrecords Date adjustedStartDate computeAdjustedTime startDate endDate _respBldr startOfNextDay InvalidParameterValueException endDate
s_logger debug accountId domainId adjustedStartDate List QuotaBalanceVO qbrecords _quotaBalanceDao lastQuotaBalanceVO accountId domainId adjustedStartDate s_logger s_logger debug qbrecords size qbrecords s_logger info adjustedStartDate qbrecords qbrecords Date adjustedStartDate computeAdjustedTime startDate endDate InvalidParameterValueException endDate startDate endDate Date adjustedEndDate computeAdjustedTime endDate
accounts userAccount accounts get userAccount accountId userAccount getId InvalidParameterValueException accountName domainId PermissionDeniedException startDate endDate InvalidParameterValueException startDate endDate endDate InvalidParameterValueException endDate Date adjustedEndDate computeAdjustedTime endDate Date adjustedStartDate computeAdjustedTime startDate
account aggrUsage endDate QuotaAccountVO quota_account _quotaAcc findByIdQuotaAccount account getAccountId quota_account quota_account QuotaAccountVO account getAccountId quota_account setQuotaBalance aggrUsage quota_account setQuotaBalanceDate endDate
Long accountId List HostVO hosts accountName Account caller CallContext current getCallingAccount Account owner _accountMgr finalizeOwner caller accountName domainId accountId owner getId List Long childDomainIds getDomainChildIds domainId childDomainIds add domainId checkAccountAndDomain accountId domainId DataCenterVO dc _zoneDao findById zoneId dc InvalidParameterValueException zoneId DedicatedResourceVO dedicatedZone _dedicatedDao findByZoneId zoneId dedicatedZone
DedicatedResourceVO dedicatedZone _dedicatedDao findByZoneId zoneId dedicatedZone s_logger error dc getName CloudRuntimeException dc getName List HostPodVO pods _podDao listByDataCenterId dc getId List DedicatedResourceVO podsToRelease ArrayList DedicatedResourceVO List DedicatedResourceVO clustersToRelease ArrayList DedicatedResourceVO List DedicatedResourceVO hostsToRelease ArrayList DedicatedResourceVO HostPodVO pod pods DedicatedResourceVO dPod _dedicatedDao findByPodId pod getId dPod dPod CloudRuntimeException pod getName dc getName dPod
podsToRelease add dPod s_logger error pod getName dc getName CloudRuntimeException pod getName dc getName dPod dPod podsToRelease add dPod DedicatedResourceVO dr podsToRelease releaseDedicatedResource dr getPodId List ClusterVO clusters _clusterDao listClustersByDcId dc getId ClusterVO cluster clusters DedicatedResourceVO dCluster _dedicatedDao findByClusterId cluster getId dCluster dCluster CloudRuntimeException cluster getName dc getName
List ClusterVO clusters _clusterDao listClustersByDcId dc getId ClusterVO cluster clusters DedicatedResourceVO dCluster _dedicatedDao findByClusterId cluster getId dCluster dCluster CloudRuntimeException cluster getName dc getName dCluster clustersToRelease add dCluster s_logger error cluster getName dc getName CloudRuntimeException cluster getName dc getName dCluster dCluster clustersToRelease add dCluster
accountName Account caller CallContext current getCallingAccount Account owner _accountMgr finalizeOwner caller accountName domainId accountId owner getId List Long childDomainIds getDomainChildIds domainId childDomainIds add domainId checkAccountAndDomain accountId domainId HostPodVO pod _podDao findById podId List HostVO hosts pod InvalidParameterValueException podId DedicatedResourceVO dedicatedPod _dedicatedDao findByPodId podId DedicatedResourceVO dedicatedZoneOfPod _dedicatedDao findByZoneId pod getDataCenterId dedicatedPod
dedicatedZoneOfPod domainIdInChildreanList getDomainChildIds dedicatedZoneOfPod getDomainId contains domainId dedicatedZoneOfPod domainIdInChildreanList dedicatedZoneOfPod getDomainId domainId domainIdInChildreanList DataCenterVO zone _zoneDao findById pod getDataCenterId s_logger error CloudRuntimeException zone getName List ClusterVO clusters _clusterDao listByPodId pod getId List DedicatedResourceVO clustersToRelease ArrayList DedicatedResourceVO List DedicatedResourceVO hostsToRelease ArrayList DedicatedResourceVO ClusterVO cluster clusters DedicatedResourceVO dCluster _dedicatedDao findByClusterId cluster getId dCluster contains dCluster getDomainId CloudRuntimeException cluster getName pod getName
dCluster clustersToRelease add dCluster s_logger error cluster getName pod getName CloudRuntimeException cluster getName pod getName dCluster dCluster clustersToRelease add dCluster DedicatedResourceVO dr clustersToRelease releaseDedicatedResource dr getClusterId hosts _hostDao findByPodId pod getId host hosts DedicatedResourceVO dHost _dedicatedDao findByHostId host getId dHost
accountName Account caller CallContext current getCallingAccount Account owner _accountMgr finalizeOwner caller accountName domainId accountId owner getId List Long childDomainIds getDomainChildIds domainId childDomainIds add domainId checkAccountAndDomain accountId domainId ClusterVO cluster _clusterDao findById clusterId cluster InvalidParameterValueException clusterId DedicatedResourceVO dedicatedCluster _dedicatedDao findByClusterId clusterId DedicatedResourceVO dedicatedPodOfCluster _dedicatedDao findByPodId cluster getPodId DedicatedResourceVO dedicatedZoneOfCluster _dedicatedDao findByZoneId cluster getDataCenterId dedicatedCluster
CloudRuntimeException pod getName dedicatedZoneOfCluster domainIdInChildreanList getDomainChildIds dedicatedZoneOfCluster getDomainId contains domainId dedicatedZoneOfCluster domainIdInChildreanList dedicatedZoneOfCluster getDomainId domainId domainIdInChildreanList s_logger error DataCenterVO zone _zoneDao findById cluster getDataCenterId CloudRuntimeException zone getName hosts _hostDao findByClusterId cluster getId List DedicatedResourceVO hostsToRelease ArrayList DedicatedResourceVO host hosts DedicatedResourceVO dHost _dedicatedDao findByHostId host getId dHost contains dHost getDomainId CloudRuntimeException host getName cluster getName
Account caller CallContext current getCallingAccount Account owner _accountMgr finalizeOwner caller accountName domainId accountId owner getId checkAccountAndDomain accountId domainId HostVO host _hostDao findById hostId host InvalidParameterValueException hostId host CloudRuntimeException host getName DedicatedResourceVO dedicatedHost _dedicatedDao findByHostId hostId DedicatedResourceVO dedicatedClusterOfHost _dedicatedDao findByClusterId host getClusterId DedicatedResourceVO dedicatedPodOfHost _dedicatedDao findByPodId host getPodId DedicatedResourceVO dedicatedZoneOfHost _dedicatedDao findByZoneId host getDataCenterId dedicatedHost
List hostId suitable List UserVmVO allVmsOnHost getVmsOnHost hostId UserVmVO allVmsOnHost
allVmsOnHost suitable allVmsOnHost isEmpty allVmsOnHost
allVmsOnHost createdByImplicitStrict allVmsOnHost isEmpty allVmsOnHost
offeringId implicitPlannerUsed ServiceOfferingVO offering serviceOfferingDao findByIdIncludingRemoved offeringId offering
List Long capacityOrderedIds capacityInfo first List Long vmCountOrderedIds vmCountInfo first Map Long Double capacityMap capacityInfo second Map Long Double vmCountMap vmCountInfo second s_logger s_logger trace capacityOrderedIds capacityMap s_logger s_logger trace vmCountOrderedIds vmCountMap List Long idsReorderedByWeights ArrayList Long capacityWeight _userDispersionWeight s_logger s_logger debug _userDispersionWeight LinkedHashMap Long Double normalisedVmCountIdMap LinkedHashMap Long Double Long totalVmsOfAccount vmInstanceDao countRunningAndStartingByAccount accountId s_logger
s_logger debug dcId podId clusterId hostTag hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId hostTag hostsCopy retainAll _resourceMgr listAllUpAndEnabledHosts type clusterId podId dcId s_logger debug hostsCopy size hostsCopy size suitableHosts Collections shuffle hostsCopy host hostsCopy suitableHosts size host suitableHosts add host
hostTag hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId hostTag hostsCopy retainAll _resourceMgr listAllUpAndEnabledHosts type clusterId podId dcId s_logger debug hostsCopy size hostsCopy size suitableHosts Collections shuffle hostsCopy host hostsCopy suitableHosts size host suitableHosts add host s_logger
s_logger debug dcId podId clusterId List Host hosts ArrayList HostVO hostTag hosts _hostDao listByHostTag type clusterId podId dcId hostTag hosts _resourceMgr listAllUpAndEnabledHosts type clusterId podId dcId s_logger debug hosts size hosts size suitableHosts Collections shuffle hosts Host host hosts suitableHosts size host suitableHosts add host
List Host hosts ArrayList HostVO hostTag hosts _hostDao listByHostTag type clusterId podId dcId hostTag hosts _resourceMgr listAllUpAndEnabledHosts type clusterId podId dcId s_logger debug hosts size hosts size suitableHosts Collections shuffle hosts Host host hosts suitableHosts size host suitableHosts add host
Map Map String String url String String String Map BareMetalResourceBase Map String String resources HashMap BareMetalResourceBase Map String String Map String String details HashMap String String url String msg url
resource configure params String memCapacity String params get ApiConstants MEMORY String cpuCapacity String params get ApiConstants CPU_SPEED String cpuNum String params get ApiConstants CPU_NUMBER String mac String params get ApiConstants HOST_MAC hostTags hostTags details put hostTags get details put ApiConstants MEMORY memCapacity details put ApiConstants CPU_SPEED cpuCapacity details put ApiConstants CPU_NUMBER cpuNum details put ApiConstants HOST_MAC mac details put ApiConstants USERNAME username details put ApiConstants PASSWORD password details put ApiConstants PRIVATE_IP ipmiIp String vmIp String params get ApiConstants IP_ADDRESS
VirtualMachineProfile vmProfile VirtualMachine vm vmProfile getVirtualMachine ServiceOffering offering vmProfile getServiceOffering String hostTag String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag vm getLastHostId haVmTag HostVO h _hostDao findById vm getLastHostId DataCenter dc _dcDao findById h getDataCenterId Pod pod _podDao findById h getPodId Cluster c _clusterDao findById h getClusterId
target s_logger warn hostTag cpu_requested offering getCpu offering getSpeed ram_requested offering getRamSize cpu_requested target getCpus target getSpeed intValue ram_requested target getTotalMemory cluster haVmTag hosts _resourceMgr listAllUpAndEnabledNonHAHosts Host Type Routing cluster getId cluster getPodId cluster getDataCenterId s_logger warn haVmTag cluster getId cluster getPodId cluster getDataCenterId h hosts cluster_id h getClusterId
String zoneName profile getZoneIdList profile getZoneIdList size CloudRuntimeException template profile getZoneIdList zoneName profile getZoneIdList get toString zoneName s_logger debug template getName zoneName Account account _accountDao findByIdIncludingRemoved template getAccountId String eventType EventTypes EVENT_TEMPLATE_DELETE List TemplateDataStoreVO templateHostVOs _tmpltStoreDao listByTemplate templateId TemplateDataStoreVO vo templateHostVOs TemplateDataStoreVO lock lock _tmpltStoreDao acquireInLockTable vo getId lock
lock _tmpltStoreDao releaseFromLockTable lock getId profile getZoneIdList UsageEventVO usageEvent UsageEventVO eventType account getId profile getZoneIdList get templateId _usageEventDao persist usageEvent VMTemplateZoneVO templateZone _tmpltZoneDao findByZoneTemplate profile getZoneIdList get templateId templateZone _tmpltZoneDao remove templateZone getId List DataCenterVO dcs _dcDao listAllIncludingRemoved DataCenterVO dc dcs UsageEventVO usageEvent UsageEventVO eventType account getId dc getId templateId _usageEventDao persist usageEvent s_logger debug template getName zoneName _tmpltStoreDao templateId
templateZone _tmpltZoneDao remove templateZone getId List DataCenterVO dcs _dcDao listAllIncludingRemoved DataCenterVO dc dcs UsageEventVO usageEvent UsageEventVO eventType account getId dc getId templateId _usageEventDao persist usageEvent s_logger debug template getName zoneName success templateId accountId template getAccountId VMTemplateVO lock _tmpltDao acquireInLockTable templateId lock s_logger debug templateId success
State oldState transition getCurrentState newState State newState State newState State vo HostVO host _hostDao findById vo getHostId host s_logger debug oldState newState _hostDao loadDetails host newState State host setDetail vo getInstanceName s_logger debug host getDetail host getId host getDetail host getDetail vo getInstanceName
CloudRuntimeException String format cmd getMac _hostDao loadDetails host String vmName host getDetail vmName CloudRuntimeException String format cmd getMac QueryBuilder VMInstanceVO vmq QueryBuilder create VMInstanceVO vmq and vmq entity getInstanceName SearchCriteria Op EQ vmName VMInstanceVO vm vmq find vm CloudRuntimeException String format vmName State vm getState CloudRuntimeException String format vmName vm getState vm setState State Running vm setLastHostId vm getHostId vmDao update vm getId vm
URI uri uri URI cmd getUrl e s_logger debug e IllegalArgumentException e getMessage String ipAddress uri getHost String guid getPxeServerGuid Long toString zoneId pod getId BaremetalPxeType PING toString ipAddress ServerResource resource Map params HashMap String String params put BaremetalPxeService PXE_PARAM_ZONE Long toString zoneId params put BaremetalPxeService PXE_PARAM_POD String valueOf pod getId params put BaremetalPxeService PXE_PARAM_IP ipAddress params put BaremetalPxeService PXE_PARAM_USERNAME cmd getUsername params put BaremetalPxeService PXE_PARAM_PASSWORD cmd getPassword
ConfigurationException _mac ConfigurationException _mac ConfigurationException _mac ConfigurationException echoScAgent _isEchoScAgent Boolean valueOf echoScAgent String ipmiIface ipmiIface configDao getValue Config BaremetalIpmiLanInterface key e s_logger debug e getMessage e
ConfigurationException _mac ConfigurationException _mac ConfigurationException echoScAgent _isEchoScAgent Boolean valueOf echoScAgent String ipmiIface ipmiIface configDao getValue Config BaremetalIpmiLanInterface key e s_logger debug e getMessage e ipmiRetryTimes Integer parseInt configDao getValue Config BaremetalIpmiRetryTimes key e
StartAnswer cmd String format vm getNics getIp QueryBuilder VMInstanceVO q QueryBuilder create VMInstanceVO q and q entity getInstanceName SearchCriteria Op EQ vm getName VMInstanceVO vmvo q find vmvo timeout System currentTimeMillis TimeUnit SECONDS toMillis isProvisionDoneNotificationTimeout timeout System currentTimeMillis TimeUnit SECONDS sleep e s_logger warn e getMessage e q QueryBuilder create VMInstanceVO q and q entity getInstanceName SearchCriteria Op EQ vm getName vmvo q find
QueryBuilder VMInstanceVO q QueryBuilder create VMInstanceVO q and q entity getInstanceName SearchCriteria Op EQ vm getName VMInstanceVO vmvo q find vmvo timeout System currentTimeMillis TimeUnit SECONDS toMillis isProvisionDoneNotificationTimeout timeout System currentTimeMillis TimeUnit SECONDS sleep e s_logger warn e getMessage e q QueryBuilder create VMInstanceVO q and q entity getInstanceName SearchCriteria Op EQ vm getName vmvo q find vmvo
IPAddressVO ipVO _ipAddressDao findByIpAndSourceNetworkId network getId oldIp ipVO PodVlanMapVO mapVO _podVlanDao listPodVlanMapsByVlan ipVO getVlanId mapVO dest getPod getId _ipAddrMgr markIpAsUnavailable ipVO getId _ipAddressDao unassignIpAddress ipVO getId nic setIPv4Address getNewIp getNewIp getBaremetalIp nic dest getPod vm network intentIp DataCenter dc _dcDao findById network getDataCenterId
pod DataCenter dc _dcDao findById pod getDataCenterId
Long podId profile getVirtualMachine getPodIdToDeployIn List HostVO hosts _resourceMgr listAllUpAndEnabledHosts Type BaremetalDhcp podId zoneId hosts CloudRuntimeException zoneId podId hosts CloudRuntimeException zoneId podId HostVO h hosts get String dns nic getIPv4Dns1 dns dns nic getIPv4Dns2 DhcpEntryCommand dhcpCommand DhcpEntryCommand nic getMacAddress nic getIPv4Address profile getVirtualMachine getHostName dns nic getIPv4Gateway _ntwkModel getExecuteInSeqNtwkElmtCmd String errMsg String format h getPrivateIpAddress nic getIPv4Address nic getMacAddress profile getVirtualMachine getHostName Answer ans _agentMgr send h getId dhcpCommand ans
CloudRuntimeException zoneId podId hosts CloudRuntimeException zoneId podId HostVO h hosts get String dns nic getIPv4Dns1 dns dns nic getIPv4Dns2 DhcpEntryCommand dhcpCommand DhcpEntryCommand nic getMacAddress nic getIPv4Address profile getVirtualMachine getHostName dns nic getIPv4Gateway _ntwkModel getExecuteInSeqNtwkElmtCmd String errMsg String format h getPrivateIpAddress nic getIPv4Address nic getMacAddress profile getVirtualMachine getHostName Answer ans _agentMgr send h getId dhcpCommand ans s_logger debug String format h getPrivateIpAddress nic getIPv4Address nic getMacAddress profile getVirtualMachine getHostName
CloudRuntimeException zoneId podId HostVO h hosts get String dns nic getIPv4Dns1 dns dns nic getIPv4Dns2 DhcpEntryCommand dhcpCommand DhcpEntryCommand nic getMacAddress nic getIPv4Address profile getVirtualMachine getHostName dns nic getIPv4Gateway _ntwkModel getExecuteInSeqNtwkElmtCmd String errMsg String format h getPrivateIpAddress nic getIPv4Address nic getMacAddress profile getVirtualMachine getHostName Answer ans _agentMgr send h getId dhcpCommand ans s_logger debug String format h getPrivateIpAddress nic getIPv4Address nic getMacAddress profile getVirtualMachine getHostName s_logger debug errMsg ans getDetails ResourceUnavailableException errMsg DataCenter zoneId
sb append sb append file sb append sb append contents sb append String arg StringUtils stripEnd sb toString sshConnection connect sshConnection _username _password s_logger debug ConfigurationException String format _ip _username _password String script String format arg sshConnection script Answer cmd script Answer cmd
_username _password s_logger debug ConfigurationException String format _ip _username _password String copyTo String format _tftpDir cmd getTemplateUuid String script String format cmd getKernel cmd getInitrd copyTo script Answer cmd _ip script String kernelPath String format cmd getTemplateUuid String initrdPath String format cmd getTemplateUuid script String format _tftpDir cmd getMac kernelPath initrdPath cmd getKsFile cmd getMac script Answer cmd _ip script s_logger debug Answer cmd
NicVO mgmtNic NicVO nicvo nicvo mgmtNic nicvo mgmtNic CloudRuntimeException String format vr getId String internalServerIp _configDao getValue Config BaremetalInternalStorageServer key internalServerIp CloudRuntimeException String format Pair Boolean String ret SshHelper sshExecute mgmtNic getIPv4Address getSystemVMKeyFile ret CloudRuntimeException String format vr getId List String tuple parseKickstartUrl profile String cmd String format tuple get tuple get profile getTemplate getUuid String format nic getMacAddress replaceAll toLowerCase tuple get nic getMacAddress toLowerCase
mgmtNic CloudRuntimeException String format vr getId String internalServerIp _configDao getValue Config BaremetalInternalStorageServer key internalServerIp CloudRuntimeException String format Pair Boolean String ret SshHelper sshExecute mgmtNic getIPv4Address getSystemVMKeyFile ret CloudRuntimeException String format vr getId List String tuple parseKickstartUrl profile String cmd String format tuple get tuple get profile getTemplate getUuid String format nic getMacAddress replaceAll toLowerCase tuple get nic getMacAddress toLowerCase s_logger debug String format mgmtNic getIPv4Address cmd ret SshHelper sshExecute mgmtNic getIPv4Address getSystemVMKeyFile cmd ret CloudRuntimeException String format vr getId ret second cmd String format mgmtNic getIPv4Address internalServerIp mgmtNic getIPv4Gateway
sb append sb append file sb append sb append contents sb append String arg org apache commons lang StringUtils stripEnd sb toString sshConnection connect sshConnection _username _password s_logger debug ConfigurationException String format _ip _username _password String script String format arg sshConnection script Answer cmd script Answer cmd
cloudIdentifier cloudIdentifier cmd addVmData cloudIdentifier List PhysicalNetworkVO phys _phynwDao listByZone vm getDataCenterId phys CloudRuntimeException String format vm getDataCenterId phys size CloudRuntimeException String format vm getDataCenterId phys size PhysicalNetworkVO phy phys get QueryBuilder BaremetalPxeVO sc QueryBuilder create BaremetalPxeVO sc and sc entity getPhysicalNetworkId Op EQ phy getId BaremetalPxeVO pxeVo sc find pxeVo CloudRuntimeException vm getPodIdToDeployIn Answer ans _agentMgr send pxeVo getHostId cmd
CloudRuntimeException String format vm getDataCenterId phys size CloudRuntimeException String format vm getDataCenterId phys size PhysicalNetworkVO phy phys get QueryBuilder BaremetalPxeVO sc QueryBuilder create BaremetalPxeVO sc and sc entity getPhysicalNetworkId Op EQ phy getId BaremetalPxeVO pxeVo sc find pxeVo CloudRuntimeException vm getPodIdToDeployIn Answer ans _agentMgr send pxeVo getHostId cmd ans s_logger debug String format vm getInstanceName ans getDetails
struct String link buildLink struct getSwitchIp String format struct getVlan HttpHeaders headers createBasicAuthenticationHeader struct HttpEntity String request HttpEntity headers ResponseEntity rsp rest exchange link HttpMethod GET request String
struct String link buildLink struct getSwitchIp String format struct getVlan HttpHeaders headers createBasicAuthenticationHeader struct HttpEntity String request HttpEntity headers ResponseEntity rsp rest exchange link HttpMethod GET request String logger debug String format link rsp PortInfo port PortInfo struct XmlObject xml XmlObject putElement XmlObject setText String valueOf struct getVlan putElement XmlObject putElement port interfaceType XmlObject port interfaceType putElement XmlObject setText port port putElement XmlObject setText request HttpEntity xml dump headers link buildLink struct getSwitchIp String format
String link buildLink struct getSwitchIp String format struct getVlan HttpHeaders headers createBasicAuthenticationHeader struct HttpEntity String request HttpEntity headers ResponseEntity rsp rest exchange link HttpMethod GET request String logger debug String format link rsp getStatusCode PortInfo port PortInfo struct XmlObject xml XmlObject putElement XmlObject setText String valueOf struct getVlan putElement XmlObject putElement port interfaceType XmlObject port interfaceType putElement XmlObject setText port port putElement XmlObject setText request HttpEntity xml dump headers link buildLink struct getSwitchIp String format logger debug String format link request rsp rest exchange link HttpMethod POST request String rsp getStatusCode CloudRuntimeException String format struct getVlan struct getSwitchIp rsp getStatusCode rsp getBody
logger debug String format link request rsp rest exchange link HttpMethod POST request String rsp getStatusCode CloudRuntimeException String format struct getVlan struct getSwitchIp rsp getStatusCode rsp getBody logger debug String format struct getVlan struct getSwitchIp struct getPort rsp getStatusCode rsp getBody rsp getStatusCode PortInfo port PortInfo struct XmlObject xml XmlObjectParser parseFromString String rsp getBody List XmlObject ports xml getAsList ports addAll xml XmlObject getAsList ports addAll xml XmlObject getAsList XmlObject pxml ports XmlObject name pxml get port port name
XmlObject name pxml get port port name logger debug String format struct getPort struct getVlan xml removeElement xml setText XmlObject tag xml get tag tag XmlObject xml putElement tag tag putElement port interfaceType XmlObject port interfaceType putElement XmlObject setText port port request HttpEntity xml dump headers link buildLink struct getSwitchIp String format struct getVlan logger debug String format link request rsp rest exchange link HttpMethod PUT request String
struct String link buildLink struct getSwitchIp String format struct getVlan HttpHeaders headers createBasicAuthenticationHeader struct HttpEntity String request HttpEntity headers
struct String link buildLink struct getSwitchIp String format struct getVlan HttpHeaders headers createBasicAuthenticationHeader struct HttpEntity String request HttpEntity headers logger debug String format link request ResponseEntity rsp rest exchange link HttpMethod GET request String rsp
newPorts add pxml xml setText xml removeElement XmlObject tagged xml get tagged removeAllChildren XmlObject p newPorts tagged putElement p getTag p request HttpEntity xml dump headers logger debug String format link request rsp rest exchange link HttpMethod PUT request String rsp getStatusCode CloudRuntimeException String format struct getVlan struct getPort struct getSwitchIp rsp getStatusCode rsp getBody
HashMap String Pair Long Long String Long String agentIp HashMap String Pair Long Long states HashMap String Pair Long Long PostMethod post PostMethod String format agentIp getPort post addRequestHeader post
Thread sleep m count e1 logger warn e1 PostMethod post PostMethod String format agentIp getPort post addRequestHeader post logger debug String format agentIp post getResponseBodyAsString ret count m
e1 logger warn e1 PostMethod post PostMethod String format agentIp getPort post addRequestHeader post logger debug String format agentIp post getResponseBodyAsString ret count l logger debug String format agentIp TimeUnit MILLISECONDS toSeconds l count
PostMethod post PostMethod String format agentIp getPort SecurityGroupVmRuleSet rset SecurityGroupVmRuleSet rset getEgressRules addAll generateRules cmd getEgressRuleSet rset getIngressRules addAll generateRules cmd getIngressRuleSet rset setVmName cmd getVmName rset setVmIp cmd getGuestIp rset setVmMac cmd getGuestMac rset setVmId cmd getVmId rset setSignature cmd getSignature rset setSequenceNumber cmd getSeqNum Marshaller marshaller context createMarshaller StringWriter writer StringWriter marshaller marshal rset writer String xmlContents writer toString
s_logger s_logger info ClusterVO cluster _clusterDao findById clusterId cluster s_logger s_logger info clusterId cluster s_logger s_logger info clusterId uri String msg uri
s_logger s_logger info clusterId s_logger s_logger info clusterId uri String msg uri s_logger debug msg String hostname uri getHost InetAddress ia InetAddress getByName hostname String agentIp ia getHostAddress
s_logger s_logger info clusterId uri String msg uri s_logger debug msg String hostname uri getHost InetAddress ia InetAddress getByName hostname String agentIp ia getHostAddress String uuidSeed agentIp String guidWithTail calcServerResourceGuid uuidSeed
String zoneId String secondaryStorageUri getSecondaryStorageStoreUrl zoneId secondaryStorageUri
String storageUrl String mountPoint getMountPoint storageUrl GlobalLock lock GlobalLock getInternLock lock lock File patchFolder File mountPoint patchFolder patchFolder String msg patchFolder toString
String storageUrl String mountPoint getMountPoint storageUrl GlobalLock lock GlobalLock getInternLock lock lock File patchFolder File mountPoint patchFolder patchFolder String msg patchFolder toString s_logger error msg CloudRuntimeException msg File srcIso getSystemVMPatchIsoFile File destIso File mountPoint getSystemVMIsoFileNameOnDatastore destIso
File patchFolder File mountPoint patchFolder patchFolder String msg patchFolder toString s_logger error msg CloudRuntimeException msg File srcIso getSystemVMPatchIsoFile File destIso File mountPoint getSystemVMIsoFileNameOnDatastore destIso s_logger info srcIso getAbsolutePath destIso getAbsolutePath FileUtil copyfile srcIso destIso
File patchFolder File mountPoint patchFolder patchFolder String msg patchFolder toString s_logger error msg CloudRuntimeException msg File srcIso getSystemVMPatchIsoFile File destIso File mountPoint getSystemVMIsoFileNameOnDatastore destIso s_logger info srcIso getAbsolutePath destIso getAbsolutePath FileUtil copyfile srcIso destIso e s_logger error e String msg srcIso toString destIso
String parent s_logger info mshostId ManagementServerNode getManagementServerId String mounts _storage listFiles parent File separator String valueOf mshostId mounts mounts String mounts
s_logger info
String errMsg getClass getName
StartupRoutingCommand defaultStartRoutCmd StartupRoutingCommand Hypervisor HypervisorType Hyperv RouterPrivateIpStrategy HostLocal defaultStartRoutCmd setDataCenter _zoneId defaultStartRoutCmd setPod _podId defaultStartRoutCmd setCluster _clusterId defaultStartRoutCmd setGuid _guid defaultStartRoutCmd setName _name defaultStartRoutCmd setPrivateIpAddress _agentIp defaultStartRoutCmd setStorageIpAddress _agentIp defaultStartRoutCmd setPool _clusterGuid s_logger debug _agentIp defaultStartRoutCmd setVersion getClass getPackage getImplementationVersion Command startCmds requestStartupCommand Command defaultStartRoutCmd StartupRoutingCommand startCmd StartupRoutingCommand startCmds startCmd String errMsg String format _name _agentIp
defaultStartRoutCmd setCluster _clusterId defaultStartRoutCmd setGuid _guid defaultStartRoutCmd setName _name defaultStartRoutCmd setPrivateIpAddress _agentIp defaultStartRoutCmd setStorageIpAddress _agentIp defaultStartRoutCmd setPool _clusterGuid s_logger debug _agentIp defaultStartRoutCmd setVersion getClass getPackage getImplementationVersion Command startCmds requestStartupCommand Command defaultStartRoutCmd StartupRoutingCommand startCmd StartupRoutingCommand startCmds startCmd String errMsg String format _name _agentIp s_logger error errMsg startCmd defaultStartRoutCmd
defaultStartRoutCmd setStorageIpAddress _agentIp defaultStartRoutCmd setPool _clusterGuid s_logger debug _agentIp defaultStartRoutCmd setVersion getClass getPackage getImplementationVersion Command startCmds requestStartupCommand Command defaultStartRoutCmd StartupRoutingCommand startCmd StartupRoutingCommand startCmds startCmd String errMsg String format _name _agentIp s_logger error errMsg startCmd getDataCenter defaultStartRoutCmd getDataCenter String errMsg String format defaultStartRoutCmd getDataCenter startCmd getDataCenter _name _agentIp s_logger error errMsg startCmd defaultStartRoutCmd
Command startCmds requestStartupCommand Command defaultStartRoutCmd StartupRoutingCommand startCmd StartupRoutingCommand startCmds startCmd String errMsg String format _name _agentIp s_logger error errMsg startCmd getDataCenter defaultStartRoutCmd getDataCenter String errMsg String format defaultStartRoutCmd getDataCenter startCmd getDataCenter _name _agentIp s_logger error errMsg startCmd getPod defaultStartRoutCmd getPod String errMsg String format defaultStartRoutCmd getPod startCmd getPod _name _agentIp s_logger error errMsg startCmd defaultStartRoutCmd
s_logger error errMsg startCmd getDataCenter defaultStartRoutCmd getDataCenter String errMsg String format defaultStartRoutCmd getDataCenter startCmd getDataCenter _name _agentIp s_logger error errMsg startCmd getPod defaultStartRoutCmd getPod String errMsg String format defaultStartRoutCmd getPod startCmd getPod _name _agentIp s_logger error errMsg startCmd getCluster defaultStartRoutCmd getCluster String errMsg String format defaultStartRoutCmd getCluster startCmd getCluster _name _agentIp s_logger error errMsg startCmd defaultStartRoutCmd
String errMsg String format defaultStartRoutCmd getDataCenter startCmd getDataCenter _name _agentIp s_logger error errMsg startCmd getPod defaultStartRoutCmd getPod String errMsg String format defaultStartRoutCmd getPod startCmd getPod _name _agentIp s_logger error errMsg startCmd getCluster defaultStartRoutCmd getCluster String errMsg String format defaultStartRoutCmd getCluster startCmd getCluster _name _agentIp s_logger error errMsg startCmd getGuid defaultStartRoutCmd getGuid String errMsg String format defaultStartRoutCmd getGuid startCmd getGuid _name _agentIp s_logger error errMsg
startCmd getPod defaultStartRoutCmd getPod String errMsg String format defaultStartRoutCmd getPod startCmd getPod _name _agentIp s_logger error errMsg startCmd getCluster defaultStartRoutCmd getCluster String errMsg String format defaultStartRoutCmd getCluster startCmd getCluster _name _agentIp s_logger error errMsg startCmd getGuid defaultStartRoutCmd getGuid String errMsg String format defaultStartRoutCmd getGuid startCmd getGuid _name _agentIp s_logger error errMsg startCmd getPrivateIpAddress defaultStartRoutCmd getPrivateIpAddress String errMsg String format defaultStartRoutCmd getPrivateIpAddress startCmd getPrivateIpAddress _name _agentIp s_logger error errMsg
startCmd getGuid defaultStartRoutCmd getGuid String errMsg String format defaultStartRoutCmd getGuid startCmd getGuid _name _agentIp s_logger error errMsg startCmd getPrivateIpAddress defaultStartRoutCmd getPrivateIpAddress String errMsg String format defaultStartRoutCmd getPrivateIpAddress startCmd getPrivateIpAddress _name _agentIp s_logger error errMsg startCmd getName defaultStartRoutCmd getName String errMsg String format startCmd getName defaultStartRoutCmd getName _name _agentIp s_logger error errMsg StartupStorageCommand storePoolCmd
String errMsg String format defaultStartRoutCmd getGuid startCmd getGuid _name _agentIp s_logger error errMsg startCmd getPrivateIpAddress defaultStartRoutCmd getPrivateIpAddress String errMsg String format defaultStartRoutCmd getPrivateIpAddress startCmd getPrivateIpAddress _name _agentIp s_logger error errMsg startCmd getName defaultStartRoutCmd getName String errMsg String format startCmd getName defaultStartRoutCmd getName _name _agentIp s_logger error errMsg StartupStorageCommand storePoolCmd startCmds storePoolCmd StartupStorageCommand startCmds storePoolCmd
s_logger error errMsg startCmd getPrivateIpAddress defaultStartRoutCmd getPrivateIpAddress String errMsg String format defaultStartRoutCmd getPrivateIpAddress startCmd getPrivateIpAddress _name _agentIp s_logger error errMsg startCmd getName defaultStartRoutCmd getName String errMsg String format startCmd getName defaultStartRoutCmd getName _name _agentIp s_logger error errMsg StartupStorageCommand storePoolCmd startCmds storePoolCmd StartupStorageCommand startCmds storePoolCmd String frmtStr
agentUri URI _agentIp _port HOST_VM_STATE_REPORT_COMMAND e String errMsg s_logger error errMsg e String incomingCmd postHttpRequest agentUri incomingCmd ArrayList Map String String result result incomingCmd ArrayList String String String errMsg incomingCmd
String cmdName StartupCommand getName agentUri URI _agentIp _port cmdName e String errMsg s_logger error errMsg e String incomingCmd postHttpRequest s_gson toJson cmd agentUri incomingCmd Command result result s_gson fromJson incomingCmd Command String errMsg incomingCmd
URI agentUri String cmdName cmd getClass getName agentUri URI _agentIp _port cmdName e String errMsg s_logger error errMsg e cleanPassword cmd getSrcTO getDataStore cleanPassword cmd getDestTO getDataStore String ansStr postHttpRequest s_gson toJson cmd agentUri ansStr Answer createUnsupportedCommandAnswer cmd Answer result s_gson fromJson ansStr Answer String logResult cleanPassword s_gson toJson result
s_logger s_logger info s_gson toJson cmd String vmName cmd getVmName NicTO nic cmd getNic URI broadcastUri nic getBroadcastUri BroadcastDomainType broadcastUri BroadcastDomainType InternalErrorException nic getBroadcastUri String vlanId BroadcastDomainType getValue broadcastUri publicNicInfo publicNicInfo getVmNics vmName vlanId publicNicInfo modifyNicVlan vmName publicNicInfo UnPlugNicAnswer cmd
String String String Pair Boolean String result
cmd IpAddressTO ips cmd getIpAddresses String routerName cmd getAccessDetail NetworkElementCommand ROUTER_NAME String controlIp getRouterSshControlIp cmd IpAddressTO ip ips URI broadcastUri BroadcastDomainType fromString ip getBroadcastUri BroadcastDomainType broadcastUri BroadcastDomainType InternalErrorException ip getBroadcastUri String vlanId BroadcastDomainType getValue broadcastUri publicNicInfo publicNicInfo getVmNics routerName vlanId addVif ip publicNicInfo
ip URI broadcastUri BroadcastDomainType fromString ip getBroadcastUri BroadcastDomainType broadcastUri BroadcastDomainType InternalErrorException ip getBroadcastUri String vlanId BroadcastDomainType getValue broadcastUri publicNicInfo publicNicInfo getVmNics routerName vlanId publicNicInfo ip InternalErrorException s_logger debug ip setNicDevId publicNicInfo
cmd String controlIp getRouterSshControlIp cmd StringBuffer argsBuf StringBuffer cmd argsBuf append append cmd getIpRange append append cmd getPresharedKey append append cmd getVpnServerIp append append cmd getLocalIp append argsBuf append append append cmd getVpnServerIp argsBuf append append cmd getLocalCidr argsBuf append append cmd getPublicInterface String command String format VRScripts VPN_L2TP argsBuf toString s_logger s_logger debug command Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result
cmd argsBuf append append cmd getIpRange append append cmd getPresharedKey append append cmd getVpnServerIp append append cmd getLocalIp append argsBuf append append append cmd getVpnServerIp argsBuf append append cmd getLocalCidr argsBuf append append cmd getPublicInterface String command String format VRScripts VPN_L2TP argsBuf toString s_logger s_logger debug command Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error result second Answer cmd result second s_logger
argsBuf append append cmd getLocalCidr argsBuf append append cmd getPublicInterface String command String format VRScripts VPN_L2TP argsBuf toString s_logger s_logger debug command Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error result second Answer cmd result second s_logger s_logger info argsBuf toString e e s_logger warn e getMessage
userpwd argsBuf append append userpwd getUsername argsBuf append append userpwd getUsernamePassword s_logger s_logger debug Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile argsBuf toString result s_logger error result second Answer cmd result second e e s_logger warn e getMessage String msg e getMessage
s_logger info s_gson toJson cmd endResult String controlIp getRouterSshControlIp cmd String args String results String cmd getStaticRoutes length i String rules cmd generateSRouteRules StringBuilder sb StringBuilder j j rules length j sb append rules j append args sb toString String command String format VRScripts VPC_STATIC_ROUTE args Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command s_logger
endResult String controlIp getRouterSshControlIp cmd String args String results String cmd getStaticRoutes length i String rules cmd generateSRouteRules StringBuilder sb StringBuilder j j rules length j sb append rules j append args sb toString String command String format VRScripts VPC_STATIC_ROUTE args Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command s_logger s_logger debug controlIp args
StringBuilder sb StringBuilder j j rules j sb append rules j append args sb toString String command String format VRScripts VPC_STATIC_ROUTE args Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command s_logger s_logger debug controlIp args result s_logger error args results i endResult results i
StringBuilder cmdline StringBuilder cmdline append cmdline append VRScripts S2SVPN_CHECK
cmd StringBuilder cmdline StringBuilder cmdline append cmdline append VRScripts S2SVPN_CHECK s_logger s_logger debug s_gson toJson cmd
cmd StringBuilder cmdline StringBuilder cmdline append cmdline append VRScripts S2SVPN_CHECK s_logger s_logger debug s_gson toJson cmd s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP cmdline toString Pair Boolean String result String controlIp getRouterSshControlIp cmd String ip cmd cmdline append cmdline append ip result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile cmdline toString result
cmdline append VRScripts S2SVPN_CHECK s_logger s_logger debug s_gson toJson cmd s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP cmdline toString Pair Boolean String result String controlIp getRouterSshControlIp cmd String ip cmd cmdline append cmdline append ip result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile cmdline toString result s_logger error cmd getAccessDetail NetworkElementCommand ROUTER_IP result second CheckS2SVpnConnectionsAnswer cmd result second s_logger
s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP cmdline toString Pair Boolean String result String controlIp getRouterSshControlIp cmd String ip cmd cmdline append cmdline append ip result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile cmdline toString result s_logger error cmd getAccessDetail NetworkElementCommand ROUTER_IP result second CheckS2SVpnConnectionsAnswer cmd result second s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP e String msg e
args args args args args cmd getPeerGatewayIp args args cmd getLocalGuestCidr args args cmd getPeerGuestCidrList Pair Boolean String result String command String format VRScripts S2SVPN_IPSEC args result SshHelper sshExecute routerIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command
args args args args cmd getPeerGatewayIp args args cmd getLocalGuestCidr args args cmd getPeerGuestCidrList Pair Boolean String result String command String format VRScripts S2SVPN_IPSEC args result SshHelper sshExecute routerIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error cmd getAccessDetail NetworkElementCommand ROUTER_IP result second
String routerName cmd getAccessDetail NetworkElementCommand ROUTER_NAME String routerIp getRouterSshControlIp cmd IpAddressTO pubIp cmd getIpAddress ethDeviceNum findRouterEthDeviceIndex routerName routerIp pubIp getVifMacAddress String args args args args pubIp getPublicIp args args ethDeviceNum String command String format VRScripts VPC_SOURCE_NAT args Pair Boolean String result SshHelper sshExecute routerIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result String msg routerIp result second
ethDeviceNum findRouterEthDeviceIndex routerName routerIp pubIp getVifMacAddress String args args args args pubIp getPublicIp args args ethDeviceNum String command String format VRScripts VPC_SOURCE_NAT args Pair Boolean String result SshHelper sshExecute routerIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result String msg routerIp result second s_logger error msg SetSourceNatAnswer cmd msg SetSourceNatAnswer cmd
String controlIp getRouterSshControlIp cmd String args String results String cmd getRules length i endResult rule cmd getRules args rule revoked args rule getProtocol toLowerCase args rule getSrcIp args rule getStringSrcPortRange args rule getDstIp args rule getStringDstPortRange Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args
String args String results String cmd getRules length i endResult rule cmd getRules args rule revoked args rule getProtocol toLowerCase args rule getSrcIp args rule getStringSrcPortRange args rule getDstIp args rule getStringDstPortRange Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args s_logger s_logger debug controlIp args
args rule getProtocol toLowerCase args rule getSrcIp args rule getStringSrcPortRange args rule getDstIp args rule getStringDstPortRange Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args s_logger s_logger debug controlIp args result s_logger error args results i endResult results i
String command String format VRScripts RVR_CHECK
cmd String command String format VRScripts RVR_CHECK s_logger s_logger debug s_gson toJson cmd
String command String format VRScripts RVR_CHECK s_logger s_logger debug s_gson toJson cmd s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP command Pair Boolean String result String controlIp getRouterSshControlIp cmd result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error cmd getAccessDetail NetworkElementCommand ROUTER_IP result second CheckRouterAnswer cmd result second s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP e String msg e getMessage
String args String results String cmd getRules length i endResult rule cmd getRules args rule revoked args rule getSrcIp args rule getDstIp rule getProtocol args rule getProtocol toLowerCase args rule getStringSrcPortRange args String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args
String results String cmd getRules length i endResult rule cmd getRules args rule revoked args rule getSrcIp args rule getDstIp rule getProtocol args rule getProtocol toLowerCase args rule getStringSrcPortRange args String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args
args rule getDstIp rule getProtocol args rule getProtocol toLowerCase args rule getStringSrcPortRange args String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args s_logger s_logger debug controlIp args result s_logger error args results i endResult
cmd cmd getAccessDetail NetworkElementCommand ROUTER_IP List IpAliasTO revokedIpAliasTOs cmd getDeleteIpAliasTos List IpAliasTO activeIpAliasTOs cmd getCreateIpAliasTos
ipAliasTO args append ipAliasTO getAlias_count args append args append ipAliasTO getRouterip args append args append ipAliasTO getNetmask args append args append ipAliasTO args append ipAliasTO getAlias_count args append args append ipAliasTO getRouterip args append args append ipAliasTO getNetmask args append
args append ipAliasTO getNetmask args append args append ipAliasTO args append ipAliasTO getAlias_count args append args append ipAliasTO getRouterip args append args append ipAliasTO getNetmask args append s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP args String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args
args append ipAliasTO args append ipAliasTO getAlias_count args append args append ipAliasTO getRouterip args append args append ipAliasTO getNetmask args append s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP args String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args result s_logger error controlIp result second
s_logger s_logger info cmd getVmName cmd getVmIpAddress StringUtils getMaskedPasswordForDisplay cmd getPassword String controlIp getRouterSshControlIp cmd String password cmd getPassword String vmIpAddress cmd getVmIpAddress String command String format VRScripts PASSWORD vmIpAddress password s_logger String debugCommand String format VRScripts PASSWORD vmIpAddress StringUtils getMaskedPasswordForDisplay cmd getPassword s_logger debug controlIp debugCommand Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error controlIp result second Answer cmd result second s_logger
String controlIp getRouterSshControlIp cmd String password cmd getPassword String vmIpAddress cmd getVmIpAddress String command String format VRScripts PASSWORD vmIpAddress password s_logger String debugCommand String format VRScripts PASSWORD vmIpAddress StringUtils getMaskedPasswordForDisplay cmd getPassword s_logger debug controlIp debugCommand Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error controlIp result second Answer cmd result second s_logger s_logger info controlIp
args StringBuilder sb StringBuilder String fwRules rules fwRules i i fwRules i sb append fwRules i append args sb toString Pair Boolean String result result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args
args StringBuilder sb StringBuilder String fwRules rules fwRules i i fwRules i sb append fwRules i append args sb toString Pair Boolean String result result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args
StringBuilder sb StringBuilder String fwRules rules fwRules i i fwRules i sb append fwRules i append args sb toString Pair Boolean String result result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args s_logger s_logger debug controlIp args
sb append fwRules i append args sb toString Pair Boolean String result result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args s_logger s_logger debug controlIp args s_logger debug controlIp args result s_logger error args
s_logger s_logger info s_gson toJson cmd String controlIp getRouterSshControlIp cmd Map String List String data HashMap String List String data put cmd getVmIpAddress cmd getVmData String json Gson toJson data s_logger debug json json Base64 encodeBase64String json getBytes Charset forName String command String format VRScripts VMDATA json Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error controlIp result second Answer cmd result second s_logger
String controlIp getRouterSshControlIp cmd Map String List String data HashMap String List String data put cmd getVmIpAddress cmd getVmData String json Gson toJson data s_logger debug json json Base64 encodeBase64String json getBytes Charset forName String command String format VRScripts VMDATA json Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error controlIp result second Answer cmd result second s_logger s_logger info controlIp
cmd getVmIpAddress args cmd getVmIpAddress args cmd getVmName cmd getDefaultRouter args cmd getDefaultRouter cmd getDefaultDns args cmd getDefaultDns cmd getStaticRoutes args cmd getStaticRoutes cmd getVmIp6Address args cmd getVmIp6Address args cmd getDuid cmd args String command String format VRScripts DHCP args
args cmd getDefaultRouter cmd getDefaultDns args cmd getDefaultDns cmd getStaticRoutes args cmd getStaticRoutes cmd getVmIp6Address args cmd getVmIp6Address args cmd getDuid cmd args String command String format VRScripts DHCP args s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP command String controlIp getRouterSshControlIp cmd
args cmd getDefaultDns cmd getStaticRoutes args cmd getStaticRoutes cmd getVmIp6Address args cmd getVmIp6Address args cmd getDuid cmd args String command String format VRScripts DHCP args s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP command String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result
cmd getAccessDetail NetworkElementCommand ROUTER_IP List IpAliasTO ipAliasTOs cmd getIpAliasList StringBuilder args StringBuilder IpAliasTO ipaliasto ipAliasTOs args append ipaliasto getAlias_count args append args append ipaliasto getRouterip args append args append ipaliasto getNetmask args append s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP args String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args
ipaliasto args append ipaliasto getAlias_count args append args append ipaliasto getRouterip args append args append ipaliasto getNetmask args append s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP args String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args result s_logger error controlIp result second Answer cmd result second
args append ipaliasto getRouterip args append args append ipaliasto getNetmask args append s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP args String controlIp getRouterSshControlIp cmd Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args result s_logger error controlIp result second Answer cmd result second s_logger s_logger info controlIp
String String routerIp String mac s_logger info mac Pair Boolean String result SshHelper sshExecute routerIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile startTick System currentTimeMillis System currentTimeMillis startTick result String tokens result second split String token tokens token token token String cmd String format token s_logger
Pair String String routerIp s_logger info Pair Boolean String result SshHelper sshExecute routerIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile startTick System currentTimeMillis System currentTimeMillis startTick result result second String tokens result second split String token tokens token token token String cmd String format token s_logger
cmd s_logger s_logger info s_gson toJson cmd i String results String cmd getIpAddresses length IpAddressTO ips cmd getIpAddresses String routerName cmd getAccessDetail NetworkElementCommand ROUTER_NAME String controlIp getRouterSshControlIp cmd IpAddressTO ip ips assignPublicIpAddress routerName controlIp ip getPublicIp ip isAdd ip isFirstIP ip isSourceNat ip getBroadcastUri ip getVlanGateway ip getVlanNetmask ip getVifMacAddress results i ip getPublicIp i cmd getIpAddresses length i results i IpAssocAnswer errorResult
String command String format VRScripts VERSION
cmd String command String format VRScripts VERSION s_logger s_logger debug s_gson toJson cmd
String command String format VRScripts VERSION s_logger s_logger debug s_gson toJson cmd s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP command Pair Boolean String result String controlIp getRouterSshControlIp cmd result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result s_logger error cmd getAccessDetail NetworkElementCommand ROUTER_IP result second GetDomRVersionAnswer cmd result second s_logger s_logger debug cmd getAccessDetail NetworkElementCommand ROUTER_IP e String msg e
String NetworkElementCommand cmd String routerIp cmd getAccessDetail NetworkElementCommand ROUTER_IP String routerGuestIp cmd getAccessDetail NetworkElementCommand ROUTER_GUEST_IP String zoneNetworkType cmd getAccessDetail NetworkElementCommand ZONE_NETWORK_TYPE routerGuestIp zoneNetworkType zoneNetworkType
String controlIp getRouterSshControlIp cmd String config cmd getConfiguration config s_logger error Answer cmd String args String format config String command String format VRScripts MONITOR_SERVICE args Pair Boolean String result SshHelper sshExecute controlIp DEFAULT_DOMR_SSHPORT getSystemVMKeyFile command result String msg controlIp result second s_logger error msg Answer cmd msg Answer cmd
cmd String vmName cmd getName String privateIp cmd getIp cmdPort cmd getPort
CheckSshAnswer cmd String vmName cmd getName String privateIp cmd getIp cmdPort cmd getPort s_logger s_logger debug privateIp cmdPort String result connect cmd getName privateIp cmdPort result s_logger error vmName result CheckSshAnswer cmd vmName result e s_logger error vmName CheckSshAnswer cmd e s_logger
cmdPort cmd getPort s_logger s_logger debug privateIp cmdPort String result connect cmd getName privateIp cmdPort result s_logger error vmName result CheckSshAnswer cmd vmName result e s_logger error vmName CheckSshAnswer cmd e s_logger s_logger debug vmName vmName s_logger
args args args ethName args args ethName s_logger s_logger trace args privateIpAddress Pair Boolean String result SshHelper sshExecute privateIpAddress DEFAULT_DOMR_SSHPORT getSystemVMKeyFile args result result second
String String jsonCmd String logMessage StringEscapeUtils unescapeJava jsonCmd logMessage cleanPassword logMessage
String logMessage StringEscapeUtils unescapeJava jsonCmd logMessage cleanPassword logMessage s_logger debug agentUri toString logMessage HttpClient httpClient easyStrategy String SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_AGENT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm
s_logger debug agentUri toString logMessage HttpClient httpClient easyStrategy SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_AGENT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e
easyStrategy SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_AGENT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e s_logger error e getMessage e
SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_AGENT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage e
registry register Scheme DEFAULT_AGENT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage String result HttpPost request HttpPost agentUri StringEntity cmdJson StringEntity jsonCmd
s_logger error e getMessage e s_logger error e getMessage String result HttpPost request HttpPost agentUri StringEntity cmdJson StringEntity jsonCmd request addHeader request setEntity cmdJson s_logger debug agentUri toString logMessage HttpResponse response httpClient execute request response getStatusLine getStatusCode String errMsg response getStatusLine getStatusCode s_logger error errMsg String unsupportMsg agentUri getPath
startTick System currentTimeMillis retry _retry System currentTimeMillis startTick retry
retry _retry retry s_logger info ipAddress sch sch configureBlocking sch socket setSoTimeout InetSocketAddress addr InetSocketAddress ipAddress port sch connect addr e s_logger info ipAddress e toString e Thread sleep
VolumeTO volumeTo VolumeTO volume storagePoolDao findById volume getPoolId StorageFilerTO filerTo StorageFilerTO StoragePool entry getValue volumeToFilerto add Pair VolumeTO StorageFilerTO volumeTo filerTo MigrateWithStorageCommand command MigrateWithStorageCommand to volumeToFilerto destHost getPrivateIpAddress MigrateWithStorageAnswer answer MigrateWithStorageAnswer agentMgr send srcHost getId command answer s_logger error vm CloudRuntimeException vm destHost answer s_logger error vm answer getDetails CloudRuntimeException vm destHost answer getDetails updateVolumePathsAfterMigration volumeToPool answer getVolumeTos answer
volume getId volumeTo getId VolumeVO volumeVO volDao findById volume getId Long oldPoolId volumeVO getPoolId volumeVO setPath volumeTo getPath volumeVO setPodId pool getPodId volumeVO setPoolId pool getId volumeVO setLastPoolId oldPoolId String folder pool getPath pool folder folder folder folder substring folder indexOf volumeVO setFolder folder volDao update volume getId volumeVO updated updated
StartupRoutingCommand defaultStartRoutCmd StartupRoutingCommand Hypervisor HypervisorType Hyperv RouterPrivateIpStrategy HostLocal defaultStartRoutCmd setDataCenter defaultStartRoutCmd setPod defaultStartRoutCmd setCluster defaultStartRoutCmd setGuid defaultStartRoutCmd setName defaultStartRoutCmd setPrivateIpAddress defaultStartRoutCmd setStorageIpAddress defaultStartRoutCmd setCpus defaultStartRoutCmd setVersion StartupCommand scmd defaultStartRoutCmd Command cmds scmd String cmdsStr s_gson toJson cmds
StartupRoutingCommand defaultStartRoutCmd StartupRoutingCommand Hypervisor HypervisorType Hyperv RouterPrivateIpStrategy HostLocal defaultStartRoutCmd setDataCenter defaultStartRoutCmd setPod defaultStartRoutCmd setCluster defaultStartRoutCmd setGuid defaultStartRoutCmd setName defaultStartRoutCmd setPrivateIpAddress defaultStartRoutCmd setStorageIpAddress defaultStartRoutCmd setCpus defaultStartRoutCmd setVersion StartupCommand scmd defaultStartRoutCmd Command cmds scmd String cmdsStr s_gson toJson cmds s_logger debug cmdsStr Command result s_gson fromJson cmdsStr Command
StartupStorageCommand sscmd com cloud agent api StoragePoolInfo pi com cloud agent api StoragePoolInfo StoragePoolType Filesystem sscmd StartupStorageCommand sscmd setPoolInfo pi sscmd setGuid pi getUuid sscmd setDataCenter sscmd setResourceType Storage StorageResourceType STORAGE_POOL
String folderName File separator StoragePoolVO pool createTestStoragePoolVO folderName CreateStoragePoolCommand cmd CreateStoragePoolCommand pool
cmd PrimaryStorageDownloadAnswer ans PrimaryStorageDownloadAnswer s_hypervresource executeRequest cmd ans
String sample s_testLocalStoreUUID s_testLocalStorePathJSON s_testSampleTemplateURLJSON File destDir File s_testLocalStorePath Assert assertTrue destDir isDirectory File testSampleTemplateURLFile File s_testLocalStorePath File separator s_gson fromJson s_testSampleTemplateURLJSON String Assert assertTrue testSampleTemplateURLFile getPath testSampleTemplateURLFile exists fileCount destDir listFiles length
sample StartCommand cmd s_gson fromJson sample StartCommand
String sample s_testLocalStoreUUID s_testLocalStorePathJSON
List StoragePoolVO clusterPools _storagePoolDao listPoolsByCluster agent getClusterId hasNfs StoragePoolVO clusterPools hasNfs hasNfs s_logger warn agent Status Disconnected Status hostStatus Status neighbourStatus CheckOnHostCommand cmd CheckOnHostCommand agent Answer answer _agentMgr easySend agent getId cmd answer
s_logger warn agent Status Disconnected Status hostStatus Status neighbourStatus CheckOnHostCommand cmd CheckOnHostCommand agent Answer answer _agentMgr easySend agent getId cmd answer hostStatus answer getResult Status Down Status Up s_logger debug agent getId hostStatus hostStatus Status Disconnected List HostVO neighbors _resourceMgr listHostsInClusterByStatus agent getClusterId Status Up
Status hostStatus Status neighbourStatus CheckOnHostCommand cmd CheckOnHostCommand agent Answer answer _agentMgr easySend agent getId cmd answer hostStatus answer getResult Status Down Status Up s_logger debug agent getId hostStatus hostStatus Status Disconnected List HostVO neighbors _resourceMgr listHostsInClusterByStatus agent getClusterId Status Up HostVO neighbors getId agent getId
Answer answer _agentMgr easySend agent getId cmd answer hostStatus answer getResult Status Down Status Up s_logger debug agent getId hostStatus hostStatus Status Disconnected List HostVO neighbors _resourceMgr listHostsInClusterByStatus agent getClusterId Status Up HostVO neighbor neighbors neighbor getId agent getId neighbor neighbor s_logger debug agent getId neighbor getId Answer answer _agentMgr easySend neighbor getId cmd answer
s_logger debug agent getId hostStatus hostStatus Status Disconnected List HostVO neighbors _resourceMgr listHostsInClusterByStatus agent getClusterId Status Up HostVO neighbor neighbors neighbor getId agent getId neighbor neighbor s_logger debug agent getId neighbor getId Answer answer _agentMgr easySend neighbor getId cmd answer neighbourStatus answer getResult Status Down Status Up s_logger debug neighbor getId neighbourStatus agent getId neighbourStatus Status Up
File dir File File netdevs dir listFiles List String bridges ArrayList String File netdev netdevs File isbridge File netdev getAbsolutePath String netdevName netdev getName
File dir File File netdevs dir listFiles List String bridges ArrayList String File netdev netdevs File isbridge File netdev getAbsolutePath String netdevName netdev getName s_logger debug netdev getAbsolutePath isbridge
s_logger debug netdev getAbsolutePath s_logger debug netdevName bridges add netdevName String guestBridgeName _libvirtComputingResource getGuestBridgeName String publicBridgeName _libvirtComputingResource getPublicBridgeName String bridge bridges s_logger debug bridge String pif getPif bridge _libvirtComputingResource bridge _pifs put pif guestBridgeName bridge guestBridgeName _pifs put pif _pifs put bridge pif _pifs
bridges add netdevName String guestBridgeName _libvirtComputingResource getGuestBridgeName String publicBridgeName _libvirtComputingResource getPublicBridgeName String bridge bridges s_logger debug bridge String pif getPif bridge _libvirtComputingResource bridge _pifs put pif guestBridgeName bridge guestBridgeName _pifs put pif _pifs put bridge pif _pifs s_logger debug guestBridgeName File dev File guestBridgeName dev
String guestBridgeName _libvirtComputingResource getGuestBridgeName String publicBridgeName _libvirtComputingResource getPublicBridgeName String bridge s_logger debug bridge String pif getPif bridge _libvirtComputingResource bridge _pifs put pif guestBridgeName bridge guestBridgeName _pifs put pif _pifs put bridge pif _pifs s_logger debug guestBridgeName File dev File guestBridgeName dev s_logger debug guestBridgeName
s_logger debug bridge String pif getPif bridge bridge _pifs put pif guestBridgeName bridge guestBridgeName _pifs put pif _pifs put bridge pif _pifs s_logger debug guestBridgeName File dev File guestBridgeName dev s_logger debug guestBridgeName _pifs put guestBridgeName _pifs s_logger debug publicBridgeName
nic s_logger s_logger debug nic
LibvirtVMDef InterfaceDef intf LibvirtVMDef InterfaceDef String vNetId String protocol nic vNetId Networks BroadcastDomainType getValue nic getBroadcastUri protocol Networks BroadcastDomainType getSchemeValue nic getBroadcastUri scheme nic Networks BroadcastDomainType InternalErrorException String trafficLabel nic getName Integer networkRateKBps networkRateKBps nic getNetworkRateMbps nic getNetworkRateMbps intValue nic getNetworkRateMbps intValue nic Networks nic vNetId protocol trafficLabel trafficLabel
trafficLabel trafficLabel s_logger debug trafficLabel String brName createVnetBr vNetId trafficLabel protocol intf defBridgeNet brName nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps String brName createVnetBr vNetId protocol intf defBridgeNet brName nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps String brname trafficLabel trafficLabel brname trafficLabel brname _bridges get intf defBridgeNet brname nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps nic
Pattern oldStyleBrNameRegex Pattern compile Pattern brNameRegex Pattern compile Matcher oldStyleBrNameMatcher oldStyleBrNameRegex matcher brName Matcher brNameMatcher brNameRegex matcher brName String pName String vNetId oldStyleBrNameMatcher pName vNetId oldStyleBrNameMatcher group brNameMatcher brNameMatcher group brNameMatcher group pName brNameMatcher group pName vNetId brNameMatcher group
pName vNetId brNameMatcher group vNetId vNetId s_logger debug brName String scriptPath scriptPath _modifyVxlanPath scriptPath _modifyVlanPath Script command Script scriptPath _timeout s_logger command add command add vNetId command add pName
vNetId Networks BroadcastDomainType getValue nic getBroadcastUri protocol Networks BroadcastDomainType getSchemeValue nic getBroadcastUri scheme String vlanId String logicalSwitchUuid nic Networks BroadcastDomainType vlanId Networks BroadcastDomainType getValue nic getBroadcastUri nic Networks BroadcastDomainType logicalSwitchUuid Networks BroadcastDomainType getValue nic getBroadcastUri nic Networks BroadcastDomainType vlanId NetUtils getPrimaryPvlanFromUri nic getBroadcastUri String trafficLabel nic getName Integer networkRateKBps nic getNetworkRateMbps nic getNetworkRateMbps intValue nic getNetworkRateMbps intValue nic Networks nic Networks BroadcastDomainType nic Networks BroadcastDomainType vlanId trafficLabel trafficLabel
nic vlanId NetUtils getPrimaryPvlanFromUri nic getBroadcastUri String trafficLabel nic getName Integer networkRateKBps nic getNetworkRateMbps nic getNetworkRateMbps intValue nic getNetworkRateMbps intValue nic nic nic vlanId trafficLabel trafficLabel s_logger debug trafficLabel intf defEthernet nic getUuid substring nic getMac getGuestNicModel guestOsType nicAdapter _ivsIfUpPath networkRateKBps InternalErrorException nic createControlNetwork intf defBridgeNet _bridges get nic getMac getGuestNicModel guestOsType nicAdapter nic
Pattern oldStyleBrNameRegex Pattern compile Pattern brNameRegex Pattern compile Matcher oldStyleBrNameMatcher oldStyleBrNameRegex matcher brName Matcher brNameMatcher brNameRegex matcher brName String pName String vNetId oldStyleBrNameMatcher pName vNetId oldStyleBrNameMatcher group brNameMatcher brNameMatcher group brNameMatcher group pName brNameMatcher group pName vNetId brNameMatcher group
pName vNetId brNameMatcher group vNetId vNetId s_logger debug brName String scriptPath scriptPath _modifyVxlanPath scriptPath _modifyVlanPath Script command Script scriptPath _timeout s_logger command add command add vNetId command add pName
String String guestOsName String guestOS s_mapper get guestOsName guestOS
pool LibvirtConnection getConnection storagePoolLookupByUUIDString storagePool _poolUUID pool StoragePoolInfo spi pool getInfo spi pool create poolName pool getName e s_logger debug e pool pool free e
Boolean List Boolean results ArrayList Boolean pool Script cmd Script s_heartBeatPath _heartBeatCheckerTimeout s_logger cmd add pool _poolIp cmd add pool _poolMountSourcePath cmd add pool _mountDestPath cmd add _hostIP cmd add cmd add String valueOf _heartBeatUpdateFreq OutputInterpreter OneLineParser parser OutputInterpreter OneLineParser String result cmd execute parser
Boolean List Boolean results ArrayList Boolean pool Script cmd Script s_heartBeatPath _heartBeatCheckerTimeout s_logger cmd add pool _poolIp cmd add pool _poolMountSourcePath cmd add pool _mountDestPath cmd add _hostIP cmd add cmd add String valueOf _heartBeatUpdateFreq OutputInterpreter OneLineParser parser OutputInterpreter OneLineParser String result cmd execute parser s_logger debug pool _poolIp
Boolean List Boolean results ArrayList Boolean pool Script cmd Script s_heartBeatPath _heartBeatCheckerTimeout s_logger cmd add pool _poolIp cmd add pool _poolMountSourcePath cmd add pool _mountDestPath cmd add _hostIP cmd add cmd add String valueOf _heartBeatUpdateFreq OutputInterpreter OneLineParser parser OutputInterpreter OneLineParser String result cmd execute parser s_logger debug pool _poolIp s_logger debug result
Script cmd Script vmActivityCheckPath activityScriptTimeout getStandardSeconds LOG cmd add nfsStoragePool _poolIp cmd add nfsStoragePool _poolMountSourcePath cmd add nfsStoragePool _mountDestPath cmd add hostIP cmd add volumeUuidList cmd add String valueOf String valueOf System currentTimeMillis cmd add String valueOf suspectTimeInSeconds OutputInterpreter OneLineParser parser OutputInterpreter OneLineParser String result cmd execute parser
Script cmd Script vmActivityCheckPath activityScriptTimeout getStandardSeconds LOG cmd add nfsStoragePool _poolIp cmd add nfsStoragePool _poolMountSourcePath cmd add nfsStoragePool _mountDestPath cmd add hostIP cmd add volumeUuidList cmd add String valueOf String valueOf System currentTimeMillis cmd add String valueOf suspectTimeInSeconds OutputInterpreter OneLineParser parser OutputInterpreter OneLineParser String result cmd execute parser LOG debug nfsStoragePool _poolIp
Script cmd Script vmActivityCheckPath activityScriptTimeout getStandardSeconds LOG cmd add nfsStoragePool _poolIp cmd add nfsStoragePool _poolMountSourcePath cmd add nfsStoragePool _mountDestPath cmd add hostIP cmd add volumeUuidList cmd add String valueOf String valueOf System currentTimeMillis cmd add String valueOf suspectTimeInSeconds OutputInterpreter OneLineParser parser OutputInterpreter OneLineParser String result cmd execute parser LOG debug nfsStoragePool _poolIp LOG debug result
String routerIp String String filename String File permKey File success String details routerIp filename
value String params get value _agentHooksLibvirtXmlScript value s_logger debug _agentHooksLibvirtXmlScript value String params get value _agentHooksLibvirtXmlMethod value s_logger debug _agentHooksLibvirtXmlMethod value String params get value _agentHooksVmOnStartScript value s_logger debug _agentHooksVmOnStartScript value String params get value _agentHooksVmOnStartMethod value
File dir File File netdevs dir listFiles List String bridges ArrayList String i i netdevs i File isbridge File netdevs i getAbsolutePath String netdevName netdevs i getName s_logger debug netdevs i getAbsolutePath isbridge
s_logger debug netdevName bridges add netdevName String bridge bridges s_logger debug bridge String pif getPif bridge bridge _pifs put pif bridge _pifs put pif _pifs put bridge pif _pifs s_logger debug _guestBridgeName File dev File _guestBridgeName dev
s_logger debug bridge String pif getPif bridge bridge _pifs put pif bridge _pifs put pif _pifs put bridge pif _pifs s_logger debug _guestBridgeName File dev File _guestBridgeName dev s_logger debug _guestBridgeName _pifs put _guestBridgeName _pifs s_logger debug _publicBridgeName
String cmdout Script runSimpleBashScript
String cmdout Script runSimpleBashScript s_logger debug cmdout List String bridges Arrays asList cmdout split String bridges
String vmName String cmdLine Script command Script _patchScriptPath s_logger String result command add vmName command add cmdLine result command execute result
String bridge findOrCreateTunnelNetwork bridge Script cmd Script _ovsTunnelPath _timeout s_logger cmd add cmd add bridge String result cmd execute result
KVMPhysicalDisk templateVol KVMStoragePool secondaryPool secondaryPool _storagePoolMgr getStoragePoolByURI mountpoint secondaryPool refresh List KVMPhysicalDisk disks secondaryPool listPhysicalDisks disks disks s_logger error secondaryPool getUuid KVMPhysicalDisk disk disks disk templateVol disk templateVol
String String brName String pif matchPifFileInDirectory brName Pattern pattern Pattern compile Matcher matcher pattern matcher pif
Pattern pattern Pattern compile Matcher matcher pattern matcher pif s_logger debug pif brName matcher brName BroadcastDomainType Vxlan toUri matcher group toString matcher group BroadcastDomainType Vlan toUri matcher group toString matcher group BroadcastDomainType Vlan toUri matcher group toString s_logger debug brName pif
pluggedNic String pluggedVlanBr pluggedNic getBrName String pluggedVlanId getBroadcastUriFromBridge pluggedVlanBr pubVlan pluggedVlanBr pluggedVlanBr pluggedVlanId ExecutionResult pluggedVlanBr pubVlan routerName pluggedVlanId pubVlan devNum pubIP setNicDevId devNum ExecutionResult e String msg e toString
Integer devNum macAddressToNicNumPair second IpAddressTO ips cmd getIpAddresses nicNum IpAddressTO ip ips newNic macAddressToNicNum ip getVifMacAddress VifHotPlug conn routerName ip getBroadcastUri ip getVifMacAddress macAddressToNicNum put ip getVifMacAddress devNum newNic nicNum macAddressToNicNum get ip getVifMacAddress networkUsage routerIp nicNum ip setNicDevId nicNum ip setNewNic newNic ExecutionResult
ip newNic macAddressToNicNum ip getVifMacAddress VifHotPlug conn routerName ip getBroadcastUri ip getVifMacAddress macAddressToNicNum put ip getVifMacAddress devNum newNic nicNum macAddressToNicNum get ip getVifMacAddress networkUsage routerIp nicNum ip setNicDevId nicNum ip setNewNic newNic ExecutionResult e s_logger error e ExecutionResult e getMessage e
Pair Map String Integer Integer macAddressToNicNumPair getMacAddressToNicNumPair conn routerName Map String Integer macAddressToNicNum macAddressToNicNumPair first Integer devNum macAddressToNicNumPair second IpAddressTO ips cmd getIpAddresses nicNum IpAddressTO ip ips macAddressToNicNum ip getVifMacAddress VifHotPlug conn routerName ip getBroadcastUri ip getVifMacAddress macAddressToNicNum put ip getVifMacAddress devNum nicNum macAddressToNicNum get ip getVifMacAddress ip nicNum vifHotUnPlug conn routerName ip getVifMacAddress networkUsage routerIp nicNum
IpAddressTO ips cmd getIpAddresses nicNum IpAddressTO ip ips macAddressToNicNum ip getVifMacAddress VifHotPlug conn routerName ip getBroadcastUri ip getVifMacAddress macAddressToNicNum put ip getVifMacAddress devNum nicNum macAddressToNicNum get ip getVifMacAddress ip nicNum vifHotUnPlug conn routerName ip getVifMacAddress networkUsage routerIp nicNum e s_logger error e ExecutionResult e getMessage e
getUsage add getUsage add privateIpAddress getUsage add getUsage add getUsage add getUsage add vif getUsage add vif OutputInterpreter OneLineParser usageParser OutputInterpreter OneLineParser String result getUsage execute usageParser result
getUsage add publicIp getUsage add getUsage add getUsage add vpcCIDR getUsage add getUsage add getUsage add OutputInterpreter OneLineParser usageParser OutputInterpreter OneLineParser String result getUsage execute usageParser result
vmTO CpuTuneDef vmTO vmTO getCpuQuotaPercentage Double cpuQuotaPercentage vmTO getCpuQuotaPercentage period CpuTuneDef DEFAULT_PERIOD quota period cpuQuotaPercentage quota CpuTuneDef
vmTO CpuTuneDef vmTO vmTO getCpuQuotaPercentage Double cpuQuotaPercentage vmTO getCpuQuotaPercentage period CpuTuneDef DEFAULT_PERIOD quota period cpuQuotaPercentage quota CpuTuneDef MIN_QUOTA s_logger info quota CpuTuneDef MIN_QUOTA vmTO getUuid quota CpuTuneDef MIN_QUOTA period quota cpuQuotaPercentage period CpuTuneDef
features LibvirtVMDef HyperVEnlightenmentFeatureDef hyv LibvirtVMDef HyperVEnlightenmentFeatureDef hyv setFeature hyv setFeature hyv setFeature hyv setRetries features addHyperVFeature hyv
disk String path disk getDiskPath path
conn vmName Domain dm dm conn domainLookupByName vmName
HashMap String HostVmStateReportEntry vmStates HashMap String HostVmStateReportEntry Connect conn HypervisorType LXC conn LibvirtConnection getConnectionByType HypervisorType LXC toString vmStates putAll getHostVmStateReport conn conn LibvirtConnection getConnectionByType HypervisorType KVM toString vmStates putAll getHostVmStateReport conn e s_logger debug e getMessage HypervisorType KVM conn LibvirtConnection getConnectionByType HypervisorType KVM toString vmStates putAll getHostVmStateReport conn e
String conn String vmName Domain dm String msg dm conn domainLookupByName vmName String vmDef dm getXMLDesc LibvirtDomainXMLParser parser LibvirtDomainXMLParser parser parseDomainXML vmDef nic parser nic nic getBrName vnetId Integer parseInt nic getBrName replaceFirst String pifName getPif _guestBridgeName String newBrName pifName vnetId vmDef vmDef replace nic getBrName newBrName
dm undefine dm dm shutdown retry _stopTimeout dm retry Thread sleep retry e String error e toString error s_logger debug vmName
retry _stopTimeout retry Thread sleep retry e String error e toString error s_logger debug vmName s_logger debug error retry s_logger warn vmName Script ERR_TIMEOUT
Thread sleep retry e String error e toString error s_logger debug vmName s_logger debug error retry s_logger warn vmName Script ERR_TIMEOUT dm undefine e
NicTO nicTOs NicTO
conn vm NicTO nicTOs NicTO vm vm getNics s_logger debug vm getName nicTOs vm getNics NicTO nic nicTOs vm nic setPxeDisable isFirstNic NicTO nic nicTOs nic nic nic vm configureDefaultNetworkRulesForSystemVm conn vm getName conn vm getName vm nic isFirstNic
vmsnapshots String currentSnapshotName DomainSnapshot snapshotCurrent dm snapshotCurrent String snapshotXML snapshotCurrent getXMLDesc snapshotCurrent free DocumentBuilder builder builder DocumentBuilderFactory newInstance newDocumentBuilder InputSource is InputSource is setCharacterStream StringReader snapshotXML Document doc builder parse is Element rootElement doc getDocumentElement currentSnapshotName getTagValue rootElement
String currentSnapshotName DomainSnapshot snapshotCurrent dm snapshotCurrent String snapshotXML snapshotCurrent getXMLDesc snapshotCurrent free DocumentBuilder builder builder DocumentBuilderFactory newInstance newDocumentBuilder InputSource is InputSource is setCharacterStream StringReader snapshotXML Document doc builder parse is Element rootElement doc getDocumentElement currentSnapshotName getTagValue rootElement e s_logger debug e toString
DomainSnapshot snapshotCurrent dm snapshotCurrent String snapshotXML snapshotCurrent getXMLDesc snapshotCurrent free DocumentBuilder builder builder DocumentBuilderFactory newInstance newDocumentBuilder InputSource is InputSource is setCharacterStream StringReader snapshotXML Document doc builder parse is Element rootElement doc getDocumentElement currentSnapshotName getTagValue rootElement e s_logger debug e toString e s_logger debug e toString
String vmName String Boolean String s_logger debug vmName String Boolean String vmsnapshot String snapshotName vmsnapshot first Boolean isCurrent vmsnapshot second String snapshotXML vmsnapshot third
Connect hypervisorURI s_logger debug hypervisorURI Connect conn s_connections get hypervisorURI conn s_logger info conn Connect hypervisorURI
format format port String path getAttrValue source Element target Element rootElement getElementsByTagName item String targetPath getTagValue target String portValue getAttrValue source portValue portValue isEmpty port Integer parseInt portValue LibvirtStoragePoolDef LibvirtStoragePoolDef PoolType valueOf format toUpperCase poolName uuid host port path targetPath String path getAttrValue source Element target Element rootElement getElementsByTagName item String targetPath getTagValue target LibvirtStoragePoolDef LibvirtStoragePoolDef PoolType valueOf type toUpperCase poolName uuid host path targetPath e s_logger debug e toString
format format port String path getAttrValue source Element target Element rootElement getElementsByTagName item String targetPath getTagValue target String portValue getAttrValue source portValue portValue isEmpty port Integer parseInt portValue LibvirtStoragePoolDef LibvirtStoragePoolDef PoolType valueOf format toUpperCase poolName uuid host port path targetPath String path getAttrValue source Element target Element rootElement getElementsByTagName item String targetPath getTagValue target LibvirtStoragePoolDef LibvirtStoragePoolDef PoolType valueOf type toUpperCase poolName uuid host path targetPath e s_logger debug e toString
DocumentBuilder builder builder DocumentBuilderFactory newInstance newDocumentBuilder InputSource is InputSource is setCharacterStream StringReader volXML Document doc builder parse is Element rootElement doc getDocumentElement String VolName getTagValue rootElement Element target Element rootElement getElementsByTagName item String format getAttrValue target Long capacity Long parseLong getTagValue rootElement LibvirtStorageVolumeDef VolName capacity LibvirtStorageVolumeDef VolumeFormat getFormat format e s_logger debug e toString e
builder DocumentBuilderFactory newInstance newDocumentBuilder InputSource is InputSource is setCharacterStream StringReader volXML Document doc builder parse is Element rootElement doc getDocumentElement String VolName getTagValue rootElement Element target Element rootElement getElementsByTagName item String format getAttrValue target Long capacity Long parseLong getTagValue rootElement LibvirtStorageVolumeDef VolName capacity LibvirtStorageVolumeDef VolumeFormat getFormat format e s_logger debug e toString e s_logger debug e toString e
String cmdout Script runSimpleBashScript
String cmdout Script runSimpleBashScript s_logger debug cmdout List String bridges Arrays asList cmdout split String bridges
String vlanId String logicalSwitchUuid nic Networks BroadcastDomainType vlanId Networks BroadcastDomainType getValue nic getBroadcastUri nic Networks BroadcastDomainType logicalSwitchUuid Networks BroadcastDomainType getValue nic getBroadcastUri nic Networks BroadcastDomainType vlanId NetUtils getPrimaryPvlanFromUri nic getBroadcastUri String trafficLabel nic getName nic Networks Integer networkRateKBps nic getNetworkRateMbps nic getNetworkRateMbps intValue nic getNetworkRateMbps intValue nic Networks BroadcastDomainType nic Networks BroadcastDomainType vlanId trafficLabel trafficLabel nic plugDPDKInterface intf trafficLabel extraConfig vlanId guestOsType nic nicAdapter
nic vlanId NetUtils getPrimaryPvlanFromUri nic getBroadcastUri String trafficLabel nic getName nic Integer networkRateKBps nic getNetworkRateMbps nic getNetworkRateMbps intValue nic getNetworkRateMbps intValue nic nic vlanId trafficLabel trafficLabel nic plugDPDKInterface intf trafficLabel extraConfig vlanId guestOsType nic nicAdapter s_logger debug trafficLabel intf defBridgeNet _pifs get trafficLabel nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps intf setVlanTag Integer parseInt vlanId intf defBridgeNet _pifs get nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps
nic nic vlanId trafficLabel trafficLabel isEmpty nic plugDPDKInterface intf trafficLabel extraConfig vlanId guestOsType nic nicAdapter s_logger debug trafficLabel intf defBridgeNet _pifs get trafficLabel nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps intf setVlanTag Integer parseInt vlanId intf defBridgeNet _pifs get nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps intf setVlanTag Integer parseInt vlanId nic nic s_logger debug nic logicalSwitchUuid intf setVirtualPortInterfaceId nic getUuid String brName trafficLabel trafficLabel isEmpty _pifs get trafficLabel _pifs get
intf defBridgeNet _pifs get nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps intf setVlanTag Integer parseInt vlanId nic Networks BroadcastDomainType nic Networks BroadcastDomainType s_logger debug nic logicalSwitchUuid intf setVirtualPortInterfaceId nic getUuid String brName trafficLabel trafficLabel isEmpty _pifs get trafficLabel _pifs get intf defBridgeNet brName nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps nic Networks BroadcastDomainType String vnetId Networks BroadcastDomainType getValue nic getBroadcastUri String brName vnetId s_logger debug nic brName intf defBridgeNet brName nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps intf defBridgeNet _bridges get nic getMac getGuestNicModel guestOsType nicAdapter networkRateKBps
iface iface getDpdkSourcePort String dpdkPort iface getDpdkSourcePort String cmd String format dpdkPort
OutputInterpreter AllLinesParser parser OutputInterpreter AllLinesParser payload script add payload s_logger info stage script output script execute parser parser getLines script String msg scriptFile s_logger error msg success Pair msg exitValue script getExitValue exitValue CloudRuntimeException scriptFile success exitValue exitValue exitValueAvoidMaintenance setAvoidMaintenance exitValue exitValueAvoidMaintenance
script add payload s_logger info stage script output script execute parser parser getLines script String msg scriptFile s_logger error msg success Pair msg exitValue script getExitValue exitValue CloudRuntimeException scriptFile success exitValue exitValue exitValueAvoidMaintenance setAvoidMaintenance exitValue exitValueAvoidMaintenance s_logger info stage script exitValue s_logger
s_logger info stage script output script execute parser parser getLines script String msg scriptFile s_logger error msg success Pair msg exitValue script getExitValue exitValue CloudRuntimeException scriptFile success exitValue exitValue exitValueAvoidMaintenance setAvoidMaintenance exitValue exitValueAvoidMaintenance s_logger info stage script exitValue s_logger s_logger debug output
String stage scriptFile String payload String result invokeService stage scriptFile getAbsolutePath payload result result String status invokeService stage scriptFile getAbsolutePath payload String errorMsg stage status
secondaryStoragePool storagePoolMgr getStoragePoolByURI secondaryStoragePoolUrl String ssPmountPath secondaryStoragePool getLocalPath snapshotRelPath File separator File separator dcId File separator accountId File separator volumeId snapshotDestPath ssPmountPath File separator File separator dcId File separator accountId File separator volumeId KVMStoragePool primaryPool storagePoolMgr getStoragePool command getPool getType command getPrimaryStoragePoolNameLabel KVMPhysicalDisk snapshotDisk primaryPool getPhysicalDisk command getVolumePath String manageSnapshotPath libvirtComputingResource manageSnapshotPath cmdsTimeout libvirtComputingResource getCmdsTimeout primaryPool getType Rados r Rados primaryPool getAuthUserName r confSet primaryPool getSourceHost primaryPool getSourcePort r confSet primaryPool getAuthSecret r confSet r connect
primaryPool Rados r Rados primaryPool getAuthUserName r confSet primaryPool getSourceHost primaryPool getSourcePort r confSet primaryPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate primaryPool getSourceDir Rbd rbd Rbd io RbdImage image rbd open snapshotDisk getName snapshotName File fh File snapshotDestPath fh chunkSize offset
RbdImage image rbd open snapshotDisk getName snapshotName File fh File snapshotDestPath bos fh chunkSize offset s_logger debug snapshotName snapshotDestPath buf chunkSize bytes image read offset buf chunkSize bytes bos write buf bytes offset bytes s_logger debug snapshotName snapshotDestPath toHumanReadableSize offset
chunkSize offset s_logger debug snapshotName snapshotDestPath buf chunkSize bytes image read offset buf chunkSize bytes bos write buf bytes offset bytes s_logger debug snapshotName snapshotDestPath toHumanReadableSize offset ex s_logger error ex getMessage r ioCtxDestroy io
buf chunkSize bytes image read offset buf chunkSize bytes bos write buf bytes offset bytes s_logger debug snapshotName snapshotDestPath toHumanReadableSize offset ex s_logger error ex getMessage r ioCtxDestroy io e s_logger error e getMessage BackupSnapshotAnswer command e toString e
command String vmName command getName String privateIp command getIp cmdPort command getPort
command resource KVMStoragePoolManager storagePoolMgr resource getStoragePoolMgr Map String Storage StoragePoolType poolsMap command getPoolsMap String poolUuid poolsMap Storage StoragePoolType type poolsMap get poolUuid
command resource KVMStoragePoolManager storagePoolMgr resource getStoragePoolMgr Map String Storage StoragePoolType poolsMap command getPoolsMap String poolUuid poolsMap Storage StoragePoolType type poolsMap get poolUuid s_logger debug poolUuid type KVMStoragePool storagePool storagePoolMgr getStoragePool type poolUuid storagePool
cmd String url cmd getUrl
String diagnosticsZipFile command getFileName String vmSshIp command getSystemVmIp String secondaryStorageUrl command getSecondaryStorageUrl KVMStoragePoolManager storagePoolMgr libvirtResource getStoragePoolMgr KVMStoragePool secondaryPool success secondaryPool storagePoolMgr getStoragePoolByURI secondaryStorageUrl String mountPoint secondaryPool getLocalPath String dataDirectoryInSecondaryStore String format mountPoint DiagnosticsService DIAGNOSTICS_DIRECTORY File dataDirectory File dataDirectoryInSecondaryStore existsInSecondaryStore dataDirectory exists dataDirectory mkdir Path path Paths get dataDirectory getAbsolutePath setDirFilePermissions path existsInSecondaryStore
primary storagePoolMgr createStoragePool command getPool getUuid command getPool getHost command getPool getPort command getPool getPath command getPool getUserInfo command getPool getType CreatePrivateTemplateAnswer command e getMessage KVMPhysicalDisk disk primary getPhysicalDisk command getVolumePath String tmpltPath secondaryStorage getLocalPath File separator templateInstallFolder StorageLayer storage libvirtComputingResource getStorage storage mkdirs tmpltPath primary getType String createTmplPath libvirtComputingResource createTmplPath cmdsTimeout libvirtComputingResource getCmdsTimeout Script scriptCommand Script createTmplPath cmdsTimeout s_logger scriptCommand add disk getPath scriptCommand add tmpltPath scriptCommand add command getUniqueName String result scriptCommand execute
CreatePrivateTemplateAnswer command e getMessage KVMPhysicalDisk disk primary getPhysicalDisk command getVolumePath String tmpltPath secondaryStorage getLocalPath File separator templateInstallFolder StorageLayer storage libvirtComputingResource getStorage storage mkdirs tmpltPath primary String createTmplPath libvirtComputingResource createTmplPath cmdsTimeout libvirtComputingResource getCmdsTimeout Script scriptCommand Script createTmplPath cmdsTimeout s_logger scriptCommand add disk getPath scriptCommand add tmpltPath scriptCommand add command getUniqueName String result scriptCommand execute result s_logger debug result
cmdsTimeout libvirtComputingResource getCmdsTimeout Script scriptCommand Script createTmplPath cmdsTimeout s_logger scriptCommand add disk getPath scriptCommand add tmpltPath scriptCommand add command getUniqueName String result scriptCommand execute result s_logger debug result CreatePrivateTemplateAnswer command result s_logger debug disk getPath command getUniqueName QemuImgFile srcFile QemuImgFile KVMPhysicalDisk RBDStringBuilder primary getSourceHost primary getSourcePort primary getAuthUserName primary getAuthSecret disk getPath srcFile setFormat PhysicalDiskFormat RAW QemuImgFile destFile QemuImgFile tmpltPath command getUniqueName destFile setFormat PhysicalDiskFormat QCOW2
cmd libvirtComputingResource String vmName cmd getVmName KVMStoragePoolManager storagePoolMgr libvirtComputingResource getStoragePoolMgr Domain dm DomainSnapshot snapshot LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper Connect conn libvirtUtilitiesHelper getConnection dm libvirtComputingResource getDomain conn vmName snapshot dm snapshotLookupByName cmd getTarget getSnapshotName
KVMStoragePoolManager storagePoolMgr libvirtComputingResource getStoragePoolMgr Domain dm DomainSnapshot snapshot LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper Connect conn libvirtUtilitiesHelper getConnection dm libvirtComputingResource getDomain conn vmName snapshot dm snapshotLookupByName cmd getTarget getSnapshotName s_logger debug vmName dm suspend snapshot delete DeleteVMSnapshotAnswer cmd cmd getVolumeTOs e String msg e toString dm
String qemu_img_snapshot Script runSimpleBashScript rootDisk getPath cmd getTarget getSnapshotName qemu_img_snapshot s_logger info cmd getTarget getSnapshotName rootDisk getPath DeleteVMSnapshotAnswer cmd cmd getVolumeTOs result Script runSimpleBashScriptForExitValue cmd getTarget getSnapshotName rootDisk getPath result DeleteVMSnapshotAnswer cmd rootDisk getPath result DeleteVMSnapshotAnswer cmd cmd getVolumeTOs s_logger debug cmd getTarget getSnapshotName vmName DeleteVMSnapshotAnswer cmd cmd getVolumeTOs s_logger warn msg e DeleteVMSnapshotAnswer cmd msg
List String vmNames command getVmNames LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper HashMap String List VmDiskStatsEntry vmDiskStatsNameMap HashMap String List VmDiskStatsEntry Connect conn libvirtUtilitiesHelper getConnection String vmName vmNames List VmDiskStatsEntry statEntry libvirtComputingResource getVmDiskStat conn vmName statEntry vmDiskStatsNameMap put vmName statEntry e s_logger warn e toString GetVmDiskStatsAnswer command command getHostName vmDiskStatsNameMap e
result String networkCidr command getVmNetworkCidr command String leasesList Script runSimpleBashScript StringBuilder append append command getVmName append toString leasesList String leasesFiles leasesList split String leaseFile leasesFiles String ipAddr Script runSimpleBashScript StringBuilder append append command getVmName append leaseFile toString ipAddr ipAddr networkCidr ip ipAddr s_logger debug command getVmName ipAddr networkCidr String ipList Script runSimpleBashScript StringBuilder append append command getVmName append toString ipList
ip ipAddr s_logger debug command getVmName ipAddr networkCidr String ipList Script runSimpleBashScript StringBuilder append append command getVmName append toString ipList s_logger debug command getVmName ipList String ips ipList split String ipAddr ips ipAddr ipAddr networkCidr ip ipAddr s_logger debug command getVmName ipAddr networkCidr ip result
List String vmNames command getVmNames LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper HashMap String List VmNetworkStatsEntry vmNetworkStatsNameMap HashMap String List VmNetworkStatsEntry Connect conn libvirtUtilitiesHelper getConnection String vmName vmNames List VmNetworkStatsEntry statEntry libvirtComputingResource getVmNetworkStat conn vmName statEntry vmNetworkStatsNameMap put vmName statEntry e s_logger warn e toString GetVmNetworkStatsAnswer command command getHostName vmNetworkStatsNameMap e
List String vmNames command getVmNames HashMap String VmStatsEntry vmStatsNameMap HashMap String VmStatsEntry String vmName vmNames LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper Connect conn libvirtUtilitiesHelper getConnectionByVmName vmName VmStatsEntry statEntry libvirtComputingResource getVmStat conn vmName statEntry vmStatsNameMap put vmName statEntry e s_logger warn e toString GetVmStatsAnswer command vmStatsNameMap e
vm libvirtComputingResource getDomain conn command getVmName state vm getInfo state e s_logger trace e KVMStoragePoolManager storagePoolMgr libvirtComputingResource getStoragePoolMgr StorageFilerTO pool command getPool KVMStoragePool primaryPool storagePoolMgr getStoragePool pool getType pool getUuid KVMPhysicalDisk disk primaryPool getPhysicalDisk command getVolumePath state primaryPool MessageFormat snapshotXML MessageFormat String vmUuid vm getUUIDString Object args Object snapshotName vmUuid String snapshot snapshotXML format args
s_logger debug snapshot command vm snapshotCreateXML snapshot DomainSnapshot snap vm snapshotLookupByName snapshotName snap delete vm libvirtComputingResource getDomain conn command getVmName state vm getInfo state state vm resume primaryPool Rados r Rados primaryPool getAuthUserName r confSet primaryPool getSourceHost primaryPool getSourcePort
DomainSnapshot snap vm snapshotLookupByName snapshotName snap delete vm libvirtComputingResource getDomain conn command getVmName state vm getInfo state state vm resume primaryPool Rados r Rados primaryPool getAuthUserName r confSet primaryPool getSourceHost primaryPool getSourcePort r confSet primaryPool getAuthSecret r confSet r connect s_logger debug r confGet
primaryPool Rados r Rados primaryPool getAuthUserName r confSet primaryPool getSourceHost primaryPool getSourcePort r confSet primaryPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate primaryPool getSourceDir Rbd rbd Rbd io RbdImage image rbd open disk getName s_logger debug disk getName snapshotName image snapCreate snapshotName
s_logger debug disk getName snapshotName image snapRemove snapshotName rbd close image r ioCtxDestroy io e s_logger error disk getName e getMessage cmdsTimeout libvirtComputingResource getCmdsTimeout String manageSnapshotPath libvirtComputingResource manageSnapshotPath Script scriptCommand Script manageSnapshotPath cmdsTimeout s_logger scriptCommand add disk getPath scriptCommand add snapshotPath
String oldIsoVolumePath getOldVolumePath disks vmName String newIsoVolumePath getNewVolumePathIfDatastoreHasChanged libvirtComputingResource conn to newIsoVolumePath newIsoVolumePath oldIsoVolumePath s_logger debug xmlDesc replaceDiskSourceFile xmlDesc newIsoVolumePath vmName vmsnapshots libvirtComputingResource cleanVMSnapshotMetadata dm Map String MigrateCommand MigrateDiskInfo mapMigrateStorage command getMigrateStorage migrateStorage MapUtils isNotEmpty mapMigrateStorage migrateStorageManaged command isMigrateStorageManaged migrateStorage xmlDesc replaceStorage xmlDesc mapMigrateStorage migrateStorageManaged Map String DpdkTO dpdkPortsMapping command getDpdkInterfaceMapping MapUtils isNotEmpty dpdkPortsMapping xmlDesc replaceDpdkInterfaces xmlDesc dpdkPortsMapping dconn libvirtUtilitiesHelper retrieveQemuConnection destinationUri
dconn libvirtUtilitiesHelper retrieveQemuConnection destinationUri s_logger info vmName dconn getURI ExecutorService executor Executors newFixedThreadPool migrateNonSharedInc command isMigrateNonSharedInc migrateStorageManaged Callable Domain worker MigrateKVMAsync libvirtComputingResource dm dconn xmlDesc migrateStorage migrateNonSharedInc command isAutoConvergence vmName command getDestinationIp Future Domain migrateThread executor submit worker executor shutdown sleeptime executor Thread sleep sleeptime sleeptime migrateDowntime libvirtComputingResource getMigrateDowntime migrateDowntime
migrateNonSharedInc command isMigrateNonSharedInc migrateStorageManaged Callable Domain worker MigrateKVMAsync libvirtComputingResource dm dconn xmlDesc migrateStorage migrateNonSharedInc command isAutoConvergence vmName command getDestinationIp Future Domain migrateThread executor submit worker executor shutdown sleeptime executor Thread sleep sleeptime sleeptime migrateDowntime libvirtComputingResource getMigrateDowntime migrateDowntime setDowntime dm migrateSetMaxDowntime migrateDowntime setDowntime s_logger debug vmName String valueOf migrateDowntime
sleeptime sleeptime migrateDowntime libvirtComputingResource getMigrateDowntime migrateDowntime setDowntime dm migrateSetMaxDowntime migrateDowntime setDowntime s_logger debug vmName String valueOf migrateDowntime e s_logger debug e getMessage sleeptime s_logger info vmName sleeptime migratePauseAfter libvirtComputingResource getMigratePauseAfter migratePauseAfter sleeptime migratePauseAfter DomainState state
migrateDowntime setDowntime dm migrateSetMaxDowntime migrateDowntime setDowntime s_logger debug vmName String valueOf migrateDowntime e s_logger debug e getMessage sleeptime s_logger info vmName sleeptime migratePauseAfter libvirtComputingResource getMigratePauseAfter migratePauseAfter sleeptime migratePauseAfter DomainState state state dm getInfo state e
s_logger debug vmName String valueOf migrateDowntime e s_logger debug e getMessage sleeptime s_logger info vmName sleeptime migratePauseAfter libvirtComputingResource getMigratePauseAfter migratePauseAfter sleeptime migratePauseAfter DomainState state state dm getInfo state e s_logger info sleeptime e getMessage state state DomainState
e s_logger debug e getMessage sleeptime s_logger info vmName sleeptime migratePauseAfter libvirtComputingResource getMigratePauseAfter migratePauseAfter sleeptime migratePauseAfter DomainState state state dm getInfo state e s_logger info sleeptime e getMessage state state DomainState s_logger info vmName migratePauseAfter dm suspend
sleeptime s_logger info vmName sleeptime migratePauseAfter libvirtComputingResource getMigratePauseAfter migratePauseAfter sleeptime migratePauseAfter DomainState state state dm getInfo state e s_logger info sleeptime e getMessage state state DomainState s_logger info vmName migratePauseAfter dm suspend e s_logger info vmName e getMessage
execute libvirtComputingResource LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper String sshkeyspath libvirtUtilitiesHelper retrieveSshKeysPath String sshpubkeypath libvirtUtilitiesHelper retrieveSshPubKeyPath String sshprvkeypath libvirtUtilitiesHelper retrieveSshPrvKeyPath File sshKeysDir File sshkeyspath String result sshKeysDir Script script Script libvirtComputingResource getTimeout s_logger script add script add sshkeyspath script execute sshKeysDir
File sshKeysDir File sshkeyspath String result sshKeysDir Script script Script libvirtComputingResource getTimeout s_logger script add script add sshkeyspath script execute sshKeysDir s_logger debug sshkeyspath File pubKeyFile File sshpubkeypath pubKeyFile pubKeyFile createNewFile e result e toString
script execute s_logger debug sshkeyspath File pubKeyFile File sshpubkeypath pubKeyFile pubKeyFile createNewFile e result e toString s_logger debug result pubKeyFile pubkStream pubKeyFile pubkStream write command getPubKey getBytes StringUtils getPreferredCharset e result sshpubkeypath e toString
File pubKeyFile File sshpubkeypath pubKeyFile pubKeyFile createNewFile e result e toString s_logger debug result pubKeyFile pubkStream pubKeyFile pubkStream write command getPubKey getBytes StringUtils getPreferredCharset e result sshpubkeypath e toString s_logger debug result e result sshpubkeypath e toString
e result e toString s_logger debug result pubkStream pubkStream write command getPubKey getBytes StringUtils getPreferredCharset e result sshpubkeypath e toString s_logger debug result e result sshpubkeypath e toString s_logger debug result File prvKeyFile File sshprvkeypath prvKeyFile
e result sshpubkeypath e toString s_logger debug result e result sshpubkeypath e toString s_logger debug result File prvKeyFile File sshprvkeypath prvKeyFile prvKeyFile createNewFile e result e toString s_logger debug result prvKeyFile String prvKey command getPrvKey
s_logger debug result e result sshpubkeypath e toString s_logger debug result File prvKeyFile File sshprvkeypath prvKeyFile prvKeyFile createNewFile e result e toString s_logger debug result prvKeyFile String prvKey command getPrvKey prvKeyFile
command String label command getLabel
command libvirtComputingResource NicTO nic command getNic String vmName command getVmName VirtualMachine Type vmType command getVMType Domain vm LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper Connect conn libvirtUtilitiesHelper getConnectionByVmName vmName vm libvirtComputingResource getDomain conn vmName List InterfaceDef pluggedNics libvirtComputingResource getInterfaces conn vmName Integer nicnum InterfaceDef pluggedNics nic
DpdkTO to DpdkTO interfaceDef getDpdkOvsPath interfaceDef getDpdkSourcePort interfaceDef getInterfaceMode dpdkInterfaceMapping put nic getMac to DiskTO volumes vm getDisks DiskTO volume volumes volume libvirtComputingResource getVolumePath conn volume skipDisconnect vm PrepareForMigrationAnswer command PrepareForMigrationAnswer answer PrepareForMigrationAnswer command dpdkInterfaceMapping answer setDpdkInterfaceMapping dpdkInterfaceMapping answer dpdkInterfaceMapping
String dhcpIp command getDhcpIp String opr opr String result String guestBridgeName libvirtComputingResource getGuestBridgeName Duration timeout libvirtComputingResource getTimeout command String ovsPvlanDhcpHostPath libvirtComputingResource getOvsPvlanDhcpHostPath Script script Script ovsPvlanDhcpHostPath timeout s_logger script add opr pvlanType guestBridgeName primaryPvlan isolatedPvlan dhcpMac dhcpIp result script execute result s_logger warn dhcpMac
String ovsPvlanDhcpHostPath libvirtComputingResource getOvsPvlanDhcpHostPath Script script Script ovsPvlanDhcpHostPath timeout s_logger script add opr pvlanType guestBridgeName primaryPvlan isolatedPvlan dhcpMac dhcpIp result script execute result s_logger warn dhcpMac s_logger info dhcpMac String ovsPvlanVmPath libvirtComputingResource getOvsPvlanVmPath Script script Script ovsPvlanVmPath timeout s_logger script add opr pvlanType guestBridgeName primaryPvlan isolatedPvlan vmMac result script execute result s_logger warn vmMac Answer command result
Domain vm LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper Connect conn libvirtUtilitiesHelper getConnectionByVmName vmName vm libvirtComputingResource getDomain conn vmName InterfaceDef oldPluggedNic findPluggedNic libvirtComputingResource nic vmName conn VifDriver newVifDriver libvirtComputingResource getVifDriver nic getType nic getName InterfaceDef interfaceDef newVifDriver plug nic oldPluggedNic getModel toString interfaceDef setSlot oldPluggedNic getSlot interfaceDef setDevName oldPluggedNic getDevName interfaceDef setLinkStateUp oldPluggedNic setSlot i i
Connect conn libvirtUtilitiesHelper getConnectionByVmName vmName vm libvirtComputingResource getDomain conn vmName InterfaceDef oldPluggedNic findPluggedNic libvirtComputingResource nic vmName conn VifDriver newVifDriver libvirtComputingResource getVifDriver nic getType nic getName InterfaceDef interfaceDef newVifDriver plug nic oldPluggedNic getModel toString interfaceDef setSlot oldPluggedNic getSlot interfaceDef setDevName oldPluggedNic getDevName interfaceDef setLinkStateUp oldPluggedNic setSlot i i s_logger debug oldPluggedNic i vm detachDevice oldPluggedNic toString findPluggedNic libvirtComputingResource nic vmName conn i
VifDriver newVifDriver libvirtComputingResource getVifDriver nic getType nic getName InterfaceDef interfaceDef newVifDriver plug nic oldPluggedNic getModel toString interfaceDef setSlot oldPluggedNic getSlot interfaceDef setDevName oldPluggedNic getDevName interfaceDef setLinkStateUp oldPluggedNic setSlot i i s_logger debug oldPluggedNic i vm detachDevice oldPluggedNic toString findPluggedNic libvirtComputingResource nic vmName conn i s_logger debug interfaceDef vm attachDevice interfaceDef toString interfaceDef setLinkStateUp
command String volid command getPath newSize command getNewSize currentSize command getCurrentSize String vmInstanceName command getInstanceName shrinkOk command getShrinkOk StorageFilerTO spool command getPool String notifyOnlyType currentSize newSize
String notifyOnlyType currentSize newSize s_logger info toHumanReadableSize currentSize toHumanReadableSize newSize ResizeVolumeAnswer command currentSize KVMStoragePoolManager storagePoolMgr libvirtComputingResource getStoragePoolMgr KVMStoragePool pool storagePoolMgr getStoragePool spool getType spool getUuid KVMPhysicalDisk vol pool getPhysicalDisk volid String path vol getPath String type notifyOnlyType pool getType type libvirtComputingResource getResizeScriptType pool vol type ResizeVolumeAnswer command type
ResizeVolumeAnswer command currentSize KVMStoragePoolManager storagePoolMgr libvirtComputingResource getStoragePoolMgr KVMStoragePool pool storagePoolMgr getStoragePool spool getType spool getUuid KVMPhysicalDisk vol pool getPhysicalDisk volid String path vol getPath String type notifyOnlyType pool getType type libvirtComputingResource getResizeScriptType pool vol type shrinkOk ResizeVolumeAnswer command type s_logger debug path s_logger debug path toHumanReadableSize currentSize toHumanReadableSize newSize type vmInstanceName shrinkOk pool getType vol
s_logger debug path s_logger debug path toHumanReadableSize currentSize toHumanReadableSize newSize type vmInstanceName shrinkOk s_logger debug path LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper Connect conn libvirtUtilitiesHelper getConnection StorageVol v conn storageVolLookupByPath path flags conn flags shrinkOk flags v resize newSize flags
v resize newSize flags e ResizeVolumeAnswer command e toString s_logger debug type Script resizecmd Script libvirtComputingResource getResizeVolumePath libvirtComputingResource getCmdsTimeout s_logger resizecmd add String valueOf newSize resizecmd add String valueOf currentSize resizecmd add path resizecmd add type resizecmd add String valueOf shrinkOk resizecmd add vmInstanceName String result resizecmd execute result type ResizeVolumeAnswer command
List VolumeObjectTO listVolumeTo cmd getVolumeTOs VirtualMachine PowerState vmState VirtualMachine PowerState PowerOn Domain dm LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper Connect conn libvirtUtilitiesHelper getConnection dm libvirtComputingResource getDomain conn vmName dm RestoreVMSnapshotAnswer cmd vmName String xmlDesc dm getXMLDesc List VMSnapshotTO snapshots cmd getSnapshots Map Long VMSnapshotTO snapshotAndParents cmd getSnapshotAndParents VMSnapshotTO snapshot snapshots VMSnapshotTO parent snapshotAndParents get snapshot getId String vmSnapshotXML libvirtUtilitiesHelper generateVMSnapshotXML snapshot parent xmlDesc
dm RestoreVMSnapshotAnswer cmd vmName String xmlDesc dm getXMLDesc List VMSnapshotTO snapshots cmd getSnapshots Map Long VMSnapshotTO snapshotAndParents cmd getSnapshotAndParents VMSnapshotTO snapshot snapshots VMSnapshotTO parent snapshotAndParents get snapshot getId String vmSnapshotXML libvirtUtilitiesHelper generateVMSnapshotXML snapshot parent xmlDesc s_logger debug snapshot getSnapshotName vmName vmSnapshotXML flags snapshot flags dm snapshotCreateXML vmSnapshotXML flags
snapshotRelPath snapshot getPath KVMStoragePoolManager storagePoolMgr libvirtComputingResource getStoragePoolMgr KVMPhysicalDisk snapshotDisk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid volumePath KVMStoragePool primaryPool snapshotDisk getPool primaryPool Rados rados Rados primaryPool getAuthUserName rados confSet MON_HOST primaryPool getSourceHost primaryPool getSourcePort rados confSet KEY primaryPool getAuthSecret rados confSet CLIENT_MOUNT_TIMEOUT RADOS_CONNECTION_TIMEOUT rados connect String rbdPoolAndVolumeAndSnapshot snapshotRelPath split snapshotIndex rbdPoolAndVolumeAndSnapshot length String rbdSnapshotId rbdPoolAndVolumeAndSnapshot snapshotIndex IoCTX io rados ioCtxCreate primaryPool getSourceDir
RbdImage image rbd open volumePath image snapRollBack rbdSnapshotId rbd close image rados ioCtxDestroy io NfsTO nfsImageStore NfsTO snapshotImageStore String secondaryStoragePoolUrl nfsImageStore getUrl secondaryStoragePool storagePoolMgr getStoragePoolByURI secondaryStoragePoolUrl String ssPmountPath secondaryStoragePool getLocalPath snapshotPath ssPmountPath File separator snapshotRelPath Script cmd Script libvirtComputingResource manageSnapshotPath libvirtComputingResource getCmdsTimeout s_logger cmd add snapshotPath cmd add snapshotDisk getName cmd add snapshotDisk getPath String result cmd execute
NfsTO nfsImageStore NfsTO snapshotImageStore String secondaryStoragePoolUrl nfsImageStore getUrl secondaryStoragePool storagePoolMgr getStoragePoolByURI secondaryStoragePoolUrl String ssPmountPath secondaryStoragePool getLocalPath snapshotPath ssPmountPath File separator snapshotRelPath Script cmd Script libvirtComputingResource manageSnapshotPath libvirtComputingResource getCmdsTimeout s_logger cmd add snapshotPath cmd add snapshotDisk getName cmd add snapshotDisk getPath String result cmd execute result s_logger debug result Answer command result Answer command
String ssPmountPath secondaryStoragePool getLocalPath snapshotPath ssPmountPath File separator snapshotRelPath Script cmd Script libvirtComputingResource manageSnapshotPath libvirtComputingResource getCmdsTimeout s_logger cmd add snapshotPath cmd add snapshotDisk getName cmd add snapshotDisk getPath String result cmd execute result s_logger debug result Answer command result Answer command e Answer command e toString e s_logger error e
File agentFile getAgentPropertiesFile String privatePassword getKeystorePassword agentFile privatePassword Answer command KeyStoreUtils KS_FILENAME String keyStoreFile getKeyStoreFilePath agentFile String checkCmd String format certificateAlias keyStoreFile privatePassword existsCmdResult Script runSimpleBashScriptForExitValue checkCmd existsCmdResult s_logger error certificateAlias String revokeCmd String format certificateAlias keyStoreFile privatePassword s_logger debug certificateAlias keyStoreFile Script runSimpleBashScriptForExitValue revokeCmd
scriptFile s_logger info stage RollingMaintenanceAnswer command stage command executor String msg s_logger info msg RollingMaintenanceAnswer command msg s_logger info stage command executor startStageExecution stage scriptFile timeout payload executor stage scriptFile payload RollingMaintenanceAnswer command stage success executor getStageExecutionSuccess stage scriptFile String output executor getStageExecutionOutput stage scriptFile RollingMaintenanceAnswer answer RollingMaintenanceAnswer command success output
command executor String msg s_logger info msg RollingMaintenanceAnswer command msg s_logger info stage command executor startStageExecution stage scriptFile timeout payload executor stage scriptFile payload RollingMaintenanceAnswer command stage success executor getStageExecutionSuccess stage scriptFile String output executor getStageExecutionOutput stage scriptFile RollingMaintenanceAnswer answer RollingMaintenanceAnswer command success output executor stage scriptFile s_logger info stage answer setAvoidMaintenance
Connect conn libvirtUtilitiesHelper getConnectionByVmName command getVmName List InterfaceDef nics libvirtComputingResource getInterfaces conn command getVmName vif nics get getDevName brname nics get getBrName VirtualMachineTO vm command getVmTO libvirtComputingResource conn vm s_logger warn command getVmName SecurityGroupRuleAnswer command e SecurityGroupRuleAnswer command e toString result libvirtComputingResource addNetworkRules command getVmName Long toString command getVmId command getGuestIp command getGuestIp6 command getSignature Long toString command getSeqNum command getGuestMac command stringifyRules vif brname command getSecIpsString result s_logger warn command getVmName SecurityGroupRuleAnswer command
String tempCerFilePath String keyStoreFile String certificateName String privatePassword s_logger debug String importCommandFormat String importCmd String format importCommandFormat tempCerFilePath keyStoreFile certificateName privatePassword result Script runSimpleBashScriptForExitValue importCmd result
String agentFile String certificateName String String tempCerFilePath String format agentFile getParent temporaryCertFilePrefix certificateName
DomainState state DomainState VIR_DOMAIN_SHUTOFF KVMStoragePoolManager storagePoolMgr libvirtComputingResource getStoragePoolMgr LibvirtUtilitiesHelper libvirtUtilitiesHelper libvirtComputingResource getLibvirtUtilitiesHelper Connect conn vm libvirtComputingResource createVMFromSpec vmSpec conn libvirtUtilitiesHelper getConnectionByType vm getHvsType NicTO nics vmSpec getNics NicTO nic nics vmSpec nic setPxeDisable libvirtComputingResource createVbd conn vmSpec vmName vm storagePoolMgr vmSpec StartAnswer command libvirtComputingResource createVifs vmSpec vm
command Connect conn libvirtUtilitiesHelper getConnectionByVmName vmName Domain vm conn domainLookupByName command getVmName vm vm StopAnswer command e s_logger debug e File pemFile File LibvirtComputingResource SSHPRVKEYPATH vmName vmName s_logger debug Pair Boolean String ret SshHelper sshExecute command getControlIp pemFile CMDLINE_PATH CMDLINE_BACKUP_PATH ret
Connect conn libvirtUtilitiesHelper getConnectionByVmName vmName Domain vm conn domainLookupByName command getVmName vm vm StopAnswer command e s_logger debug e File pemFile File LibvirtComputingResource SSHPRVKEYPATH vmName vmName s_logger debug Pair Boolean String ret SshHelper sshExecute command getControlIp pemFile CMDLINE_PATH CMDLINE_BACKUP_PATH ret s_logger debug ret second e
String volumeUuid pool String String Script iScsiAdmCmd Script s_logger iScsiAdmCmd add iScsiAdmCmd add getIqn volumeUuid iScsiAdmCmd add pool getSourceHost pool getSourcePort iScsiAdmCmd add String result iScsiAdmCmd execute result
String chapInitiatorUsername details get DiskTO CHAP_INITIATOR_USERNAME String chapInitiatorSecret details get DiskTO CHAP_INITIATOR_SECRET chapInitiatorUsername chapInitiatorSecret executeChapCommand volumeUuid pool executeChapCommand volumeUuid pool chapInitiatorUsername executeChapCommand volumeUuid pool chapInitiatorSecret iScsiAdmCmd Script s_logger iScsiAdmCmd add iScsiAdmCmd add getIqn volumeUuid iScsiAdmCmd add pool getSourceHost pool getSourcePort iScsiAdmCmd add result iScsiAdmCmd execute
executeChapCommand volumeUuid pool executeChapCommand volumeUuid pool chapInitiatorUsername executeChapCommand volumeUuid pool chapInitiatorSecret iScsiAdmCmd Script s_logger iScsiAdmCmd add iScsiAdmCmd add getIqn volumeUuid iScsiAdmCmd add pool getSourceHost pool getSourcePort iScsiAdmCmd add result iScsiAdmCmd execute result s_logger debug volumeUuid System out println volumeUuid
String path pool String nParameter String vParameter String detail Script iScsiAdmCmd Script s_logger iScsiAdmCmd add iScsiAdmCmd add getIqn path iScsiAdmCmd add pool getSourceHost pool getSourcePort iScsiAdmCmd add iScsiAdmCmd add nParameter iScsiAdmCmd add vParameter String result iScsiAdmCmd execute useDetail detail detail trim length detail useDetail detail trim detail result
Script iScsiAdmCmd Script s_logger iScsiAdmCmd add iScsiAdmCmd add getIqn path iScsiAdmCmd add pool getSourceHost pool getSourcePort iScsiAdmCmd add iScsiAdmCmd add nParameter iScsiAdmCmd add vParameter String result iScsiAdmCmd execute useDetail detail detail trim length detail useDetail detail trim detail result s_logger debug useDetail detail path result System out println useDetail detail path result Exception useDetail detail path result
String host port String iqn String Script iScsiAdmCmd Script s_logger iScsiAdmCmd add iScsiAdmCmd add iqn iScsiAdmCmd add host port iScsiAdmCmd add String result iScsiAdmCmd execute result
String result iScsiAdmCmd execute result s_logger debug iqn lun result System out println iqn lun result s_logger debug iqn lun System out println iqn lun iScsiAdmCmd Script s_logger iScsiAdmCmd add iScsiAdmCmd add iqn iScsiAdmCmd add host port iScsiAdmCmd add result iScsiAdmCmd execute result
s_logger debug iqn lun System out println iqn lun iScsiAdmCmd Script s_logger iScsiAdmCmd add iScsiAdmCmd add iqn iScsiAdmCmd add host port iScsiAdmCmd add result iScsiAdmCmd execute result s_logger debug iqn lun result System out println iqn lun result
String vmName vmSpec getName List DiskTO disks Arrays asList vmSpec getDisks DiskTO disk disks disk getType result VolumeObjectTO vol VolumeObjectTO disk getData PrimaryDataStoreTO store PrimaryDataStoreTO vol getDataStore store vmSpec result KVMStoragePool pool getStoragePool store getPoolType store getUuid StorageAdaptor adaptor getStorageAdaptor pool getType result adaptor connectPhysicalDisk vol getPath pool disk getDetails result
result String vmName vmSpec getName List DiskTO disks Arrays asList vmSpec getDisks DiskTO disk disks disk getType s_logger debug disk getPath VolumeObjectTO vol VolumeObjectTO disk getData PrimaryDataStoreTO store PrimaryDataStoreTO vol getDataStore KVMStoragePool pool getStoragePool store getPoolType store getUuid pool s_logger error store getUuid store getPoolType StorageAdaptor adaptor getStorageAdaptor pool getType subResult adaptor disconnectPhysicalDisk vol getPath pool subResult
KVMStoragePool secondaryPool secondaryPool storagePoolMgr getStoragePoolByURI mountpoint tmpltname secondaryPool refresh List KVMPhysicalDisk disks secondaryPool listPhysicalDisks disks disks PrimaryStorageDownloadAnswer secondaryPool getUuid KVMPhysicalDisk disk disks disk tmplVol disk tmplVol secondaryPool getPhysicalDisk tmpltname tmplVol
KVMPhysicalDisk disk disk tmplVol disk tmplVol secondaryPool getPhysicalDisk tmpltname tmplVol PrimaryStorageDownloadAnswer secondaryPool getUuid s_logger debug tmplVol getFormat KVMStoragePool primaryPool storagePoolMgr getStoragePool primaryStore getPoolType primaryStore getUuid KVMPhysicalDisk primaryVol destData VolumeObjectTO VolumeObjectTO volume VolumeObjectTO destData volume getSize volume getSize tmplVol s_logger debug toHumanReadableSize volume getSize
KVMPhysicalDisk templateVol KVMStoragePool secondaryPool secondaryPool storagePoolMgr getStoragePoolByURI mountpoint secondaryPool refresh List KVMPhysicalDisk disks secondaryPool listPhysicalDisks disks disks s_logger error secondaryPool getUuid KVMPhysicalDisk disk disks disk templateVol disk templateVol
s_logger error secondaryPool getUuid disk disk templateVol disk templateVol s_logger error secondaryPool getUuid templateVol secondaryPool getPhysicalDisk templateName size templateVol s_logger debug toHumanReadableSize size templateVol setSize size templateVol setVirtualSize size
String templateFolder template getPath secondaryStorage storagePoolMgr getStoragePoolByURI nfsImageStore getUrl primary storagePoolMgr getStoragePool primaryStore getPoolType primaryStore getUuid KVMPhysicalDisk disk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid volume getPath String tmpltPath secondaryStorage getLocalPath File separator templateFolder storageLayer mkdirs tmpltPath String templateName UUID randomUUID toString primary Script command Script _createTmplPath wait s_logger command add disk getPath command add tmpltPath command add NAME_OPTION templateName String result command execute result s_logger debug result
templFo templFo write templateContent getBytes templFo flush e e Map String Object params HashMap String Object params put StorageLayer InstanceConfigKey storageLayer Processor qcow2Processor QCOW2Processor qcow2Processor configure params FormatInfo info qcow2Processor process tmpltPath templateName TemplateLocation loc TemplateLocation storageLayer tmpltPath loc create templateName loc addFormat info loc save TemplateObjectTO newTemplate TemplateObjectTO
e e Map String Object params HashMap String Object params put StorageLayer InstanceConfigKey storageLayer Processor qcow2Processor QCOW2Processor qcow2Processor configure params FormatInfo info qcow2Processor process tmpltPath templateName TemplateLocation loc TemplateLocation storageLayer tmpltPath loc create templateName loc addFormat info loc save TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath templateFolder File separator templateName newTemplate setSize info virtualSize newTemplate setPhysicalSize info size
srcStorePool storagePoolMgr getStoragePoolByURI srcStore getUrl File separator srcSnapshotDir srcStorePool CopyCmdAnswer srcStore getUrl srcFile File srcStorePool getLocalPath File separator srcFileName srcFile CopyCmdAnswer srcPath String destPath imageStore S3TO destPath copyToS3 srcFile S3TO imageStore destData getPath CopyCmdAnswer SnapshotObjectTO newSnapshot SnapshotObjectTO newSnapshot setPath destPath CopyCmdAnswer newSnapshot
imageStore S3TO destPath copyToS3 srcFile S3TO imageStore destData getPath CopyCmdAnswer SnapshotObjectTO newSnapshot SnapshotObjectTO newSnapshot setPath destPath CopyCmdAnswer newSnapshot e s_logger error srcPath e CopyCmdAnswer srcPath e toString srcFile srcFile delete
Connect conn KVMPhysicalDisk snapshotDisk KVMStoragePool primaryPool conn LibvirtConnection getConnectionByVmName vmName secondaryStoragePool storagePoolMgr getStoragePoolByURI secondaryStoragePoolUrl String ssPmountPath secondaryStoragePool getLocalPath snapshotRelPath destSnapshot getPath snapshotDestPath ssPmountPath File separator snapshotRelPath snapshotDisk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid volumePath primaryPool snapshotDisk getPool size primaryPool String rbdSnapshot snapshotDisk getPath snapshotName String snapshotFile snapshotDestPath snapshotName
snapshotDestPath ssPmountPath File separator snapshotRelPath snapshotDisk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid volumePath primaryPool snapshotDisk getPool size primaryPool String rbdSnapshot snapshotDisk getPath snapshotName String snapshotFile snapshotDestPath snapshotName s_logger debug rbdSnapshot File snapDir File snapshotDestPath s_logger debug snapDir getAbsolutePath FileUtils forceMkdir snapDir QemuImgFile srcFile QemuImgFile KVMPhysicalDisk RBDStringBuilder primaryPool getSourceHost primaryPool getSourcePort primaryPool getAuthUserName primaryPool getAuthSecret rbdSnapshot srcFile setFormat snapshotDisk getFormat QemuImgFile destFile QemuImgFile snapshotFile
s_logger debug rbdSnapshot File snapDir File snapshotDestPath s_logger debug snapDir getAbsolutePath FileUtils forceMkdir snapDir QemuImgFile srcFile QemuImgFile KVMPhysicalDisk RBDStringBuilder primaryPool getSourceHost primaryPool getSourcePort primaryPool getAuthUserName primaryPool getAuthSecret rbdSnapshot srcFile setFormat snapshotDisk getFormat QemuImgFile destFile QemuImgFile snapshotFile destFile setFormat PhysicalDiskFormat QCOW2 s_logger debug rbdSnapshot snapshotFile QemuImg q QemuImg cmd getWaitInMillSeconds q convert srcFile destFile File snapFile File snapshotFile snapFile size snapFile length
s_logger debug rbdSnapshot File snapDir File snapshotDestPath s_logger debug snapDir getAbsolutePath FileUtils forceMkdir snapDir QemuImgFile srcFile QemuImgFile KVMPhysicalDisk RBDStringBuilder primaryPool getSourceHost primaryPool getSourcePort primaryPool getAuthUserName primaryPool getAuthSecret rbdSnapshot srcFile setFormat snapshotDisk getFormat QemuImgFile destFile QemuImgFile snapshotFile destFile setFormat PhysicalDiskFormat QCOW2 s_logger debug rbdSnapshot snapshotFile QemuImg q QemuImg cmd getWaitInMillSeconds q convert srcFile destFile File snapFile File snapshotFile snapFile size snapFile length s_logger debug rbdSnapshot snapshotFile toHumanReadableSize size
FileUtils forceMkdir snapDir QemuImgFile srcFile QemuImgFile KVMPhysicalDisk RBDStringBuilder primaryPool getSourceHost primaryPool getSourcePort primaryPool getAuthUserName primaryPool getAuthSecret rbdSnapshot srcFile setFormat snapshotDisk getFormat QemuImgFile destFile QemuImgFile snapshotFile destFile setFormat PhysicalDiskFormat QCOW2 s_logger debug rbdSnapshot snapshotFile QemuImg q QemuImg cmd getWaitInMillSeconds q convert srcFile destFile File snapFile File snapshotFile snapFile size snapFile length s_logger debug rbdSnapshot snapshotFile toHumanReadableSize size e s_logger error snapshotDestPath e getMessage CopyCmdAnswer e toString
QemuImgFile destFile QemuImgFile snapshotFile destFile setFormat PhysicalDiskFormat QCOW2 s_logger debug rbdSnapshot snapshotFile QemuImg q QemuImg cmd getWaitInMillSeconds q convert srcFile destFile File snapFile File snapshotFile snapFile size snapFile length s_logger debug rbdSnapshot snapshotFile toHumanReadableSize size e s_logger error snapshotDestPath e getMessage CopyCmdAnswer e toString e s_logger error snapshotDestPath e getMessage CopyCmdAnswer e toString
e s_logger debug e CopyCmdAnswer e toString e s_logger debug e CopyCmdAnswer e toString s_logger debug DomainInfo DomainState state Domain vm
String snapshotName snapshotDisk Script command Script _manageSnapshotPath _cmdsTimeout s_logger command add MANAGE_SNAPSTHOT_DESTROY_OPTION snapshotDisk getPath command add NAME_OPTION snapshotName String result command execute result
conn vmName Domain dm dm conn domainLookupByName vmName
List DiskDef disks Domain dm DiskDef diskdef KVMStoragePool attachingPool attachingDisk getPool dm conn domainLookupByName vmName LibvirtDomainXMLParser parser LibvirtDomainXMLParser String domXml dm getXMLDesc parser parseDomainXML domXml disks parser getDisks attachingPool resource String device resource mapRbdDevice attachingDisk device
PrimaryDataStoreTO primaryStore PrimaryDataStoreTO vol getDataStore String vmName cmd getVmName String serial resource diskUuidToSerial vol getUuid Connect conn LibvirtConnection getConnectionByVmName vmName storagePoolMgr connectPhysicalDisk primaryStore getPoolType primaryStore getUuid vol getPath disk getDetails KVMPhysicalDisk phyDisk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid vol getPath String volCacheMode vol getCacheMode vol getCacheMode toString attachOrDetachDisk conn vmName phyDisk disk getDiskSeq intValue serial vol getBytesReadRate vol getBytesReadRateMax vol getBytesReadRateMaxLength vol getBytesWriteRate vol getBytesWriteRateMax vol getBytesWriteRateMaxLength vol getIopsReadRate vol getIopsReadRateMax vol getIopsReadRateMaxLength vol getIopsWriteRate vol getIopsWriteRateMax vol getIopsWriteRateMaxLength volCacheMode AttachAnswer disk e s_logger debug vol getPath e storagePoolMgr disconnectPhysicalDisk primaryStore getPoolType primaryStore getUuid vol getPath AttachAnswer e toString e
VolumeObjectTO vol VolumeObjectTO disk getData PrimaryDataStoreTO primaryStore PrimaryDataStoreTO vol getDataStore String vmName cmd getVmName String serial resource diskUuidToSerial vol getUuid Connect conn LibvirtConnection getConnectionByVmName vmName KVMPhysicalDisk phyDisk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid vol getPath String volCacheMode vol getCacheMode vol getCacheMode toString attachOrDetachDisk conn vmName phyDisk disk getDiskSeq intValue serial vol getBytesReadRate vol getBytesReadRateMax vol getBytesReadRateMaxLength vol getBytesWriteRate vol getBytesWriteRateMax vol getBytesWriteRateMaxLength vol getIopsReadRate vol getIopsReadRateMax vol getIopsReadRateMaxLength vol getIopsWriteRate vol getIopsWriteRateMax vol getIopsWriteRateMaxLength volCacheMode storagePoolMgr disconnectPhysicalDisk primaryStore getPoolType primaryStore getUuid vol getPath DettachAnswer disk e s_logger debug vol getPath e DettachAnswer e toString e
vmName vm resource getDomain conn vmName state vm getInfo state e s_logger trace e KVMStoragePool primaryPool storagePoolMgr getStoragePool primaryStore getPoolType primaryStore getUuid KVMPhysicalDisk disk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid volume getPath state primaryPool String vmUuid vm getUUIDString Object args Object snapshotName vmUuid String snapshot SnapshotXML format args start System currentTimeMillis vm snapshotCreateXML snapshot total System currentTimeMillis start
String vmUuid vm getUUIDString Object args Object snapshotName vmUuid String snapshot SnapshotXML format args start System currentTimeMillis vm snapshotCreateXML snapshot total System currentTimeMillis start s_logger debug total vm resource getDomain conn vmName state vm getInfo state state vm resume primaryPool Rados r radosConnect primaryPool
total System currentTimeMillis start s_logger debug total vm resource getDomain conn vmName state vm getInfo state state vm resume primaryPool Rados r radosConnect primaryPool IoCTX io r ioCtxCreate primaryPool getSourceDir Rbd rbd Rbd io RbdImage image rbd open disk getName s_logger debug disk getName snapshotName image snapCreate snapshotName
Rbd rbd Rbd io RbdImage image rbd open disk getName s_logger debug disk getName snapshotName image snapCreate snapshotName rbd close image r ioCtxDestroy io e s_logger error disk getName e getMessage Script command Script _manageSnapshotPath _cmdsTimeout s_logger command add MANAGE_SNAPSTHOT_CREATE_OPTION disk getPath command add NAME_OPTION snapshotName String result command execute result s_logger debug result
Rados primaryPool Rados r Rados primaryPool getAuthUserName r confSet CEPH_MON_HOST primaryPool getSourceHost primaryPool getSourcePort r confSet CEPH_AUTH_KEY primaryPool getAuthSecret r confSet CEPH_CLIENT_MOUNT_TIMEOUT CEPH_DEFAULT_MOUNT_TIMEOUT r connect
SnapshotObjectTO snapshotTO SnapshotObjectTO cmd getData PrimaryDataStoreTO primaryStore PrimaryDataStoreTO snapshotTO getDataStore VolumeObjectTO volume snapshotTO getVolume KVMStoragePool primaryPool storagePoolMgr getStoragePool primaryStore getPoolType primaryStore getUuid KVMPhysicalDisk disk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid volume getPath String snapshotFullPath snapshotTO getPath String snapshotName snapshotFullPath substring snapshotFullPath lastIndexOf snap_full_name disk getName snapshotName primaryPool Rados r radosConnect primaryPool IoCTX io r ioCtxCreate primaryPool getSourceDir Rbd rbd Rbd io RbdImage image rbd open disk getName
PrimaryDataStoreTO primaryStore PrimaryDataStoreTO snapshotTO getDataStore VolumeObjectTO volume snapshotTO getVolume KVMStoragePool primaryPool storagePoolMgr getStoragePool primaryStore getPoolType primaryStore getUuid KVMPhysicalDisk disk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid volume getPath String snapshotFullPath snapshotTO getPath String snapshotName snapshotFullPath substring snapshotFullPath lastIndexOf snap_full_name disk getName snapshotName primaryPool Rados r radosConnect primaryPool IoCTX io r ioCtxCreate primaryPool getSourceDir Rbd rbd Rbd io RbdImage image rbd open disk getName s_logger info snap_full_name image snapshotName
KVMPhysicalDisk disk storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid volume getPath String snapshotFullPath snapshotTO getPath String snapshotName snapshotFullPath substring snapshotFullPath lastIndexOf snap_full_name disk getName snapshotName primaryPool Rados r radosConnect primaryPool IoCTX io r ioCtxCreate primaryPool getSourceDir Rbd rbd Rbd io RbdImage image rbd open disk getName s_logger info snap_full_name image snapshotName s_logger debug snap_full_name image snapUnprotect snapshotName image snapRemove snapshotName
String snapshotName snapshotFullPath substring snapshotFullPath lastIndexOf snap_full_name disk getName snapshotName primaryPool getType Rados r radosConnect primaryPool IoCTX io r ioCtxCreate primaryPool getSourceDir Rbd rbd Rbd io RbdImage image rbd open disk getName s_logger info snap_full_name image snapshotName s_logger debug snap_full_name image snapUnprotect snapshotName image snapRemove snapshotName s_logger info snap_full_name primaryPool getType toString
Rbd rbd Rbd io RbdImage image rbd open disk getName s_logger info snap_full_name image snapshotName s_logger debug snap_full_name image snapUnprotect snapshotName image snapRemove snapshotName s_logger info snap_full_name primaryPool getType toString e s_logger error snap_full_name e toString ErrorCode getErrorMessage e getReturnValue rbd close image r ioCtxDestroy io primaryPool getType primaryPool getType
image snapRemove snapshotName s_logger info snap_full_name primaryPool getType toString e s_logger error snap_full_name e toString ErrorCode getErrorMessage e getReturnValue rbd close image r ioCtxDestroy io primaryPool getType primaryPool getType s_logger info String format snapshotTO getId snapshotTO getName snapshotTO getPath primaryPool getType deleteSnapshotViaManageSnapshotScript snapshotName disk s_logger warn primaryPool getType toString InternalErrorException primaryPool getType toString Answer cmd snap_full_name e
e s_logger error snap_full_name e toString ErrorCode getErrorMessage e getReturnValue rbd close image r ioCtxDestroy io primaryPool getType primaryPool getType s_logger info String format snapshotTO getId snapshotTO getName snapshotTO getPath primaryPool getType deleteSnapshotViaManageSnapshotScript snapshotName disk s_logger warn primaryPool getType toString InternalErrorException primaryPool getType toString Answer cmd snap_full_name e s_logger error snap_full_name e toString ErrorCode getErrorMessage e getReturnValue Answer cmd snap_full_name
rbd close image r ioCtxDestroy io primaryPool getType primaryPool getType s_logger info String format snapshotTO getId snapshotTO getName snapshotTO getPath primaryPool getType deleteSnapshotViaManageSnapshotScript snapshotName disk s_logger warn primaryPool getType toString InternalErrorException primaryPool getType toString Answer cmd snap_full_name e s_logger error snap_full_name e toString ErrorCode getErrorMessage e getReturnValue Answer cmd snap_full_name e s_logger error snap_full_name e toString ErrorCode getErrorMessage e getReturnValue
cmd PrimaryDataStoreTO pool cmd getDestPool DirectTemplateDownloader downloader KVMPhysicalDisk template s_logger debug String temporaryDownloadPath resource getDirectDownloadTemporaryDownloadPath temporaryDownloadPath String msg temporaryDownloadPath
String srcVolumePath srcData getPath String destVolumePath destData getPath KVMStoragePool destPool String volumeName UUID randomUUID toString String destVolumeName volumeName destFormat getFileExtension KVMPhysicalDisk volume storagePoolMgr getPhysicalDisk primaryStore getPoolType primaryStore getUuid srcVolumePath volume setFormat PhysicalDiskFormat valueOf srcFormat toString destPool storagePoolMgr getStoragePool primaryStoreDest getPoolType primaryStoreDest getUuid storagePoolMgr copyPhysicalDisk volume destVolumeName destPool cmd getWaitInMillSeconds VolumeObjectTO newVol VolumeObjectTO newVol setPath destVolumePath File separator destVolumeName newVol setFormat destFormat CopyCmdAnswer newVol
size format LibvirtStorageVolumeDef volDef LibvirtStorageVolumeDef UUID randomUUID toString size format
StoragePool fsType String uuid String host String path String targetPath _mountPoint File separator uuid LibvirtStoragePoolDef spd LibvirtStoragePoolDef fsType uuid uuid host path targetPath _storageLayer mkdir targetPath StoragePool sp
StoragePool fsType String uuid String host String path String targetPath _mountPoint File separator uuid LibvirtStoragePoolDef spd LibvirtStoragePoolDef fsType uuid uuid host path targetPath _storageLayer mkdir targetPath StoragePool sp s_logger debug spd toString mountpointResult Script runSimpleBashScriptForExitValue targetPath mountpointResult
StoragePool fsType String uuid String host String path String targetPath _mountPoint File separator uuid LibvirtStoragePoolDef spd LibvirtStoragePoolDef fsType uuid uuid host path targetPath _storageLayer mkdir targetPath StoragePool sp s_logger debug spd toString mountpointResult Script runSimpleBashScriptForExitValue targetPath mountpointResult s_logger info targetPath String result Script runSimpleBashScript targetPath result
_storageLayer mkdir targetPath StoragePool sp s_logger debug spd toString mountpointResult Script runSimpleBashScriptForExitValue targetPath mountpointResult s_logger info targetPath String result Script runSimpleBashScript targetPath result s_logger info targetPath s_logger error sp conn storagePoolCreateXML spd toString sp
String String String path String mountPoint path mountPoint
StoragePool String uuid String host String path String volgroupPath path String volgroupName path volgroupName volgroupName replaceFirst LibvirtStoragePoolDef spd LibvirtStoragePoolDef PoolType LOGICAL volgroupName uuid host volgroupPath volgroupPath StoragePool sp
s_logger debug spd toString sp conn storagePoolCreateXML spd toString sp e s_logger error e toString sp sp sp destroy sp undefine sp destroy sp free
StoragePool String uuid String host port String userInfo String path LibvirtStoragePoolDef spd StoragePool sp Secret s String userInfoTemp userInfo split userInfoTemp LibvirtSecretDef sd LibvirtSecretDef Usage CEPH uuid sd setCephName userInfoTemp host port path
String userInfoTemp userInfo split userInfoTemp LibvirtSecretDef sd LibvirtSecretDef Usage CEPH uuid sd setCephName userInfoTemp host port path s_logger debug sd toString s conn secretDefineXML sd toString s setValue Base64 decodeBase64 userInfoTemp e s_logger error e toString s s undefine s free
s conn secretDefineXML sd toString s setValue Base64 decodeBase64 userInfoTemp e s_logger error e toString s s undefine s free l s_logger error l toString spd LibvirtStoragePoolDef PoolType RBD uuid uuid host port path userInfoTemp AuthenticationType CEPH uuid spd LibvirtStoragePoolDef PoolType RBD uuid uuid host port path
s_logger error e toString s s undefine s free l s_logger error l toString spd LibvirtStoragePoolDef PoolType RBD uuid uuid host port path userInfoTemp AuthenticationType CEPH uuid spd LibvirtStoragePoolDef PoolType RBD uuid uuid host port path s_logger debug spd toString sp conn storagePoolCreateXML spd toString sp
type StoragePoolType RBD spd type StoragePoolType CLVM spd type StoragePoolType Gluster LibvirtStoragePool pool LibvirtStoragePool uuid storage getName type storage pool getType StoragePoolType RBD pool setLocalPath spd getTargetPath pool setLocalPath pool getType StoragePoolType RBD pool getType StoragePoolType Gluster pool setSourceHost spd getSourceHost pool setSourcePort spd getSourcePort pool setSourceDir spd getSourceDir String authUsername spd getAuthUserName authUsername Secret secret conn secretLookupByUUIDString spd getSecretUUID
spd type StoragePoolType Gluster LibvirtStoragePool pool LibvirtStoragePool uuid storage getName type storage pool getType StoragePoolType RBD pool setLocalPath spd getTargetPath pool setLocalPath pool getType StoragePoolType RBD pool getType StoragePoolType Gluster pool setSourceHost spd getSourceHost pool setSourcePort spd getSourcePort pool setSourceDir spd getSourceDir String authUsername spd getAuthUserName authUsername Secret secret conn secretLookupByUUIDString spd getSecretUUID String secretValue String Base64 encodeBase64 secret getByteValue Charset defaultCharset pool setAuthUsername authUsername pool setAuthSecret secretValue
LibvirtStoragePool pool LibvirtStoragePool uuid storage getName type storage pool getType StoragePoolType RBD pool setLocalPath spd getTargetPath pool setLocalPath pool getType StoragePoolType RBD pool getType StoragePoolType pool setSourceHost spd getSourceHost pool setSourcePort spd getSourcePort pool setSourceDir spd getSourceDir String authUsername spd getAuthUserName authUsername Secret secret conn secretLookupByUUIDString spd getSecretUUID String secretValue String Base64 encodeBase64 secret getByteValue Charset defaultCharset pool setAuthUsername authUsername pool setAuthSecret secretValue s_logger info uuid
name type s_logger info name type toString StoragePool sp Connect conn conn LibvirtConnection getConnection e CloudRuntimeException e toString sp conn storagePoolLookupByUUIDString name sp sp sp undefine sp s_logger info name sp
e CloudRuntimeException e toString sp conn storagePoolLookupByUUIDString name sp sp sp undefine sp s_logger info name sp s_logger info name e sp s_logger warn name path path path substring path length
s_logger info name sp s_logger warn name path path path substring path length sp s_logger info name String poolnames conn listStoragePools String poolname poolnames s_logger debug poolname StoragePool p conn storagePoolLookupByName poolname LibvirtStoragePoolDef pdef getStoragePoolDef conn p pdef
s_logger info name String poolnames conn listStoragePools String poolname poolnames s_logger debug poolname StoragePool p conn storagePoolLookupByName poolname LibvirtStoragePoolDef pdef getStoragePoolDef conn p pdef CloudRuntimeException poolname String targetPath pdef getTargetPath targetPath targetPath path s_logger debug path poolname name p p destroy
String poolnames conn listStoragePools String poolname poolnames s_logger debug poolname StoragePool p conn storagePoolLookupByName poolname LibvirtStoragePoolDef pdef getStoragePoolDef conn p pdef CloudRuntimeException poolname String targetPath pdef getTargetPath targetPath targetPath path s_logger debug path poolname name p p destroy p undefine p destroy
String poolname s_logger debug poolname StoragePool p conn storagePoolLookupByName poolname LibvirtStoragePoolDef pdef getStoragePoolDef conn p pdef CloudRuntimeException poolname String targetPath pdef getTargetPath targetPath targetPath path s_logger debug path poolname name p p destroy p undefine p destroy
String targetPath pdef getTargetPath targetPath targetPath path s_logger debug path poolname name p p destroy p undefine p destroy e s_logger error e s_logger debug name sp createNetfsStoragePool PoolType NETFS conn name host path e
String targetPath pdef getTargetPath targetPath targetPath path s_logger debug path poolname name p p destroy p undefine p destroy e s_logger error e s_logger debug name sp createNetfsStoragePool PoolType NETFS conn name host path e
e s_logger error e s_logger debug name sp createNetfsStoragePool PoolType NETFS conn name host path e s_logger error host path e s_logger error e getStackTrace CloudRuntimeException e toString sp createNetfsStoragePool PoolType GLUSTERFS conn name host path e s_logger error host path e
Connect conn conn LibvirtConnection getConnection e CloudRuntimeException e toString StoragePool sp Secret s sp conn storagePoolLookupByUUIDString uuid e s_logger warn uuid s conn secretLookupByUUIDString uuid e
s_logger warn uuid s conn secretLookupByUUIDString uuid s_logger info uuid sp sp destroy sp undefine sp destroy sp free s
sp sp destroy sp undefine sp destroy sp free s s undefine s free s_logger info uuid String targetPath _mountPoint File separator uuid
String name pool format size LibvirtStoragePool libvirtPool LibvirtStoragePool pool StoragePool virtPool libvirtPool getPool LibvirtStorageVolumeDef VolumeFormat libvirtformat LibvirtStorageVolumeDef VolumeFormat getFormat format String volPath String volName volAllocation volCapacity LibvirtStorageVolumeDef volDef LibvirtStorageVolumeDef name size libvirtformat
actualSize timeout QemuImgFile destFile QemuImgFile volPath destFile setFormat format destFile setSize size QemuImg qemu QemuImg timeout Map String String options HashMap String String options put QemuImg PreallocationType getPreallocationType provisioningType toString qemu create destFile options Map String String info qemu info destFile virtualSize Long parseLong info get String actualSize File destFile getFileName length
uuid pool s_logger info uuid pool getUuid pool
uuid pool s_logger info uuid pool getUuid pool s_logger info pool getSourceDir uuid Rados r Rados pool getAuthUserName r confSet pool getSourceHost pool getSourcePort r confSet pool getAuthSecret r confSet r connect
uuid pool s_logger info uuid pool getUuid pool s_logger info pool getSourceDir uuid Rados r Rados pool getAuthUserName r confSet pool getSourceHost pool getSourcePort r confSet pool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate pool getSourceDir Rbd rbd Rbd io RbdImage image rbd open uuid
s_logger info pool getSourceDir uuid Rados r Rados pool getAuthUserName r confSet pool getSourceHost pool getSourcePort r confSet pool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate pool getSourceDir Rbd rbd Rbd io RbdImage image rbd open uuid s_logger debug pool getSourceDir uuid List RbdSnapInfo snaps image snapList RbdSnapInfo snaps image
r confSet pool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate pool getSourceDir Rbd rbd Rbd io RbdImage image rbd open uuid s_logger debug pool getSourceDir uuid List RbdSnapInfo snaps image snapList RbdSnapInfo snap snaps image snap name s_logger debug pool getSourceDir uuid snap name image snapUnprotect snap name
Rbd rbd Rbd io RbdImage image rbd open uuid s_logger debug pool getSourceDir uuid List RbdSnapInfo snaps image snapList RbdSnapInfo snap snaps image snap name s_logger debug pool getSourceDir uuid snap name image snapUnprotect snap name s_logger debug pool getSourceDir uuid snap name s_logger debug pool getSourceDir uuid snap name image snapRemove snap name s_logger info snaps size pool getSourceDir uuid
s_logger debug pool getSourceDir uuid snap name image snapUnprotect snap name s_logger debug pool getSourceDir uuid snap name s_logger debug pool getSourceDir uuid snap name image snapRemove snap name s_logger info snaps size pool getSourceDir uuid e s_logger error e toString ErrorCode getErrorMessage e getReturnValue CloudRuntimeException e toString ErrorCode getErrorMessage e getReturnValue s_logger debug rbd close image r ioCtxDestroy io e
s_logger debug pool getSourceDir uuid snap name s_logger debug pool getSourceDir uuid snap name image snapRemove snap name s_logger info snaps size pool getSourceDir uuid e s_logger error e toString ErrorCode getErrorMessage e getReturnValue CloudRuntimeException e toString ErrorCode getErrorMessage e getReturnValue s_logger debug rbd close image r ioCtxDestroy io e s_logger error e toString ErrorCode getErrorMessage e getReturnValue CloudRuntimeException e toString ErrorCode getErrorMessage e getReturnValue
s_logger info snaps size pool getSourceDir uuid e s_logger error e toString ErrorCode getErrorMessage e getReturnValue CloudRuntimeException e toString ErrorCode getErrorMessage e getReturnValue s_logger debug rbd close image r ioCtxDestroy io e s_logger error e toString ErrorCode getErrorMessage e getReturnValue CloudRuntimeException e toString ErrorCode getErrorMessage e getReturnValue e s_logger error e toString ErrorCode getErrorMessage e getReturnValue CloudRuntimeException e toString ErrorCode getErrorMessage e getReturnValue LibvirtStoragePool libvirtPool LibvirtStoragePool pool
Map String String options HashMap String String options put QemuImg PreallocationType getPreallocationType provisioningType toString provisioningType QemuImgFile backingFile QemuImgFile template getPath template getFormat qemu create destFile backingFile options QemuImgFile srcFile QemuImgFile template getPath template getFormat qemu convert srcFile destFile options PhysicalDiskFormat RAW QemuImgFile sourceFile QemuImgFile template getPath template getFormat QemuImgFile destFile QemuImgFile disk getPath PhysicalDiskFormat RAW size template destFile setSize size
size template getVirtualSize disk setSize size disk setVirtualSize size disk setSize template getVirtualSize disk setVirtualSize disk getSize QemuImg qemu QemuImg timeout QemuImgFile srcFile QemuImgFile destFile QemuImgFile KVMPhysicalDisk RBDStringBuilder destPool getSourceHost destPool getSourcePort destPool getAuthUserName destPool getAuthSecret disk getPath destFile setFormat format srcFile QemuImgFile template getPath template getFormat qemu convert srcFile destFile
QemuImgFile destFile QemuImgFile KVMPhysicalDisk RBDStringBuilder destPool getSourceHost destPool getSourcePort destPool getAuthUserName destPool getAuthSecret disk getPath destFile setFormat format srcPool srcFile QemuImgFile template getPath template getFormat qemu convert srcFile destFile e s_logger error disk getPath e getMessage srcPool getSourceHost destPool getSourceHost srcPool destPool s_logger debug Rados r Rados srcPool getAuthUserName r confSet srcPool getSourceHost srcPool getSourcePort r confSet srcPool getAuthSecret
qemu convert srcFile destFile e s_logger error disk getPath e getMessage srcPool getSourceHost getSourceHost srcPool getSourceDir getSourceDir s_logger debug Rados r Rados srcPool getAuthUserName r confSet srcPool getSourceHost srcPool getSourcePort r confSet srcPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate srcPool getSourceDir Rbd rbd Rbd io
s_logger error disk getPath e getMessage srcPool getSourceHost getSourceHost srcPool getSourceDir getSourceDir s_logger debug Rados r Rados srcPool getAuthUserName r confSet srcPool getSourceHost srcPool getSourcePort r confSet srcPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate srcPool getSourceDir Rbd rbd Rbd io RbdImage srcImage rbd open template getName srcImage
srcPool getSourceHost getSourceHost srcPool getSourceDir getSourceDir s_logger debug Rados r Rados srcPool getAuthUserName r confSet srcPool getSourceHost srcPool getSourcePort r confSet srcPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate srcPool getSourceDir Rbd rbd Rbd io RbdImage srcImage rbd open template getName srcImage s_logger debug srcPool getSourceDir template getName toHumanReadableSize disk getVirtualSize
srcPool getSourceHost getSourceHost srcPool getSourceDir getSourceDir s_logger debug Rados r Rados srcPool getAuthUserName r confSet srcPool getSourceHost srcPool getSourcePort r confSet srcPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate srcPool getSourceDir Rbd rbd Rbd io RbdImage srcImage rbd open template getName srcImage s_logger debug srcPool getSourceDir template getName toHumanReadableSize disk getVirtualSize rbd create disk getName disk getVirtualSize rbdFeatures rbdOrder RbdImage destImage rbd open disk getName
s_logger debug Rados r Rados srcPool getAuthUserName r confSet srcPool getSourceHost srcPool getSourcePort r confSet srcPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate srcPool getSourceDir Rbd rbd Rbd io RbdImage srcImage rbd open template getName srcImage s_logger debug srcPool getSourceDir template getName toHumanReadableSize disk getVirtualSize rbd create disk getName disk getVirtualSize rbdFeatures rbdOrder RbdImage destImage rbd open disk getName s_logger debug srcImage getName destImage getName srcPool getSourceDir
r confSet srcPool getSourceHost srcPool getSourcePort r confSet srcPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate srcPool getSourceDir Rbd rbd Rbd io RbdImage srcImage rbd open template getName srcImage s_logger debug srcPool getSourceDir template getName toHumanReadableSize disk getVirtualSize rbd create disk getName disk getVirtualSize rbdFeatures rbdOrder RbdImage destImage rbd open disk getName s_logger debug srcImage getName destImage getName srcPool getSourceDir rbd copy srcImage destImage s_logger debug srcImage getName destImage getName srcPool getSourceDir
s_logger debug r confGet IoCTX io r ioCtxCreate srcPool getSourceDir Rbd rbd Rbd io RbdImage srcImage rbd open template getName srcImage s_logger debug srcPool getSourceDir template getName toHumanReadableSize disk getVirtualSize rbd create disk getName disk getVirtualSize rbdFeatures rbdOrder RbdImage destImage rbd open disk getName s_logger debug srcImage getName destImage getName srcPool getSourceDir rbd copy srcImage destImage s_logger debug srcImage getName destImage getName srcPool getSourceDir rbd close destImage s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName
srcImage s_logger debug srcPool getSourceDir template getName toHumanReadableSize disk getVirtualSize rbd create disk getName disk getVirtualSize rbdFeatures rbdOrder RbdImage destImage rbd open disk getName s_logger debug srcImage getName destImage getName srcPool getSourceDir rbd copy srcImage destImage s_logger debug srcImage getName destImage getName srcPool getSourceDir rbd close destImage s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName List RbdSnapInfo snaps srcImage snapList s_logger debug snaps size srcPool getSourceDir template getName snapFound RbdSnapInfo snaps
rbd create disk getName disk getVirtualSize rbdFeatures rbdOrder RbdImage destImage rbd open disk getName s_logger debug srcImage getName destImage getName srcPool getSourceDir rbd copy srcImage destImage s_logger debug srcImage getName destImage getName srcPool getSourceDir rbd close destImage s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName List RbdSnapInfo snaps srcImage snapList s_logger debug snaps size srcPool getSourceDir template getName snapFound RbdSnapInfo snaps rbdTemplateSnapName s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName
rbd copy srcImage destImage s_logger debug srcImage getName destImage getName srcPool getSourceDir rbd close destImage s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName List RbdSnapInfo snaps srcImage snapList s_logger debug snaps size srcPool getSourceDir template getName snapFound RbdSnapInfo snaps rbdTemplateSnapName s_logger debug srcPool getSourceDir template getName rbdTemplateSnapName snapFound snapFound
RbdImage diskImage rbd open disk getName diskImage resize disk getVirtualSize rbd close diskImage s_logger debug disk getName toHumanReadableSize disk getVirtualSize rbd close srcImage r ioCtxDestroy io s_logger debug Rados rSrc Rados srcPool getAuthUserName rSrc confSet srcPool getSourceHost srcPool getSourcePort rSrc confSet srcPool getAuthSecret rSrc confSet rSrc connect s_logger debug rSrc confGet Rados rDest Rados destPool getAuthUserName
rbd close srcImage r ioCtxDestroy io s_logger debug Rados rSrc Rados srcPool getAuthUserName rSrc confSet srcPool getSourceHost srcPool getSourcePort rSrc confSet srcPool getAuthSecret rSrc confSet rSrc connect s_logger debug rSrc confGet Rados rDest Rados destPool getAuthUserName rDest confSet destPool getSourceHost destPool getSourcePort rDest confSet destPool getAuthSecret rDest confSet rDest connect
KVMPhysicalDisk KVMPhysicalDisk disk String KVMStoragePool KVMStoragePool srcPool disk getPool PhysicalDiskFormat sourceFormat disk getFormat String sourcePath disk getPath KVMPhysicalDisk newDisk
Script runSimpleBashScript destPath Script runSimpleBashScript destPath Script runSimpleBashScript sourcePath destPath timeout srcFile QemuImgFile sourcePath sourceFormat Map String String info qemu info srcFile String backingFile info get String sourceFormat destFormat backingFile sourcePath String result Script runSimpleBashScript sourcePath destPath timeout result CloudRuntimeException result destFile QemuImgFile destPath destFormat
srcFile QemuImgFile sourcePath sourceFormat Map String String info qemu info srcFile String backingFile info get String sourceFormat destFormat backingFile sourcePath String result Script runSimpleBashScript sourcePath destPath timeout result CloudRuntimeException result destFile QemuImgFile destPath destFormat qemu convert srcFile destFile Map String String destInfo qemu info destFile Long virtualSize Long parseLong destInfo get String
CloudRuntimeException result destFile QemuImgFile destPath destFormat qemu convert srcFile destFile Map String String destInfo qemu info destFile Long virtualSize Long parseLong destInfo get String newDisk setVirtualSize virtualSize newDisk setSize virtualSize e s_logger error srcFile getFileName destFile getFileName e getMessage newDisk e s_logger error srcFile getFileName e getMessage newDisk
destFile QemuImgFile destPath destFormat qemu convert srcFile destFile Map String String destInfo qemu info destFile Long virtualSize Long parseLong destInfo get String newDisk setVirtualSize virtualSize newDisk setSize virtualSize e s_logger error srcFile getFileName destFile getFileName e getMessage newDisk e s_logger error srcFile getFileName e getMessage newDisk
e s_logger error srcFile getFileName e getMessage newDisk destPool s_logger debug srcFile QemuImgFile sourcePath sourceFormat String rbdDestPath destPool getSourceDir name String rbdDestFile KVMPhysicalDisk RBDStringBuilder destPool getSourceHost destPool getSourcePort destPool getAuthUserName destPool getAuthSecret rbdDestPath destFile QemuImgFile rbdDestFile destFormat s_logger debug srcFile getFileName rbdDestPath qemu convert srcFile destFile s_logger debug srcFile getFileName rbdDestPath Rados r Rados destPool getAuthUserName r confSet destPool getSourceHost destPool getSourcePort
s_logger error srcFile getFileName e getMessage newDisk destPool s_logger debug srcFile QemuImgFile sourcePath sourceFormat String rbdDestPath destPool getSourceDir name String rbdDestFile KVMPhysicalDisk RBDStringBuilder destPool getSourceHost destPool getSourcePort destPool getAuthUserName destPool getAuthSecret rbdDestPath destFile QemuImgFile rbdDestFile destFormat s_logger debug srcFile getFileName rbdDestPath qemu convert srcFile destFile s_logger debug srcFile getFileName rbdDestPath Rados r Rados destPool getAuthUserName r confSet destPool getSourceHost destPool getSourcePort r confSet destPool getAuthSecret
r confSet destPool getSourceHost destPool getSourcePort r confSet destPool getAuthSecret r confSet r connect s_logger debug r confGet IoCTX io r ioCtxCreate destPool getSourceDir Rbd rbd Rbd io RbdImage image rbd open name RbdImageInfo rbdInfo image stat newDisk setSize rbdInfo size newDisk setVirtualSize rbdInfo size s_logger debug rbdDestPath toHumanReadableSize rbdInfo size rbd close image r ioCtxDestroy io
PhysicalDiskFormat format snapshot getFormat size snapshot getSize String destPath destPool getLocalPath endsWith destPool getLocalPath name destPool getLocalPath name destPool format PhysicalDiskFormat QemuImg qemu QemuImg timeout QemuImgFile destFile QemuImgFile destPath format size snapshot getVirtualSize destFile setSize size destFile setSize snapshot getVirtualSize QemuImgFile srcFile QemuImgFile snapshot getPath snapshot getFormat qemu convert srcFile destFile snapshotName
String volumeUuid volumeUid volumeUid String tokens volumeUid split volumeUuid tokens tokens length disk _storageAdaptor getPhysicalDisk volumeUuid e e disk disk s_logger debug volumeUid String localPoolPath getLocalPath File f File localPoolPath File separator volumeUuid f
disk _storageAdaptor getPhysicalDisk volumeUuid CloudRuntimeException e e disk disk s_logger debug volumeUid String localPoolPath getLocalPath File f File localPoolPath File separator volumeUuid f s_logger debug volumeUuid CloudRuntimeException volumeUuid disk KVMPhysicalDisk f getPath volumeUuid disk setFormat PhysicalDiskFormat QCOW2 disk setSize f length
sp conn storagePoolCreateXML spd toString sp CloudRuntimeException volumeUuid sp sp create LibvirtStoragePool storagePool LibvirtStoragePool getStoragePool pool getUuid storagePool setPool sp e String error e toString error CloudRuntimeException error CloudRuntimeException error
sp sp create LibvirtStoragePool storagePool LibvirtStoragePool getStoragePool pool getUuid storagePool setPool sp e String error e toString error CloudRuntimeException error CloudRuntimeException error e s_logger error e toString e toString s_logger error targetPath
CloudRuntimeException error CloudRuntimeException error e s_logger error e toString e toString s_logger error targetPath String result Script runSimpleBashScript targetPath result s_logger error targetPath conn storagePoolCreateXML spd toString s_logger error
StoragePool virtPool conn LibvirtConnection getConnection virtPool conn storagePoolLookupByName volumeUuid e1 CloudRuntimeException e1 toString LibvirtStorageVolumeDef VolumeFormat libvirtformat volCapacity StorageVol vol getVolume virtPool volumeUuid vol libvirtformat LibvirtStorageVolumeDef VolumeFormat QCOW2 StoragePoolInfo poolinfo virtPool getInfo volCapacity poolinfo available LibvirtStorageVolumeDef volDef LibvirtStorageVolumeDef volumeUuid volCapacity libvirtformat
cpusockets hosts sockets hosts nodes cpusockets hosts sockets hosts nodes cpus hosts cpus LibvirtCapXMLParser parser LibvirtCapXMLParser parser parseCapabilitiesXML conn getCapabilities ArrayList String oss parser getGuestOsType String oss String hvmCapability hvmCapability capabilities hvmCapability capabilities add hvmCapability capabilities add conn close
String String url String String String Connection conn url String msg url
ClusterVO cluster _clusterDao findById clusterId cluster cluster s_logger isInfoEnabled s_logger info String agentUsername _params get agentUsername CloudRuntimeException String agentPassword _params get agentPassword CloudRuntimeException String hostname url getHost InetAddress ia InetAddress getByName hostname String hostIp ia getHostAddress String guid UUID nameUUIDFromBytes hostIp getBytes toString
List HostVO hosts _resourceMgr listAllHostsInCluster host getClusterId FenceCommand fence FenceCommand vm host HostVO h hosts h h h getId host getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence
h h h h getId getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence e s_logger s_logger debug h toString e e
h getId getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence e s_logger s_logger debug h toString e e s_logger s_logger debug h toString e answer answer
_name name _zoneId Long parseLong String params get _podId Long parseLong String params get _clusterId Long parseLong String params get _ip String params get _username String params get _password String params get _guid String params get _privateNetworkName String params get _publicNetworkName String params get _guestNetworkName String params get _agentUserName String params get _agentPassword String params get
ConfigurationException ConfigurationException ConfigurationException ConfigurationException ConfigurationException ConfigurationException ConfigurationException
ConfigurationException ConfigurationException _agentUserName ConfigurationException _agentPassword ConfigurationException setupServer e s_logger debug _ip e ConfigurationException _conn Connection _ip _agentUserName _agentPassword
cmd setStorageIpAddress _ip String defaultBridge OvmBridge getBridgeByIp _conn _ip _publicNetworkName _publicNetworkName defaultBridge _privateNetworkName _privateNetworkName _publicNetworkName _guestNetworkName _guestNetworkName _privateNetworkName Map String String d cmd getHostDetails d put _publicNetworkName d put _privateNetworkName d put _guestNetworkName cmd setHostDetails d s_logger debug String format hostDetails toJson
SCPClient scp SCPClient sshConnection String configScriptName String configScriptPath Script findScript configScriptName configScriptPath CloudRuntimeException configScriptName scp put configScriptPath sshConnection CloudRuntimeException _ip File tmp File configScriptPath File scriptDir File tmp getParent File scripts scriptDir listFiles i i scripts i File script scripts i script
pool String mountPoint String format pool getHost pool getPath OvmStoragePool Details d OvmStoragePool Details d path mountPoint d type OvmStoragePool NFS d uuid pool getUuid OvmStoragePool create _conn d
pool OvmStoragePool Details d OvmStoragePool Details d path pool getPath d type OvmStoragePool OCFS2 d uuid pool getUuid OvmStoragePool create _conn d
Answer cmd StorageFilerTO pool cmd getPool pool getType createNfsSr pool pool getType createOCFS2Sr pool Answer cmd pool getType name setupHeartBeat pool getUuid OvmStoragePool Details d OvmStoragePool getDetailsByUuid _conn pool getUuid Map String TemplateProp tInfo HashMap String TemplateProp ModifyStoragePoolAnswer answer ModifyStoragePoolAnswer cmd d totalSpace d freeSpace tInfo answer
String vmName vmSpec getName OvmVm Details vmDetails vmDetails OvmVm Details applySpecToVm vmDetails vmSpec createVbds vmDetails vmSpec createVifs vmDetails vmSpec startVm vmDetails NicTO nics vmSpec getNics NicTO nic nics nic vmSpec defaultNetworkRulesForUserVm vmName vmSpec getId nic StartAnswer cmd
PowerState s PowerState state s_powerStateMaps get s state
cmd VirtualMachineTO vm cmd getVirtualMachine
String secondaryStorageUrl cmd getSecondaryStorageUrl String volumePath cmd getVolumePath Long accountId cmd getAccountId Long templateId cmd getTemplateId wait cmd getWait wait wait URI uri uri URI secondaryStorageUrl String secondaryStorageMountPath uri getHost uri getPath String installPath accountId templateId Map String String res OvmStoragePool createTemplateFromVolume _conn secondaryStorageMountPath installPath volumePath wait CreatePrivateTemplateAnswer cmd res get Long parseLong res get Long parseLong res get res get ImageFormat RAW
CopyVolumeAnswer cmd String volumePath cmd getVolumePath String secondaryStorageURL cmd getSecondaryStorageURL wait cmd getWait wait wait URI uri URI secondaryStorageURL String secStorageMountPath uri getHost uri getPath String volumeFolderOnSecStorage String valueOf cmd getVolumeId String storagePoolUuid cmd getPool getUuid Boolean toSec cmd toSecondaryStorage String res OvmStoragePool copyVolume _conn secStorageMountPath volumeFolderOnSecStorage volumePath storagePoolUuid toSec wait CopyVolumeAnswer cmd res
errorout String msg info info getGuestNetworkName msg info getPhysicalNetworkId info getGuestNetworkName errorout info getPrivateNetworkName msg info getPhysicalNetworkId info getPrivateNetworkName errorout info getPublicNetworkName msg info getPhysicalNetworkId info getPublicNetworkName errorout
i i params i mParams i params i debug s_logger debug Coder toJson mParams startTime System currentTimeMillis _client executeAsync mParams callback callback waitForResponse to to e XmlRpcException e getMessage endTime System currentTimeMillis during endTime startTime
prot url URL prot hostIp hostPort toString xmlClientConfig setTimeZone TimeZone getTimeZone xmlClientConfig setServerURL url xmlClientConfig setReplyTimeout xmlClientConfig setConnectionTimeout xmlClientConfig setReplyTimeout hostUser hostPass LOGGER debug hostUser xmlClientConfig setBasicUserName hostUser xmlClientConfig setBasicPassword hostPass xmlClientConfig setXmlRpcServer client setConfig xmlClientConfig client setTypeFactory RpcTypeFactory client
timeout TimingOutCallback callback TimingOutCallback timeout
TimingOutCallback callback TimingOutCallback timeout debug LOGGER debug hostName hostIp method params startTime System currentTimeMillis XmlRpcClientRequestImpl req XmlRpcClientRequestImpl xmlClient getClientConfig method params xmlClient executeAsync req callback callback waitForResponse TimingOutCallback e LOGGER info e XmlRpcException e getMessage XmlRpcException e LOGGER info e e e
startTime System currentTimeMillis XmlRpcClientRequestImpl req XmlRpcClientRequestImpl xmlClient getClientConfig method params xmlClient executeAsync req callback callback waitForResponse e LOGGER info e XmlRpcException e getMessage XmlRpcException e LOGGER info e e e LOGGER info e XmlRpcException e getMessage e
vmName defVm getRunningVmConfig vmName defVm
Vm String repoId String vmId Xen Vm nVm Xen Vm Map String Object x Map String Object callWrapper repoId vmId x
url url url String msg url _params
String String url String String String Connection c CheckUrl url String msg
CheckUrl url clusterId String msg LOGGER info msg DiscoveryException msg String msg LOGGER info msg DiscoveryException msg ClusterVO cluster clusterDao findById clusterId cluster cluster String msg LOGGER info msg DiscoveryException msg
DiscoveryException msg String msg LOGGER info msg DiscoveryException msg ClusterVO cluster clusterDao findById clusterId cluster cluster String msg LOGGER info msg DiscoveryException msg LOGGER debug cluster String agentUsername _params get agentUsername String msg
DiscoveryException msg ClusterVO cluster clusterDao findById clusterId cluster cluster String msg LOGGER info msg DiscoveryException msg LOGGER debug cluster String agentUsername _params get agentUsername String msg LOGGER info msg DiscoveryException msg String agentPassword _params get agentPassword
LOGGER info msg DiscoveryException msg LOGGER debug cluster String agentUsername _params get agentUsername String msg LOGGER info msg DiscoveryException msg String agentPassword _params get agentPassword String msg LOGGER info msg DiscoveryException msg String agentPort _params get
LOGGER info msg DiscoveryException msg String agentPassword _params get agentPassword String msg LOGGER info msg DiscoveryException msg String agentPort _params get agentPort String msg LOGGER info msg DiscoveryException msg String hostname url getHost InetAddress ia InetAddress getByName hostname
String agentPassword _params get agentPassword String msg LOGGER info msg DiscoveryException msg String agentPort _params get agentPort String msg LOGGER info msg DiscoveryException msg String hostname url getHost InetAddress ia InetAddress getByName hostname String hostIp ia getHostAddress String guid UUID nameUUIDFromBytes hostIp getBytes toString
vm host host getHypervisorType LOGGER debug host getHypervisorType LOGGER debug vm host fenceParams List HostVO hosts resourceMgr listAllHostsInCluster host getClusterId FenceCommand fence FenceCommand vm host HostVO h hosts h getHypervisorType h h getId host getId FenceAnswer answer answer FenceAnswer agentMgr send h getId fence LOGGER
LOGGER debug vm host fenceParams List HostVO hosts resourceMgr listAllHostsInCluster host getClusterId FenceCommand fence FenceCommand vm host HostVO h hosts h h h getId host getId FenceAnswer answer answer FenceAnswer agentMgr send h getId fence e LOGGER LOGGER debug h toString e answer answer
LOGGER debug StartupRoutingCommand srCmd StartupRoutingCommand StartupStorageCommand ssCmd StartupStorageCommand hypervisorsupport fillHostInfo srCmd hypervisorsupport vmStateMapClear
Common test Common c String ping String pong test echo ping pong ping hypervisorsupport syncState CloudstackPlugin cSp CloudstackPlugin c cSp cSp
Common test Common c String ping String pong test echo ping pong ping hypervisorsupport syncState CloudstackPlugin cSp CloudstackPlugin c cSp configuration configuration configuration configuration configuration cSp LOGGER error configuration getAgentHostname cSp LOGGER error configuration getAgentHostname LOGGER debug configuration getAgentHostname PingRoutingCommand getType id hypervisorsupport hostVmStateReport
String ping String pong test echo ping pong ping hypervisorsupport syncState CloudstackPlugin cSp CloudstackPlugin c cSp configuration configuration configuration configuration configuration cSp LOGGER error configuration getAgentHostname cSp LOGGER error configuration getAgentHostname LOGGER debug configuration getAgentHostname PingRoutingCommand getType id hypervisorsupport hostVmStateReport LOGGER debug ping pong
Command cmd Class Command clazz cmd getClass
MaintainCommand hypervisorsupport execute MaintainCommand cmd CheckHealthCommand hypervisorsupport execute CheckHealthCommand cmd ReadyCommand hypervisorsupport execute ReadyCommand cmd FenceCommand hypervisorsupport execute FenceCommand cmd CheckOnHostCommand hypervisorsupport execute CheckOnHostCommand cmd PingTestCommand hypervisornetwork execute PingTestCommand cmd CheckNetworkCommand hypervisornetwork execute CheckNetworkCommand cmd
cmd VirtualMachineTO vmSpec cmd getVirtualMachine String vmName vmSpec getName State state State Stopped Xen xen Xen c hypervisorsupport setVmStateStarting vmName Xen Vm vm xen getVmConfig vm setVmCpus vmSpec getCpus vm setVmMemory vmSpec getMinRam vm setVmUuid UUID nameUUIDFromBytes vmSpec getName getBytes Charset defaultCharset toString vm setVmName vmName String domType guesttypes getOvm3GuestType vmSpec getOs domType domType domType
String vmName vmSpec getName State state State Stopped Xen xen Xen c hypervisorsupport setVmStateStarting vmName Xen Vm vm xen getVmConfig vm setVmCpus vmSpec getCpus vm setVmMemory vmSpec getMinRam vm setVmUuid UUID nameUUIDFromBytes vmSpec getName getBytes Charset defaultCharset toString vm setVmName vmName String domType guesttypes getOvm3GuestType vmSpec getOs domType domType domType LOGGER debug domType
vm setupVifs vm setVnc vmSpec getVncPassword xen createVm ovmObject deDash vm getPrimaryPoolUuid vm getVmUuid xen startVm ovmObject deDash vm getPrimaryPoolUuid vm getVmUuid state State Running vmSpec String controlIp nic vmSpec nic controlIp nic getIp CloudstackPlugin cSp CloudstackPlugin c vmName String msg vmName configuration getAgentHostname LOGGER debug msg
count count count CloudstackPlugin cSp CloudstackPlugin c vmName count String msg vmName configuration getAgentHostname LOGGER debug msg state State Stopped StartAnswer cmd msg Boolean res cSp domrCheckSsh controlIp LOGGER debug controlIp count res res x LOGGER trace controlIp count x getMessage x Thread sleep
cmd String vmName cmd getVmName State state State Error hypervisorsupport setVmState vmName State Stopping Xen vms Xen c Xen Vm vm vm vms getRunningVmConfig vmName vm state State Stopping
hypervisorsupport setVmState vmName State Stopping Xen vms Xen c Xen Vm vm vm vms getRunningVmConfig vmName vm state State Stopping LOGGER debug vmName StopAnswer cmd String repoId ovmObject deDash vm getVmRootDiskPoolId String vmId vm getVmUuid vms stopVm repoId vmId tries vms getRunningVmConfig vmName tries String msg vmName
LOGGER debug vmName StopAnswer cmd String repoId ovmObject deDash vm getVmRootDiskPoolId String vmId vm getVmUuid vms stopVm repoId vmId tries vms vmName tries String msg vmName LOGGER debug msg tries Thread sleep vms deleteVm repoId vmId vmsupport cleanup vm vms vmName String msg vmName
vms stopVm repoId vmId tries vms vmName tries String msg vmName LOGGER debug msg tries Thread sleep vms deleteVm repoId vmId vmsupport cleanup vm vms vmName String msg vmName LOGGER debug msg StopAnswer cmd msg state State Stopped StopAnswer cmd
cmd LOGGER debug cmd getClass DataTO srcData cmd getSrcTO DataStoreTO srcStore srcData getDataStore DataTO destData cmd getDestTO DataStoreTO destStore destData getDataStore String msg srcStore srcData destData copyTemplateToPrimaryStorage cmd srcData destData srcStore destStore cloneVolumeFromBaseTemplate cmd msg
copyTemplateToPrimaryStorage cmd srcData getObjectType destData getObjectType srcStore destStore cloneVolumeFromBaseTemplate cmd msg LOGGER debug msg srcData getObjectType destData getObjectType backupSnapshot cmd srcData getObjectType destData getObjectType createTemplateFromSnapshot cmd srcData getObjectType destData getObjectType createVolumeFromSnapshot cmd msg srcStore getClass srcData getObjectType destStore getClass destData getObjectType
cmd DataTO data cmd getData String msg
cmd LOGGER debug cmd getClass StorageFilerTO primaryStorage cmd getPool DiskProfile disk cmd getDiskCharacteristics String fileName UUID randomUUID toString String dst primaryStorage getPath primaryStorage getUuid fileName StoragePlugin store StoragePlugin c cmd
String fileName UUID randomUUID toString String dst primaryStorage getPath primaryStorage getUuid fileName StoragePlugin store StoragePlugin c cmd getTemplateUrl LOGGER debug cmd getTemplateUrl dst Linux host Linux c host copyFile cmd getTemplateUrl dst LOGGER debug dst store storagePluginCreate primaryStorage getUuid primaryStorage getHost dst disk getSize FileProperties fp store storagePluginGetFileInfo primaryStorage getUuid primaryStorage getHost dst VolumeTO volume VolumeTO cmd getVolumeId disk getType primaryStorage getType primaryStorage getUuid primaryStorage getPath fileName fp getName fp getSize CreateAnswer cmd volume
DataStoreTO srcStore srcData getDataStore DataTO destData cmd getDestTO NfsTO srcImageStore NfsTO srcStore TemplateObjectTO destTemplate TemplateObjectTO destData String secPoolUuid pool setupSecondaryStorage srcImageStore getUrl String primaryPoolUuid destData getDataStore getUuid String destPath config getAgentOvmRepoPath ovmObject deDash primaryPoolUuid config getTemplateDir String sourcePath config getAgentSecStoragePath secPoolUuid Linux host Linux c String destUuid destTemplate getUuid String srcFile sourcePath srcData getPath srcData getPath srcFile sourcePath srcData getPath destUuid String destFile destPath destUuid
Linux host Linux c String destUuid destTemplate getUuid String srcFile sourcePath srcData getPath srcData getPath srcFile sourcePath srcData getPath destUuid String destFile destPath destUuid LOGGER debug srcData getObjectType srcFile destData getObjectType destFile host copyFile srcFile destFile TemplateObjectTO newVol TemplateObjectTO newVol setUuid destUuid newVol setPath destUuid newVol setFormat ImageFormat RAW CopyCmdAnswer newVol e String msg e getMessage
cmd LOGGER debug cmd getClass DataTO srcData cmd getSrcTO TemplateObjectTO src TemplateObjectTO srcData String srcFile getVirtualDiskPath src getUuid src getDataStore getUuid srcFile srcFile replace config getVirtualDiskDir config getTemplateDir DataTO destData cmd getDestTO VolumeObjectTO dest VolumeObjectTO destData String destFile getVirtualDiskPath dest getUuid dest getDataStore getUuid Linux host Linux c
String srcFile getVirtualDiskPath src getUuid src getDataStore getUuid srcFile srcFile replace config getVirtualDiskDir config getTemplateDir DataTO destData cmd getDestTO VolumeObjectTO dest VolumeObjectTO destData String destFile getVirtualDiskPath dest getUuid dest getDataStore getUuid Linux host Linux c LOGGER debug srcData getObjectType srcFile destData getObjectType destFile host copyFile srcFile destFile VolumeObjectTO newVol VolumeObjectTO newVol setUuid dest getUuid newVol setPath dest getUuid newVol setFormat ImageFormat RAW CopyCmdAnswer newVol e String msg e getMessage
TemplateObjectTO destTemplate TemplateObjectTO destData String secPoolUuidTemplate pool setupSecondaryStorage destData getDataStore getUrl String destDir config getAgentSecStoragePath secPoolUuidTemplate destTemplate getPath String destFile destDir destTemplate getUuid CloudstackPlugin csp CloudstackPlugin c csp ovsMkdirs destDir Linux host Linux c host copyFile srcFile destFile TemplateObjectTO newVol TemplateObjectTO newVol setUuid destTemplate getUuid newVol setPath destTemplate getUuid newVol setFormat ImageFormat RAW CopyCmdAnswer newVol e String msg e getMessage
LOGGER debug cmd getClass DataTO srcData cmd getSrcTO DataTO destData cmd getDestTO SnapshotObjectTO src SnapshotObjectTO srcData SnapshotObjectTO dest SnapshotObjectTO destData String srcFile getVirtualDiskPath src getPath src getDataStore getUuid String storeUrl dest getDataStore getUrl String secPoolUuid pool setupSecondaryStorage storeUrl String destDir config getAgentSecStoragePath secPoolUuid dest getPath String destFile destDir src getPath destFile destFile concat Linux host Linux c CloudstackPlugin csp CloudstackPlugin c csp ovsMkdirs destDir
String destFile destDir src getPath destFile destFile concat Linux host Linux c CloudstackPlugin csp CloudstackPlugin c csp ovsMkdirs destDir LOGGER debug srcData getObjectType srcFile destData getObjectType destFile host copyFile srcFile destFile StoragePlugin sp StoragePlugin c sp storagePluginDestroy secPoolUuid srcFile SnapshotObjectTO newSnap SnapshotObjectTO newSnap setPath dest getPath src getPath newSnap setParentSnapshotPath CopyCmdAnswer newSnap e String msg e getMessage
String isAttach Xen xen Xen c String doThis isAttach
String vmName disk isAttach Xen xen Xen c String doThis isAttach LOGGER debug doThis disk getType vmName String msg String path Xen Vm vm xen getVmConfig vmName vm msg doThis vmName
LOGGER debug doThis disk getType vmName String msg String path Xen Vm vm xen getVmConfig vmName vm msg doThis vmName LOGGER debug msg AttachAnswer msg disk getType path getIsoPath disk disk getType path getVirtualDiskPath disk vm getPrimaryPoolUuid path msg doThis
disk path getIsoPath disk disk path getVirtualDiskPath disk vm getPrimaryPoolUuid path msg doThis LOGGER debug msg AttachAnswer msg disk vm addIso path vm addDataDisk path vm path
String storeUrl data getDataStore getUrl URI uri URI storeUrl String host uri getHost String file getVirtualDiskPath volume getUuid poolUuid Long size volume getSize StoragePlugin sp StoragePlugin c FileProperties fp sp storagePluginCreate poolUuid host file size fp getName file CreateObjectAnswer fp getName file VolumeObjectTO newVol VolumeObjectTO newVol setName volume getName newVol setSize fp getSize newVol setPath volume getUuid CreateObjectAnswer newVol
cmd LOGGER debug cmd getClass DataTO data cmd getData VolumeObjectTO volume VolumeObjectTO data String poolUuid data getDataStore getUuid String uuid volume getUuid String path getVirtualDiskPath uuid poolUuid StoragePlugin sp StoragePlugin c sp storagePluginDestroy poolUuid path
String volumePath cmd getVolumePath String secondaryStorageURL cmd getSecondaryStorageURL wait cmd getWait wait wait Linux host Linux c cmd LOGGER debug volumePath secondaryStorageURL host copyFile volumePath secondaryStorageURL LOGGER debug secondaryStorageURL volumePath host copyFile secondaryStorageURL volumePath CopyVolumeAnswer cmd
SnapshotObjectTO srcSnap SnapshotObjectTO srcData String secPoolUuid pool setupSecondaryStorage srcImageStore getUrl String srcFile config getAgentSecStoragePath secPoolUuid srcSnap getPath DataTO destData cmd getDestTO VolumeObjectTO destVol VolumeObjectTO destData String primaryPoolUuid destData getDataStore getUuid String destFile getVirtualDiskPath destVol getUuid ovmObject deDash primaryPoolUuid Linux host Linux c host copyFile srcFile destFile VolumeObjectTO newVol VolumeObjectTO newVol setUuid destVol getUuid newVol setPath destVol getUuid newVol setFormat ImageFormat RAW CopyCmdAnswer newVol
cmd LOGGER debug cmd getClass DataTO data cmd getData SnapshotObjectTO snap SnapshotObjectTO data String storeUrl data getDataStore getUrl String snapUuid snap getPath String secPoolUuid pool setupSecondaryStorage storeUrl String filePath config getAgentSecStoragePath secPoolUuid snapUuid StoragePlugin sp StoragePlugin c sp storagePluginDestroy secPoolUuid filePath
String String String String String error
String routerName String Xen xen Xen c Xen Vm vm xen getVmConfig routerName ip Integer devId vm getVifIdByMac ip getVifMacAddress devId String msg vm getVmName ip getVifMacAddress
Xen Vm vm xen getVmConfig routerName ip Integer devId vm getVifIdByMac ip getVifMacAddress devId type String msg vm getVmName ip getVifMacAddress logger error msg ExecutionResult msg devId type String msg vm getVmName ip getVifMacAddress logger debug msg devId ip setNicDevId devId e String msg type e
String String name String String msg name
Network net Network c String controlIface config getAgentControlNetworkName controlIface net controlIface
Network net Network c String controlIface config getAgentControlNetworkName controlIface net controlIface LOGGER debug controlIface net startOvsLocalConfig controlIface contCount net controlIface
ConfigurationException Network net Network c String controlIface config getAgentControlNetworkName controlIface net controlIface LOGGER debug controlIface net startOvsLocalConfig controlIface contCount net controlIface LOGGER debug controlIface Thread sleep contCount ConfigurationException controlIface config getAgentHostname contCount
LOGGER debug controlIface net startOvsLocalConfig controlIface contCount net controlIface LOGGER debug controlIface Thread sleep contCount ConfigurationException controlIface config getAgentHostname contCount LOGGER debug controlIface net ovsIpConfig controlIface NetUtils getLinkLocalGateway NetUtils getLinkLocalNetMask CloudstackPlugin cSp CloudstackPlugin c cSp ovsControlInterface controlIface NetUtils getLinkLocalCIDR
net controlIface LOGGER debug controlIface Thread sleep contCount ConfigurationException controlIface config getAgentHostname contCount LOGGER debug controlIface net ovsIpConfig controlIface NetUtils getLinkLocalGateway NetUtils getLinkLocalNetMask CloudstackPlugin cSp CloudstackPlugin c cSp ovsControlInterface controlIface NetUtils getLinkLocalCIDR e LOGGER error e e String msg config getAgentHostname
nameTag nameTag LOGGER debug nameTag Network net Network c net getInterfaceList net nameTag
info info getGuestNetworkName info setGuestNetworkName config getAgentGuestNetworkName info info setPublicNetworkName config getAgentPublicNetworkName info getPrivateNetworkName info setPrivateNetworkName config getAgentPrivateNetworkName info info setStorageNetworkName config getAgentStorageNetworkName info getGuestNetworkName String msg info getPhysicalNetworkId info getGuestNetworkName LOGGER error msg CheckNetworkAnswer cmd msg info getPrivateNetworkName String msg info getPhysicalNetworkId info getPrivateNetworkName
info info setPublicNetworkName config getAgentPublicNetworkName info getPrivateNetworkName info setPrivateNetworkName config getAgentPrivateNetworkName info info setStorageNetworkName config getAgentStorageNetworkName info getGuestNetworkName String msg info getPhysicalNetworkId info getGuestNetworkName LOGGER error msg CheckNetworkAnswer cmd msg info getPrivateNetworkName String msg info getPhysicalNetworkId info getPrivateNetworkName LOGGER error msg CheckNetworkAnswer cmd msg info
String String vlanId vlanId vlanId String msg vlanId
File String filename String keyPath Script findScript filename File keyFile keyPath
Linux host Linux c host host
CloudRuntimeException c getIp config getAgentPublicNetworkName config setAgentPublicNetworkName defaultBridge config getAgentPrivateNetworkName config setAgentPrivateNetworkName config getAgentPublicNetworkName config getAgentGuestNetworkName config setAgentGuestNetworkName config getAgentPublicNetworkName config getAgentStorageNetworkName config setAgentStorageNetworkName config getAgentPrivateNetworkName Map String String d cmd getHostDetails d put config getAgentPublicNetworkName d put config getAgentPrivateNetworkName d put config getAgentGuestNetworkName d put config getAgentStorageNetworkName d put config getAgentIsMaster toString
oldStates HashMap String State vmStateMap size oldStates putAll vmStateMap String State entry String vmName entry getKey State newState entry getValue State oldState oldStates remove vmName LOGGER trace vmName oldState newState newState State oldState State oldState oldState State LOGGER trace newState State Running LOGGER LOGGER trace vmName newState oldState oldState toString newState State LOGGER trace vmName
LOGGER trace vmName oldState newState newState State oldState State oldState oldState State LOGGER trace newState State Running LOGGER LOGGER trace vmName newState oldState oldState toString newState State LOGGER trace vmName oldState vmStateMap put vmName newState LOGGER debug vmName changes put vmName newState oldState State newState State Running
newState State Running LOGGER LOGGER trace vmName newState oldState oldState toString newState State LOGGER trace vmName oldState vmStateMap put vmName newState LOGGER debug vmName changes put vmName newState oldState State newState State Running vmStateMap put vmName newState newState State LOGGER debug vmName
LOGGER trace vmName vmStateMap put vmName newState LOGGER debug vmName changes put vmName newState newState vmStateMap put vmName newState newState LOGGER debug vmName newState LOGGER debug vmName vmStateMap put vmName newState
newState vmStateMap put vmName newState newState LOGGER debug vmName newState LOGGER debug vmName vmStateMap put vmName newState newState vmStateMap put vmName newState newState LOGGER debug vmName newState vmStateMap put vmName newState
newState LOGGER debug vmName newState LOGGER debug vmName vmStateMap put vmName newState newState vmStateMap put vmName newState newState LOGGER debug vmName newState vmStateMap put vmName newState newState changes put vmName newState
newState LOGGER debug vmName vmStateMap put vmName newState newState vmStateMap put vmName newState newState LOGGER debug vmName newState vmStateMap put vmName newState newState changes put vmName newState String entry String vmName entry getKey
LOGGER debug vmName vmStateMap put vmName newState oldState State newState State vmStateMap put vmName newState newState State LOGGER debug vmName oldState newState vmStateMap put vmName newState newState State changes put vmName newState String State entry String vmName entry getKey State oldState entry getValue oldState State
oldState State newState State vmStateMap put vmName newState newState State LOGGER debug vmName oldState newState vmStateMap put vmName newState newState State changes put vmName newState String State entry String vmName entry getKey State oldState entry getValue oldState State LOGGER debug vmName vmStateMap remove vmName
Map String HostVmStateReportEntry Map String HostVmStateReportEntry vmStates HashMap String HostVmStateReportEntry Map String
config getOvm3PoolVip LOGGER debug CloudstackPlugin cSp CloudstackPlugin c cSp config getOvm3PoolVip LOGGER debug config getAgentHostname config getOvm3PoolVip config setAgentIsMaster cSp config getOvm3PoolVip LOGGER debug config getAgentHostname config getOvm3PoolVip config setAgentHasMaster LOGGER debug config getAgentHostname config getOvm3PoolVip config setAgentIsMaster
Linux host Linux c Pool pool Pool c host config pool getPoolMasterVip c getIp ReadyAnswer cmd LOGGER debug pool getPoolMasterVip c getIp ReadyAnswer cmd host LOGGER debug config getAgentHostname ReadyAnswer cmd LOGGER debug config getAgentHostname ReadyAnswer cmd
String vmName cmd getVmName CloudstackPlugin plug CloudstackPlugin c Integer vncPort Integer valueOf plug getVncPort vmName vncPort LOGGER warn vmName Map String State states getAllVmStates vmStateMap State vmState states get vmName vmState LOGGER warn vmName vmState State Stopped vmStateMap vmStateMap put vmName State Running CheckVirtualMachineAnswer cmd convertStateToPower vmState vncPort
Linux host Linux c Pool pool Pool c host pool LOGGER info config getAgentHostname setRoles pool host host takeOwnership pool host takeOwnership33x pool host config String msg config getAgentHostname
LOGGER info config getAgentHostname setRoles pool takeOwnership pool takeOwnership33x pool config String msg config getAgentHostname LOGGER debug msg String msg config getAgentHostname
takeOwnership pool takeOwnership33x pool config String msg config getAgentHostname LOGGER debug msg String msg config getAgentHostname LOGGER error msg ConfigurationException msg ConfigurationException
cmd String primUuid cmd getUuid String ssUuid ovmObject deDash primUuid String fsType String clusterUuid config getAgentOwnedByUuid substring String managerId config getAgentOwnedByUuid String poolAlias cmd getHost cmd getPath String mountPoint String format cmd getHost cmd getPath Integer poolSize Pool poolHost Pool c PoolOCFS2 poolFs PoolOCFS2 c config
Connection m Connection config getOvm3PoolVip c getPort c getUserName c getPassword Pool poolMaster Pool m poolMaster members addAll poolMaster getPoolMemberList poolMaster getPoolMemberList c getIp c getIp config getOvm3PoolVip members add c getIp LOGGER warn c getIp config getOvm3PoolVip member members Connection x Connection member c getPort c getUserName c getPassword Pool poolM Pool x poolM poolM setPoolMemberList members
Repository repo Repository c String primUuid repo deDash cmd getUuid String ovsRepo basePath primUuid String mountPoint String format cmd getHost cmd getPath String msg cmd Boolean repoExists repo mountRepoFs mountPoint ovsRepo e LOGGER debug mountPoint ovsRepo config getAgentHostname e getMessage repo addRepo mountPoint ovsRepo repoExists e
Boolean repoExists repo mountRepoFs mountPoint ovsRepo e LOGGER debug mountPoint ovsRepo config getAgentHostname e getMessage repo addRepo mountPoint ovsRepo repoExists e LOGGER debug mountPoint ovsRepo e getMessage repoExists repo createRepo mountPoint ovsRepo primUuid e msg mountPoint ovsRepo
LOGGER debug mountPoint ovsRepo config getAgentHostname e getMessage repo addRepo mountPoint ovsRepo repoExists e LOGGER debug mountPoint ovsRepo e getMessage repoExists repo createRepo mountPoint ovsRepo primUuid e msg mountPoint ovsRepo LOGGER debug msg CloudRuntimeException msg e getMessage e config
e LOGGER debug mountPoint ovsRepo e getMessage repo createRepo mountPoint ovsRepo primUuid e msg mountPoint ovsRepo LOGGER debug msg CloudRuntimeException msg e getMessage e config msg config getAgentHostname config getAgentIp LOGGER debug msg setupPool cmd msg
repo createRepo mountPoint ovsRepo primUuid e msg mountPoint ovsRepo LOGGER debug msg CloudRuntimeException msg e getMessage e config msg config getAgentHostname config getAgentIp LOGGER debug msg setupPool cmd msg config msg config getAgentHostname config getAgentIp LOGGER debug msg e
msg config getAgentHostname config getAgentIp LOGGER debug msg setupPool cmd msg config msg config getAgentHostname config getAgentIp LOGGER debug msg e msg config getAgentHostname config getAgentIp ovsRepo CloudRuntimeException msg e getMessage e msg LOGGER debug msg
msg config getAgentHostname config getAgentIp LOGGER debug msg e msg config getAgentHostname config getAgentIp ovsRepo CloudRuntimeException msg e getMessage e msg LOGGER debug msg URI uri URI cmd getType cmd getHost cmd getPort cmd getPath setupNfsStorage uri cmd getUuid e msg mountPoint config getAgentSecStoragePath cmd getUuid CloudRuntimeException msg e getMessage e
String storageUrl String poolUuid String host String mountPoint storageUrl GlobalLock lock GlobalLock getInternLock LOGGER debug lock lock File srcIso getSystemVMPatchIsoFile String destPath mountPoint StoragePlugin sp StoragePlugin c FileProperties fp sp storagePluginGetFileInfo poolUuid host destPath srcIso getName fp srcIso
GlobalLock lock GlobalLock getInternLock LOGGER debug lock lock File srcIso getSystemVMPatchIsoFile String destPath mountPoint StoragePlugin sp StoragePlugin c FileProperties fp sp storagePluginGetFileInfo poolUuid host destPath srcIso getName fp srcIso LOGGER info srcIso getAbsolutePath toString destPath
File srcIso getSystemVMPatchIsoFile String destPath mountPoint StoragePlugin sp StoragePlugin c FileProperties fp sp storagePluginGetFileInfo poolUuid host destPath srcIso getName fp srcIso LOGGER info srcIso getAbsolutePath toString destPath LOGGER info srcIso getAbsolutePath destPath SshHelper scpTo c getIp config getAgentSshUserName config getAgentSshPassword destPath srcIso getAbsolutePath toString
String uri String uuid String fsUri String msg String mountPoint config getAgentSecStoragePath uuid Linux host Linux c Map String Linux FileSystem fsList host getFileSystemMap fsUri Linux FileSystem fs fsList get uuid fs fs mountPoint StoragePlugin sp StoragePlugin c sp storagePluginMountNFS uri getHost uri getPath uuid mountPoint msg uri mountPoint uuid ec msg uri mountPoint ec getMessage
cmd LOGGER debug cmd getStorageId Linux host Linux c Linux FileSystem fs host getFileSystemByUuid cmd getStorageId StoragePlugin store StoragePlugin c String propUuid store deDash cmd getStorageId String mntUuid cmd getStorageId store propUuid mntUuid fs String msg cmd getStorageId
GetStorageStatsAnswer cmd LOGGER debug cmd getStorageId Linux host Linux c Linux FileSystem fs host getFileSystemByUuid cmd getStorageId StoragePlugin store StoragePlugin c String propUuid store deDash cmd getStorageId String mntUuid cmd getStorageId store propUuid mntUuid fs String msg cmd getStorageId LOGGER error msg GetStorageStatsAnswer cmd msg StorageDetails sd store storagePluginGetFileSystemInfo propUuid mntUuid fs getHost fs getDevice sd String msg cmd getStorageId
String propUuid store deDash cmd getStorageId String mntUuid cmd getStorageId store propUuid mntUuid fs String msg cmd getStorageId LOGGER error msg GetStorageStatsAnswer cmd msg StorageDetails sd store storagePluginGetFileSystemInfo propUuid mntUuid fs getHost fs getDevice sd getSize String msg cmd getStorageId LOGGER debug msg GetStorageStatsAnswer cmd msg total Long parseLong sd getSize used total Long parseLong sd getFreeSize GetStorageStatsAnswer cmd total used
cmd StorageFilerTO pool cmd getPool
pool getType createRepo pool StoragePlugin store StoragePlugin c String propUuid store deDash pool getUuid String mntUuid pool getUuid String nfsHost pool getHost String nfsPath pool getPath StorageDetails ss store storagePluginGetFileSystemInfo propUuid mntUuid nfsHost nfsPath Map String TemplateProp tInfo HashMap String TemplateProp ModifyStoragePoolAnswer cmd Long parseLong ss getSize Long parseLong ss getFreeSize tInfo pool getType createOCFS2Sr pool Answer cmd pool getType name
cmd StorageFilerTO pool cmd getPool
args args String vpcCIDR cmd getVpcCIDR args vpcCIDR args args args NetworkUsageAnswer cmd SUCCESS ExecutionResult callResult vrr executeInVR privateIp args callResult
cmd String vmName cmd getName String privateIp cmd getIp cmdPort cmd getPort interval cmd getInterval retries cmd getRetries CloudstackPlugin cSp CloudstackPlugin c cSp privateIp cmdPort retries interval String msg cmdPort vmName config getAgentHostname
String privateIp cmd getIp cmdPort cmd getPort interval cmd getInterval retries cmd getRetries CloudstackPlugin cSp CloudstackPlugin c cSp privateIp cmdPort retries interval String msg cmdPort vmName config getAgentHostname LOGGER info msg CheckSshAnswer cmd msg e String msg cmdPort vmName config getAgentHostname e LOGGER error msg CheckSshAnswer cmd msg LOGGER
nic String net network getNetwork nic net
nic String net network getNetwork nic net
cmd VirtualMachineTO vm cmd getVirtualMachine
cmd String vmName cmd getVmName String destUuid cmd getHostGuid String destIp cmd getDestinationIp State state State Error String msg vmName destIp
cmd String vmName cmd getVmName String destUuid cmd getHostGuid String destIp cmd getDestinationIp State state State Error String msg vmName destIp LOGGER info msg Xen xen Xen c Xen Vm vm xen getRunningVmConfig vmName HostVO destHost resourceMgr findHostByGuid destUuid destHost msg destUuid destIp
Xen xen Xen c Xen Vm vm xen getRunningVmConfig vmName HostVO destHost resourceMgr findHostByGuid destUuid destHost msg destUuid destIp LOGGER info msg MigrateAnswer cmd msg xen stopVm ovmObject deDash vm getVmRootDiskPoolId vm getVmUuid msg destHost toString state State Stopping MigrateAnswer cmd msg e msg vmName destUuid e getMessage
MigrateAnswer cmd msg hypervisor setVmState vmName state Xen xen Xen c Xen Vm vm xen getRunningVmConfig vmName vm state State Stopped msg vmName config getAgentHostname MigrateAnswer cmd msg xen migrateVm ovmObject deDash vm getVmRootDiskPoolId vm getVmUuid destIp state State Stopping msg vmName MigrateAnswer cmd msg
cmd Xen host Xen c Xen Vm vm host getRunningVmConfig cmd getName Integer vncPort vm getVncPort
newVmStats cSp ovsDomUStats vmName e LOGGER info vmName e stats LOGGER debug vmName stats setNumCPUs stats setNetworkReadKBs stats setNetworkWriteKBs stats setDiskReadKBs stats setDiskWriteKBs stats setDiskReadIOs stats setDiskWriteIOs stats setCPUUtilization stats setEntityType
VolumeObjectTO vol VolumeObjectTO disk getData String diskFile processor getVirtualDiskPath vol getUuid vol getDataStore getUuid vm addRootDisk diskFile vm setPrimaryPoolUuid vol getDataStore getUuid LOGGER debug diskFile disk DataTO isoTO disk getData isoTO getPath TemplateObjectTO template TemplateObjectTO isoTO DataStoreTO store template getDataStore store NfsTO CloudRuntimeException NfsTO nfsStore NfsTO store String secPoolUuid pool setupSecondaryStorage nfsStore getUrl String isoPath config getAgentSecStoragePath secPoolUuid template getPath
disk DataTO isoTO disk getData isoTO getPath TemplateObjectTO template TemplateObjectTO isoTO DataStoreTO store template getDataStore store NfsTO CloudRuntimeException NfsTO nfsStore NfsTO store String secPoolUuid pool setupSecondaryStorage nfsStore getUrl String isoPath config getAgentSecStoragePath secPoolUuid template getPath vm addIso isoPath LOGGER debug isoPath disk VolumeObjectTO vol VolumeObjectTO disk getData String diskFile processor getVirtualDiskPath vol getUuid vol getDataStore getUuid
String method XmlRpcStreamConfig config XmlRpcHttpRequestConfigImpl XmlRpcClient client XmlRpcClient client setTypeFactory RpcTypeFactory client XmlRpcResponseParser parser XmlRpcResponseParser XmlRpcStreamRequestConfig config client getTypeFactory XMLReader xr SAXParsers newXMLReader xr setContentHandler parser String result getMethodResponse method result getMethodResponse method
String method params debug XmlRpcStreamConfig config XmlRpcHttpRequestConfigImpl XmlRpcClient client XmlRpcClient client setTypeFactory RpcTypeFactory client XmlRpcResponseParser parser XmlRpcResponseParser XmlRpcStreamRequestConfig config client getTypeFactory XMLReader xr SAXParsers newXMLReader xr setContentHandler parser String result getMethodResponse method result getMethodResponse method LOGGER debug method params LOGGER trace result result result getResult
mockHost setPrivateIpAddress ipAddress mockHost setPublicIpAddress ipAddress mockHost setStorageIpAddress ipAddress mockHost setPrivateMacAddress macAddress mockHost setPublicMacAddress macAddress mockHost setStorageMacAddress macAddress mockHost setVersion getClass getPackage getImplementationVersion mockHost setResource TransactionLegacy txn TransactionLegacy open TransactionLegacy SIMULATOR_DB txn start mockHost _mockHostDao persist mockHost txn commit txn rollback
cmd String vmName cmd getVmName String vmSnapshotName cmd getTarget getSnapshotName
String Long Long rule String action String reason Long currSeqnum rule rule third String currSig rule rule first updateSeqnoAndSig currSeqnum currSeqnum
cmd String Long Long rule String action String reason Long currSeqnum rule rule third String currSig rule rule first updateSeqnoAndSig currSeqnum cmd getSeqNum currSeqnum s_logger info cmd getSeqNum currSeqnum updateSeqnoAndSig cmd currSig
cmd String Long Long rule String action String reason Long currSeqnum rule rule third String currSig rule rule first updateSeqnoAndSig currSeqnum cmd getSeqNum currSeqnum s_logger info cmd getSeqNum currSeqnum updateSeqnoAndSig cmd getSignature currSig s_logger info cmd getSeqNum currSeqnum cmd getSignature currSig action reason reason
Long currSeqnum rule rule third String currSig rule rule first updateSeqnoAndSig currSeqnum cmd getSeqNum currSeqnum s_logger info cmd getSeqNum currSeqnum updateSeqnoAndSig cmd getSignature currSig s_logger info cmd getSeqNum currSeqnum cmd getSignature currSig action reason reason s_logger info cmd getSeqNum currSeqnum cmd getSignature reason reason cmd getSeqNum currSeqnum
cmd getSeqNum currSeqnum s_logger info cmd getSeqNum currSeqnum updateSeqnoAndSig cmd getSignature currSig s_logger info cmd getSeqNum currSeqnum cmd getSignature currSig action reason reason s_logger info cmd getSeqNum currSeqnum cmd getSignature reason reason cmd getSeqNum currSeqnum s_logger info cmd getSeqNum currSeqnum reason reason cmd getSignature currSig
action reason reason s_logger info cmd getSeqNum currSeqnum cmd getSignature reason reason cmd getSeqNum currSeqnum s_logger info cmd getSeqNum currSeqnum reason reason cmd getSignature currSig s_logger info cmd getSeqNum cmd getSignature currSig action reason reason updateSeqnoAndSig
s_logger info cmd getSeqNum currSeqnum cmd getSignature reason reason cmd getSeqNum currSeqnum s_logger info cmd getSeqNum currSeqnum reason reason cmd getSignature currSig s_logger info cmd getSeqNum cmd getSignature currSig action reason reason updateSeqnoAndSig s_logger info cmd getSeqNum currSeqnum cmd getSignature reason reason
cmd getSeqNum currSeqnum s_logger info cmd getSeqNum currSeqnum reason reason cmd getSignature currSig s_logger info cmd getSeqNum cmd getSignature currSig action reason reason updateSeqnoAndSig s_logger info cmd getSeqNum currSeqnum cmd getSignature reason reason s_logger info cmd getSeqNum updateSeqnoAndSig
index cmdName lastIndexOf index cmdName cmdName substring index SimulatorInfo info SimulatorInfo info setHostUuid hostGuid MockConfigurationVO config _mockConfigDao findByNameBottomUP host getDataCenterId host getPodId host getClusterId host getId cmdName config config config Map String String configParameters config getParameters Map String String entry configParameters entry info setEnabled Boolean parseBoolean entry getValue entry info setTimeout Integer valueOf entry getValue
MockConfigurationVO config _mockConfigDao findByNameBottomUP host getDataCenterId host getPodId host getClusterId host getId cmdName config config config Map String String configParameters config getParameters Map String String entry configParameters entry info setEnabled Boolean parseBoolean entry getValue entry info setTimeout Integer valueOf entry getValue e s_logger debug e toString entry wait Integer valueOf entry getValue Thread sleep wait
Map String String configParameters config getParameters Map String String entry configParameters entry info setEnabled Boolean parseBoolean entry getValue entry info setTimeout Integer valueOf entry getValue e s_logger debug e toString entry wait Integer valueOf entry getValue Thread sleep wait e s_logger debug e toString
answer _mockStorageMgr GetStorageStats GetStorageStatsCommand cmd cmd GetVolumeStatsCommand answer _mockStorageMgr getVolumeStats GetVolumeStatsCommand cmd cmd ManageSnapshotCommand answer _mockStorageMgr ManageSnapshot ManageSnapshotCommand cmd cmd BackupSnapshotCommand answer _mockStorageMgr BackupSnapshot BackupSnapshotCommand cmd info cmd CreateVolumeFromSnapshotCommand answer _mockStorageMgr CreateVolumeFromSnapshot CreateVolumeFromSnapshotCommand cmd cmd DeleteCommand answer _mockStorageMgr Delete DeleteCommand cmd cmd SecStorageVMSetupCommand answer _mockStorageMgr SecStorageVMSetup SecStorageVMSetupCommand cmd cmd CreatePrivateTemplateFromSnapshotCommand answer _mockStorageMgr CreatePrivateTemplateFromSnapshot CreatePrivateTemplateFromSnapshotCommand cmd
cmd BackupSnapshotCommand answer _mockStorageMgr BackupSnapshot BackupSnapshotCommand cmd info cmd CreateVolumeFromSnapshotCommand answer _mockStorageMgr CreateVolumeFromSnapshot CreateVolumeFromSnapshotCommand cmd cmd DeleteCommand answer _mockStorageMgr Delete DeleteCommand cmd cmd SecStorageVMSetupCommand answer _mockStorageMgr SecStorageVMSetup SecStorageVMSetupCommand cmd cmd CreatePrivateTemplateFromSnapshotCommand answer _mockStorageMgr CreatePrivateTemplateFromSnapshot CreatePrivateTemplateFromSnapshotCommand cmd cmd ComputeChecksumCommand answer _mockStorageMgr ComputeChecksum ComputeChecksumCommand cmd cmd CreatePrivateTemplateFromVolumeCommand answer _mockStorageMgr CreatePrivateTemplateFromVolume CreatePrivateTemplateFromVolumeCommand cmd cmd
s_logger debug host getHypervisorType List HostVO hosts _resourceMgr listAllHostsInCluster host getClusterId FenceCommand fence FenceCommand vm host HostVO h hosts h getHypervisorType h h getId host getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence s_logger
FenceCommand fence FenceCommand vm host h h h h getId host getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence e s_logger s_logger debug h toString e e
h getId getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence e s_logger s_logger debug h toString e e s_logger s_logger debug h toString e answer answer
Status agent agent haManager agent haManager getHostStatus agent CheckOnHostCommand cmd CheckOnHostCommand agent List HostVO neighbors _resourceMgr listHostsInClusterByStatus agent getClusterId Status Up HostVO neighbor neighbors neighbor getId agent getId neighbor Answer answer _agentMgr easySend neighbor getId cmd answer answer getResult Status Up Status Down
haManager host haManager isVMAliveOnHost host CheckVirtualMachineCommand cmd CheckVirtualMachineCommand vm getInstanceName Answer answer _agentMgr send vm getHostId cmd answer s_logger debug vm toString UnknownVM CheckVirtualMachineAnswer cvmAnswer CheckVirtualMachineAnswer answer s_logger debug cvmAnswer getState toString cvmAnswer getState PowerState PowerOn e s_logger debug vm toString e getMessage UnknownVM e
script s_logger debug script URL url ClassLoader getSystemResource script File file url file File script
entry String value entry getValue value config _simMgr getMockConfigurationDao findByNameBottomUP agentHost getDataCenterId agentHost getPodId agentHost getClusterId agentHost getId config String message config getJsonResponse message String objectType message split substring replace String objectData message substring message indexOf message length objectType Class clz clz Class forName objectType
Map Map String String uri String String String Map AgentResourceBase Map String String resources String scheme uri getScheme String host uri getAuthority String commands URLDecoder decode uri getPath cpuSpeed MockAgentManager DEFAULT_HOST_SPEED_MHZ cpuCores MockAgentManager DEFAULT_HOST_CPU_CORES memory MockAgentManager DEFAULT_HOST_MEM_SIZE localstorageSize MockStorageManager DEFAULT_HOST_STORAGE_SIZE scheme host host String msg uri
parameter parameter cpuSpeed Long parseLong parameter parameter parameter cpuCores Long parseLong parameter parameter parameter memory Long parseLong parameter parameter parameter localstorageSize Long parseLong parameter String msg uri s_logger s_logger debug msg String cluster
String msg uri s_logger s_logger debug msg String cluster clusterId String msg s_logger s_logger debug msg RuntimeException msg ClusterVO clu _clusterDao findById clusterId clu clu s_logger isInfoEnabled s_logger info
TransactionLegacy txn TransactionLegacy currentTxn StringBuilder search StringBuilder Formatter formatter Formatter search formatter format name dcId podId clusterId hostId formatter format dcId podId clusterId formatter format dcId podId formatter format dcId formatter format formatter format formatter close String sql search toString txn sql rs rs toEntityBean rs
String store String EndPoint ep _epSelector select store ep String errMsg
ucsMgrId String dn UcsManagerVO mgrvo ucsDao findById ucsMgrId UcsHttpClient client UcsHttpClient mgrvo getUrl String cookie getCookie ucsMgrId String cmd UcsCommands configResolveDn cookie dn String res client call cmd XmlObject xo XmlObjectParser parseFromString res
UcsHttpClient client UcsHttpClient mgrvo getUrl String res client call ucscmd count timeout count timeout mgrvo bvo getDn TimeUnit SECONDS sleep e CloudRuntimeException e count count timeout CloudRuntimeException String format pdn bvo getDn bvo setProfileDn pdn
List Command vm List List Command commands ArrayList Command List NicVO nicVOs _nicDao listByVmId vm getId NicVO nic nicVOs NetworkVO network _networkDao findById nic getNetworkId network
DatacenterMO zoneId VmwareDatacenterVO vmwareDatacenter getVmwareDatacenter zoneId VmwareContext context VmwareContextFactory getContext vmwareDatacenter getVcenterHost vmwareDatacenter getUser vmwareDatacenter getPassword DatacenterMO dcMo DatacenterMO context vmwareDatacenter getVmwareDatacenterName ManagedObjectReference dcMor dcMo getMor dcMor String msg vmwareDatacenter getVmwareDatacenterName
zoneId String location volumeInfo vm DatacenterMO dcMo getDatacenterMO zoneId VirtualMachineMO vmRestored findVM dcMo location VirtualMachineMO vmMo findVM dcMo vm getInstanceName VirtualDisk restoredDisk findRestoredVolume volumeInfo vmRestored String diskPath vmRestored getVmdkFileBaseName restoredDisk
zoneId String location volumeInfo vm DatacenterMO dcMo getDatacenterMO zoneId VirtualMachineMO vmRestored findVM dcMo location VirtualMachineMO vmMo findVM dcMo vm getInstanceName VirtualDisk restoredDisk findRestoredVolume volumeInfo vmRestored String diskPath vmRestored getVmdkFileBaseName restoredDisk s_logger debug toHumanReadableSize restoredDisk getCapacityInKB diskPath vmRestored detachAllDisks String srcPath getVolumeFullPath restoredDisk String destPath getDestVolumeFullPath restoredDisk vmRestored vmMo VirtualDiskManagerMO virtualDiskManagerMO VirtualDiskManagerMO dcMo getContext virtualDiskManagerMO moveVirtualDisk srcPath dcMo getMor destPath dcMo getMor vmMo attachDisk String destPath getDestStoreMor vmMo
s_logger debug toHumanReadableSize restoredDisk getCapacityInKB diskPath vmRestored detachAllDisks String srcPath getVolumeFullPath restoredDisk String destPath getDestVolumeFullPath restoredDisk vmRestored vmMo VirtualDiskManagerMO virtualDiskManagerMO VirtualDiskManagerMO dcMo getContext virtualDiskManagerMO moveVirtualDisk srcPath dcMo getMor destPath dcMo getMor vmMo attachDisk String destPath getDestStoreMor vmMo e s_logger error diskPath e vmRestored destroy VirtualDisk attachedDisk getAttachedDisk vmMo diskPath attachedDisk
String String details String localNestedV details get VmDetailConstants NESTED_VIRTUALIZATION_FLAG Boolean globalNestedVirtualisationEnabled getGlobalNestedVirtualisationEnabled Boolean globalNestedVPerVMEnabled getGlobalNestedVPerVMEnabled Boolean shouldEnableNestedVirtualization shouldEnableNestedVirtualization globalNestedVirtualisationEnabled globalNestedVPerVMEnabled localNestedV
VmwareManager mgr context getStockObject VmwareManager CONTEXT_STOCK_NAME assert mgr cleanupMaid VirtualMachineMO vmMo cleanupMaid getDatacenterMorValue DatacenterMO dcMo DatacenterMO context cleanupMaid getDatacenterMorValue vmMo dcMo findVm cleanupMaid getVmName assert cleanupMaid getHostMorValue HostMO hostMo HostMO context cleanupMaid getHostMorValue ClusterMO clusterMo ClusterMO context hostMo getHyperHostCluster vmMo clusterMo findVmOnHyperHost cleanupMaid getVmName vmMo
NetworkType zoneType zone getNetworkType _readGlobalConfigParameters paramGuestVswitchType _urlParams get ApiConstants VSWITCH_TYPE_GUEST_TRAFFIC paramGuestVswitchName _urlParams get ApiConstants VSWITCH_NAME_GUEST_TRAFFIC paramPublicVswitchType _urlParams get ApiConstants VSWITCH_TYPE_PUBLIC_TRAFFIC paramPublicVswitchName _urlParams get ApiConstants VSWITCH_NAME_PUBLIC_TRAFFIC defaultVirtualSwitchType getDefaultVirtualSwitchType guestTrafficLabel _netmgr getDefaultGuestTrafficLabel dcId HypervisorType VMware guestTrafficLabelObj getTrafficInfo TrafficType Guest guestTrafficLabel defaultVirtualSwitchType paramGuestVswitchType paramGuestVswitchName clusterId zoneType NetworkType publicTrafficLabel _netmgr getDefaultPublicTrafficLabel dcId HypervisorType VMware publicTrafficLabelObj getTrafficInfo TrafficType Public publicTrafficLabel defaultVirtualSwitchType paramPublicVswitchType paramPublicVswitchName clusterId List PhysicalNetwork pNetworkListGuestTraffic _netmgr getPhysicalNtwksSupportingTrafficType dcId TrafficType Guest List PhysicalNetwork pNetworkListPublicTraffic _netmgr getPhysicalNtwksSupportingTrafficType dcId TrafficType Public
paramGuestVswitchType _urlParams get ApiConstants VSWITCH_TYPE_GUEST_TRAFFIC paramGuestVswitchName _urlParams get ApiConstants VSWITCH_NAME_GUEST_TRAFFIC paramPublicVswitchType _urlParams get ApiConstants VSWITCH_TYPE_PUBLIC_TRAFFIC paramPublicVswitchName _urlParams get ApiConstants VSWITCH_NAME_PUBLIC_TRAFFIC defaultVirtualSwitchType getDefaultVirtualSwitchType guestTrafficLabel _netmgr getDefaultGuestTrafficLabel dcId HypervisorType VMware guestTrafficLabelObj getTrafficInfo TrafficType Guest guestTrafficLabel defaultVirtualSwitchType paramGuestVswitchType paramGuestVswitchName clusterId publicTrafficLabel _netmgr getDefaultPublicTrafficLabel dcId HypervisorType VMware publicTrafficLabelObj getTrafficInfo TrafficType Public publicTrafficLabel defaultVirtualSwitchType paramPublicVswitchType paramPublicVswitchName clusterId List PhysicalNetwork pNetworkListGuestTraffic _netmgr getPhysicalNtwksSupportingTrafficType dcId TrafficType Guest List PhysicalNetwork pNetworkListPublicTraffic _netmgr getPhysicalNtwksSupportingTrafficType dcId TrafficType Public PhysicalNetwork pNetworkPublic pNetworkListPublicTraffic get pNetworkListGuestTraffic pNetworkPublic publicTrafficLabelObj guestTrafficLabelObj
VmwareDatacenterVO dcId VmwareDatacenterVO vmwareDc VmwareDatacenterZoneMapVO vmwareDcZone vmwareDcId String msg vmwareDcZone _vmwareDcZoneMapDao findByZoneId dcId vmwareDcZone msg dcId
vCenterHost vmwareDc getVcenterHost inventoryPath updatedInventoryPath URLDecoder decode url getPath e DiscoveredWithErrorException url getPath e assert inventoryPath String pathTokens inventoryPath split pathTokens clusterName pathTokens updatedInventoryPath vmwareDcNameFromDb clusterName pathTokens vmwareDcNameFromApi pathTokens clusterName pathTokens vCenterHost url getHost msg clusterName url getHost vCenterHost vCenterHost vmwareDcNameFromDb
e DiscoveredWithErrorException url getPath e assert inventoryPath String pathTokens inventoryPath split pathTokens clusterName pathTokens updatedInventoryPath vmwareDcNameFromDb clusterName pathTokens vmwareDcNameFromApi pathTokens clusterName pathTokens vCenterHost url getHost msg clusterName url getHost vCenterHost vCenterHost vmwareDcNameFromDb s_logger error msg DiscoveryException msg vmwareDcNameFromDb vmwareDcNameFromApi
inputVswitchType VirtualSwitchType vSwitchType VirtualSwitchType getType inputVswitchType vSwitchType VirtualSwitchType
mine Thread currentThread
_managemetPortGroupName _configDao getValue Config VmwareManagementPortGroup key _managemetPortGroupName _managemetPortGroupName _defaultSystemVmNicAdapterType _configDao getValue Config VmwareSystemVmNicDeviceType key _defaultSystemVmNicAdapterType _defaultSystemVmNicAdapterType VirtualEthernetCardType E1000 toString _additionalPortRangeStart NumbersUtil parseInt _configDao getValue Config VmwareAdditionalVncPortRangeStart key _additionalPortRangeStart s_logger warn _additionalPortRangeStart _additionalPortRangeStart _additionalPortRangeSize NumbersUtil parseInt _configDao getValue Config VmwareAdditionalVncPortRangeSize key _additionalPortRangeSize _additionalPortRangeStart _additionalPortRangeSize s_logger warn _additionalPortRangeSize _additionalPortRangeStart _additionalPortRangeSize Math min _additionalPortRangeStart _routerExtraPublicNics NumbersUtil parseInt _configDao getValue Config RouterExtraPublicNics key
AboutInfo about AboutInfo serviceContext getVimClient getDynamicProperty hosts get String version about getApiVersion maxHostsPerCluster _hvCapabilitiesDao getMaxHostsPerCluster HypervisorType VMware version hosts size maxHostsPerCluster String msg hosts size maxHostsPerCluster s_logger error msg DiscoveredWithErrorException msg morHost hosts HostMO hostMo HostMO serviceContext morHost prepareHost hostMo privateTrafficLabel returnedHostList add morHost returnedHostList mor HostMO hostMo HostMO serviceContext mor prepareHost hostMo privateTrafficLabel
workerTag s_logger isInfoEnabled s_logger info workerTag workerTag workerTag
String storageUrl storeId String nfsVersion imageStoreDetailsUtil getNfsVersion storeId String mountPoint getMountPoint storageUrl nfsVersion GlobalLock lock GlobalLock getInternLock lock lock File patchFolder File mountPoint patchFolder patchFolder String msg patchFolder toString
GlobalLock lock GlobalLock getInternLock lock lock File patchFolder File mountPoint patchFolder patchFolder String msg patchFolder toString s_logger error msg CloudRuntimeException msg File srcIso getSystemVMPatchIsoFile File destIso File mountPoint getSystemVMIsoFileNameOnDatastore destIso s_logger info _configServer updateKeyPairs
File patchFolder File mountPoint patchFolder patchFolder String msg patchFolder toString s_logger error msg CloudRuntimeException msg File srcIso getSystemVMPatchIsoFile File destIso File mountPoint getSystemVMIsoFileNameOnDatastore destIso s_logger info _configServer updateKeyPairs s_logger info srcIso getAbsolutePath destIso getAbsolutePath FileUtil copyfile srcIso destIso
patchFolder String msg patchFolder toString s_logger error msg CloudRuntimeException msg File srcIso getSystemVMPatchIsoFile File destIso File mountPoint getSystemVMIsoFileNameOnDatastore destIso s_logger info _configServer updateKeyPairs s_logger info srcIso getAbsolutePath destIso getAbsolutePath FileUtil copyfile srcIso destIso e s_logger error e String msg srcIso toString destIso
String parent s_logger info mshostId ManagementServerNode getManagementServerId List String mounts _storage listMountPointsByMsHost parent mshostId mounts mounts String mounts
s_logger info
clusterId CiscoNexusVSMDeviceVO nexusVSM ClusterVSMMapVO vsmMapVO vsmMapVO _vsmMapDao findByClusterId clusterId vsmId vsmMapVO vsmId vsmMapVO getVsmId
InvalidParameterValueException InvalidParameterValueException InvalidParameterValueException InvalidParameterValueException zoneId InvalidParameterValueException validateZone zoneId VmwareDatacenterZoneMapVO vmwareDcZoneMap vmwareDatacenterZoneMapDao findByZoneId zoneId vmwareDcZoneMap Long associatedVmwareDcId vmwareDcZoneMap getVmwareDcId VmwareDatacenterVO associatedVmwareDc vmwareDcDao findById associatedVmwareDcId associatedVmwareDc associatedVmwareDc
vmwareDcDao remove vmwareDcId vmwareDatacenterZoneMapDao remove vmwareDcZoneMap getId VmwareContext context context VmwareContextFactory create vCenterHost userName password dcMo DatacenterMO context vmwareDcName String msg vmwareDcName vCenterHost s_logger error msg DiscoveryException msg assert dcMo
vmwareDatacenterZoneMapDao remove vmwareDcZoneMap getId VmwareContext context context VmwareContextFactory create vCenterHost userName password dcMo DatacenterMO context vmwareDcName String msg vmwareDcName vCenterHost s_logger error msg DiscoveryException msg assert dcMo dcMo setCustomFieldValue CustomFieldConstants CLOUD_ZONE s_logger info vmwareDcName
clusterId ClusterVSMMapVO vsmMapVo vsmMapVo _vsmMapDao findByClusterId clusterId vsmMapVo
s_logger s_logger debug value value templateCleanupInterval value s_logger s_logger info templateCleanupInterval value Runnable task getCleanupFullyClonedTemplatesTask templateCleanupScheduler scheduleAtFixedRate task templateCleanupInterval value templateCleanupInterval value TimeUnit MINUTES s_logger s_logger trace ree s_logger error s_logger debug ree s_logger error
value value templateCleanupInterval value s_logger s_logger info templateCleanupInterval value Runnable task getCleanupFullyClonedTemplatesTask templateCleanupScheduler scheduleAtFixedRate task templateCleanupInterval value templateCleanupInterval value TimeUnit MINUTES s_logger s_logger trace ree s_logger error s_logger debug ree npe s_logger error s_logger debug npe
s_logger info templateCleanupInterval value Runnable task getCleanupFullyClonedTemplatesTask templateCleanupScheduler scheduleAtFixedRate task templateCleanupInterval value templateCleanupInterval value TimeUnit MINUTES s_logger s_logger trace ree s_logger error s_logger debug ree npe s_logger error s_logger debug npe iae s_logger error s_logger debug iae
path name archiveTimeout Script commandSync Script s_logger commandSync execute Script command Script archiveTimeout s_logger command setWorkDir path command add name command add name command add name
NfsTO nfsStore NfsTO storeTO String secStorageUrl nfsStore getUrl assert secStorageUrl String installPath template getPath String secondaryMountPoint _mountService getMountPoint secStorageUrl nfsStore getNfsVersion String installFullPath secondaryMountPoint installPath installFullPath installFullPath s_logger debug installFullPath installFullPath createOVAFromMetafile installFullPath archiveTimeout String msg
DataStoreTO storeTO volume getDataStore storeTO NfsTO s_logger debug NfsTO nfsStore NfsTO storeTO String secStorageUrl nfsStore getUrl assert secStorageUrl String installPath volume getPath index installPath lastIndexOf File separator String volumeUuid installPath substring index String secondaryMountPoint _mountService getMountPoint secStorageUrl nfsStore getNfsVersion String volumePath installPath File separator volumeUuid String installFullPath secondaryMountPoint installPath File secondaryMountPoint File separator volumePath
templateName templateName templateName cmd getName mountPoint templateUrl substring secondaryStorageUrl length mountPoint mountPoint mountPoint templateName cmd getName VmwareContext context hostService getServiceContext cmd VmwareHypervisorHost hyperHost hostService getHyperHost context cmd String templateUuidName UUID nameUUIDFromBytes templateName cmd getPoolUuid hyperHost getMor getValue getBytes toString templateUuidName templateUuidName replace DatacenterMO dcMo DatacenterMO context hyperHost getHyperHostDatacenter VirtualMachineMO templateMo VmwareHelper pickOneVmOnRunningHost dcMo findVmByNameAndLabel templateUuidName templateMo
mountPoint mountPoint mountPoint templateName cmd getName VmwareContext context hostService getServiceContext cmd VmwareHypervisorHost hyperHost hostService getHyperHost context cmd String templateUuidName UUID nameUUIDFromBytes templateName cmd getPoolUuid hyperHost getMor getValue getBytes toString templateUuidName templateUuidName replace DatacenterMO dcMo DatacenterMO context hyperHost getHyperHostDatacenter VirtualMachineMO templateMo VmwareHelper pickOneVmOnRunningHost dcMo findVmByNameAndLabel templateUuidName templateMo s_logger s_logger info templateName templateUuidName ManagedObjectReference morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getPoolUuid assert morDs
String volumePath cmd getVolumePath ManagedObjectReference morDs DatastoreMO dsMo String details success String snapshotBackupUuid VmwareContext context hostService getServiceContext cmd VirtualMachineMO vmMo VmwareHypervisorHost hyperHost hostService getHyperHost context cmd morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getPool getUuid vmMo hyperHost findVmOnHyperHost cmd getVmName vmMo
snapshotBackupUuid backupSnapshotToSecondaryStorage vmMo accountId volumeId cmd getVolumePath snapshotUuid secondaryStorageUrl prevSnapshotUuid prevBackupUuid hostService getWorkerName context cmd cmd getNfsVersion success snapshotBackupUuid success details snapshotUuid vmMo ManagedObjectReference snapshotMor vmMo getSnapshotMor snapshotUuid snapshotMor vmMo removeSnapshot snapshotUuid workerVm workerVm detachAllDisks workerVm destroy s_logger warn workerVMName
hostService cmd String secondaryStoragePoolURL cmd getSecondaryStorageUrl String volumePath cmd getVolumePath Long accountId cmd getAccountId Long templateId cmd getTemplateId String details VmwareContext context hostService getServiceContext cmd VmwareHypervisorHost hyperHost hostService getHyperHost context cmd VirtualMachineMO vmMo hyperHost findVmOnHyperHost cmd getVmName vmMo
String secondaryStoragePoolURL cmd getSecondaryStorageUrl String volumePath cmd getVolumePath Long accountId cmd getAccountId Long templateId cmd getTemplateId String details VmwareContext context hostService getServiceContext cmd VmwareHypervisorHost hyperHost hostService getHyperHost context cmd VirtualMachineMO vmMo hyperHost findVmOnHyperHost cmd getVmName vmMo s_logger s_logger debug hyperHost getHyperHostName vmMo hyperHost findVmOnPeerHyperHost cmd getVmName vmMo String msg cmd getVmName
result copyVolumeToSecStorage hostService hyperHost cmd vmName volumeId cmd getPool getUuid volumePath secondaryStorageURL hostService getWorkerName context cmd cmd getNfsVersion StorageFilerTO poolTO cmd getPool ManagedObjectReference morDatastore HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost poolTO getUuid morDatastore morDatastore hyperHost mountDatastore poolTO getHost poolTO getPath poolTO getUuid replace morDatastore Exception poolTO getHost poolTO getPath result copyVolumeFromSecStorage hyperHost volumeId DatastoreMO context morDatastore secondaryStorageURL volumePath cmd getNfsVersion deleteVolumeDirOnSecondaryStorage volumeId secondaryStorageURL cmd getNfsVersion CopyVolumeAnswer cmd result first result second hostService invalidateServiceContext context String msg
hostService cmd String primaryStorageNameLabel cmd getPrimaryStoragePoolNameLabel Long accountId cmd getAccountId Long volumeId cmd getVolumeId String secondaryStorageUrl cmd getSecondaryStorageUrl String backedUpSnapshotUuid cmd getSnapshotUuid String details success String newVolumeName UUID randomUUID toString replace VmwareContext context hostService getServiceContext cmd VmwareHypervisorHost hyperHost hostService getHyperHost context cmd ManagedObjectReference morPrimaryDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost primaryStorageNameLabel morPrimaryDs String msg primaryStorageNameLabel
String secondaryStorageUrl String templatePathAtSecondaryStorage String templateName String String nfsVersion s_logger info secondaryStorageUrl templatePathAtSecondaryStorage templateName String secondaryMountPoint _mountService getMountPoint secondaryStorageUrl nfsVersion
String secondaryStorageUrl String templatePathAtSecondaryStorage String templateName String String nfsVersion s_logger info secondaryStorageUrl templatePathAtSecondaryStorage templateName String secondaryMountPoint _mountService getMountPoint secondaryStorageUrl nfsVersion s_logger info secondaryMountPoint String srcOVAFileName secondaryMountPoint templatePathAtSecondaryStorage templateName ImageFormat OVA getFileExtension String srcFileName getOVFFilePath srcOVAFileName srcFileName Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint templatePathAtSecondaryStorage
String secondaryStorageUrl String templatePathAtSecondaryStorage String templateName String String nfsVersion s_logger info secondaryStorageUrl templatePathAtSecondaryStorage templateName String secondaryMountPoint _mountService getMountPoint secondaryStorageUrl nfsVersion s_logger info secondaryMountPoint String srcOVAFileName secondaryMountPoint templatePathAtSecondaryStorage templateName ImageFormat OVA getFileExtension String srcFileName getOVFFilePath srcOVAFileName srcFileName Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint templatePathAtSecondaryStorage s_logger info command toString String result command execute result String msg srcOVAFileName
String srcFileName getOVFFilePath srcOVAFileName srcFileName Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint templatePathAtSecondaryStorage s_logger info command toString String result command execute result String msg srcOVAFileName s_logger error msg Exception msg srcFileName getOVFFilePath srcOVAFileName srcFileName String msg srcOVAFileName
String result command execute result String msg srcOVAFileName s_logger error msg Exception msg srcFileName getOVFFilePath srcOVAFileName srcFileName String msg srcOVAFileName s_logger error msg Exception msg String vmName templateUuid hyperHost importVmFromOVF srcFileName vmName datastoreMo VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo String msg secondaryStorageUrl templatePathAtSecondaryStorage templateName templateUuid
srcFileName String msg srcOVAFileName s_logger error msg Exception msg String vmName templateUuid hyperHost importVmFromOVF srcFileName vmName datastoreMo VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo String msg secondaryStorageUrl templatePathAtSecondaryStorage templateName templateUuid s_logger error msg Exception msg vmMo vmMo setCustomFieldValue CustomFieldConstants CLOUD_UUID templateUuid vmMo markAsTemplate
String accountId templateId String String secStorageUrl String String String nfsVersion String secondaryMountPoint _mountService getMountPoint secStorageUrl nfsVersion String installPath getTemplateRelativeDirInSecStorage accountId templateId String installFullPath secondaryMountPoint installPath installPath Script command Script _timeout s_logger command add command add installFullPath String result command execute result String msg installPath secStorageUrl result
String installFullPath secondaryMountPoint installPath installPath Script command Script _timeout s_logger command add command add installFullPath String result command execute result String msg installPath secStorageUrl result s_logger error msg Exception msg VirtualMachineMO clonedVm Pair VirtualDisk String volumeDeviceInfo vmMo getDiskDevice volumePath volumeDeviceInfo String msg volumePath
command add installFullPath String result command execute result String msg installPath secStorageUrl result s_logger error msg Exception msg VirtualMachineMO clonedVm Pair VirtualDisk String volumeDeviceInfo vmMo getDiskDevice volumePath volumeDeviceInfo String msg volumePath s_logger error msg Exception msg vmMo String msg volumePath
VirtualMachineMO clonedVm Pair VirtualDisk String volumeDeviceInfo vmMo getDiskDevice volumePath volumeDeviceInfo String msg volumePath s_logger error msg Exception msg vmMo String msg volumePath s_logger error msg Exception msg vmMo cloneFromCurrentSnapshot workerVmName volumeDeviceInfo second VmwareHelper getDiskDeviceDatastore volumeDeviceInfo first clonedVm vmMo getRunningHost findVmOnHyperHost workerVmName clonedVm String msg volumePath
String snapshotRoot secondaryMountPoint getSnapshotRelativeDirInSecStorage accountId volumeId String snapshotFullOVAName snapshotRoot backedUpSnapshotUuid String snapshotFullOvfName snapshotRoot backedUpSnapshotUuid String result Script command String templateVMDKName String backupSSUuid backedUpSnapshotUuid substring backedUpSnapshotUuid indexOf String snapshotFullVMDKName snapshotRoot backupSSUuid installPath command Script _timeout s_logger command add command add installFullPath result command execute result String msg installPath secStorageUrl result
command add command add installFullPath result command execute result String msg installPath secStorageUrl result s_logger error msg Exception msg snapshotFullOVAName command Script _timeout s_logger command add snapshotFullOVAName command add installFullOVAName result command execute result String msg snapshotFullOVAName installFullPath
Exception msg snapshotFullOVAName command Script _timeout s_logger command add snapshotFullOVAName command add installFullOVAName result command execute result String msg snapshotFullOVAName installFullPath s_logger error msg Exception msg command Script s_logger command add command add installFullOVAName command setWorkDir installFullPath
snapshotFullOVAName command Script _timeout s_logger command add snapshotFullOVAName command add installFullOVAName result command execute result String msg snapshotFullOVAName installFullPath s_logger error msg Exception msg command Script s_logger command add command add installFullOVAName command setWorkDir installFullPath s_logger info command toString result command execute
command Script s_logger command add command add installFullOVAName command setWorkDir installFullPath s_logger info command toString result command execute result String msg snapshotFullOVAName installFullPath s_logger error msg Exception msg snapshotFullOvfName command Script _timeout s_logger command add snapshotFullOvfName command add installFullPath
result command execute result String msg snapshotFullOvfName installFullPath s_logger error msg Exception msg s_logger info snapshotFullVMDKName File snapshotdir File snapshotFullVMDKName File ssfiles snapshotdir listFiles i i ssfiles i String vmdkfile ssfiles i getName s_logger info vmdkfile vmdkfile vmdkfile snapshotFullVMDKName vmdkfile templateVMDKName vmdkfile
s_logger error msg Exception msg s_logger info snapshotFullVMDKName File snapshotdir File snapshotFullVMDKName File ssfiles snapshotdir listFiles i i ssfiles i String vmdkfile ssfiles i getName s_logger info vmdkfile vmdkfile vmdkfile snapshotFullVMDKName vmdkfile templateVMDKName vmdkfile snapshotFullVMDKName command Script _timeout s_logger command add snapshotFullVMDKName
String secondaryMountPoint _mountService getMountPoint secStorageUrl nfsVersion String srcOVAFileName secondaryMountPoint secStorageDir backupName ImageFormat OVA getFileExtension String snapshotDir backupName snapshotDir backupName split File ovafile File srcOVAFileName String srcOVFFileName secondaryMountPoint secStorageDir backupName File ovfFile File srcOVFFileName ovfFile srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName ovafile Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint secStorageDir snapshotDir
snapshotDir backupName split File ovafile File srcOVAFileName String srcOVFFileName secondaryMountPoint secStorageDir backupName File ovfFile File srcOVFFileName ovfFile srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName ovafile Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint secStorageDir snapshotDir s_logger info command toString String result command execute result String msg srcOVAFileName
File ovfFile File srcOVFFileName ovfFile srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint secStorageDir snapshotDir s_logger info command toString String result command execute result String msg srcOVAFileName s_logger error msg Exception msg
command add command add srcOVAFileName command setWorkDir secondaryMountPoint secStorageDir snapshotDir s_logger info command toString String result command execute result String msg srcOVAFileName s_logger error msg Exception msg String msg srcOVAFileName s_logger error msg Exception msg srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName
VirtualMachineMO vmMo String volumePath String secStorageUrl String secStorageDir String exportName String String nfsVersion Exception String secondaryMountPoint _mountService getMountPoint secStorageUrl nfsVersion String exportPath secondaryMountPoint secStorageDir exportName exportPath exportPath Script command Script _timeout s_logger command add command add exportPath command Exception VirtualMachineMO clonedVm Pair VirtualDisk String volumeDeviceInfo vmMo getDiskDevice volumePath volumeDeviceInfo String msg volumePath
command add exportPath command Exception VirtualMachineMO clonedVm Pair VirtualDisk String volumeDeviceInfo vmMo getDiskDevice volumePath volumeDeviceInfo String msg volumePath s_logger error msg Exception msg vmMo cloneFromCurrentSnapshot workerVmName volumeDeviceInfo second VmwareHelper getDiskDeviceDatastore volumeDeviceInfo first clonedVm vmMo getRunningHost findVmOnHyperHost workerVmName clonedVm String msg volumePath
String String hyperHost cmd String volumeId String poolId String String String String String volumeFolder String valueOf volumeId VirtualMachineMO workerVm VirtualMachineMO vmMo String exportName UUID randomUUID toString String searchExcludedFolders cmd getContextParam ManagedObjectReference morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost poolId morDs String msg
String exportName UUID randomUUID toString String searchExcludedFolders cmd getContextParam ManagedObjectReference morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost poolId morDs String msg s_logger error msg Exception msg clonedWorkerVMNeeded vmMo hyperHost findVmOnHyperHost vmName vmMo DatastoreMO dsMo DatastoreMO hyperHost getContext morDs workerVm HypervisorHostHelper createWorkerVM hyperHost dsMo workerVmName workerVm String msg
String String metafileName File ova_metafile File metafileName Properties props String ovaFileName
String String metafileName File ova_metafile File metafileName Properties props String ovaFileName s_logger info metafileName ova_metafile
String String metafileName File ova_metafile File metafileName Properties props String ovaFileName s_logger info metafileName strm ova_metafile s_logger info metafileName props Properties props load strm ovaFileName props getProperty
String String metafileName File ova_metafile File metafileName Properties props String ovaFileName s_logger info metafileName strm ova_metafile s_logger info metafileName props Properties props load strm ovaFileName props getProperty s_logger info ovaFileName String ovfFileName props getProperty
File ova_metafile File metafileName Properties props String ovaFileName s_logger info metafileName strm ova_metafile s_logger info metafileName props Properties props load strm ovaFileName props getProperty s_logger info ovaFileName String ovfFileName props getProperty s_logger info ovfFileName diskNum Integer parseInt props getProperty diskNum String msg
ovaFileName props getProperty s_logger info ovaFileName String ovfFileName props getProperty s_logger info ovfFileName diskNum Integer parseInt props getProperty diskNum String msg s_logger error msg Exception msg String disks String diskNum i i diskNum i String diskNameKey disks i props getProperty diskNameKey s_logger info disks i String exportDir ova_metafile getParent
String ovfFileName props getProperty s_logger info ovfFileName diskNum Integer parseInt props getProperty diskNum String msg s_logger error msg Exception msg String disks String diskNum i i diskNum i String diskNameKey disks i props getProperty diskNameKey s_logger info disks i String exportDir ova_metafile getParent s_logger info exportDir s_logger info
String diskNameKey disks i props getProperty diskNameKey s_logger info disks i String exportDir ova_metafile getParent s_logger info exportDir s_logger info s_logger info ovaFileName ovfFileName disks Script commandSync Script s_logger commandSync execute Script command Script archiveTimeout s_logger command setWorkDir exportDir command add ovaFileName command add ovfFileName String diskName disks command add diskName
s_logger info disks i String exportDir ova_metafile getParent s_logger info exportDir s_logger info s_logger info ovaFileName ovfFileName disks Script commandSync Script s_logger commandSync execute Script command Script archiveTimeout s_logger command setWorkDir exportDir command add ovaFileName command add ovfFileName String diskName disks command add diskName command execute s_logger info exportDir command toString
VmwareHypervisorHost hyperHost hostService getHyperHost context cmd ManagedObjectReference taskmgr context getServiceContent getTaskManager List ManagedObjectReference tasks context getVimClient getDynamicProperty taskmgr ManagedObjectReference taskMor tasks TaskInfo info TaskInfo context getVimClient getDynamicProperty taskMor info cmd info info info info s_logger debug context getVimClient waitForTask taskMor vmMo hyperHost findVmOnHyperHost vmName vmMo vmMo hyperHost findVmOnPeerHyperHost vmName vmMo String msg
taskMor TaskInfo info TaskInfo context getVimClient getDynamicProperty taskMor info cmd info info info info s_logger debug context getVimClient waitForTask taskMor vmMo hyperHost findVmOnHyperHost vmName vmMo vmMo hyperHost findVmOnPeerHyperHost vmName vmMo String msg s_logger info msg CreateVMSnapshotAnswer cmd msg vmMo
vmMo hyperHost findVmOnHyperHost vmName vmMo vmMo hyperHost findVmOnPeerHyperHost vmName vmMo String msg s_logger info msg CreateVMSnapshotAnswer cmd msg vmMo vmSnapshotName s_logger info vmSnapshotName vmMo vmSnapshotName CreateVMSnapshotAnswer cmd Map String String mapNewDisk getNewDiskMap vmMo setVolumeToPathAndSize volumeTOs mapNewDisk context hyperHost cmd getVmName CreateVMSnapshotAnswer cmd cmd getTarget volumeTOs
VirtualMachineMO vmMo VmwareContext context hostService getServiceContext cmd String vmName cmd getVmName String vmSnapshotName cmd getTarget getSnapshotName VmwareHypervisorHost hyperHost hostService getHyperHost context cmd vmMo hyperHost findVmOnHyperHost vmName vmMo vmMo hyperHost findVmOnPeerHyperHost vmName vmMo String msg s_logger debug msg DeleteVMSnapshotAnswer cmd msg vmMo vmSnapshotName
VmwareHypervisorHost hyperHost hostService getHyperHost context cmd vmMo hyperHost findVmOnHyperHost vmName vmMo vmMo hyperHost findVmOnPeerHyperHost vmName vmMo String msg s_logger debug msg DeleteVMSnapshotAnswer cmd msg vmMo vmSnapshotName s_logger debug vmSnapshotName vmMo vmSnapshotName String msg vmSnapshotName
s_logger debug msg DeleteVMSnapshotAnswer cmd msg vmMo vmSnapshotName s_logger debug vmSnapshotName vmMo vmSnapshotName String msg vmSnapshotName s_logger error msg DeleteVMSnapshotAnswer cmd msg s_logger debug vmSnapshotName Map String String mapNewDisk getNewDiskMap vmMo setVolumeToPathAndSize listVolumeTo mapNewDisk context hyperHost cmd getVmName DeleteVMSnapshotAnswer cmd listVolumeTo
VmwareHypervisorHost hyperHost hostService getHyperHost context cmd ManagedObjectReference taskmgr context getServiceContent getTaskManager List ManagedObjectReference tasks context getVimClient getDynamicProperty taskmgr ManagedObjectReference taskMor tasks TaskInfo info TaskInfo context getVimClient getDynamicProperty taskMor info cmd info info s_logger debug context getVimClient waitForTask taskMor HostMO hostMo HostMO hyperHost vmMo hyperHost findVmOnHyperHost vmName vmMo vmMo hyperHost findVmOnPeerHyperHost vmName vmMo String msg
useWorkerVm VmwareHypervisorHost hyperHost getHyperHost getServiceContext VirtualMachineMO vmMo String vmdkDataStorePath newSize oldSize Exception oldSize ResourceType bytesToMiB newSize ResourceType bytesToMiB newSize oldSize ResizeVolumeAnswer cmd newSize ResourceType bytesToKiB vmName useWorkerVm vmName getWorkerName getServiceContext cmd String poolId cmd getPoolUuid ManagedObjectReference morDS HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost poolId DatastoreMO dsMo DatastoreMO hyperHost getContext morDS
Pair VirtualDisk String vdisk vmMo getDiskDevice path vdisk s_logger s_logger trace Exception path vdisk vdisk Exception VmwareContext context getServiceContext ManagedObjectReference morCluster hyperHost getHyperHostCluster ClusterMO clusterMO ClusterMO context morCluster List Pair ManagedObjectReference String lstHosts clusterMO getClusterHosts Collections shuffle lstHosts RANDOM Pair ManagedObjectReference String host lstHosts get HostMO hostMO HostMO context host first
VirtualDiskFlatVer2BackingInfo disk getBacking VirtualDiskFlatVer2BackingInfo disk getBacking getParent s_logger error VirtualDiskFlatVer2BackingInfo disk getBacking getParent getUuid Exception VirtualDiskFlatVer2BackingInfo disk getBacking getParent getUuid String vmdkAbsFile getAbsoluteVmdkFile disk vmdkAbsFile vmdkAbsFile vmMo updateAdapterTypeIfRequired vmdkAbsFile disk setCapacityInKB newSize VirtualDeviceConfigSpec deviceConfigSpec VirtualDeviceConfigSpec deviceConfigSpec setDevice disk deviceConfigSpec setOperation VirtualDeviceConfigSpecOperation EDIT VirtualMachineConfigSpec vmConfigSpec VirtualMachineConfigSpec vmConfigSpec getDeviceChange add deviceConfigSpec vmMo vmConfigSpec Exception vmName ResizeVolumeAnswer cmd newSize
args args String vpcCIDR cmd getVpcCIDR args vpcCIDR args args args NetworkUsageAnswer cmd ExecutionResult callResult executeInVR privateIp args callResult
File keyFile getSystemVmKeyFile
cmd String routerName cmd getAccessDetail NetworkElementCommand ROUTER_NAME String routerIp getRouterSshControlIp cmd IpAddressTO ips cmd getIpAddresses IpAddressTO ip ips ethDeviceNum findRouterEthDeviceIndex routerName routerIp ip getVifMacAddress ethDeviceNum ip InternalErrorException s_logger debug ip setNicDevId ethDeviceNum
cmd s_logger s_logger info _gson toJson cmd getServiceContext getStockObject VmwareManager CONTEXT_STOCK_NAME VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context String vmName cmd getVmName VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo hyperHost HostMO ClusterMO clusterMo ClusterMO hyperHost getContext HostMO hyperHost getParentMor vmMo clusterMo findVmOnHyperHost vmName vmMo String msg vmName
VirtualEthernetCardType nicDeviceType VirtualEthernetCardType E1000 Map String String details cmd getDetails details nicDeviceType VirtualEthernetCardType valueOf String details get VirtualDevice nicDevices vmMo getNicDevices deviceNumber VirtualDevice device nicDevices device getUnitNumber deviceNumber deviceNumber device getUnitNumber deviceNumber NicTO nicTo cmd getNic VirtualDevice nic Pair ManagedObjectReference String networkInfo prepareNetworkFromNicInfo vmMo getRunningHost nicTo cmd getVMType String dvSwitchUuid networkInfo ManagedObjectReference dcMor hyperHost getHyperHostDatacenter
details nicDeviceType VirtualEthernetCardType valueOf String details get VirtualDevice nicDevices vmMo getNicDevices deviceNumber VirtualDevice device nicDevices device getUnitNumber deviceNumber deviceNumber device getUnitNumber deviceNumber NicTO nicTo cmd getNic VirtualDevice nic Pair ManagedObjectReference String networkInfo prepareNetworkFromNicInfo vmMo getRunningHost nicTo cmd getVMType String dvSwitchUuid networkInfo first ManagedObjectReference dcMor hyperHost getHyperHostDatacenter DatacenterMO dataCenterMo DatacenterMO context dcMor ManagedObjectReference dvsMor dataCenterMo getDvSwitchMor networkInfo first
cmd s_logger s_logger info _gson toJson cmd getServiceContext getStockObject VmwareManager CONTEXT_STOCK_NAME VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context String vmName cmd getVmName VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo hyperHost HostMO ClusterMO clusterMo ClusterMO hyperHost getContext HostMO hyperHost getParentMor vmMo clusterMo findVmOnHyperHost vmName vmMo String msg vmName
String msg vmName s_logger error msg Exception msg VirtualEthernetCardType nicDeviceType VirtualEthernetCardType E1000 Map String String details cmd getDetails details nicDeviceType VirtualEthernetCardType valueOf String details get NicTO nicTo cmd getNic VirtualDevice nic findVirtualNicDevice vmMo nicTo getMac nic ReplugNicAnswer cmd Pair ManagedObjectReference String networkInfo prepareNetworkFromNicInfo vmMo getRunningHost nicTo cmd getVMType String dvSwitchUuid networkInfo ManagedObjectReference dcMor hyperHost getHyperHostDatacenter
VirtualEthernetCardType nicDeviceType VirtualEthernetCardType E1000 Map String String details cmd getDetails details nicDeviceType VirtualEthernetCardType valueOf String details get NicTO nicTo cmd getNic VirtualDevice nic findVirtualNicDevice vmMo nicTo getMac nic ReplugNicAnswer cmd Pair ManagedObjectReference String networkInfo prepareNetworkFromNicInfo vmMo getRunningHost nicTo cmd getVMType String dvSwitchUuid networkInfo first ManagedObjectReference dcMor hyperHost getHyperHostDatacenter DatacenterMO dataCenterMo DatacenterMO context dcMor ManagedObjectReference dvsMor dataCenterMo getDvSwitchMor networkInfo first dvSwitchUuid dataCenterMo getDvSwitchUuid dvsMor
hyperHost HostMO ClusterMO clusterMo ClusterMO hyperHost getContext HostMO hyperHost getParentMor vmMo clusterMo findVmOnHyperHost routerName vmMo String msg routerName s_logger error msg Exception msg ip URI broadcastUri BroadcastDomainType fromString ip getBroadcastUri BroadcastDomainType broadcastUri BroadcastDomainType InternalErrorException ip getBroadcastUri String vlanId BroadcastDomainType getValue broadcastUri String publicNeworkName HypervisorHostHelper getPublicNetworkNamePrefix vlanId Pair Integer VirtualDevice publicNicInfo vmMo getNicDeviceIndex publicNeworkName s_logger
vmMo String msg routerName s_logger error msg Exception msg ip URI broadcastUri BroadcastDomainType fromString ip getBroadcastUri BroadcastDomainType broadcastUri BroadcastDomainType InternalErrorException ip getBroadcastUri String vlanId BroadcastDomainType getValue broadcastUri String publicNeworkName HypervisorHostHelper getPublicNetworkNamePrefix vlanId Pair Integer VirtualDevice publicNicInfo vmMo getNicDeviceIndex publicNeworkName s_logger s_logger debug publicNeworkName publicNicInfo first addVif ip publicNicInfo first
String String String Pair Boolean String result
cmd String vmName cmd getName String privateIp cmd getIp cmdPort cmd getPort
CheckSshAnswer cmd String vmName cmd getName String privateIp cmd getIp cmdPort cmd getPort s_logger s_logger debug privateIp cmdPort String result connect cmd getName privateIp cmdPort result s_logger error vmName result CheckSshAnswer cmd vmName result e s_logger error vmName CheckSshAnswer cmd e s_logger
cmdPort cmd getPort s_logger s_logger debug privateIp cmdPort String result connect cmd getName privateIp cmdPort result s_logger error vmName result CheckSshAnswer cmd vmName result e s_logger error vmName CheckSshAnswer cmd e s_logger s_logger debug vmName vmName s_logger
requestedMaxMemoryInMb vmSpec getMaxRam vmMo CloudRuntimeException vmMo getVmName hotaddIncrementSizeInMb vmMo getHotAddMemoryIncrementSizeInMb hotaddMemoryLimitInMb vmMo getHotAddMemoryLimitInMb requestedMaxMemoryInMb hotaddMemoryLimitInMb CloudRuntimeException vmMo getVmName requestedMaxMemoryInMb hotaddMemoryLimitInMb reminder requestedMaxMemoryInMb hotaddIncrementSizeInMb reminder requestedMaxMemoryInMb requestedMaxMemoryInMb hotaddIncrementSizeInMb reminder VmwareHelper isFeatureLicensed hyperHost FeatureKeyConstants HOTPLUG VmwareHelper setVmScaleUpConfig vmConfigSpec vmSpec getCpus vmSpec getMaxSpeed vmSpec getMinSpeed requestedMaxMemoryInMb ramMb vmSpec getLimitCpuUse vmMo vmConfigSpec Exception Exception
vmMo Exception nicIndex nicTo nicTo s_logger trace nicTo toString VirtualDevice nicVirtualDevice vmMo getNicDeviceByIndex nicIndex nicVirtualDevice Exception nicIndex VirtualDeviceBackingInfo backing nicVirtualDevice getBacking backing VirtualEthernetCardDistributedVirtualPortBackingInfo VirtualEthernetCardDistributedVirtualPortBackingInfo portInfo VirtualEthernetCardDistributedVirtualPortBackingInfo backing DistributedVirtualSwitchPortConnection port portInfo getPort String portKey port getPortKey String portGroupKey port getPortgroupKey String dvSwitchUuid port getSwitchUuid
DVPortConfigSpec dvPortConfigSpec DVPortConfigSpec VMwareDVSPortSetting edittedSettings VMwareDVSPortSetting blocked setValue Boolean FALSE blocked setInherited Boolean FALSE edittedSettings setBlocked blocked i i i i usedVlans contains i vlanId setVlanId i vlanId setInherited edittedSettings setVlan vlanId dvPortConfigSpec setSetting edittedSettings dvPortConfigSpec setOperation dvPortConfigSpec setKey portKey List DVPortConfigSpec dvPortConfigSpecs ArrayList DVPortConfigSpec
String dsName String diskBackingFileBaseName Map String String details vol getDetails isManaged details Boolean parseBoolean details get DiskTO MANAGED isManaged String iScsiName details get DiskTO IQN dsName VmwareResource getDatastoreName iScsiName diskBackingFileBaseName DatastoreFile volume getPath getFileBaseName ManagedObjectReference morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost volume getDataStore getUuid DatastoreMO dsMo DatastoreMO context morDs dsName dsMo getName diskBackingFileBaseName volume getPath VirtualMachineDiskInfo diskInfo diskInfoBuilder getDiskInfoByBackingFileBaseName diskBackingFileBaseName dsName diskInfo
diskBackingFileBaseName volume getPath VirtualMachineDiskInfo diskInfo diskInfoBuilder getDiskInfoByBackingFileBaseName diskBackingFileBaseName dsName diskInfo s_logger info volume getPath diskInfo String chainInfo volume getChainInfo chainInfo VirtualMachineDiskInfo infoInChain _gson fromJson chainInfo VirtualMachineDiskInfo infoInChain String disks infoInChain getDiskChain disks String diskPath disks DatastoreFile file DatastoreFile diskPath diskInfo diskInfoBuilder getDiskInfoByBackingFileBaseName file getFileBaseName dsName
diskInfo String chainInfo volume getChainInfo chainInfo VirtualMachineDiskInfo infoInChain _gson fromJson chainInfo VirtualMachineDiskInfo infoInChain String disks infoInChain getDiskChain disks String diskPath disks DatastoreFile file DatastoreFile diskPath diskInfo diskInfoBuilder getDiskInfoByBackingFileBaseName file getFileBaseName dsName diskInfo s_logger info diskPath diskInfo diskInfo
controllerKey
controllerKey matchingExistingDisk s_logger info matchingExistingDisk getDiskDeviceBusName matchingExistingDisk getDiskDeviceBusName startsWith ideControllerKey scsiControllerKey vol getType Map String String vmDetails vmSpec getDetails vmDetails vmDetails get VmDetailConstants ROOT_DISK_CONTROLLER vmDetails get VmDetailConstants ROOT_DISK_CONTROLLER s_logger info vol getType vmDetails get VmDetailConstants ROOT_DISK_CONTROLLER controllerKey scsiControllerKey s_logger info vol getType vmDetails get VmDetailConstants ROOT_DISK_CONTROLLER controllerKey ideControllerKey
matchingExistingDisk getDiskDeviceBusName startsWith ideControllerKey scsiControllerKey vol getType Map String String vmDetails vmSpec getDetails vmDetails vmDetails get VmDetailConstants ROOT_DISK_CONTROLLER vmDetails get VmDetailConstants ROOT_DISK_CONTROLLER s_logger info vol getType vmDetails get VmDetailConstants ROOT_DISK_CONTROLLER controllerKey scsiControllerKey s_logger info vol getType vmDetails get VmDetailConstants ROOT_DISK_CONTROLLER controllerKey ideControllerKey s_logger info vol getType controllerKey scsiControllerKey
String matchingExistingDisk String String controllerKey DiskControllerType controllerType DiskControllerType none matchingExistingDisk String currentBusName matchingExistingDisk getDiskDeviceBusName currentBusName
controllerKey DiskControllerType controllerType DiskControllerType none matchingExistingDisk String currentBusName matchingExistingDisk getDiskDeviceBusName currentBusName s_logger info currentBusName currentBusName controllerType DiskControllerType ide currentBusName controllerType DiskControllerType scsi controllerType DiskControllerType scsi controllerType DiskControllerType none Ternary Integer Integer DiskControllerType vmScsiControllerInfo vmMo getScsiControllerInfo controllerType vmScsiControllerInfo third controllerType toString
String currentBusName matchingExistingDisk getDiskDeviceBusName currentBusName s_logger info currentBusName currentBusName controllerType DiskControllerType ide currentBusName controllerType DiskControllerType scsi controllerType DiskControllerType scsi controllerType DiskControllerType Ternary Integer Integer DiskControllerType vmScsiControllerInfo vmMo getScsiControllerInfo controllerType vmScsiControllerInfo third controllerType toString vol getType s_logger info vol getType controllerInfo first controllerInfo first
nicTo getBroadcastType BroadcastDomainType defaultVlan nicTo getBroadcastType BroadcastDomainType Vlan nicTo getBroadcastType BroadcastDomainType nicTo getBroadcastUri nicTo getBroadcastType BroadcastDomainType Vlan BroadcastDomainType getValue nicTo getBroadcastUri nicTo getBroadcastUri s_logger warn defaultVlan defaultVlan nicTo getBroadcastType BroadcastDomainType nicTo getBroadcastType BroadcastDomainType URI broadcastUri nicTo getBroadcastUri broadcastUri String vlanId BroadcastDomainType getValue broadcastUri
Pair ManagedObjectReference String nicTo Ternary String String String switchDetails getTargetSwitch nicTo VirtualSwitchType switchType VirtualSwitchType getType switchDetails second String switchName switchDetails first String vlanToken switchDetails third String namePrefix getNetworkNamePrefix nicTo Pair ManagedObjectReference String networkInfo
VirtualMachineMO hyperHost String vmName VirtualMachineMO vmMo hyperHost findVmOnPeerHyperHost vmName vmMo ManagedObjectReference morTargetPhysicalHost hyperHost findMigrationTarget vmMo morTargetPhysicalHost String msg vmName
s_logger trace _gson toJson cmd VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context HostStatsEntry hostStats HostStatsEntry cmd getHostId Answer answer GetHostStatsAnswer cmd hostStats HostStatsEntry entry getHyperHostStats hyperHost entry entry setHostId cmd getHostId answer GetHostStatsAnswer cmd entry e e s_logger warn invalidateServiceContext String msg VmwareHelper getExceptionMessage e
HashMap String VmStatsEntry vmStatsMap HashMap String PowerState vmPowerStates getVmStates List String requestedVmNames cmd getVmNames List String vmNames ArrayList String requestedVmNames String vmName requestedVmNames vmPowerStates vmName vmNames add vmName vmNames vmStatsMap getVmStats vmNames s_logger warn invalidateServiceContext
String diskPath DatastoreFile file DatastoreFile diskPath VirtualMachineMO vmMo dcMo findVm file getDir Pair VirtualDisk String vds vmMo getDiskDevice file getFileName virtualsize vds first getCapacityInKB physicalsize primaryStorageDatastoreMo fileDiskSize file getPath statEntry chainInfo VolumeStatsEntry vse statEntry get chainInfo vse vse setPhysicalSize vse getPhysicalSize physicalsize VolumeStatsEntry vse VolumeStatsEntry chainInfo physicalsize virtualsize statEntry put chainInfo vse GetVolumeStatsAnswer cmd statEntry
cmd s_logger s_logger info _gson toJson cmd VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context VirtualMachineMO vmMo hyperHost findVmOnHyperHost cmd getVmName vmMo cmd vmMo String msg cmd getVmName s_logger warn msg StopAnswer cmd msg String msg cmd getVmName
s_logger info msg StopAnswer cmd msg vmMo setCustomFieldValue CustomFieldConstants CLOUD_NIC_MASK vmMo setCustomFieldValue CustomFieldConstants CLOUD_VM_INTERNAL_NAME cmd getVmName vmMo String msg cmd getVmName success cmd success vmMo powerOff success vmMo safePowerOff _shutdownWaitMs success msg cmd getVmName s_logger warn msg
vmMo setCustomFieldValue CustomFieldConstants CLOUD_NIC_MASK vmMo setCustomFieldValue CustomFieldConstants CLOUD_VM_INTERNAL_NAME cmd getVmName vmMo String msg cmd getVmName success cmd success vmMo powerOff success vmMo safePowerOff _shutdownWaitMs success msg cmd getVmName s_logger warn msg StopAnswer cmd msg String msg cmd getVmName s_logger info msg
success vmMo safePowerOff _shutdownWaitMs success msg cmd getVmName s_logger warn msg StopAnswer cmd msg String msg cmd getVmName s_logger info msg StopAnswer cmd msg String msg cmd getVmName s_logger info msg StopAnswer cmd msg
e s_logger warn e s_logger warn VmwareHelper getExceptionMessage e RebootAnswer cmd String msg cmd getVmName s_logger warn msg RebootAnswer cmd msg String msg cmd getVmName s_logger warn msg RebootAnswer cmd msg e e
s_logger warn VmwareHelper getExceptionMessage e RebootAnswer cmd String msg cmd getVmName s_logger warn msg RebootAnswer cmd msg String msg cmd getVmName s_logger warn msg RebootAnswer cmd msg e e s_logger warn invalidateServiceContext String msg VmwareHelper getExceptionMessage e
VirtualMachineBootOptions bootOptions VirtualMachineBootOptions VirtualMachineConfigSpec vmConfigSpec VirtualMachineConfigSpec
Integer vncPort VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo powerState getVmPowerState vmMo CheckVirtualMachineAnswer cmd powerState vncPort s_logger warn vmName CheckVirtualMachineAnswer cmd powerState vncPort s_logger warn invalidateServiceContext
VirtualMachineTO vm cmd getVirtualMachine s_logger s_logger debug vm String vmName vm getName VmwareHypervisorHost hyperHost getHyperHost getServiceContext VmwareManager mgr hyperHost getContext getStockObject VmwareManager CONTEXT_STOCK_NAME VirtualMachineMO vmMo hyperHost findVmOnPeerHyperHost vmName vmMo s_logger info vmName hyperHost getHyperHostName ManagedObjectReference dcMor hyperHost getHyperHostDatacenter DatacenterMO dcMo DatacenterMO hyperHost getContext dcMor vmMo dcMo findVm vmName vmMo String msg vmName
List Pair String Long secStoreUrlAndIdList mgr getSecondaryStorageStoresUrlAndIdList Long parseLong _dcId Pair String Long secStoreUrlAndId secStoreUrlAndIdList String secStoreUrl secStoreUrlAndId first Long secStoreId secStoreUrlAndId second secStoreUrl String msg String format _dcId Exception msg mgr prepareSecondaryStorageStore secStoreUrl secStoreId ManagedObjectReference morSecDs prepareSecondaryDatastoreOnHost secStoreUrl morSecDs String msg secStoreUrl Exception msg PrepareForMigrationAnswer cmd
cmd s_logger s_logger info String format cmd getVmName cmd getDestinationPool s_logger
s_logger debug _gson toJson cmd String vmName cmd getVmName VmwareHypervisorHost hyperHost getHyperHost getServiceContext VirtualMachineMO vmMo getVirtualMachineMO vmName hyperHost vmMo String msg vmName s_logger error msg CloudRuntimeException msg String poolUuid cmd getDestinationPool migrateAndAnswer vmMo poolUuid hyperHost cmd e e Exception Answer cmd Exception e s_logger
String vmName cmd getVmName VmwareHypervisorHost hyperHost getHyperHost getServiceContext VirtualMachineMO vmMo getVirtualMachineMO vmName hyperHost vmMo String msg vmName s_logger error msg CloudRuntimeException msg String poolUuid cmd getDestinationPool migrateAndAnswer vmMo poolUuid hyperHost cmd e e Exception Answer cmd Exception e s_logger s_logger debug e
Map Integer Long volumeDeviceKey getVolumesFromCommand vmMo cmd s_logger Integer diskId volumeDeviceKey s_logger trace String format diskId volumeDeviceKey get diskId vmMo vmMo s_logger warn s_logger debug vmMo getVmName createAnswerForCmd vmMo poolUuid cmd volumeDeviceKey Answer cmd vmMo getVmName String msg vmMo getVmName
ManagedObjectReference ManagedObjectReference morDs
String tgtHostMorInfo tgtHost split morTgtHost setType tgtHostMorInfo split morTgtHost setValue tgtHostMorInfo split srcHyperHost getHyperHost getServiceContext tgtHyperHost HostMO getServiceContext morTgtHost morDc srcHyperHost getHyperHostDatacenter morDcOfTargetHost tgtHyperHost getHyperHostDatacenter morDc morDcOfTargetHost String msg CloudRuntimeException msg VmwareManager mgr tgtHyperHost getContext getStockObject VmwareManager CONTEXT_STOCK_NAME String srcHostApiVersion HostMO srcHyperHost getHostAboutInfo getApiVersion vmMo srcHyperHost findVmOnPeerHyperHost vmName vmMo
morDc srcHyperHost getHyperHostDatacenter morDcOfTargetHost tgtHyperHost getHyperHostDatacenter morDc getValue morDcOfTargetHost getValue String msg CloudRuntimeException msg VmwareManager mgr tgtHyperHost getContext getStockObject VmwareManager CONTEXT_STOCK_NAME String srcHostApiVersion HostMO srcHyperHost getHostAboutInfo getApiVersion vmMo srcHyperHost findVmOnPeerHyperHost vmName vmMo String msg vmName morDc getValue s_logger error msg Exception msg vmName vmMo getName entry volume entry first
VmwareManager mgr tgtHyperHost getContext getStockObject VmwareManager CONTEXT_STOCK_NAME String srcHostApiVersion HostMO srcHyperHost getHostAboutInfo getApiVersion vmMo srcHyperHost findVmOnPeerHyperHost vmName vmMo String msg vmName morDc getValue s_logger error msg Exception msg vmName vmMo getName entry volume entry first filerTo entry second s_logger debug volume getName morDsAtTarget HypervisorHostHelper findDatastoreWithBackwardsCompatibility tgtHyperHost filerTo getUuid morDsAtSource HypervisorHostHelper findDatastoreWithBackwardsCompatibility srcHyperHost filerTo getUuid morDsAtTarget
morDsAtTarget HypervisorHostHelper findDatastoreWithBackwardsCompatibility tgtHyperHost filerTo getUuid morDsAtSource HypervisorHostHelper findDatastoreWithBackwardsCompatibility srcHyperHost filerTo getUuid morDsAtTarget String msg filerTo getUuid tgtHyperHost getHyperHostName s_logger error msg Exception msg morTgtDatastore morDsAtTarget tgtDsName filerTo getUuid replace tgtDsHost filerTo getHost tgtDsPath filerTo getPath tgtDsPort filerTo getPort filerTo morDsAtSource morDsAtSource srcHyperHost mountDatastore tgtDsHost tgtDsPort tgtDsPath tgtDsName
nic prepareNetworkFromNicInfo HostMO getServiceContext morTgtHost nic vmTo getType List Pair String Long secStoreUrlAndIdList mgr getSecondaryStorageStoresUrlAndIdList Long parseLong _dcId Pair String Long secStoreUrlAndId secStoreUrlAndIdList String secStoreUrl secStoreUrlAndId first Long secStoreId secStoreUrlAndId second secStoreUrl String msg String format _dcId Exception msg vmTo getType mgr prepareSecondaryStorageStore secStoreUrl secStoreId ManagedObjectReference morSecDs prepareSecondaryDatastoreOnSpecificHost secStoreUrl tgtHyperHost morSecDs String msg secStoreUrl Exception msg
s_logger debug vmName _hostName tgtHyperHost getHyperHostName relocateSpec setHost tgtHyperHost getMor relocateSpec setPool tgtHyperHost getHyperHostOwnerResourcePool vmMo relocateSpec Exception s_logger debug vmName _hostName tgtHyperHost getHyperHostName vmMo s_logger warn s_logger debug vmName VirtualMachineDiskInfoBuilder diskInfoBuilder vmMo getDiskInfoBuilder
relocateSpec setHost tgtHyperHost getMor relocateSpec setPool tgtHyperHost getHyperHostOwnerResourcePool vmMo relocateSpec Exception s_logger debug vmName _hostName tgtHyperHost getHyperHostName vmMo s_logger warn s_logger debug vmName VirtualMachineDiskInfoBuilder diskInfoBuilder vmMo getDiskInfoBuilder entry volume entry first volumeId volume getId
relocateSpec setPool tgtHyperHost getHyperHostOwnerResourcePool vmMo relocateSpec Exception s_logger debug vmName _hostName tgtHyperHost getHyperHostName vmMo s_logger warn s_logger debug vmName VirtualMachineDiskInfoBuilder diskInfoBuilder vmMo getDiskInfoBuilder entry volume entry first volumeId volume getId VirtualDisk disks vmMo getAllDiskDevice VirtualDisk disks
Answer cmd Answer answer String path cmd getVolumePath VmwareHypervisorHost hyperHost getHyperHost getServiceContext VirtualMachineMO vmMo DatastoreMO dsMo ManagedObjectReference morSourceDS String vmdkDataStorePath String vmName vmName getWorkerName getServiceContext cmd morSourceDS HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getSourcePool getUuid dsMo DatastoreMO hyperHost getContext morSourceDS
String vmdkDataStorePath String vmName vmName getWorkerName getServiceContext cmd morSourceDS HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getSourcePool getUuid dsMo DatastoreMO hyperHost getContext morSourceDS s_logger info vmName vmMo HypervisorHostHelper createWorkerVM hyperHost dsMo vmName vmMo CloudRuntimeException String vmdkFileName path VMDK_EXTENSION vmdkDataStorePath VmwareStorageLayoutHelper getLegacyDatastorePathFromVmdkFileName dsMo vmdkFileName dsMo vmdkDataStorePath s_logger
morSourceDS HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getSourcePool getUuid dsMo DatastoreMO hyperHost getContext morSourceDS s_logger info vmName vmMo HypervisorHostHelper createWorkerVM hyperHost dsMo vmName vmMo CloudRuntimeException String vmdkFileName path VMDK_EXTENSION vmdkDataStorePath VmwareStorageLayoutHelper getLegacyDatastorePathFromVmdkFileName dsMo vmdkFileName dsMo vmdkDataStorePath s_logger s_logger debug String format vmdkFileName path vmdkDataStorePath VmwareStorageLayoutHelper getVmwareDatastorePathFromVmdkFileName dsMo path vmdkFileName dsMo vmdkDataStorePath s_logger
vmMo HypervisorHostHelper createWorkerVM hyperHost dsMo vmName vmMo CloudRuntimeException String vmdkFileName path VMDK_EXTENSION vmdkDataStorePath VmwareStorageLayoutHelper getLegacyDatastorePathFromVmdkFileName dsMo vmdkFileName dsMo vmdkDataStorePath s_logger s_logger debug String format vmdkFileName path vmdkDataStorePath VmwareStorageLayoutHelper getVmwareDatastorePathFromVmdkFileName dsMo path vmdkFileName dsMo vmdkDataStorePath s_logger s_logger debug String format vmdkFileName vmName vmdkDataStorePath VmwareStorageLayoutHelper getVmwareDatastorePathFromVmdkFileName dsMo vmName vmdkFileName s_logger
vmMo hyperHost findVmOnPeerHyperHost vmName vmMo String msg vmName s_logger error msg Exception msg s_logger isTraceEnabled VirtualDisk disks vmMo getAllDiskDevice String format VirtualDisk disk disks s_logger trace String format format disk getKey vmMo getVmdkFileBaseName disk Pair VirtualDisk String vdisk vmMo getDiskDevice path vdisk s_logger isTraceEnabled s_logger trace CloudRuntimeException path VirtualDisk disk vdisk first
s_logger isTraceEnabled s_logger trace CloudRuntimeException path VirtualDisk disk vdisk first String vmdkAbsFile getAbsoluteVmdkFile disk vmdkAbsFile vmdkAbsFile vmMo updateAdapterTypeIfRequired vmdkAbsFile answer migrateAndAnswer vmMo cmd getTargetPool getUuid hyperHost cmd e String msg String format cmd getVolumePath e getLocalizedMessage s_logger error msg e answer Answer cmd msg vmName vmMo getVmName morSourceDS HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getTargetPool getUuid
VirtualDisk disk vdisk first String vmdkAbsFile getAbsoluteVmdkFile disk vmdkAbsFile vmdkAbsFile vmMo updateAdapterTypeIfRequired vmdkAbsFile answer migrateAndAnswer vmMo cmd getTargetPool getUuid hyperHost cmd e String msg String format cmd getVolumePath e getLocalizedMessage s_logger error msg e answer Answer cmd msg vmName vmMo getVmName morSourceDS HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getTargetPool getUuid dsMo DatastoreMO hyperHost getContext morSourceDS s_logger info vmName
String msg String format cmd getVolumePath e getLocalizedMessage s_logger error msg e answer Answer cmd msg vmName vmMo getVmName morSourceDS HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getTargetPool getUuid dsMo DatastoreMO hyperHost getContext morSourceDS s_logger info vmName VirtualDisk disks vmMo getAllDiskDevice String format VirtualDisk disk disks s_logger s_logger trace String format format disk getKey vmMo getVmdkFileBaseName disk vmdkDataStorePath VmwareStorageLayoutHelper getLegacyDatastorePathFromVmdkFileName dsMo vmMo getVmdkFileBaseName disk VMDK_EXTENSION
cmd String volumePath cmd getVolumePath StorageFilerTO poolTo cmd getPool
List VirtualMachineRelocateSpecDiskLocator diskLocators ArrayList VirtualMachineRelocateSpecDiskLocator VirtualMachineRelocateSpecDiskLocator diskLocator String tgtDsName srcHyperHost getHyperHost getServiceContext morDc srcHyperHost getHyperHostDatacenter tgtDsName poolTo getUuid DatacenterMO dcMo DatacenterMO getServiceContext morDc vmMo dcMo findVm vmName vmMo String msg vmName morDc getValue s_logger error msg CloudRuntimeException msg vmName vmMo getName morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility srcHyperHost tgtDsName
ManagedObjectReference morDatastore HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost pool getUuid morDatastore morDatastore hyperHost mountDatastore pool getType StoragePoolType VMFS pool getHost pool getPort pool getPath pool getUuid replace assert morDatastore DatastoreSummary summary DatastoreMO getServiceContext morDatastore getSummary capacity summary getCapacity available summary getFreeSpace Map String TemplateProp tInfo HashMap ModifyStoragePoolAnswer answer ModifyStoragePoolAnswer cmd capacity available tInfo cmd pool getType StoragePoolType VMFS answer setLocalDatastoreName morDatastore getValue answer s_logger warn
s_logger error msg Exception msg cmd vmMo mountToolsInstaller vmMo AttachIsoAnswer cmd vmMo detachIso AttachIsoAnswer cmd ManagedObjectReference morSecondaryDs prepareSecondaryDatastoreOnHost storeUrl String isoPath cmd getIsoPath isoPath storeUrl
ManagedObjectReference morSecondaryDs prepareSecondaryDatastoreOnHost storeUrl String isoPath cmd getIsoPath isoPath storeUrl assert String msg s_logger error msg Exception msg isoNameStartPos isoPath lastIndexOf String isoFileName isoPath substring isoNameStartPos String isoStorePathFromRoot isoPath substring storeUrl length isoNameStartPos DatastoreMO secondaryDsMo DatastoreMO getServiceContext morSecondaryDs String storeName secondaryDsMo getName String isoDatastorePath String format storeName isoStorePathFromRoot isoFileName cmd vmMo attachIso isoDatastorePath morSecondaryDs cmd getDeviceKey
execute cmd s_logger s_logger info _gson toJson cmd String details success String newVolumeName UUID randomUUID toString VmwareContext context getServiceContext VmwareManager mgr context getStockObject VmwareManager CONTEXT_STOCK_NAME mgr getStorageManager execute cmd e e s_logger warn invalidateServiceContext details VmwareHelper getExceptionMessage e
cmd s_logger s_logger trace _gson toJson cmd VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context ManagedObjectReference morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost cmd getStorageId morDs DatastoreMO datastoreMo DatastoreMO context morDs DatastoreSummary summary datastoreMo getSummary assert summary capacity summary getCapacity free summary getFreeSpace used capacity free s_logger
free summary getFreeSpace used capacity free s_logger s_logger debug cmd getStorageId cmd getLocalPath cmd getPooltype toHumanReadableSize capacity toHumanReadableSize free toHumanReadableSize used summary s_logger warn GetStorageStatsAnswer cmd capacity used String msg cmd getStorageId cmd getLocalPath cmd getPooltype s_logger error msg GetStorageStatsAnswer cmd msg s_logger warn invalidateServiceContext
VirtualMachineMO vmMo hyperHost findVmOnHyperHost cmd getName vmMo s_logger s_logger debug hyperHost getHyperHostName vmMo hyperHost findVmOnPeerHyperHost cmd getName vmMo Exception cmd getName Pair String Integer portInfo vmMo getVncPort mgr getManagementPortGroupByHost HostMO hyperHost s_logger s_logger trace cmd getName portInfo first portInfo second GetVncPortAnswer cmd portInfo first portInfo second s_logger warn invalidateServiceContext
s_logger error controlIp VmwareHelper getExceptionMessage e e Answer cmd VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context HostMO hostMo HostMO hyperHost ClusterMO clusterMo ClusterMO context hostMo getHyperHostCluster VmwareManager mgr context getStockObject VmwareManager CONTEXT_STOCK_NAME List Pair ManagedObjectReference String hosts clusterMo getClusterHosts Pair ManagedObjectReference String entry hosts HostMO hostInCluster HostMO context entry first String hostIp hostInCluster getHostManagementIp mgr getManagementPortGroupName hostIp hostIp cmd hostInCluster isHyperHostConnected Answer cmd
details Answer cmd result details VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo GuestInfo guestInfo vmMo getGuestInfo VirtualMachineToolsStatus toolsStatus guestInfo getToolsStatus toolsStatus VirtualMachineToolsStatus details ip guestInfo getIpAddress ip result details ip
GuestInfo guestInfo vmMo getGuestInfo VirtualMachineToolsStatus toolsStatus guestInfo getToolsStatus toolsStatus VirtualMachineToolsStatus details ip guestInfo getIpAddress ip result details ip details vmName hyperHost getHyperHostName s_logger info details s_logger warn
deleteUnregisteredVmFiles vmFileLayout dataCenterMo Answer cmd e s_logger warn VmwareHelper getExceptionMessage e String msg cmd getVmName s_logger warn msg Answer cmd msg String msg cmd getVmName s_logger warn msg Answer cmd msg e e s_logger warn invalidateServiceContext
_guestTrafficInfo Answer cmd _guestTrafficInfo Answer cmd s_logger debug cmd getNicUuid _guestTrafficInfo getVirtualSwitchName VmwareContext context getServiceContext VmwareHypervisorHost host getHyperHost context ManagedObjectReference clusterMO host getHyperHostCluster SuppressWarnings List ManagedObjectReference hosts List ManagedObjectReference context getVimClient getDynamicProperty clusterMO hosts Answer cmd ManagedObjectReference hostMOR hosts HostMO hostMo HostMO context hostMOR hostMo deletePortGroup cmd getNicUuid toString
String workerTag prop prop template Boolean prop getVal prop CustomFieldStringValue val CustomFieldStringValue prop getVal val val getValue val getValue equalsIgnoreCase isWorker prop CustomFieldStringValue val CustomFieldStringValue prop getVal workerTag val getValue VirtualMachineMO vmMo VirtualMachineMO hyperHost getContext oc getObj template isWorker recycle recycle mgr needRecycle workerTag recycle
String hostApiVersion VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context assert hyperHost HostMO HostMO hyperHost
String hostApiVersion VmwareContext context getServiceContext VmwareHypervisorHost hyperHost getHyperHost context assert hyperHost HostMO HostMO hyperHost s_logger info hyperHost getHyperHostName HostMO hyperHost enableVncOnHostFirewall AboutInfo aboutInfo HostMO hyperHost getHostAboutInfo hostApiVersion aboutInfo getApiVersion e String msg VmwareHelper getExceptionMessage e
String poolUuid dsMo getCustomFieldValue CustomFieldConstants CLOUD_UUID poolUuid poolUuid poolUuid UUID randomUUID toString dsMo setCustomFieldValue CustomFieldConstants CLOUD_UUID poolUuid DatastoreSummary dsSummary dsMo getSummary String address hostMo getHostName StoragePoolInfo pInfo StoragePoolInfo poolUuid address dsMo getMor getValue StoragePoolType VMFS dsSummary getCapacity dsSummary getFreeSpace StartupStorageCommand cmd StartupStorageCommand cmd setName poolUuid cmd setPoolInfo pInfo cmd setGuid poolUuid cmd setResourceType Storage StorageResourceType STORAGE_POOL cmd setDataCenter _dcId cmd setPod _pod cmd setCluster _cluster
Map String String details cmd getHostDetails details details HashMap String String fillHostHardwareInfo serviceContext cmd fillHostNetworkInfo serviceContext cmd fillHostDetailsInfo serviceContext details e s_logger error e toString e CloudRuntimeException e s_logger error e toString e invalidateServiceContext CloudRuntimeException e
VmwareHypervisorHost hyperHost getHyperHost getServiceContext VmwareHypervisorHostResourceSummary summary hyperHost getHyperHostResourceSummary
assert hyperHost HostMO VmwareManager mgr hyperHost getContext getStockObject VmwareManager CONTEXT_STOCK_NAME VmwareHypervisorHostNetworkSummary summary hyperHost getHyperHostNetworkSummary mgr getManagementPortGroupByHost HostMO hyperHost summary Exception s_logger s_logger info _gson toJson summary cmd setPrivateIpAddress summary getHostIp cmd setPrivateNetmask summary getHostNetmask cmd setPrivateMacAddress summary getHostMacAddress cmd setStorageIpAddress summary getHostIp cmd setStorageNetmask summary getHostNetmask cmd setStorageMacAddress summary getHostMacAddress e String msg VmwareHelper getExceptionMessage e
val val maxVncPorts val startVal vncPort s_logger info Pair Integer Integer additionalRange mgr getAddiionalVncPortRange maxVncPorts additionalRange second val random nextInt maxVncPorts startVal val additionalRange first val vncPort additionalRange first val val val maxVncPorts val startVal vncPort
startTick System currentTimeMillis retry _retry System currentTimeMillis startTick retry
retry _retry retry s_logger info ipAddress sch sch configureBlocking sch socket setSoTimeout InetSocketAddress addr InetSocketAddress ipAddress port sch connect addr e s_logger info ipAddress e toString e Thread sleep
cfmMo ensureCustomFieldDef CustomFieldConstants CLOUD_WORKER cfmMo ensureCustomFieldDef CustomFieldConstants CLOUD_WORKER_TAG VmwareHypervisorHost hostMo getHyperHost context _hostName hostMo getHyperHostName _privateNetworkVSwitchName mgr getPrivateVSwitchName Long parseLong _dcId HypervisorType VMware _vsmCredentials mgr getNexusVSMCredentialsByClusterId Long parseLong _cluster _privateNetworkVSwitchName _privateNetworkVSwitchName String params get String value String params get value value equalsIgnoreCase _recycleHungWorker value String params get value value equalsIgnoreCase _rootDiskController DiskControllerType scsi value value equalsIgnoreCase _rootDiskController DiskControllerType _rootDiskController DiskControllerType
String poolKey VmwareContextPool composePoolKey _vCenterAddress _username context getPoolKey poolKey context s_logger s_logger trace context s_logger info invalidateServiceContext context s_logger warn poolKey context getPoolKey context VmwareContextFactory getContext _vCenterAddress _username _password s_serviceContext set context
VmwareHypervisorHost hyperHost getHyperHost context VolumeTO vol cmd getVolume VirtualMachineMO vmMo findVmOnDatacenter context hyperHost vol vmMo vmMo s_logger s_logger info vol getPath vmMo destroy s_logger s_logger info vol getPath Answer cmd s_logger warn invalidateServiceContext
context hyperHost DatacenterMO dcMo DatacenterMO context hyperHost getHyperHostDatacenter dcMo String msg
String filePath s_relativePathSystemVmKeyFileInstallDir
disk getBacking VirtualDeviceFileBackingInfo VirtualDeviceFileBackingInfo diskBacking VirtualDeviceFileBackingInfo disk getBacking ManagedObjectReference morDs diskBacking getDatastore DatastoreInfo info DatastoreInfo vmMo getContext getVimClient getDynamicProperty diskBacking getDatastore info NasDatastoreInfo NasDatastoreInfo dsInfo NasDatastoreInfo info instanceDisk setDatastoreName dsInfo getName dsInfo getNas instanceDisk setDatastoreHost dsInfo getNas getRemoteHost instanceDisk setDatastorePath dsInfo getNas getRemotePath instanceDisk setDatastoreType dsInfo getNas getType info VmfsDatastoreInfo VmfsDatastoreInfo dsInfo VmfsDatastoreInfo info instanceDisk setDatastoreName dsInfo getVmfs getName
List UnmanagedInstanceTO Nic instanceNics ArrayList HashMap String List String guestNicMacIPAddressMap HashMap GuestInfo guestInfo vmMo getGuestInfo guestInfo getToolsStatus nicInfo guestInfo nicInfo List String ipAddresses ArrayList String ipAddress nicInfo ipAddress ipAddresses add ipAddress guestNicMacIPAddressMap put nicInfo getMacAddress ipAddresses s_logger info String format vmMo getName guestInfo getToolsStatus toString
nicInfo guestInfo nicInfo List String ipAddresses ArrayList String ipAddress nicInfo ipAddress ipAddresses add ipAddress guestNicMacIPAddressMap put nicInfo getMacAddress ipAddresses s_logger info String format vmMo getName guestInfo getToolsStatus toString e s_logger info e getMessage VirtualDevice nics nics vmMo getNicDevices e
VirtualEthernetCard ethCardDevice VirtualEthernetCard nic s_logger error nic getClass getCanonicalName nic getBacking getClass getCanonicalName ethCardDevice getMacAddress UnmanagedInstanceTO Nic instanceNic UnmanagedInstanceTO Nic instanceNic setNicId ethCardDevice getDeviceInfo getLabel ethCardDevice instanceNic setAdapterType VirtualEthernetCardType PCNet32 toString ethCardDevice instanceNic setAdapterType VirtualEthernetCardType Vmxnet2 toString ethCardDevice instanceNic setAdapterType VirtualEthernetCardType Vmxnet3 toString instanceNic setAdapterType VirtualEthernetCardType E1000 toString instanceNic setMacAddress ethCardDevice getMacAddress instanceNic getMacAddress
vsm _vsmDao getVSMbyIpaddress vsmIp vsm ClusterVSMMapVO connectorObj ClusterVSMMapVO clusterId vsm getId _clusterVSMDao persist connectorObj vsm String msg msg Config VmwareUseNexusVSwitch toString vsmIp msg msg
cmd String hypervisor cmd getContextParam hypervisor Hypervisor HypervisorType hypervisorType Hypervisor HypervisorType getType hypervisor hypervisorType
String tokens guid split tokens tokens s_logger error String vCenterAddress tokens String hostTokens tokens split hostTokens hostTokens s_logger error vCenterSessionTimeout NumbersUtil parseInt cmd getContextParam _resource ensureOutgoingRuleForAddress vCenterAddress VmwareContext context currentContext get context context invalidateServiceContext context
hostTokens hostTokens s_logger error morHyperHost setType hostTokens morHyperHost setValue hostTokens morHyperHost HostMO hostMo HostMO context morHyperHost ManagedObjectReference mor hostMo getHyperHostCluster ClusterMO clusterMo ClusterMO hostMo getContext mor List Pair ManagedObjectReference String hostsInCluster clusterMo getClusterHosts Pair ManagedObjectReference String hostPair hostsInCluster HostMO hostIteratorMo HostMO hostMo getContext hostPair first VmwareHypervisorHostNetworkSummary netSummary hostIteratorMo getHyperHostNetworkSummary hostIteratorMo getHostType VmwareHostType ESXi cmd getContextParam cmd getContextParam _resource ensureOutgoingRuleForAddress netSummary getHostIp
ds assert ds ds ds
dcMo ds String vmdkName String vmName String excludeFolders String fileDsFullPath ds searchFileInSubFolders vmdkName excludeFolders fileDsFullPath String folderName ds String format ds getName vmName folderName String format ds getName vmName DatastoreFile srcDsFile DatastoreFile fileDsFullPath String companionFilePath srcDsFile getCompanionPath vmdkName ds companionFilePath String targetPath getLegacyDatastorePathFromVmdkFileName ds vmdkName s_logger info companionFilePath targetPath ds moveDatastoreFile companionFilePath dcMo getMor ds getMor targetPath dcMo getMor companionFilePath srcDsFile getCompanionPath vmdkName ds companionFilePath String targetPath getLegacyDatastorePathFromVmdkFileName ds vmdkName
String folderName ds String format ds getName vmName folderName String format ds getName vmName DatastoreFile srcDsFile DatastoreFile fileDsFullPath String companionFilePath srcDsFile getCompanionPath vmdkName ds companionFilePath String targetPath getLegacyDatastorePathFromVmdkFileName ds vmdkName s_logger info companionFilePath targetPath ds moveDatastoreFile companionFilePath dcMo getMor ds getMor targetPath dcMo getMor companionFilePath srcDsFile getCompanionPath vmdkName ds companionFilePath String targetPath getLegacyDatastorePathFromVmdkFileName ds vmdkName s_logger info companionFilePath targetPath ds moveDatastoreFile companionFilePath dcMo getMor ds getMor targetPath dcMo getMor String targetPath getLegacyDatastorePathFromVmdkFileName ds vmdkName
fileFullDsPath DatastoreFile file DatastoreFile fileFullDsPath
dcMo fileFullDsPath DatastoreFile file DatastoreFile fileFullDsPath s_logger info fileFullDsPath DatastoreMO dsMo DatastoreMO dcMo getContext dcMo findDatastore file getDatastoreName dsMo DatastoreFile targetFile DatastoreFile file getDatastoreName file getFileName targetFile file
dcMo String String fileFullDsPath DatastoreFile file DatastoreFile fileFullDsPath s_logger info fileFullDsPath DatastoreMO dsMo DatastoreMO dcMo getContext dcMo findDatastore file getDatastoreName dsMo getMor DatastoreFile targetFile DatastoreFile file getDatastoreName file getFileName targetFile getPath file getPath s_logger info file getPath targetFile getPath dsMo moveDatastoreFile file getPath dcMo getMor dsMo getMor targetFile getPath dcMo getMor String pairSrcFilePath file getCompanionPath file getFileBaseName String pairTargetFilePath targetFile getCompanionPath file getFileBaseName dsMo pairSrcFilePath
s_logger info fileFullDsPath DatastoreMO dsMo DatastoreMO dcMo getContext dcMo findDatastore file getDatastoreName dsMo getMor DatastoreFile targetFile DatastoreFile file getDatastoreName file getFileName targetFile getPath file getPath s_logger info file getPath targetFile getPath dsMo moveDatastoreFile file getPath dcMo getMor dsMo getMor targetFile getPath dcMo getMor String pairSrcFilePath file getCompanionPath file getFileBaseName String pairTargetFilePath targetFile getCompanionPath file getFileBaseName dsMo pairSrcFilePath s_logger info pairSrcFilePath pairTargetFilePath dsMo moveDatastoreFile pairSrcFilePath dcMo getMor dsMo getMor pairTargetFilePath dcMo getMor pairSrcFilePath file getCompanionPath file getFileBaseName pairTargetFilePath targetFile getCompanionPath file getFileBaseName dsMo pairSrcFilePath
List HostUnresolvedVmfsExtent List HostUnresolvedVmfsExtent List HostUnresolvedVmfsExtent matchingExtents ArrayList HostUnresolvedVmfsExtent
String secondaryStorageUrl String templatePathAtSecondaryStorage String templateName String String nfsVersion s_logger info secondaryStorageUrl templatePathAtSecondaryStorage templateName String secondaryMountPoint mountService getMountPoint secondaryStorageUrl nfsVersion
String secondaryStorageUrl String templatePathAtSecondaryStorage String templateName String String nfsVersion s_logger info secondaryStorageUrl templatePathAtSecondaryStorage templateName String secondaryMountPoint mountService getMountPoint secondaryStorageUrl nfsVersion s_logger info secondaryMountPoint String srcOVAFileName VmwareStorageLayoutHelper getTemplateOnSecStorageFilePath secondaryMountPoint templatePathAtSecondaryStorage templateName ImageFormat OVA getFileExtension String srcFileName getOVFFilePath srcOVAFileName srcFileName Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint templatePathAtSecondaryStorage
String secondaryStorageUrl String templatePathAtSecondaryStorage String templateName String String nfsVersion s_logger info secondaryStorageUrl templatePathAtSecondaryStorage templateName String secondaryMountPoint mountService getMountPoint secondaryStorageUrl nfsVersion s_logger info secondaryMountPoint String srcOVAFileName VmwareStorageLayoutHelper getTemplateOnSecStorageFilePath secondaryMountPoint templatePathAtSecondaryStorage templateName ImageFormat OVA getFileExtension String srcFileName getOVFFilePath srcOVAFileName srcFileName Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint templatePathAtSecondaryStorage s_logger info command toString String result command execute result String msg srcOVAFileName
String srcFileName getOVFFilePath srcOVAFileName srcFileName Script command Script s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint templatePathAtSecondaryStorage s_logger info command toString String result command execute result String msg srcOVAFileName s_logger error msg Exception msg srcFileName getOVFFilePath srcOVAFileName srcFileName String msg srcOVAFileName
String msg srcOVAFileName s_logger error msg Exception msg srcFileName getOVFFilePath srcOVAFileName srcFileName String msg srcOVAFileName s_logger error msg Exception msg String vmName templateUuid hyperHost importVmFromOVF srcFileName vmName datastoreMo VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName VmConfigInfo vAppConfig vmMo String msg secondaryStorageUrl templatePathAtSecondaryStorage templateName templateUuid
Exception msg vAppConfig vmMo getConfigInfo getVAppConfig vAppConfig s_logger info OVAProcessor processor OVAProcessor Map String Object params HashMap params put StorageLayer InstanceConfigKey _storage processor configure params virtualSize processor getTemplateVirtualSize secondaryMountPoint templatePathAtSecondaryStorage templateName vmMo vmMo setCustomFieldValue CustomFieldConstants CLOUD_UUID templateName vAppConfig vmMo markAsTemplate
String s_logger info String msg
morDatastore Exception DatastoreMO dsMo DatastoreMO context morDatastore String vmdkName volume getName String vmdkFileBaseName String dummyVmName hostService getWorkerName context cmd vmMo HypervisorHostHelper createWorkerVM hyperHost dsMo dummyVmName vmMo Exception vmdkFileBaseName vmMo getVmdkFileBaseNames get String vmdkFilePair VmwareStorageLayoutHelper getVmdkFilePairDatastorePath dsMo vmdkFileBaseName VmwareStorageLayoutType CLOUDSTACK_LEGACY String volumeDatastorePath vmdkFilePair
String templatePath template getPath VirtualMachineMO vmTemplate VmwareHelper pickOneVmOnRunningHost dcMo findVmByNameAndLabel templatePath vmTemplate s_logger warn CopyCmdAnswer ManagedObjectReference morPool hyperHost getHyperHostOwnerResourcePool ManagedObjectReference morCluster hyperHost getHyperHostCluster template getSize _fullCloneFlag volume getSize template getSize _fullCloneFlag _fullCloneFlag createVMLinkedClone vmTemplate dcMo vmdkName morDatastore morPool createVMFullClone vmTemplate dcMo dsMo vmdkName morDatastore morPool vmMo ClusterMO context morCluster findVmOnHyperHost vmdkName
VirtualMachineMO vmTemplate VmwareHelper pickOneVmOnRunningHost dcMo findVmByNameAndLabel templatePath vmTemplate s_logger warn CopyCmdAnswer ManagedObjectReference morPool hyperHost getHyperHostOwnerResourcePool ManagedObjectReference morCluster hyperHost getHyperHostCluster template getSize _fullCloneFlag volume getSize template getSize _fullCloneFlag _fullCloneFlag createVMLinkedClone vmTemplate dcMo vmdkName morDatastore morPool createVMFullClone vmTemplate dcMo dsMo vmdkName morDatastore morPool vmMo ClusterMO context morCluster findVmOnHyperHost vmdkName assert vmMo vmdkFileBaseName vmMo getVmdkFileBaseNames get
ManagedObjectReference morDatastore HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost uuid morDatastore URI uri URI destStore getUrl morDatastore hyperHost mountDatastore uri getHost uri getPath destStore getUuid replace morDatastore Exception uri getHost uri getPath Pair String String result copyVolumeFromSecStorage hyperHost srcVolume getPath DatastoreMO context morDatastore srcStore getUrl cmd getWait _nfsVersion deleteVolumeDirOnSecondaryStorage result first srcStore getUrl _nfsVersion VolumeObjectTO newVolume VolumeObjectTO newVolume setPath result second CopyCmdAnswer newVolume hostService invalidateServiceContext context String msg
String String hyperHost cmd String String poolId String String String String VirtualMachineMO workerVm VirtualMachineMO vmMo String exportName UUID randomUUID toString replace String searchExcludedFolders cmd getContextParam ManagedObjectReference morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost poolId morDs String msg
String exportName UUID randomUUID toString replace String searchExcludedFolders cmd getContextParam ManagedObjectReference morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost poolId morDs String msg s_logger error msg Exception msg clonedWorkerVMNeeded vmMo hyperHost findVmOnHyperHost vmName vmMo vmMo DatastoreMO dsMo DatastoreMO hyperHost getContext morDs workerVm HypervisorHostHelper createWorkerVM hyperHost dsMo workerVmName workerVm String msg
String vmName srcVolume getVmName VmwareContext context hostService getServiceContext cmd DataStoreTO primaryStorage srcVolume getDataStore NfsTO destStore NfsTO destVolume getDataStore VmwareHypervisorHost hyperHost hostService getHyperHost context cmd Pair String String result result copyVolumeToSecStorage hostService hyperHost cmd vmName primaryStorage getUuid srcVolume getPath destVolume getPath destStore getUrl hostService getWorkerName context cmd VolumeObjectTO newVolume VolumeObjectTO newVolume setPath result first File separator result second CopyCmdAnswer newVolume hostService invalidateServiceContext context String msg
String String installPath String String secStorageUrl String String String nfsVersion String secondaryMountPoint mountService getMountPoint secStorageUrl nfsVersion String installFullPath secondaryMountPoint installPath installPath Script command Script _timeout s_logger command add command add installFullPath String result command execute result String msg installPath secStorageUrl result
String installFullPath secondaryMountPoint installPath installPath Script command Script _timeout s_logger command add command add installFullPath String result command execute result String msg installPath secStorageUrl result s_logger error msg Exception msg VirtualMachineMO clonedVm Pair VirtualDisk String volumeDeviceInfo vmMo getDiskDevice volumePath volumeDeviceInfo String msg volumePath
command add installFullPath String result command execute result String msg installPath secStorageUrl result s_logger error msg Exception msg VirtualMachineMO clonedVm Pair VirtualDisk String volumeDeviceInfo vmMo getDiskDevice volumePath volumeDeviceInfo String msg volumePath s_logger error msg Exception msg vmMo String msg volumePath
VolumeObjectTO volume VolumeObjectTO cmd getSrcTO TemplateObjectTO template TemplateObjectTO cmd getDestTO DataStoreTO imageStore template getDataStore imageStore NfsTO CopyCmdAnswer NfsTO nfsImageStore NfsTO imageStore String secondaryStoragePoolURL nfsImageStore getUrl String volumePath volume getPath String details VmwareContext context hostService getServiceContext cmd VmwareHypervisorHost hyperHost hostService getHyperHost context cmd VirtualMachineMO vmMo hyperHost findVmOnHyperHost volume getVmName vmMo
DatacenterMO dcMo DatacenterMO context dcMor vmMo dcMo findVm volume getVmName vmMo String msg volume getVmName s_logger error msg Exception msg Ternary String Long Long result createTemplateFromVolume vmMo template getPath template getId template getName secondaryStoragePoolURL volumePath hostService getWorkerName context cmd _nfsVersion TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath result first newTemplate setFormat ImageFormat OVA newTemplate setSize result third newTemplate setPhysicalSize result second CopyCmdAnswer newTemplate
installPath command Script _timeout s_logger command add command add installFullPath result command execute result String msg installPath secStorageUrl result s_logger error msg Exception msg snapshotFullOVAName command Script wait s_logger command add snapshotFullOVAName command add installFullOVAName result command execute
String msg installPath secStorageUrl result s_logger error msg Exception msg snapshotFullOVAName command Script wait s_logger command add snapshotFullOVAName command add installFullOVAName result command execute result String msg snapshotFullOVAName installFullPath s_logger error msg Exception msg command Script wait s_logger command add
snapshotFullOVAName command Script wait s_logger command add snapshotFullOVAName command add installFullOVAName result command execute result String msg snapshotFullOVAName installFullPath s_logger error msg Exception msg command Script wait s_logger command add command add installFullOVAName command setWorkDir installFullPath s_logger info command toString
Exception msg command Script wait s_logger command add command add installFullOVAName command setWorkDir installFullPath s_logger info command toString result command execute result String msg snapshotFullOVAName installFullPath s_logger error msg Exception msg snapshotFullOvfName command Script wait s_logger command add snapshotFullOvfName
result command execute result String msg snapshotFullOVAName installFullPath s_logger error msg Exception msg snapshotFullOvfName command Script wait s_logger command add snapshotFullOvfName command add installFullPath result command execute result String msg snapshotFullOvfName installFullPath s_logger error msg Exception msg
String msg snapshotFullOvfName installFullPath s_logger error msg Exception msg s_logger info snapshotRoot File snapshotdir File snapshotRoot File ssfiles snapshotdir listFiles ssfiles String msg snapshotRoot s_logger error msg Exception msg i i ssfiles i String vmdkfile ssfiles i getName s_logger info vmdkfile vmdkfile vmdkfile snapshotFullVMDKName snapshotRoot File separator vmdkfile
s_logger info snapshotRoot File snapshotdir File snapshotRoot File ssfiles snapshotdir listFiles ssfiles String msg snapshotRoot s_logger error msg Exception msg i i ssfiles i String vmdkfile ssfiles i getName s_logger info vmdkfile vmdkfile vmdkfile snapshotFullVMDKName snapshotRoot File separator vmdkfile templateVMDKName vmdkfile snapshotFullVMDKName
ssfiles String msg snapshotRoot s_logger error msg Exception msg i i ssfiles i String vmdkfile ssfiles i getName s_logger info vmdkfile vmdkfile vmdkfile snapshotFullVMDKName snapshotRoot File separator vmdkfile templateVMDKName vmdkfile snapshotFullVMDKName command Script wait s_logger command add snapshotFullVMDKName command add installFullPath
String installPath String installFullPath nfsSvr installPath Script command Script _timeout s_logger command add command add installFullPath String result command execute result String secStorageUrl nfsSvr getUrl String msg installPath secStorageUrl result
String String installFullPath String File templateDir File installFullPath File templateFiles templateDir listFiles templateFiles String msg installFullPath
createTemplateFolder installPath installFullPath nfsSvr String exportName UUID randomUUID toString exportManagedStorageSnapshotToTemplate cmd installFullPath snapshotPath exportName String templateVmdkName getTemplateVmdkName installFullPath exportName String uniqueName options get DiskTO UUID Size size handleMetadataCreateTemplateFromSnapshot installFullPath templateVmdkName template getId uniqueName exportName TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath installPath uniqueName newTemplate setPhysicalSize size getPhysicalSize newTemplate setSize size getVirtualSize newTemplate setFormat ImageFormat OVA newTemplate setName uniqueName CopyCmdAnswer newTemplate ex String errMsg ex getMessage
Pair String String VirtualMachineMO vmMo String volumePath String secStorageUrl String secStorageDir String exportName String String nfsVersion Exception String secondaryMountPoint mountService getMountPoint secStorageUrl nfsVersion String exportPath secondaryMountPoint secStorageDir exportName exportPath exportPath Script command Script _timeout s_logger command add command add exportPath command Exception VirtualMachineMO clonedVm Pair VirtualDisk String volumeDeviceInfo vmMo getDiskDevice volumePath volumeDeviceInfo String msg volumePath
success String snapshotBackupUuid hasOwnerVm Ternary String String String backupResult VmwareContext context hostService getServiceContext cmd VirtualMachineMO vmMo String vmName srcSnapshot getVmName VmwareHypervisorHost hyperHost hostService getHyperHost context cmd morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost primaryStore getUuid CopyCmdAnswer answer vmName vmMo hyperHost findVmOnHyperHost vmName vmMo
vmName vmMo hyperHost findVmOnHyperHost vmName vmMo s_logger s_logger debug hyperHost getHyperHostName vmMo hyperHost findVmOnPeerHyperHost vmName vmMo dsMo DatastoreMO hyperHost getContext morDs workerVMName hostService getWorkerName context cmd vmMo HypervisorHostHelper createWorkerVM hyperHost dsMo workerVMName vmMo Exception workerVMName workerVm vmMo String datastoreVolumePath dsMo getDatastorePath volumePath vmMo attachDisk String datastoreVolumePath morDs
s_logger info vmdkDsFilePath String topVmdkFilePath topVmdkFilePath vmMo getDiskCurrentTopBackingFileInChain backupResult second e s_logger error e s_logger info topVmdkFilePath topVmdkFilePath DatastoreFile file DatastoreFile topVmdkFilePath SnapshotObjectTO snapshotInfo SnapshotObjectTO answer getNewData VolumeObjectTO vol VolumeObjectTO vol setUuid srcSnapshot getVolume getUuid vol setPath file getFileBaseName snapshotInfo setVolume vol
disk isManaged String vmName String String String String VolumeObjectTO volumeTO VolumeObjectTO disk getData DataStoreTO primaryStore volumeTO getDataStore String vmdkPath isManaged resource getVmdkPath volumeTO getPath VmwareContext context hostService getServiceContext VmwareHypervisorHost hyperHost hostService getHyperHost context VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo vmMo hyperHost findVmOnPeerHyperHost vmName vmMo String msg vmName
s_logger error msg Exception msg vmName vmMo getName ManagedObjectReference morDs String diskUuid volumeTO getUuid replace isManaged Map String String details disk getDetails morDs prepareManagedStorage context hyperHost diskUuid iScsiName storageHost storagePort vmdkPath details get DiskTO CHAP_INITIATOR_USERNAME details get DiskTO CHAP_INITIATOR_SECRET details get DiskTO CHAP_TARGET_USERNAME details get DiskTO CHAP_TARGET_SECRET volumeTO getSize cmd storagePort morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost isManaged VmwareResource getDatastoreName diskUuid primaryStore getUuid morDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost isManaged VmwareResource getDatastoreName iScsiName primaryStore getUuid morDs String msg vmName
String vmName VmwareContext context hostService getServiceContext VmwareHypervisorHost hyperHost hostService getHyperHost context VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo String msg vmName
VmwareContext context hostService getServiceContext VmwareHypervisorHost hyperHost hostService getHyperHost context VirtualMachineMO vmMo hyperHost findVmOnHyperHost vmName vmMo String msg vmName s_logger error msg Exception msg TemplateObjectTO iso TemplateObjectTO disk getData NfsTO nfsImageStore NfsTO iso getDataStore String storeUrl nfsImageStore storeUrl nfsImageStore getUrl storeUrl iso String msg
s_logger error msg Exception msg vmMo mountToolsInstaller vmMo AttachAnswer vmMo detachIso AttachAnswer disk ManagedObjectReference morSecondaryDs prepareSecondaryDatastoreOnHost storeUrl String isoPath nfsImageStore getUrl File separator iso getPath isoPath storeUrl
ManagedObjectReference morSecondaryDs prepareSecondaryDatastoreOnHost storeUrl String isoPath nfsImageStore getUrl File separator iso getPath isoPath storeUrl assert String msg s_logger error msg Exception msg isoNameStartPos isoPath lastIndexOf String isoFileName isoPath substring isoNameStartPos String isoStorePathFromRoot isoPath substring storeUrl length isoNameStartPos DatastoreMO secondaryDsMo DatastoreMO context morSecondaryDs String storeName secondaryDsMo getName String isoDatastorePath String format storeName isoStorePathFromRoot isoFileName vmMo attachIso isoDatastorePath morSecondaryDs
VolumeObjectTO volume VolumeObjectTO cmd getData DataStoreTO primaryStore volume getDataStore VmwareContext context hostService getServiceContext VmwareHypervisorHost hyperHost hostService getHyperHost context DatacenterMO dcMo DatacenterMO context hyperHost getHyperHostDatacenter ManagedObjectReference morDatastore HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost primaryStore getUuid morDatastore Exception DatastoreMO dsMo DatastoreMO context morDatastore VirtualMachineMO vmMo String volumeUuid UUID randomUUID toString replace String volumeDatastorePath dsMo getDatastorePath volumeUuid String dummyVmName hostService getWorkerName context cmd
DatastoreMO dsMo DatastoreMO context morDatastore VirtualMachineMO vmMo String volumeUuid UUID randomUUID toString replace String volumeDatastorePath dsMo getDatastorePath volumeUuid String dummyVmName hostService getWorkerName context cmd s_logger info dummyVmName vmMo HypervisorHostHelper createWorkerVM hyperHost dsMo dummyVmName vmMo Exception vmMo createDisk volumeDatastorePath volume getSize morDatastore vmMo getScsiDeviceControllerKey vmMo detachDisk volumeDatastorePath Exception
e s_logger error volumeDatastorePath e getMessage VmwareStorageLayoutHelper deleteVolumeVmdkFiles dsMo volumeUuid dcMo VmwareManager s_vmwareSearchExcludeFolder value CloudRuntimeException e getMessage VolumeObjectTO newVol VolumeObjectTO newVol setPath volumeUuid newVol setSize volume getSize CreateObjectAnswer newVol s_logger info vmMo vmMo detachAllDisks vmMo destroy e e
morDs String msg store getUuid s_logger error msg Exception msg DatastoreMO dsMo DatastoreMO context morDs ManagedObjectReference morDc hyperHost getHyperHostDatacenter ManagedObjectReference morCluster hyperHost getHyperHostCluster ClusterMO clusterMo ClusterMO context morCluster vol String vmName vol getVmName vmName VirtualMachineMO vmMo clusterMo findVmOnHyperHost vmName vmMo DatacenterMO dcMo DatacenterMO context morDc vmMo dcMo findVm vmName
String srcOVFFileName srcOVAFileName secondaryMountPoint secStorageDir backupName ImageFormat OVA getFileExtension srcOVFFileName secondaryMountPoint secStorageDir backupName String snapshotDir backupName snapshotDir backupName split File ovafile File srcOVAFileName File ovfFile File srcOVFFileName ovfFile srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName ovafile Script command Script wait s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint secStorageDir snapshotDir
backupName snapshotDir backupName split File ovafile File srcOVAFileName File ovfFile File srcOVFFileName ovfFile srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName ovafile Script command Script wait s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint secStorageDir snapshotDir s_logger info command toString String result command execute result String msg srcOVAFileName
srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName Script command Script wait s_logger command add command add srcOVAFileName command setWorkDir secondaryMountPoint secStorageDir snapshotDir s_logger info command toString String result command execute result String msg srcOVAFileName s_logger error msg Exception msg srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName
command add command add srcOVAFileName command setWorkDir secondaryMountPoint secStorageDir snapshotDir s_logger info command toString String result command execute result String msg srcOVAFileName s_logger error msg Exception msg srcOVFFileName getOVFFilePath srcOVAFileName srcOVFFileName String msg srcOVAFileName s_logger error msg Exception msg srcOVFFileName
NfsTO nfsImageStore NfsTO imageStore String primaryStorageNameLabel pool getUuid String secondaryStorageUrl nfsImageStore getUrl String backedUpSnapshotUuid snapshot getPath index backedUpSnapshotUuid lastIndexOf File separator String backupPath backedUpSnapshotUuid substring index backedUpSnapshotUuid backedUpSnapshotUuid substring index String details String newVolumeName VmwareHelper getVCenterSafeUuid VmwareContext context hostService getServiceContext cmd VmwareHypervisorHost hyperHost hostService getHyperHost context cmd ManagedObjectReference morPrimaryDs HypervisorHostHelper findDatastoreWithBackwardsCompatibility hyperHost primaryStorageNameLabel morPrimaryDs String msg primaryStorageNameLabel
String msg primaryStorageNameLabel s_logger error msg Exception msg backedUpSnapshotUuid backedUpSnapshotUuid backedUpSnapshotUuid replace backedUpSnapshotUuid backedUpSnapshotUuid backedUpSnapshotUuid replace DatastoreMO primaryDsMo DatastoreMO hyperHost getContext morPrimaryDs restoreVolumeFromSecStorage hyperHost primaryDsMo newVolumeName secondaryStorageUrl backupPath backedUpSnapshotUuid cmd getWait _nfsVersion VolumeObjectTO newVol VolumeObjectTO newVol setPath newVolumeName CopyCmdAnswer newVol hostService invalidateServiceContext context
nfsVersion _nfsVersion nfsVersion
value _fullCloneFlag value
srcData destData srcData destData srcData destData srcData destData srcData srcData destData srcData destData String msg String format getClass srcData getId srcData getUuid destData getId destData getUuid storagePoolDao findById srcData getDataStore getId getClusterId storagePoolDao findById destData getDataStore getId getClusterId
srcData destData DataStore srcStore srcData getDataStore DataStore destStore destData getDataStore String msg String format srcStore getScope toString destStore getScope toString
srcData destData String format String msg String format format getClass getName srcData toString destData toString
StorageFilerTO filerTo StorageFilerTO StoragePool entry getValue volumeToFilerto add Pair VolumeTO StorageFilerTO volumeTo filerTo MigrateWithStorageCommand migrateWithStorageCmd MigrateWithStorageCommand to volumeToFilerto destHost getGuid MigrateWithStorageAnswer migrateWithStorageAnswer MigrateWithStorageAnswer agentMgr send srcHost getId migrateWithStorageCmd migrateWithStorageAnswer s_logger error vm destHost CloudRuntimeException vm destHost migrateWithStorageAnswer s_logger error vm migrateWithStorageAnswer getDetails CloudRuntimeException vm destHost migrateWithStorageAnswer getDetails updateVolumesAfterMigration volumeToPool migrateWithStorageAnswer getVolumeTos s_logger debug vm getInstanceName destHost getName migrateWithStorageAnswer
VolumeTO volumeTo VolumeTO volume storagePoolDao findById volume getPoolId StorageFilerTO filerTo StorageFilerTO StoragePool entry getValue volumeToFilerto add Pair VolumeTO StorageFilerTO volumeTo filerTo MigrateWithStorageCommand command MigrateWithStorageCommand to volumeToFilerto destHost getGuid MigrateWithStorageAnswer answer MigrateWithStorageAnswer agentMgr send srcHost getId command answer s_logger error vm CloudRuntimeException vm destHost answer s_logger error vm answer getDetails CloudRuntimeException vm destHost answer getDetails updateVolumesAfterMigration volumeToPool answer getVolumeTos answer
volumeTo volume getId volumeTo getId VolumeVO volumeVO volDao findById volume getId Long oldPoolId volumeVO getPoolId volumeVO setPath volumeTo getPath volumeTo getChainInfo volumeVO setChainInfo volumeTo getChainInfo volumeVO setLastPoolId oldPoolId volumeVO setFolder pool getPath volumeVO setPodId pool getPodId volumeVO setPoolId pool getId volDao update volume getId volumeVO updated updated
host getHypervisorType s_logger debug host getHypervisorType List HostVO hosts _resourceMgr listAllHostsInCluster host getClusterId FenceCommand fence FenceCommand vm host HostVO h hosts h getHypervisorType h h getId host getId FenceAnswer answer Answer ans _agentMgr send h getId fence ans FenceAnswer
FenceCommand fence FenceCommand vm host h h h h getId host getId FenceAnswer answer Answer ans _agentMgr send h getId fence ans FenceAnswer s_logger debug ans getResult ans getDetails answer FenceAnswer ans
h getId getId FenceAnswer answer Answer ans _agentMgr send h getId fence ans FenceAnswer s_logger debug ans getResult ans getDetails answer FenceAnswer ans e s_logger s_logger debug h toString e e
isSourceObjectSnapshotTypeAndDestinationObjectTemplateType srcData getObjectType DataObjectType SNAPSHOT destData getObjectType DataObjectType TEMPLATE isSourceObjectSnapshotTypeAndDestinationObjectTemplateType logger debug defaultHostToExecuteCommands HostVO defaultHostToExecuteCommand hostDao findById hostId HostVO hostCandidateToExecutedCommand hostDao findHostInZoneToExecuteCommand defaultHostToExecuteCommand getDataCenterId srcData getHypervisorType hostDao loadDetails hostCandidateToExecutedCommand String hypervisorVersion hostCandidateToExecutedCommand getHypervisorVersion StringUtils hypervisorVersion logger debug defaultHostToExecuteCommands isXenServer610 StringUtils equals hypervisorVersion isXenServer610 logger debug defaultHostToExecuteCommands
logger debug defaultHostToExecuteCommands HostVO defaultHostToExecuteCommand hostDao findById hostId HostVO hostCandidateToExecutedCommand hostDao findHostInZoneToExecuteCommand defaultHostToExecuteCommand getDataCenterId srcData getHypervisorType hostDao loadDetails hostCandidateToExecutedCommand String hypervisorVersion hostCandidateToExecutedCommand getHypervisorVersion StringUtils hypervisorVersion logger debug defaultHostToExecuteCommands isXenServer610 StringUtils equals hypervisorVersion isXenServer610 logger debug defaultHostToExecuteCommands String snapshotHotFixVersion hostCandidateToExecutedCommand getDetail XenserverConfigs XS620HotFix isXenServer620 StringUtils equals hypervisorVersion
Map Host Host Record hosts Host getAllRecords conn Map Host Host Record entry hosts Host Record re entry getValue re hostIp Set HostPatch patches re patches PoolPatch poolPatch PoolPatch getByUuid conn hotFixUuid HostPatch patch patches PoolPatch pp patch getPoolPatch conn pp pp poolPatch patch conn s_logger debug hostIp hotFixUuid
Host Host Record entry Host Record re entry getValue re hostIp Set HostPatch patches re patches PoolPatch poolPatch PoolPatch getByUuid conn hotFixUuid HostPatch patch patches PoolPatch pp patch getPoolPatch conn pp pp poolPatch patch conn s_logger debug hostIp hotFixUuid s_logger debug hostIp hotFixUuid
Map Map String String url String String String Map CitrixResourceBase Map String String resources HashMap CitrixResourceBase Map String String Connection conn url String msg url
String msg s_logger debug msg RuntimeException msg ClusterVO cluster _clusterDao findById clusterId cluster cluster s_logger s_logger info String hostname url getHost InetAddress ia InetAddress getByName hostname String hostIp ia getHostAddress Queue String pass LinkedList String pass add password conn _connPool getConnect hostIp username pass
s_logger warn msg DiscoveryException msg setClusterGuid clu poolUuid conn Session logout conn e s_logger debug e conn dispose conn poolUuid clu getGuid _clusterDao update clusterId clu
s_logger debug e conn dispose conn poolUuid clu getGuid _clusterDao update clusterId clu Host Host Record entry Host Record record entry getValue support_hvm String record support_hvm support_hvm String msg record address
conn poolUuid clu getGuid _clusterDao update clusterId clu Host Host Record entry Host Record record entry getValue support_hvm String record support_hvm support_hvm String msg record address _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_HOST dcId podId msg msg s_logger debug msg
HostVO host _hostDao findById agentId ClusterVO cluster _clusterDao findById host getClusterId cluster getGuid cluster setGuid startup getPool _clusterDao update cluster getId cluster cluster getGuid startup getPool String msg cluster getId cluster getGuid startup getPool s_logger warn msg CloudRuntimeException msg Map String String details startup getHostDetails String prodBrand details get trim String prodVersion details get trim String hotfix details get XenserverConfigs XS620HotFix String prodVersionTextShort details get String resource createServerResource prodBrand prodVersion prodVersionTextShort hotfix getClass getName
i i params i args put params i params i s_logger s_logger trace cmd getArgsString args Host host Host getByUuid conn _host getUuid String result host callPlugin conn plugin cmd args s_logger s_logger trace result result replace e msg cmd getArgsString args e toString s_logger warn msg e msg cmd getArgsString args e getMessage
Host host Host getByUuid conn _host getUuid task host callPluginAsync conn plugin cmd args waitForTask conn task timeout checkForSuccess conn task String result task getResult conn s_logger s_logger trace result result replace replace replace e s_logger warn cmd getArgsString args e clazz e handle e s_logger warn cmd getArgsString args e toString e task
waitForTask conn task timeout checkForSuccess conn task String result task getResult conn s_logger s_logger trace result result replace replace replace e s_logger warn cmd getArgsString args e clazz e handle e s_logger warn cmd getArgsString args e toString e e s_logger warn cmd getArgsString args e getMessage e task
ConfigurationException Connection conn ConnPool getConnect _host getIp _username _password conn ConfigurationException _host getIp Host Record hostRec Host host Host getByUuid conn _host getUuid hostRec host getRecord conn Pool Record poolRec Pool getAllRecords conn values iterator next _host setPool poolRec uuid ConfigurationException _host getIp hostRec _host getIp String msg _host getIp
VDI conn VDI vdi sr wait Task task wait wait task vdi copyAsync conn sr waitForTask conn task wait checkForSuccess conn task VDI dvdi Types toVDI task conn dvdi task task destroy conn
String msg vmName s_logger warn msg msg e String msg vmName e toString s_logger warn msg e msg s_logger s_logger debug ipAddress i _retry ipAddress toString Thread sleep _sleep e String msg ipAddress
String String String String Connection conn getConnection String hostPath
deviceConfig put uri getHost deviceConfig put path String name UUID nameUUIDFromBytes String uri getHost path getBytes toString shared Set SR srs SR getByNameLabel conn name SR sr srs SR Record record sr getRecord conn SRType NFS record record record shared removeSRSync conn sr Host host Host getByUuid conn _host getUuid Map String String smConfig HashMap String String smConfig put SR sr SR create conn host deviceConfig Long name uri getHost uri getPath SRType NFS toString shared smConfig conn sr Exception
vbdr empty type Volume Type ROOT vbdr bootable type Volume Type CD vbdr bootable volume getType Volume Type vbdr mode Types VbdMode RO vbdr type Types VbdType CD vbdr userdevice String valueOf USER_DEVICE_START_ID isoCount vbdr mode Types VbdMode RW vbdr type Types VbdType DISK vbdr unpluggable volume getType Volume Type ROOT vbdr userdevice
Network conn tag XsLocalNetwork network Network vlanNetwork String oldName Long toString tag String newName network getNetworkRecord conn uuid tag XsLocalNetwork vlanNic getNetworkByName conn newName vlanNic
vlanNic s_logger s_logger debug tag _host getIp Network Record nwr Network Record nwr nameLabel newName nwr tags HashSet String nwr tags add generateTimeStamp vlanNetwork Network create conn nwr vlanNic getNetworkByName conn newName vlanNic CloudRuntimeException newName PIF nPif network getPif conn PIF Record nPifr network getPifRecord conn vlanNetwork vlanNic getNetwork vlanNic getPif conn
nwr nameLabel newName nwr tags HashSet String nwr tags add generateTimeStamp vlanNetwork Network create conn nwr vlanNic getNetworkByName conn newName vlanNic CloudRuntimeException newName PIF nPif network getPif conn PIF Record nPifr network getPifRecord conn vlanNetwork vlanNic getNetwork vlanNic getPif conn vlanNetwork s_logger s_logger debug tag _host getIp nPifr device VLAN vlan VLAN create conn nPif tag vlanNetwork
String routerIP String script String args Pair Boolean String result String cmdline script routerIP args cmdline cmdline replaceAll
caps length caps delete caps length caps length cmd setCaps caps toString cmd setSpeed _host getSpeed cmd setCpuSockets _host getCpuSockets cmd setCpus _host getCpus HostMetrics hm host getMetrics conn ram dom0Ram ram hm getMemoryTotal conn Set VM vms host getResidentVMs conn VM vm vms vm conn dom0Ram vm getMemoryStaticMax conn
Network conn String nwName Network nw Network Record rec Network Record Set Network networks Network getByNameLabel conn nwName networks rec nameDescription nwName rec nameLabel nwName Map String String otherConfig HashMap String String otherConfig put otherConfig put rec otherConfig otherConfig nw Network create conn rec
Network nw Network Record rec Network Record Set Network networks Network getByNameLabel conn nwName networks rec nameDescription nwName rec nameLabel nwName Map String String otherConfig HashMap String String otherConfig put otherConfig put rec otherConfig otherConfig nw Network create conn rec s_logger debug nwName nw networks iterator next
publicNic s_logger warn _publicNetworkName _host getIp IllegalArgumentException _publicNetworkName _host getIp publicNic guestNic _publicNetworkName _guestNetworkName _host setPublicPif publicNic getPifRecord conn uuid _host setPublicNetwork publicNic getNetworkRecord conn uuid _storageNetworkName1 _storageNetworkName1 _guestNetworkName XsLocalNetwork storageNic1 storageNic1 getNetworkByName conn _storageNetworkName1 storageNic1 s_logger warn _storageNetworkName1 _host getIp IllegalArgumentException _storageNetworkName1 _host getIp
publicNic s_logger warn _publicNetworkName _host getIp IllegalArgumentException _publicNetworkName _host getIp publicNic guestNic _publicNetworkName _guestNetworkName _host setPublicPif publicNic getPifRecord conn uuid _host setPublicNetwork publicNic getNetworkRecord conn uuid _storageNetworkName1 _storageNetworkName1 _guestNetworkName XsLocalNetwork storageNic1 storageNic1 getNetworkByName conn _storageNetworkName1 storageNic1 s_logger warn _storageNetworkName1 _host getIp IllegalArgumentException _storageNetworkName1 _host getIp
s_logger warn _publicNetworkName _host getIp IllegalArgumentException _publicNetworkName _host getIp publicNic guestNic _publicNetworkName _guestNetworkName _host setPublicPif publicNic getPifRecord conn uuid _host setPublicNetwork publicNic getNetworkRecord conn uuid _storageNetworkName1 _storageNetworkName1 _guestNetworkName XsLocalNetwork storageNic1 storageNic1 getNetworkByName conn _storageNetworkName1 storageNic1 s_logger warn _storageNetworkName1 _host getIp IllegalArgumentException _storageNetworkName1 _host getIp
IllegalArgumentException _publicNetworkName _host getIp publicNic guestNic _publicNetworkName _guestNetworkName _host setPublicPif publicNic getPifRecord conn uuid _host setPublicNetwork publicNic getNetworkRecord conn uuid _storageNetworkName1 _storageNetworkName1 _guestNetworkName XsLocalNetwork storageNic1 storageNic1 getNetworkByName conn _storageNetworkName1 storageNic1 s_logger warn _storageNetworkName1 _host getIp IllegalArgumentException _storageNetworkName1 _host getIp _host setStorageNetwork1 storageNic1 getNetworkRecord conn uuid
s_logger warn e Thread sleep vmStates record record record record VmPowerState ps record powerState Host host record residentOn String host_uuid host host_uuid host getUuid conn
Thread sleep vmStates record record record record VmPowerState ps record powerState Host host record residentOn String host_uuid host host_uuid host getUuid conn
vmStates record record record record VmPowerState ps record powerState Host host record residentOn String host_uuid host host_uuid host getUuid conn e s_logger error host toWireString e e
vmName vm getNameLabel conn List Integer usedDeviceNums ArrayList Integer Set VIF vifs vm getVIFs conn Iterator VIF vifIter vifs iterator vifIter VIF vif vifIter next String deviceId vif getDevice conn vm conn vif conn usedDeviceNums add Integer valueOf deviceId s_logger debug deviceId vmName vif destroy conn String msg vmName
vifIter VIF vif vifIter next String deviceId vif getDevice conn conn vif conn usedDeviceNums add Integer valueOf deviceId s_logger debug deviceId vmName vif destroy conn e String msg vmName s_logger debug msg e CloudRuntimeException msg Integer usedDeviceNums
String conn String primaryStorageSRUuid String snapshotUuid isISCSI String parentUuid callHostPlugin conn primaryStorageSRUuid snapshotUuid isISCSI toString parentUuid parentUuid parentUuid
dataDisk String dataDiskName dataDisk getNameLabel conn dataDiskName dataDiskName volumeTo setName dataDiskName Set VDI allvolumeVDIs VDI getByNameLabel conn volumeTo getName size VDI vdi allvolumeVDIs vdi conn vdi getSmConfig conn get String parentUuid vdi getSmConfig conn get VDI parentVDI VDI getByUuid conn parentUuid size size vdi getPhysicalUtilisation conn parentVDI size size parentVDI getPhysicalUtilisation conn longValue
size size parentVDI getPhysicalUtilisation conn longValue e s_logger debug e toString VM vm getVM conn vmName vm Set VM vmSnapshots vm getSnapshots conn vmSnapshots VM vmsnap vmSnapshots String vmSnapName vmsnap getNameLabel conn s_logger debug vmSnapName vmSnapName vmSnapName vmsnap conn s_logger debug vmSnapName
VM vm getVM conn vmName vm Set VM vmSnapshots vm getSnapshots conn vmSnapshots VM vmsnap vmSnapshots String vmSnapName vmsnap getNameLabel conn s_logger debug vmSnapName vmSnapName vmSnapName vmsnap conn s_logger debug vmSnapName VDI memoryVDI vmsnap getSuspendVDI conn memoryVDI size size memoryVDI getPhysicalUtilisation conn
vmStatsAnswer setNetworkReadKBs vmStatsAnswer getNetworkReadKBs getDataAverage dataNode col numRows BASE_TO_CONVERT_BYTES_INTO_KILOBYTES vmStatsAnswer setNetworkWriteKBs vmStatsAnswer getNetworkWriteKBs getDataAverage dataNode col numRows BASE_TO_CONVERT_BYTES_INTO_KILOBYTES vmStatsAnswer setDiskReadKBs vmStatsAnswer getDiskReadKBs getDataAverage dataNode col numRows BASE_TO_CONVERT_BYTES_INTO_KILOBYTES vmStatsAnswer setDiskWriteKBs vmStatsAnswer getDiskWriteKBs getDataAverage dataNode col numRows BASE_TO_CONVERT_BYTES_INTO_KILOBYTES vmStatsAnswer setIntFreeMemoryKBs vmStatsAnswer getIntFreeMemoryKBs getDataAverage dataNode col numRows BASE_TO_CONVERT_BYTES_INTO_KILOBYTES vmStatsAnswer setTargetMemoryKBs vmStatsAnswer getTargetMemoryKBs getDataAverage dataNode col numRows BASE_TO_CONVERT_BYTES_INTO_KILOBYTES vmStatsAnswer setMemoryKBs vmStatsAnswer getMemoryKBs getDataAverage dataNode col numRows BASE_TO_CONVERT_BYTES_INTO_KILOBYTES
localSrs SR SR Record entry SR Record srRec entry getValue srRec srRec Set PBD pbds srRec PBDs pbds PBD pbd pbds Host host pbd getHost conn host host conn pbd conn
SR SR Record entry SR Record srRec entry getValue srRec srRec Set PBD pbds srRec PBDs pbds PBD pbd pbds Host host pbd getHost conn host host getUuid conn getUuid pbd conn s_logger debug String format pbd getUuid conn srRec uuid pbd plug conn
srRec Set PBD pbds srRec PBDs pbds PBD pbd pbds Host host pbd getHost conn host host getUuid conn getUuid pbd conn s_logger debug String format pbd getUuid conn srRec uuid pbd plug conn s_logger debug srRec uuid SR sr entry getKey sr scan conn localSrs add sr
checkForSuccess conn task e conn task CloudRuntimeException e String msg vmName _host getUuid s_logger warn msg e CloudRuntimeException msg task task destroy conn
String timeStampStr String tokens timeStampStr split tokens
Connection conn getConnection Host host Host getByUuid conn _host getUuid host conn
cmd Connection conn getConnection String routerName cmd getAccessDetail NetworkElementCommand ROUTER_NAME VM router getVM conn routerName NicTO nic cmd getNic nic VIF vif getVifByMac conn router nic getMac vif String msg nic getMac routerName
ExecutionResult cmd Connection conn getConnection String routerName cmd getAccessDetail NetworkElementCommand ROUTER_NAME VM router getVM conn routerName NicTO nic cmd getNic nic VIF vif getVifByMac conn router nic getMac vif String msg nic getMac routerName s_logger error msg ExecutionResult msg nic setDeviceId Integer parseInt vif getDevice conn String msg routerName
VM router getVM conn routerName NicTO nic cmd getNic nic VIF vif getVifByMac conn router nic getMac vif String msg nic getMac routerName s_logger error msg ExecutionResult msg nic setDeviceId Integer parseInt vif getDevice conn String msg routerName s_logger error msg ExecutionResult msg e String msg e toString
task CloudRuntimeException e s_logger debug vmName _host getUuid e toString vm hardReboot conn e1 String msg vmName _host getUuid e toString s_logger warn msg e1 CloudRuntimeException msg task task destroy conn
s_logger s_logger debug logX sr Set VDI vdis sr getVDIs conn VDI vdi vdis vdi forget conn Set PBD pbds sr getPBDs conn PBD pbd pbds s_logger s_logger debug logX pbd pbd unplug conn pbd destroy conn pbds sr getPBDs conn pbds
Set VDI vdis sr getVDIs conn VDI vdi vdis vdi forget conn Set PBD pbds sr getPBDs conn PBD pbd pbds s_logger s_logger debug logX pbd pbd unplug conn pbd destroy conn pbds sr getPBDs conn pbds s_logger s_logger debug logX sr sr forget conn
Set PBD pbds sr getPBDs conn PBD pbd pbds s_logger s_logger debug logX pbd pbd unplug conn pbd destroy conn pbds sr getPBDs conn pbds s_logger s_logger debug logX sr sr forget conn s_logger s_logger debug logX sr s_logger
s_logger s_logger debug logX pbd pbd unplug conn pbd destroy conn pbds sr getPBDs conn pbds s_logger s_logger debug logX sr sr forget conn s_logger s_logger debug logX sr s_logger pbd pbds s_logger trace logX pbd
_host getVswitchNetwork Network vswitchNw Network Record rec Network Record String nwName Networks BroadcastScheme VSwitch toString Set Network networks Network getByNameLabel conn nwName networks rec nameDescription nwName rec nameLabel nwName vswitchNw Network create conn rec vswitchNw networks iterator next _host setVswitchNetwork vswitchNw _host getVswitchNetwork
Network vswitchNw Network Record rec Network Record String nwName Networks BroadcastScheme VSwitch toString Set Network networks Network getByNameLabel conn nwName networks rec nameDescription nwName rec nameLabel nwName vswitchNw Network create conn rec vswitchNw networks iterator next _host setVswitchNetwork vswitchNw _host getVswitchNetwork e s_logger error e e
String nwName Networks BroadcastScheme VSwitch toString Set Network networks Network getByNameLabel conn nwName networks rec nameDescription nwName rec nameLabel nwName vswitchNw Network create conn rec vswitchNw networks iterator next _host setVswitchNetwork vswitchNw _host getVswitchNetwork e s_logger error e e s_logger error e e
Task task task vm hardShutdownAsync conn task vm cleanShutdownAsync conn waitForTask conn task checkForSuccess conn task vm conn task CloudRuntimeException
waitForTask conn task checkForSuccess conn task e vm getPowerState conn VmPowerState task CloudRuntimeException e s_logger debug vmName forcedStop _host getUuid e toString VmPowerState state vm getPowerState conn state VmPowerState vm hardShutdown conn
e1 s_logger debug vmName _host getUuid e toString state vm getPowerState conn state forceShutdownVM conn vm state String msg state toString s_logger warn msg CloudRuntimeException msg e1 String msg vmName _host getUuid e toString s_logger warn msg e1
conn host vm vmName Task task task vm startOnAsync conn host waitForTask conn task checkForSuccess conn task e vm conn s_logger debug vmName e task CloudRuntimeException vmName e vm conn
CloudRuntimeException vmName e conn s_logger debug vmName e task CloudRuntimeException vmName e String msg vmName _host getUuid e toString s_logger warn msg e CloudRuntimeException msg task task destroy conn
conn Host host spr dest dest reconfigureIp conn spr ipConfigurationMode spr IP spr netmask spr gateway spr DNS Host managementReconfigure conn dest String hostUuid count count Thread sleep hostUuid host getUuid conn hostUuid count e s_logger debug e getMessage e
String dataType item String fileName item String content item dataType dataType String folder isoPath configDriveName dataType folder folder File dir File folder result dir dir mkdirs ex s_logger debug ex getMessage result content content
String content item dataType dataType String folder isoPath configDriveName dataType folder folder File dir File folder result dir dir mkdirs ex s_logger debug ex getMessage result content content File file File folder fileName file
ex s_logger debug ex getMessage content content File file File folder fileName file bw bw write content s_logger debug file folder ex s_logger debug ex getMessage s_logger debug isoPath String s String cmd configDriveLabel isoPath vmName isoPath
s_logger debug ex getMessage content content File file File folder fileName file bw bw write content s_logger debug file folder ex s_logger debug ex getMessage s_logger debug isoPath String s String cmd configDriveLabel isoPath vmName isoPath Process p Runtime getRuntime exec cmd
content content File file File folder fileName file bw bw write content s_logger debug file folder ex s_logger debug ex getMessage s_logger debug isoPath String s String cmd configDriveLabel isoPath vmName isoPath Process p Runtime getRuntime exec cmd BufferedReader stdInput BufferedReader InputStreamReader p getInputStream Charset defaultCharset BufferedReader stdError BufferedReader InputStreamReader p getErrorStream Charset defaultCharset
com trilead ssh2 Connection sshConnection com trilead ssh2 Connection _host getIp sshConnection connect sshConnection CloudRuntimeException s_logger debug vmIso _host getIp _configDriveIsopath SCPClient scp SCPClient sshConnection String p scp put vmIso _configDriveIsopath p sr scan conn s_logger debug _host e s_logger debug vmIso _host e e
SCPClient scp SCPClient sshConnection String p scp put vmIso _configDriveIsopath p sr scan conn s_logger debug _host e s_logger debug vmIso _host e e s_logger debug _configDriveSRName _host getIp _host e sshConnection close String configDir vmName
scp put vmIso _configDriveIsopath p sr scan conn s_logger debug _host e s_logger debug vmIso _host e e s_logger debug _configDriveSRName _host getIp _host e sshConnection close String configDir vmName deleteLocalFolder configDir s_logger debug configDir
VBD isoVBD Set VBD vbds vm getVBDs conn VBD vbd vbds Types VbdType type vbd getType conn VBD Record vbdr vbd getRecord conn vbdr userdevice type Types VbdType isoVBD vbd isoVBD VBD Record cfgDriveVbdr VBD Record cfgDriveVbdr VM vm cfgDriveVbdr empty cfgDriveVbdr bootable cfgDriveVbdr userdevice cfgDriveVbdr mode Types VbdMode RO
String cmd _configDriveIsopath sshConnection cmd CloudRuntimeException e CloudRuntimeException e sshConnection close s_logger debug srName _configDriveIsopath deviceConfig put _configDriveIsopath deviceConfig put Host host Host getByUuid conn _host getUuid String type SRType ISO toString sr SR create conn host deviceConfig Long _configDriveIsopath type HashMap String String sr setNameLabel conn srName sr setNameDescription conn deviceConfig get
String String msg
conn vmName ipAddr s_logger debug vmName ipAddr Set VM vms VM getByNameLabel conn vmName SR sr getSRByNameLabel conn vmName VM_NAME_ISO_SUFFIX Set VDI vdis VDI getByNameLabel conn vmName VM_FILE_ISO_SUFFIX vdis
s_logger debug vmName ipAddr Set VM vms VM getByNameLabel conn vmName SR sr getSRByNameLabel conn vmName VM_NAME_ISO_SUFFIX Set VDI vdis VDI getByNameLabel conn vmName VM_FILE_ISO_SUFFIX vdis s_logger debug vmName VDI configdriveVdi VDI vdi vdis SR vdiSr vdi getSR conn vdiSr conn sr conn configdriveVdi vdi s_logger debug vdi
s_logger debug vdi s_logger debug vdi vdi destroy conn s_logger debug VM vm VBD Record cfgDriveVbdr VBD Record cfgDriveVbdr VM vm cfgDriveVbdr empty cfgDriveVbdr bootable cfgDriveVbdr userdevice cfgDriveVbdr mode Types VbdMode RO cfgDriveVbdr type Types VbdType CD
String mountPoint mountNfs conn secondaryStorageMountPath localDir mountPoint CopyToSecondaryStorageAnswer cmd secondaryStorageMountPath localDir String dataDirectoryInSecondaryStore localDir File separator DiagnosticsService DIAGNOSTICS_DIRECTORY CopyToSecondaryStorageAnswer answer String scpResult callHostPlugin conn dataDirectoryInSecondaryStore vmIP cmd getFileName toLowerCase scpResult answer CopyToSecondaryStorageAnswer cmd answer CopyToSecondaryStorageAnswer cmd diagnosticsZipFile replace scpResult umountNfs conn secondaryStorageMountPath localDir localDir answer e String msg secondaryStorageUrl e
VBD vbd VBD Record vbdr vbd getRecord connection vbdr VDI vdi vbdr VDI deviceIdToVdiMap put vbdr userdevice vdi volumeTo volumeTo VolumeObjectTO vol VolumeObjectTO volumeTo getData Long deviceId volumeTo getDiskSeq VDI vdi deviceIdToVdiMap get deviceId toString VolumeObjectTO newVol VolumeObjectTO newVol setPath vdi getUuid connection newVol setId vol getId volumeToList add newVol
poolUuid poolUuid
Connection String ip String username String password Connection conn Connection getURL ip _connWait loginWithPassword conn username password APIVersion latest toString e String maddress e masterIPAddress conn Connection getURL maddress _connWait loginWithPassword conn username password APIVersion latest toString e1 String msg maddress e1 toString s_logger debug msg CloudRuntimeException msg e1 e String msg ip e toString
String hostUuid String poolUuid String ipAddress String String XenServerConnection mConn hostUuid poolUuid ipAddress String msg hostUuid poolUuid ipAddress
mConn getConnect poolUuid mConn Host host Host getByUuid mConn hostUuid host mConn String msg ipAddress s_logger debug msg mConn ipAddress removeConnect poolUuid mConn CloudRuntimeException msg mConn CloudRuntimeException e e e
mConn e e e s_logger s_logger debug mConn getIp poolUuid e toString removeConnect poolUuid mConn mConn Connection conn Connection getURL ipAddress _connWait Session sess loginWithPassword conn username password APIVersion latest toString Host host sess getThisHost conn Boolean hostenabled host getEnabled conn sess
Session sess loginWithPassword conn username password APIVersion latest toString Host host sess getThisHost conn Boolean hostenabled host getEnabled conn sess Session logout conn e s_logger debug e conn dispose hostenabled String msg ipAddress s_logger debug msg CloudRuntimeException msg mConn XenServerConnection getURL ipAddress ipAddress username password _retries _interval wait _connWait loginWithPassword mConn username password APIVersion latest toString
Session logout conn e s_logger debug e conn dispose String msg ipAddress s_logger debug msg CloudRuntimeException msg mConn XenServerConnection getURL ipAddress ipAddress username password _retries _interval wait _connWait loginWithPassword mConn username password APIVersion latest toString e String maddress e masterIPAddress mConn XenServerConnection getURL maddress maddress username password _retries _interval wait _connWait
conn dispose String msg ipAddress s_logger debug msg CloudRuntimeException msg mConn XenServerConnection getURL ipAddress ipAddress username password _retries _interval wait _connWait loginWithPassword mConn username password APIVersion latest toString e String maddress e masterIPAddress mConn XenServerConnection getURL maddress maddress username password _retries _interval wait _connWait Session session loginWithPassword mConn username password APIVersion latest toString Host host session getThisHost mConn host mConn String msg maddress
snapshot setNameLabel conn snapshotName snapshotUUID snapshot getUuid conn String preSnapshotUUID snapshotTO getParentSnapshotPath preSnapshotUUID SR sr volume getSR conn String srUUID sr getUuid conn String type sr getType conn Boolean isISCSI IsISCSI type String snapshotParentUUID getVhdParent conn srUUID snapshotUUID isISCSI String preSnapshotParentUUID getVhdParent conn srUUID preSnapshotUUID isISCSI snapshotParentUUID snapshotParentUUID preSnapshotParentUUID snapshot destroy conn snapshotUUID preSnapshotUUID
Connection conn hypervisorResource getConnection String errorMsg VDI vdi VDI getByUuid conn volume getPath VDI svdi vdi conn deleteVDI conn svdi deleteVDI conn vdi Answer e s_logger debug e errorMsg e toString e s_logger debug e errorMsg e toString e
String conn String primaryStorageSRUuid String snapshotUuid isISCSI String parentUuid hypervisorResource callHostPlugin conn primaryStorageSRUuid snapshotUuid isISCSI toString parentUuid parentUuid parentUuid
SR poolSr hypervisorResource getStorageRepository conn data getDataStore getUuid VDI Record vdir VDI Record vdir nameLabel volume getName vdir SR poolSr vdir type Types VdiType USER vdir virtualSize volume getSize VDI vdi vdi VDI create conn vdir vdir vdi getRecord conn VolumeObjectTO newVol VolumeObjectTO newVol setName vdir nameLabel newVol setSize vdir virtualSize newVol setPath vdir uuid CreateObjectAnswer newVol
cmd Connection conn hypervisorResource getConnection DataTO srcData cmd getSrcTO DataTO destData cmd getDestTO VolumeObjectTO volume VolumeObjectTO destData VDI vdi VDI tmpltvdi tmpltvdi getVDIbyUuid conn srcData getPath vdi tmpltvdi createClone conn HashMap String String Long virtualSize vdi getVirtualSize conn volume virtualSize
cmd Connection conn hypervisorResource getConnection DataTO srcData cmd getSrcTO DataTO destData cmd getDestTO VolumeObjectTO volume VolumeObjectTO destData VDI vdi VDI tmpltvdi tmpltvdi getVDIbyUuid conn srcData getPath vdi tmpltvdi createClone conn HashMap String String Long virtualSize vdi getVirtualSize conn volume getSize virtualSize s_logger debug toHumanReadableSize volume getSize volume getName vdi resize conn volume getSize
VolumeObjectTO volume VolumeObjectTO destData VDI vdi VDI tmpltvdi tmpltvdi getVDIbyUuid conn srcData getPath vdi tmpltvdi createClone conn HashMap String String Long virtualSize vdi getVirtualSize conn volume getSize virtualSize s_logger debug toHumanReadableSize volume getSize volume getName vdi resize conn volume getSize s_logger debug toHumanReadableSize virtualSize volume getName toHumanReadableSize volume getSize vdi setNameLabel conn volume getName VDI Record vdir vdir vdi getRecord conn
SR secondaryStorage NfsTO nfsStore NfsTO destStore URI uri URI nfsStore getUrl hypervisorResource conn uri uri getPath destVolume getPath InternalErrorException secondaryStorage hypervisorResource createNfsSRbyURI conn URI nfsStore getUrl nfsStore getPathSeparator destVolume getPath VDI srcVdi getVDIbyUuid conn srcVolume getPath VDI destVdi hypervisorResource cloudVDIcopy conn srcVdi secondaryStorage wait String destVolumeUUID destVdi getUuid conn VolumeObjectTO newVol VolumeObjectTO newVol setPath destVolume getPath nfsStore getPathSeparator destVolumeUUID newVol setSize srcVolume getSize CopyCmdAnswer newVol
VDI avoidSnapshot getVDIbyUuid conn avoidSnapshotUuid avoidSnapshot InternalErrorException avoidSnapshotUuid Set VDI snapshots volume getSnapshots conn VDI snapshot snapshots snapshot conn avoidSnapshotUuid snapshot conn avoidSnapshot conn snapshot conn snapshot destroy conn e String msg snapshot e toString s_logger warn msg e s_logger debug volumeUuid avoidSnapshotUuid e String msg volumeUuid avoidSnapshotUuid e toString
snapshotSr hypervisorResource createNfsSRbyURI conn URI snapshotMountpoint VDI backedVdi hypervisorResource cloudVDIcopy conn snapshotVdi snapshotSr wait snapshotBackupUuid backedVdi getUuid conn String primarySRuuid snapshotSr getUuid conn physicalSize getSnapshotSize conn primarySRuuid snapshotBackupUuid isISCSI wait destStore SwiftTO String container snapshotTO getVolume getVolumeId toString String destSnapshotName swiftBackupSnapshot conn SwiftTO destStore snapshotSr getUuid conn snapshotBackupUuid container wait String swiftPath container File separator destSnapshotName finalPath swiftPath deleteSnapshotBackup conn localMountPoint folder secondaryStorageMountPath snapshotBackupUuid
installPath installPath tmpltFilename hypervisorResource removeSR conn tmpltSR tmpltSR TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath installPath newTemplate setFormat ImageFormat VHD newTemplate setSize virtualSize newTemplate setPhysicalSize physicalSize newTemplate setName tmpltUUID CopyCmdAnswer answer CopyCmdAnswer newTemplate answer tmpltSR hypervisorResource removeSR conn tmpltSR
snapshotInstallPath snapshotInstallPath URI snapshotURI URI secondaryStorageUrl nfsImageStore getPathSeparator snapshotInstallPath String snapshotPath snapshotURI getHost snapshotURI getPath String srUuid primaryStorageSR getUuid conn volumeUUID copy_vhd_from_secondarystorage conn snapshotPath srUuid wait result VDI volume VDI getByUuid conn volumeUUID VDI Record vdir volume getRecord conn VolumeObjectTO newVol VolumeObjectTO newVol setPath volumeUUID newVol setSize vdir virtualSize CopyCmdAnswer newVol e details e toString
Answer cmd SnapshotObjectTO snapshot SnapshotObjectTO cmd getData DataStoreTO store snapshot getDataStore store Connection conn hypervisorResource getConnection VDI snapshotVdi getVDIbyUuid conn snapshot getPath snapshotVdi Answer String errMsg deleteVDI conn snapshotVdi e s_logger debug e toString errMsg e toString e
Connection conn hypervisorResource getConnection VDI snapshotVdi getVDIbyUuid conn snapshot getPath snapshotVdi Answer String errMsg deleteVDI conn snapshotVdi e s_logger debug e toString errMsg e toString e s_logger debug e toString errMsg e toString e
String String hostUuid hypervisorResource getHost getUuid
sr SR introduce conn srUuid srPath srPath smConfig PBD Record record PBD Record record host host record SR sr smConfig put srPath record deviceConfig smConfig pbd PBD create conn record pbd plug conn sr scan conn sr e e Types InternalError String expectedDuplicatedFileSrErrorMessage Types InternalError internalErrorException Types InternalError e internalErrorException expectedDuplicatedFileSrErrorMessage
record SR sr smConfig put srPath record deviceConfig smConfig pbd PBD create conn record pbd plug conn sr scan conn sr e e Types InternalError String expectedDuplicatedFileSrErrorMessage Types InternalError internalErrorException Types InternalError e internalErrorException expectedDuplicatedFileSrErrorMessage s_logger debug String format srPath retrieveAlreadyConfiguredSrWithoutException conn srPath removeSrAndPbdIfPossible conn sr pbd
SR conn path Set SR srs SR getByNameLabel conn path srs
Set SR srs SR getByNameLabel conn path srs s_logger debug path srs CloudRuntimeException path SR sr srs iterator next String srUuid sr getUuid conn s_logger debug String format srUuid Map String StorageOperations currentOperations sr getCurrentOperations conn currentOperations s_logger debug String format srUuid sr scan conn
conn sr String srUuid StringUtils EMPTY srUuid sr getUuid conn Set PBD pbDs sr getPBDs conn PBD pbDs
VDI snapshotVdi tmplVdi snapshot conn HashMap String String uuidToReturn snapshotVdi getUuid conn snapshotVdi setNameLabel conn srcTemplate getName tmplVdi destroy conn destSr scan conn Thread sleep TemplateObjectTO newVol TemplateObjectTO newVol setUuid uuidToReturn newVol setPath uuidToReturn physicalSize newVol setSize physicalSize newVol setFormat Storage ImageFormat VHD CopyCmdAnswer newVol
ssSR scan conn task task destroy conn e s_logger warn task toWireString e toString String result dvdi getUuid conn concat concat dvdi getPhysicalUtilisation conn toString result e String msg e toString s_logger debug msg CloudRuntimeException msg e
String conn String primaryStorageSRUuid String snapshotUuid isISCSI String parentUuid hypervisorResource callHostPlugin conn primaryStorageSRUuid snapshotUuid isISCSI toString parentUuid parentUuid parentUuid
snapshotSr scan conn physicalSize backedVdi getPhysicalUtilisation conn destStore SwiftTO String container snapshotTO getVolume getVolumeId toString String destSnapshotName swiftBackupSnapshot conn SwiftTO destStore snapshotSr getUuid conn snapshotBackupUuid container wait String swiftPath container File separator destSnapshotName finalPath swiftPath deleteSnapshotBackup conn localMountPoint folder secondaryStorageMountPath snapshotBackupUuid e s_logger debug e destStore
installPath installPath tmpltFilename hypervisorResource removeSR conn tmpltSR tmpltSR TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath installPath newTemplate setFormat Storage ImageFormat VHD newTemplate setSize virtualSize newTemplate setPhysicalSize physicalSize newTemplate setName tmpltUUID CopyCmdAnswer answer CopyCmdAnswer newTemplate answer tmpltSR hypervisorResource removeSR conn tmpltSR
hypervisorResource checkForSuccess conn task task destroy conn result destVdi VDI getByUuid conn volumeUUID VDI Record vdir destVdi getRecord conn VolumeObjectTO newVol VolumeObjectTO newVol setPath volumeUUID newVol setSize vdir virtualSize CopyCmdAnswer newVol e details e toString s_logger warn details e e details e getMessage s_logger warn details e
result destVdi VDI getByUuid conn volumeUUID VDI Record vdir destVdi getRecord conn VolumeObjectTO newVol VolumeObjectTO newVol setPath volumeUUID newVol setSize vdir virtualSize CopyCmdAnswer newVol e details e toString s_logger warn details e e details e getMessage s_logger warn details e
URI uri URI nfsStore getUrl hypervisorResource conn uri getHost uri getPath destVolume getPath InternalErrorException secondaryStorage createFileSr conn uri getHost uri getPath destVolume getPath VDI srcVdi getVDIbyUuid conn srcVolume getPath task srcVdi copyAsync conn secondaryStorage hypervisorResource waitForTask conn task wait hypervisorResource checkForSuccess conn task VDI destVdi Types toVDI task conn String destVolumeUUID destVdi getUuid conn VolumeObjectTO newVol VolumeObjectTO newVol setPath destVolume getPath File separator destVolumeUUID newVol setSize srcVolume getSize CopyCmdAnswer newVol
DataTO srcData cmd getSrcTO DataTO destData cmd getDestTO srcData getDataStore destData getDataStore NfsTO createTemplateFromSnapshot2 cmd wait cmd getWait SnapshotObjectTO srcObj SnapshotObjectTO srcData TemplateObjectTO destObj TemplateObjectTO destData NfsTO srcStore NfsTO srcObj getDataStore NfsTO destStore NfsTO destObj getDataStore URI srcUri URI destUri srcUri URI srcStore getUrl destUri URI destStore getUrl
templatePath templatePath replaceAll result hypervisorResource postCreatePrivateTemplate conn templatePath templateFilename templateUuid nameLabel physicalSize virtualSize destObj getId result CloudRuntimeException TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath destDir templateFilename newTemplate setFormat Storage ImageFormat VHD newTemplate setSize destVdi getVirtualSize conn newTemplate setPhysicalSize destVdi getPhysicalUtilisation conn newTemplate setName destVdiUuid result CopyCmdAnswer newTemplate e s_logger error e CopyCmdAnswer e toString
String templatePath destNfsPath destDir templatePath templatePath replaceAll result hypervisorResource postCreatePrivateTemplate conn templatePath templateFilename templateUuid nameLabel physicalSize virtualSize templateObjTO getId result CloudRuntimeException TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath destDir templateFilename newTemplate setFormat Storage ImageFormat VHD newTemplate setHypervisorType HypervisorType XenServer newTemplate setSize virtualSize newTemplate setPhysicalSize physicalSize newTemplate setName templateUuid result CopyCmdAnswer newTemplate
result CloudRuntimeException TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath destDir templateFilename newTemplate setFormat Storage ImageFormat VHD newTemplate setHypervisorType HypervisorType XenServer newTemplate setSize virtualSize newTemplate setPhysicalSize physicalSize newTemplate setName templateUuid result CopyCmdAnswer newTemplate e s_logger error e CopyCmdAnswer e toString e
newTemplate setPhysicalSize physicalSize newTemplate setName templateUuid result CopyCmdAnswer newTemplate e s_logger error e CopyCmdAnswer e toString e s_logger error e CopyCmdAnswer e toString e s_logger error e CopyCmdAnswer e toString result
PIF conn Network Record nr getNetworkRecord conn PIF pif nr PIF Record pr pif getRecord conn pr conn
StorageFilerTO destPoolTO command getPool String destPoolUuid destPoolTO getUuid destPool xenServer610Resource getStorageRepository connection destPoolUuid Map String String other HashMap other put Task task srcVolume poolMigrateAsync connection destPool other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task VDI destVdi Types toVDI task connection MigrateVolumeAnswer command destVdi getUuid connection destPool xenServer610Resource removeSR connection destPool
Map VIF Network vifMap HashMap VIF Network Map VDI SR vdiMap HashMap VDI SR VolumeTO StorageFilerTO entry StorageFilerTO storageFiler entry second VolumeTO volume entry first vdiMap put xenServer610Resource getVDIbyUuid connection volume getPath xenServer610Resource getStorageRepository connection storageFiler getUuid Set VM vms VM getByNameLabel connection vmSpec getName VM vmToMigrate vms iterator next Host host Host getByUuid connection uuid Map String String token host migrateReceive connection networkForSm other task vmToMigrate assertCanMigrateAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task
VM vmToMigrate vms iterator next Host host Host getByUuid connection uuid Map String String token host migrateReceive connection networkForSm other task vmToMigrate assertCanMigrateAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task e s_logger error vmName host e CloudRuntimeException vmName host e task vmToMigrate migrateSendAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout
task vmToMigrate migrateSendAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task e s_logger error vmName host e CloudRuntimeException vmName host e List VolumeObjectTO volumeToList xenServer610Resource getUpdatedVolumePathsOfMigratedVm connection vmToMigrate vmSpec getDisks vmToMigrate setAffinity connection host MigrateWithStorageAnswer command volumeToList e s_logger warn e getClass getName e toString e MigrateWithStorageAnswer command e
String name vmSpec getName XsHost xsHost xenServer610Resource getHost String uuid xsHost getUuid Set VM vms VM getByNameLabel connection name vms CloudRuntimeException name VM migratedVm vms iterator next migratedVm CloudRuntimeException name Host host Host getByUuid connection uuid migratedVm setAffinity connection host List VolumeObjectTO volumeToSet xenServer610Resource getUpdatedVolumePathsOfMigratedVm connection migratedVm vmSpec getDisks MigrateWithStorageCompleteAnswer command volumeToSet CloudRuntimeException
String uuid xsHost getUuid Set VM vms VM getByNameLabel connection name vms CloudRuntimeException name VM migratedVm vms iterator next migratedVm CloudRuntimeException name Host host Host getByUuid connection uuid migratedVm setAffinity connection host List VolumeObjectTO volumeToSet xenServer610Resource getUpdatedVolumePathsOfMigratedVm connection migratedVm vmSpec getDisks MigrateWithStorageCompleteAnswer command volumeToSet CloudRuntimeException e s_logger error name e toString e MigrateWithStorageCompleteAnswer command e e
volumeToSr add Pair VolumeTO Object entry first sr List Pair NicTO Object nicToNetwork ArrayList Pair NicTO Object NicTO nicTo Network network xenServer610Resource getNetwork connection nicTo nicToNetwork add Pair NicTO Object nicTo network XsLocalNetwork nativeNetworkForTraffic xenServer610Resource getNativeNetworkForTraffic connection TrafficType Storage Network network nativeNetworkForTraffic getNetwork XsHost xsHost xenServer610Resource getHost String uuid xsHost getUuid Map String String other HashMap String String other put Host host Host getByUuid connection uuid Map String String token host migrateReceive connection network other MigrateWithStorageReceiveAnswer command volumeToSr nicToNetwork token
NicTO nicTo vmSpec Network network xenServer610Resource getNetwork connection nicTo nicToNetwork add Pair NicTO Object nicTo network XsLocalNetwork nativeNetworkForTraffic xenServer610Resource getNativeNetworkForTraffic connection TrafficType Storage Network network nativeNetworkForTraffic getNetwork XsHost xsHost xenServer610Resource getHost String uuid xsHost getUuid Map String String other HashMap String String other put Host host Host getByUuid connection uuid Map String String token host migrateReceive connection network other MigrateWithStorageReceiveAnswer command volumeToSr nicToNetwork token e s_logger error vmSpec getName e toString e MigrateWithStorageReceiveAnswer command e
Network network Network entry second VIF vif xenServer610Resource getVifByMac connection vmToMigrate entry first getMac vifMap put vif network CloudRuntimeException entry second task vmToMigrate assertCanMigrateAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task e s_logger error vmName e CloudRuntimeException vmName e task vmToMigrate migrateSendAsync connection token vdiMap vifMap other
CloudRuntimeException entry second task vmToMigrate assertCanMigrateAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task e s_logger error vmName e CloudRuntimeException vmName e task vmToMigrate migrateSendAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task e
task vmToMigrate assertCanMigrateAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task e s_logger error vmName e CloudRuntimeException vmName e task vmToMigrate migrateSendAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task e s_logger error vmName e
s_logger error vmName e CloudRuntimeException vmName e task vmToMigrate migrateSendAsync connection token vdiMap vifMap other timeout xenServer610Resource getMigrateWait xenServer610Resource waitForTask connection task timeout xenServer610Resource checkForSuccess connection task e s_logger error vmName e CloudRuntimeException vmName e Set VolumeTO volumeToSet MigrateWithStorageSendAnswer command volumeToSet CloudRuntimeException e s_logger error vmName e toString e MigrateWithStorageSendAnswer command e
command citrixResourceBase Connection conn citrixResourceBase getConnection String vmName command getVmName List String vmData command getVmData String label command getConfigDriveLabel Boolean isAttach command isAttach Set VM vms VM getByNameLabel conn vmName VM vms isAttach citrixResourceBase conn vmData label
command citrixResourceBase Connection conn citrixResourceBase getConnection String vmName command getVmName List String vmData command getVmData String label command getConfigDriveLabel Boolean isAttach command isAttach Set VM vms VM getByNameLabel conn vmName VM vms isAttach citrixResourceBase conn vmData label s_logger debug vmName Set VDI vdis VDI getByNameLabel conn vmName vdis vdis
Set VDI vdis VDI getByNameLabel conn vmName vdis vdis s_logger debug vmName VDI vdi vdis iterator next Set VBD vbds vdi getVBDs conn VBD vbd vbds VBD Record vbdRec vbd getRecord conn vbdRec vbdRec vbdRec vbdRec vbd eject conn vbd destroy conn vdi destroy conn s_logger debug vmName
Set VDI vdis VDI getByNameLabel conn vmName vdis vdis s_logger debug vmName VDI vdi vdis iterator next Set VBD vbds vdi getVBDs conn VBD vbd vbds VBD Record vbdRec vbd getRecord conn vbdRec vbdRec vbdRec vbdRec vbd eject conn vbd destroy conn vdi destroy conn s_logger debug vmName
errorout String msg info info getGuestNetworkName msg info getPhysicalNetworkId info getGuestNetworkName errorout info getPrivateNetworkName msg info getPhysicalNetworkId info getPrivateNetworkName errorout info getPublicNetworkName msg info getPhysicalNetworkId info getPublicNetworkName errorout
command citrixResourceBase Connection conn citrixResourceBase getConnection String vmName command getName String privateIp command getIp cmdPort command getPort
command citrixResourceBase Connection conn citrixResourceBase getConnection String vmName command getVmName PowerState powerState citrixResourceBase getVmState conn vmName Integer vncPort powerState PowerState
cmd citrixResourceBase Connection conn citrixResourceBase getConnection String msg String format cmd getFileName cmd getSystemVmIp cmd getSecondaryStorageUrl
SR poolSr citrixResourceBase getStorageRepository conn pool getUuid command getTemplateUrl VDI tmpltvdi tmpltvdi citrixResourceBase getVDIbyUuid conn command getTemplateUrl vdi tmpltvdi createClone conn HashMap String String vdi setNameLabel conn dskch getName VDI Record vdir VDI Record vdir nameLabel dskch getName vdir SR poolSr vdir type Types VdiType USER vdir virtualSize dskch getSize vdi VDI create conn vdir VDI Record vdir vdir vdi getRecord conn
citrixResourceBase waitForTask conn task timeout citrixResourceBase checkForSuccess conn task String result task getResult conn String ref result substring length result length length vmSnapshot Types toVM ref Thread sleep volumeTo command getVolumeTOs size citrixResourceBase getVMSnapshotChainSize conn volumeTo command getVmName vmSnapshotName volumeTo setSize size success CreateVMSnapshotAnswer command command getTarget command getVolumeTOs
Connection conn citrixResourceBase getConnection StorageFilerTO poolTO command getPool SR sr command Map String String details command getDetails String srNameLabel details get DeleteStoragePoolCommand DATASTORE_NAME sr citrixResourceBase getStorageRepository conn srNameLabel sr citrixResourceBase getStorageRepository conn poolTO getUuid citrixResourceBase removeSR conn sr Answer answer Answer command answer e String msg e getMessage citrixResourceBase getHost getUuid poolTO getHost poolTO getPath
String vmName command getVmName String networkCidr command getVmNetworkCidr result String errorMsg String vmIp VM vm citrixResourceBase getVM conn vmName VMGuestMetrics mtr vm getGuestMetrics conn VMGuestMetrics Record rec mtr getRecord conn Map String String vmIpsMap rec networks String ipAddr vmIpsMap ipAddr networkCidr vmIp ipAddr vmIp
String vmIp VM vm citrixResourceBase getVM conn vmName VMGuestMetrics mtr vm getGuestMetrics conn VMGuestMetrics Record rec mtr getRecord conn Map String String vmIpsMap rec networks String ipAddr vmIpsMap ipAddr vmIp ipAddr vmIp s_logger debug vmName vmIp result Answer command result vmIp
VMGuestMetrics mtr vm getGuestMetrics conn VMGuestMetrics Record rec mtr getRecord conn Map String String vmIpsMap rec networks String ipAddr vmIpsMap ipAddr vmIp ipAddr vmIp s_logger debug vmName vmIp result Answer command result vmIp e s_logger debug e getMessage errorMsg e getMessage e
String msg dstHostIpAddr citrixResourceBase getHost getPool s_logger warn msg MigrateAnswer command msg vm Set VBD vbds vm getVBDs conn VBD vbd vbds VBD Record vbdRec vbd getRecord conn vbdRec vbdRec vbd eject conn vbdRec citrixResourceBase vbdRec vbd destroy conn citrixResourceBase migrateVM conn dsthost vm vmName vm setAffinity conn dsthost
command citrixResourceBase conn citrixResourceBase String result citrixResourceBase callHostPlugin conn command getVmName result
citrixResourceBase setIsOvs Connection conn citrixResourceBase getConnection String bridge Network nw citrixResourceBase setupvSwitchNetwork conn bridge nw getBridge conn String result citrixResourceBase callHostPlugin conn bridge command getRemoteIp command getKey Long toString command getFrom Long toString command getTo String res result split res res res OvsCreateGreTunnelAnswer command result citrixResourceBase getHost getIp bridge OvsCreateGreTunnelAnswer command result citrixResourceBase getHost getIp bridge Integer parseInt res e s_logger error command getRemoteIp citrixResourceBase getHost getIp e e
String bridge Network nw citrixResourceBase setupvSwitchNetwork conn bridge nw getBridge conn String result citrixResourceBase callHostPlugin conn bridge command getRemoteIp command getKey Long toString command getFrom Long toString command getTo String res result split res res res OvsCreateGreTunnelAnswer command result citrixResourceBase getHost getIp bridge OvsCreateGreTunnelAnswer command result citrixResourceBase getHost getIp bridge Integer parseInt res e s_logger error command getRemoteIp citrixResourceBase getHost getIp e e s_logger error command getRemoteIp citrixResourceBase getHost getIp e e
citrixResourceBase setIsOvs Connection conn citrixResourceBase getConnection Network nw citrixResourceBase setupvSwitchNetwork conn String bridge nw getBridge conn String result citrixResourceBase callHostPlugin conn bridge command getVmName result Answer command command getVmName Answer command result e s_logger error e e s_logger error e e
String label command getLabel citrixResourceBase label citrixResourceBase getLabel s_logger debug label citrixResourceBase getHost getIp Connection conn citrixResourceBase getConnection XsLocalNetwork nw citrixResourceBase getNetworkByName conn label nw CloudRuntimeException label citrixResourceBase getHost getIp s_logger debug nw getNetwork getUuid conn PIF pif nw getPif conn PIF Record pifRec pif getRecord conn s_logger debug pifRec uuid pifRec device OvsFetchInterfaceAnswer command pifRec device pifRec IP pifRec netmask pifRec MAC
s_logger debug label citrixResourceBase getHost getIp Connection conn citrixResourceBase getConnection XsLocalNetwork nw citrixResourceBase getNetworkByName conn label nw CloudRuntimeException label citrixResourceBase getHost getIp s_logger debug nw getNetwork getUuid conn PIF pif nw getPif conn PIF Record pifRec pif getRecord conn s_logger debug pifRec uuid pifRec device OvsFetchInterfaceAnswer command pifRec device pifRec IP pifRec netmask pifRec MAC e s_logger error label citrixResourceBase getHost getIp e OvsFetchInterfaceAnswer command e getMessage e
XsLocalNetwork nw citrixResourceBase getNetworkByName conn label nw CloudRuntimeException label citrixResourceBase getHost getIp s_logger debug nw getNetwork getUuid conn PIF pif nw getPif conn PIF Record pifRec pif getRecord conn s_logger debug pifRec uuid pifRec device OvsFetchInterfaceAnswer command pifRec device pifRec IP pifRec netmask pifRec MAC e s_logger error label citrixResourceBase getHost getIp e OvsFetchInterfaceAnswer command e getMessage e s_logger error label citrixResourceBase getHost getIp e OvsFetchInterfaceAnswer command e getMessage
command citrixResourceBase citrixResourceBase setIsOvs Connection conn citrixResourceBase getConnection Network nw citrixResourceBase setupvSwitchNetwork conn String bridge nw getBridge conn String result citrixResourceBase callHostPlugin conn bridge command getVmName command getTag command getVlans command getSeqNo
command citrixResourceBase citrixResourceBase setIsOvs Connection conn citrixResourceBase getConnection Network nw citrixResourceBase setupvSwitchNetwork conn String bridge nw getBridge conn String result citrixResourceBase callHostPlugin conn bridge command getVmName command getTag command getVlans command getSeqNo s_logger debug command getVmName result result result OvsSetTagAndFlowAnswer command result OvsSetTagAndFlowAnswer command result e s_logger error e e
Connection conn citrixResourceBase getConnection Network nw citrixResourceBase setupvSwitchNetwork conn String bridge nw getBridge conn String result citrixResourceBase callHostPlugin conn bridge command getVmName command getTag command getVlans command getSeqNo s_logger debug command getVmName result result result OvsSetTagAndFlowAnswer command result OvsSetTagAndFlowAnswer command result e s_logger error e e s_logger error e e
Set VM vms VM getByNameLabel conn vmName vms vms PlugNicAnswer command vmName VM vm vms iterator next NicTO nic command getNic String mac nic getMac Set VIF routerVIFs vm getVIFs conn mac mac trim counter VIF vif routerVIFs String lmac vif getMAC conn lmac trim mac counter counter String msg nic getMac
counter VIF vif String lmac vif getMAC conn lmac counter counter String msg nic getMac s_logger error msg PlugNicAnswer command msg String deviceId citrixResourceBase getLowestAvailableVIFDeviceNum conn vm nic setDeviceId Integer parseInt deviceId VIF vif citrixResourceBase createVif conn vmName vm nic vif plug conn PlugNicAnswer command
command citrixResourceBase Connection conn citrixResourceBase getConnection String primaryPvlan command getPrimary String isolatedPvlan command getIsolated String op command getOp String dhcpName command getDhcpName String dhcpMac command getDhcpMac String dhcpIp command getDhcpIp String vmMac command getVmMac String networkTag command getNetworkTag String nwNameLabel XsLocalNetwork nw citrixResourceBase getNativeNetworkForTraffic conn TrafficType Guest networkTag nw
CloudRuntimeException primaryPvlan nwNameLabel nw getNetwork getNameLabel conn e s_logger warn e Answer command e toString e s_logger warn e Answer command e toString String result command result citrixResourceBase callHostPlugin conn op nwNameLabel primaryPvlan isolatedPvlan dhcpName dhcpIp dhcpMac result result result s_logger warn dhcpMac Answer command result
e s_logger warn e Answer command e toString String result command result citrixResourceBase callHostPlugin conn op nwNameLabel primaryPvlan isolatedPvlan dhcpName dhcpIp dhcpMac result result result s_logger warn dhcpMac Answer command result s_logger info dhcpMac command result citrixResourceBase callHostPlugin conn op nwNameLabel primaryPvlan isolatedPvlan vmMac result result result s_logger warn vmMac
citrixResourceBase Connection conn citrixResourceBase getConnection
e0 s_logger debug e0 toString RebootAnswer command e0 toString e0 s_logger debug e0 getMessage RebootAnswer command vm citrixResourceBase rebootVM conn vm vm getNameLabel conn e String msg e toString s_logger warn msg e RebootAnswer command msg RebootAnswer command
command citrixResourceBase Connection conn citrixResourceBase getConnection String volId command getPath newSize command getNewSize command newSize
vm citrixResourceBase getVM conn vmName Set VBD vbds vm getVBDs conn Map String VDI vdiMap HashMap String VDI VBD vbd vbds VBD Record vbdr vbd getRecord conn vbdr VDI vdi vbdr VDI vdiMap put vbdr userdevice vdi vm destroy conn vmState PowerState PowerOff vmState PowerState PowerOn volumeTo Long deviceId volumeTo getDeviceId
vms vms s_logger info vmName citrixResourceBase getHost getUuid ScaleVmAnswer command Iterator VM iter vms iterator iter VM vm iter next VM Record vmr vm getRecord conn vmr vmr citrixResourceBase vmr vmr getUuid conn citrixResourceBase getHost getUuid iter remove VM vm vms vm getRecord conn citrixResourceBase scaleVM conn vm vmSpec host e String msg e getClass getName vmName e toString
ScaleVmAnswer command Iterator VM iter vms iterator iter VM vm iter next VM Record vmr vm getRecord conn vmr vmr citrixResourceBase vmr vmr conn citrixResourceBase iter remove VM vm vms vm getRecord conn citrixResourceBase scaleVM conn vm vmSpec host e String msg e getClass getName vmName e toString s_logger debug msg ScaleVmAnswer command msg
command host addToOtherConfig conn host addToOtherConfig conn s_logger debug command String result citrixResourceBase callHostPlugin conn citrixResourceBase getHost getUuid result s_logger warn result SetupAnswer command result Pair PIF PIF Record mgmtPif Set PIF hostPifs host getPIFs conn PIF pif hostPifs PIF Record rec pif getRecord conn rec
VirtualMachineTO vmSpec command getVirtualMachine String vmName vmSpec getName VmPowerState state VmPowerState HALTED VM vm Map String Map String String iqnToData HashMap Set VM vms VM getByNameLabel conn vmName vms VM v vms VM Record vRec v getRecord conn vRec VmPowerState HALTED v destroy conn vRec VmPowerState String host vRec residentOn getUuid conn String msg vmName host
v destroy conn vRec String host vRec residentOn getUuid conn String msg vmName host s_logger debug msg StartAnswer command msg host String msg vmName vRec toString s_logger warn msg StartAnswer command msg s_logger debug vmName Host host Host getByUuid conn citrixResourceBase getHost getUuid vm citrixResourceBase createVmFromTemplate conn vmSpec host GPUDeviceTO gpuDevice vmSpec getGpuDevice gpuDevice
secGrpEnabled NicTO nics secGrpEnabled secGrpEnabled result citrixResourceBase callHostPlugin conn vmName result result result s_logger warn vmName s_logger info vmName NicTO nics vmSpec getNics NicTO nics
s_logger info vmName NicTO nics vmSpec getNics NicTO nic nics nic nic nic toString List String nicSecIps nic getNicSecIps String secIpsStr StringBuilder sb StringBuilder nicSecIps String ip nicSecIps sb append ip append secIpsStr sb toString secIpsStr result citrixResourceBase callHostPlugin conn vmName nic getIp nic getMac Long toString vmSpec getId secIpsStr
NicTO nics vmSpec getNics NicTO nic nics nic nic nic toString List String nicSecIps nic getNicSecIps String secIpsStr StringBuilder sb StringBuilder nicSecIps String ip nicSecIps sb append ip append secIpsStr sb toString secIpsStr result citrixResourceBase callHostPlugin conn vmName nic getIp nic getMac Long toString vmSpec getId secIpsStr result result result
iter remove StopAnswer command VM vm VM Record vmr vm getRecord conn platformstring StringUtils mapToString vmr platform vmr String msg s_logger warn msg StopAnswer command msg vmr citrixResourceBase vmr residentOn vmr residentOn getUuid conn citrixResourceBase getHost getUuid String msg vmName citrixResourceBase getHost getUuid vmr residentOn getUuid conn s_logger warn msg StopAnswer command msg platformstring
StopAnswer command VM vm VM Record vmr vm getRecord conn platformstring StringUtils mapToString vmr platform vmr String msg s_logger warn msg StopAnswer command msg vmr citrixResourceBase vmr residentOn vmr residentOn getUuid conn citrixResourceBase getHost getUuid String msg vmName citrixResourceBase getHost getUuid vmr residentOn getUuid conn s_logger warn msg StopAnswer command msg platformstring command vmr String msg vmName
String msg s_logger warn msg StopAnswer command msg vmr citrixResourceBase vmr residentOn vmr residentOn getUuid conn citrixResourceBase getHost getUuid String msg vmName citrixResourceBase getHost getUuid vmr residentOn getUuid conn s_logger warn msg StopAnswer command msg platformstring command vmr String msg vmName s_logger debug msg StopAnswer command msg s_logger debug vmName vmr vm setAffinity conn vm getResidentOn conn
vmr citrixResourceBase vmr residentOn vmr residentOn getUuid conn citrixResourceBase getHost getUuid String msg vmName citrixResourceBase getHost getUuid vmr residentOn getUuid conn s_logger warn msg StopAnswer command msg platformstring command vmr String msg vmName s_logger debug msg StopAnswer command msg s_logger debug vmName vmr vm setAffinity conn vm getResidentOn conn citrixResourceBase String result citrixResourceBase callHostPlugin conn command getVmName result result result
s_logger debug vmName vm setAffinity conn vm getResidentOn conn citrixResourceBase String result citrixResourceBase callHostPlugin conn command getVmName result result result s_logger warn command getVmName s_logger info command getVmName citrixResourceBase shutdownVM conn vm vmName command isForceStop e String msg e getClass getName command getVmName e toString s_logger debug msg StopAnswer command msg platformstring
vm conn Set VGPU vGPUs vGPUs vm getVGPUs conn s_logger debug vmName vGPUs vGPUs HashMap String HashMap String VgpuTypesInfo groupDetails citrixResourceBase getGPUGroupDetails conn command setGpuDevice GPUDeviceTO groupDetails Set VIF vifs vm getVIFs conn List Network networks ArrayList Network VIF vif vifs networks add vif getNetwork conn
command citrixResourceBase String hostIp command getHostIp String username command getUsername String newPassword command getNewPassword XenServerUtilitiesHelper xenServerUtilitiesHelper citrixResourceBase getXenServerUtilitiesHelper String cmdLine xenServerUtilitiesHelper buildCommandLine SCRIPT_CMD_PATH VRScripts UPDATE_HOST_PASSWD username newPassword Pair Boolean String result
Long templateId command getTemplateId Long tmpltAcountId command getTmpltAccountId String version command getVersion version Answer command Connection conn citrixResourceBase getConnection URI uri URI secondaryStorageUrl String secondaryStorageMountPath uri getHost uri getPath String snapshotPath secondaryStorageMountPath accountId volumeId backedUpSnapshotUuid String templatePath secondaryStorageMountPath tmpltAcountId templateId citrixResourceBase upgradeSnapshot conn templatePath snapshotPath Answer command e String details backedUpSnapshotUuid e toString
String String paramKey String i paramKey indexOf String actualParam paramKey substring i String keyName paramKey substring i actualParam
msg LOG warn msg
Set String classes HashSet String classes add task toWireString String token Double t Double timeout EventBatch map Event from c classes token t token map token SuppressWarnings Set Event Record events map events events String msg task toWireString s_logger warn msg task cancel c TimeoutException msg Event Record events Record
EventBatch map Event from c classes token t token map token SuppressWarnings Set Event Record events map events events String msg task toWireString s_logger warn msg task cancel c TimeoutException msg Event Record rec events rec snapshot Task Record s_logger s_logger debug rec Task Record taskRecord Task Record rec snapshot taskRecord
String msg task toWireString s_logger warn msg task cancel c TimeoutException msg Record rec rec snapshot Task Record s_logger s_logger debug rec Task Record taskRecord Task Record rec snapshot taskRecord status s_logger s_logger debug task toWireString taskRecord uuid taskRecord status
volumeDetailVo VolumeDetailVO volumeInfo getId PrimaryDataStoreDriver BASIC_GRANT_ACCESS Boolean TRUE toString volumeDetailsDao persist volumeDetailVo pdsd grantAccess volumeInfo destHost volumeInfo getDataStore Map String String details HashMap String iqn getBasicIqn volumeInfo getId details put CreateStoragePoolCommand DATASTORE_NAME iqn details put CreateStoragePoolCommand IQN iqn details put CreateStoragePoolCommand STORAGE_HOST storagePool getHostAddress details put CreateStoragePoolCommand STORAGE_PORT String valueOf storagePool getPort CreateStoragePoolCommand cmd CreateStoragePoolCommand storagePool cmd setDetails details cmd setCreateDatastore Answer answer agentMgr easySend destHost getId cmd answer answer String errMsg StringUtils isNotBlank answer getDetails answer getDetails
volumeInfo srcHost Map String String details HashMap details put DeleteStoragePoolCommand DATASTORE_NAME volumeInfo get_iScsiName DeleteStoragePoolCommand cmd DeleteStoragePoolCommand cmd setDetails details cmd setRemoveDatastore Answer answer agentMgr easySend srcHost getId cmd answer answer String errMsg StringUtils isNotBlank answer getDetails answer getDetails
Map VolumeInfo destHost Map VolumeInfo entry VolumeInfo volumeInfo entry getKey StoragePool storagePool storagePoolDao findById volumeInfo getPoolId storagePool Map String String details HashMap details put DeleteStoragePoolCommand DATASTORE_NAME getBasicIqn volumeInfo getId DeleteStoragePoolCommand cmd DeleteStoragePoolCommand cmd setDetails details cmd setRemoveDatastore Answer answer agentMgr easySend destHost getId cmd answer answer String errMsg StringUtils isNotBlank answer getDetails answer getDetails
verifyNoSnapshotsOnManagedStorageVolumes volumeToPool List Pair VolumeTO String volumeToStorageUuid ArrayList VolumeInfo entry volumeToPool VolumeInfo volumeInfo entry getKey StoragePool storagePool storagePoolDao findById volumeInfo getPoolId VolumeTO volumeTo VolumeTO volumeInfo storagePool storagePool String iqn handleManagedVolumePreMigration volumeInfo storagePool destHost volumeToStorageUuid add Pair volumeTo iqn volumeToStorageUuid add Pair volumeTo StoragePool entry getValue getUuid MigrateWithStorageReceiveCommand receiveCmd MigrateWithStorageReceiveCommand to volumeToStorageUuid MigrateWithStorageReceiveAnswer receiveAnswer MigrateWithStorageReceiveAnswer agentMgr send destHost getId receiveCmd receiveAnswer
VolumeInfo entry VolumeInfo volumeInfo entry getKey StoragePool storagePool storagePoolDao findById volumeInfo getPoolId VolumeTO volumeTo VolumeTO volumeInfo storagePool storagePool String iqn handleManagedVolumePreMigration volumeInfo storagePool destHost volumeToStorageUuid add Pair volumeTo iqn volumeToStorageUuid add Pair volumeTo StoragePool entry getValue getUuid MigrateWithStorageReceiveCommand receiveCmd MigrateWithStorageReceiveCommand to volumeToStorageUuid MigrateWithStorageReceiveAnswer receiveAnswer MigrateWithStorageReceiveAnswer agentMgr send destHost getId receiveCmd receiveAnswer s_logger error vm destHost CloudRuntimeException vm destHost receiveAnswer
volumeToStorageUuid add Pair volumeTo iqn volumeToStorageUuid add Pair volumeTo StoragePool entry getValue getUuid MigrateWithStorageReceiveCommand receiveCmd MigrateWithStorageReceiveCommand to volumeToStorageUuid MigrateWithStorageReceiveAnswer receiveAnswer MigrateWithStorageReceiveAnswer agentMgr send destHost getId receiveCmd receiveAnswer s_logger error vm destHost CloudRuntimeException vm destHost receiveAnswer s_logger error vm receiveAnswer getDetails CloudRuntimeException vm destHost MigrateWithStorageSendCommand sendCmd MigrateWithStorageSendCommand to receiveAnswer getVolumeToSr receiveAnswer getNicToNetwork receiveAnswer getToken MigrateWithStorageSendAnswer sendAnswer MigrateWithStorageSendAnswer agentMgr send srcHost getId sendCmd sendAnswer handleManagedVolumesAfterFailedMigration volumeToPool destHost
MigrateWithStorageReceiveCommand receiveCmd MigrateWithStorageReceiveCommand to volumeToStorageUuid MigrateWithStorageReceiveAnswer receiveAnswer MigrateWithStorageReceiveAnswer agentMgr send destHost getId receiveCmd receiveAnswer s_logger error vm destHost CloudRuntimeException vm destHost receiveAnswer s_logger error vm receiveAnswer getDetails CloudRuntimeException vm destHost MigrateWithStorageSendCommand sendCmd MigrateWithStorageSendCommand to receiveAnswer getVolumeToSr receiveAnswer getNicToNetwork receiveAnswer getToken MigrateWithStorageSendAnswer sendAnswer MigrateWithStorageSendAnswer agentMgr send srcHost getId sendCmd sendAnswer handleManagedVolumesAfterFailedMigration volumeToPool destHost s_logger error vm destHost CloudRuntimeException vm destHost sendAnswer
s_logger error vm destHost CloudRuntimeException vm destHost receiveAnswer s_logger error vm receiveAnswer getDetails CloudRuntimeException vm destHost MigrateWithStorageSendCommand sendCmd MigrateWithStorageSendCommand to receiveAnswer getVolumeToSr receiveAnswer getNicToNetwork receiveAnswer getToken MigrateWithStorageSendAnswer sendAnswer MigrateWithStorageSendAnswer agentMgr send srcHost getId sendCmd sendAnswer handleManagedVolumesAfterFailedMigration volumeToPool destHost s_logger error vm destHost CloudRuntimeException vm destHost sendAnswer handleManagedVolumesAfterFailedMigration volumeToPool destHost s_logger error vm sendAnswer getDetails CloudRuntimeException vm destHost
receiveAnswer s_logger error vm receiveAnswer getDetails CloudRuntimeException vm destHost MigrateWithStorageSendCommand sendCmd MigrateWithStorageSendCommand to receiveAnswer getVolumeToSr receiveAnswer getNicToNetwork receiveAnswer getToken MigrateWithStorageSendAnswer sendAnswer MigrateWithStorageSendAnswer agentMgr send srcHost getId sendCmd sendAnswer handleManagedVolumesAfterFailedMigration volumeToPool destHost s_logger error vm destHost CloudRuntimeException vm destHost sendAnswer handleManagedVolumesAfterFailedMigration volumeToPool destHost s_logger error vm sendAnswer getDetails CloudRuntimeException vm destHost MigrateWithStorageCompleteCommand command MigrateWithStorageCompleteCommand to MigrateWithStorageCompleteAnswer answer MigrateWithStorageCompleteAnswer agentMgr send destHost getId command
sendAnswer handleManagedVolumesAfterFailedMigration volumeToPool destHost s_logger error vm destHost CloudRuntimeException vm destHost sendAnswer handleManagedVolumesAfterFailedMigration volumeToPool destHost s_logger error vm sendAnswer getDetails CloudRuntimeException vm destHost MigrateWithStorageCompleteCommand command MigrateWithStorageCompleteCommand to MigrateWithStorageCompleteAnswer answer MigrateWithStorageCompleteAnswer agentMgr send destHost getId command answer s_logger error vm CloudRuntimeException vm destHost answer s_logger error vm answer getDetails
VolumeTO volumeTo VolumeTO volume storagePoolDao findById volume getPoolId StorageFilerTO filerTo StorageFilerTO StoragePool entry getValue volumeToFilerto add Pair VolumeTO StorageFilerTO volumeTo filerTo MigrateWithStorageCommand command MigrateWithStorageCommand to volumeToFilerto MigrateWithStorageAnswer answer MigrateWithStorageAnswer agentMgr send destHost getId command answer s_logger error vm CloudRuntimeException vm destHost answer s_logger error vm answer getDetails CloudRuntimeException vm destHost answer getDetails updateVolumePathsAfterMigration volumeToPool answer getVolumeTos srcHost answer
volumeInfo getId volumeTo getId storagePool handleManagedVolumePostMigration volumeInfo srcHost volumeTo VolumeVO volumeVO volDao findById volumeInfo getId Long oldPoolId volumeVO getPoolId volumeVO setPath volumeTo getPath volumeVO setFolder storagePool getPath volumeVO setPodId storagePool getPodId volumeVO setPoolId storagePool getId volumeVO setLastPoolId oldPoolId volDao update volumeInfo getId volumeVO updated updated
Account caller CallContext current getCallingAccount Domain domain domainDao findById caller getDomainId String user caller getUuid String group domain getUuid caller caller user CloudianCmcAdminUser value group LOG debug String format user group CloudianUser ssoUser getClient listUser user group ssoUser ssoUser LOG debug String format user group CloudianGroup ssoGroup getClient listGroup group ssoGroup LOG debug String format group domain
String group domain getUuid user CloudianCmcAdminUser value group LOG debug String format user group CloudianUser ssoUser getClient listUser user group ssoUser ssoUser LOG debug String format user group CloudianGroup ssoGroup getClient listGroup group ssoGroup LOG debug String format group domain LOG error group ServerApiException ApiErrorCode INTERNAL_ERROR domain
LOG debug String format user group CloudianGroup ssoGroup getClient listGroup group ssoGroup LOG debug String format group domain LOG error group ServerApiException ApiErrorCode INTERNAL_ERROR caller domain LOG error group ServerApiException ApiErrorCode INTERNAL_ERROR CloudianUser addedSsoUser getClient listUser user group addedSsoUser addedSsoUser ServerApiException ApiErrorCode INTERNAL_ERROR group updateUserAccount caller domain ssoUser
configure name params LOG debug LOG debug String format CloudianAdminHost value CloudianAdminPort value CloudianAdminUser value String String args Map Long Long accountGroupMap Map Long Long args Long accountId accountGroupMap keySet iterator next Account account accountDao findById accountId Domain domain domainDao findById account getDomainId account domain LOG warn String format account getAccountName domain getPath
Map Long Long accountGroupMap Map Long Long args Long accountId accountGroupMap keySet iterator next Account account accountDao findById accountId Domain domain domainDao findById account getDomainId account domain LOG warn String format account getAccountName domain getPath e LOG error e String String args Account account accountDao findByIdIncludingRemoved Long args account LOG warn String format account getAccountName account getId
LOG error e String String args Account account accountDao findByIdIncludingRemoved Long args account LOG warn String format account getAccountName account getId e LOG error e String String args Domain domain domainDao findById Long args
account LOG warn String format account getAccountName account getId e LOG error e String String args Domain domain domainDao findById Long args domain LOG warn String format domain getPath domain getId e LOG error e
Credentials credentials httpContext getCredentialsProvider getCredentials AuthScope ANY
InvalidParameterValueException String format network getUuid List FirewallRuleVO rules firewallRulesDao listByIpAndPurposeAndNotRevoked sourceNatIp getId FirewallRule Purpose Firewall FirewallRuleVO rule rules Integer startPort rule getSourcePortStart Integer endPort rule getSourcePortEnd LOGGER LOGGER debug startPort endPort startPort endPort InvalidParameterValueException String format network getUuid startPort endPort InvalidParameterValueException String format network getUuid rules firewallRulesDao listByIpAndPurposeAndNotRevoked sourceNatIp getId FirewallRule Purpose PortForwarding FirewallRuleVO rule rules Integer startPort rule getSourcePortStart Integer endPort rule getSourcePortEnd
suitable_host_found Pair HostVO Integer hostEntry Pair HostVO Integer hp hostEntry getValue HostVO h hp first hostDao loadHostTags h h h reserved hp second reserved ClusterVO cluster clusterDao findById h getClusterId ClusterDetailsVO cluster_detail_cpu clusterDetailsDao findDetail cluster getId ClusterDetailsVO cluster_detail_ram clusterDetailsDao findDetail cluster getId Float cpuOvercommitRatio Float parseFloat cluster_detail_cpu getValue Float memoryOvercommitRatio Float parseFloat cluster_detail_ram getValue
Pair HostVO Integer hp hostEntry getValue HostVO h hp first hostDao loadHostTags h h h reserved hp second reserved ClusterVO cluster clusterDao findById h getClusterId ClusterDetailsVO cluster_detail_cpu clusterDetailsDao findDetail cluster getId ClusterDetailsVO cluster_detail_ram clusterDetailsDao findDetail cluster getId Float cpuOvercommitRatio Float parseFloat cluster_detail_cpu getValue Float memoryOvercommitRatio Float parseFloat cluster_detail_ram getValue LOGGER LOGGER debug String format h getUuid reserved h getId reserved reserved cpuOvercommitRatio memoryOvercommitRatio
Float cpuOvercommitRatio Float parseFloat cluster_detail_cpu getValue Float memoryOvercommitRatio Float parseFloat cluster_detail_ram getValue LOGGER LOGGER debug String format h getUuid reserved h cpu_requested reserved ram_requested reserved cpuOvercommitRatio memoryOvercommitRatio LOGGER LOGGER debug String format h getUuid cpu_requested reserved toHumanReadableSize ram_requested reserved hostEntry setValue Pair HostVO Integer h reserved suitable_host_found planCluster cluster suitable_host_found LOGGER LOGGER info String format zone getUuid i offering getUuid
network getGuestType network getId network InvalidParameterValueException String format network getUuid networkModel checkNetworkPermissions owner network InvalidParameterValueException String format network getUuid network getGuestType InvalidParameterValueException String format network getGuestType toString network getUuid ApiConstants EXTERNAL_LOAD_BALANCER_IP_ADDRESS NetworkOfferingVO networkOffering networkOfferingDao findByUniqueName KubernetesClusterNetworkOffering value physicalNetworkId networkModel findPhysicalNetworkId zone getId networkOffering getTags networkOffering getTrafficType PhysicalNetwork physicalNetwork physicalNetworkDao findById physicalNetworkId
logAndThrow Level ERROR String format totalNodeCount zone getUuid serviceOffering getUuid deployDestination deployDestination getCluster logAndThrow Level ERROR String format zone getUuid Network defaultNetwork getKubernetesClusterNetworkIfMissing cmd getName zone owner masterNodeCount clusterSize cmd getExternalLoadBalancerIpAddress cmd getNetworkId VMTemplateVO finalTemplate getKubernetesServiceTemplate deployDestination getCluster getHypervisorType cores serviceOffering getCpu masterNodeCount clusterSize memory serviceOffering getRamSize masterNodeCount clusterSize KubernetesClusterVO cluster KubernetesClusterVO KubernetesClusterVO KubernetesClusterVO newCluster KubernetesClusterVO cmd getName cmd getDisplayName zone getId clusterKubernetesVersion getId serviceOffering getId finalTemplate getId defaultNetwork getId owner getDomainId owner getAccountId masterNodeCount clusterSize KubernetesCluster State Created cmd getSSHKeyPairName cores memory cmd getNodeRootDiskSize kubernetesClusterDao persist newCluster newCluster addKubernetesClusterDetails cluster defaultNetwork cmd
kubernetesClusterId logAndThrow Level ERROR KubernetesClusterVO kubernetesCluster kubernetesClusterDao findById kubernetesClusterId kubernetesCluster InvalidParameterValueException kubernetesCluster InvalidParameterValueException String format kubernetesCluster getUuid accountManager checkAccess CallContext current getCallingAccount SecurityChecker AccessType OperateEntry kubernetesCluster kubernetesCluster LOGGER LOGGER debug String format kubernetesCluster getUuid kubernetesCluster LOGGER
kubernetesClusterId logAndThrow Level ERROR KubernetesClusterVO kubernetesCluster kubernetesClusterDao findById kubernetesClusterId kubernetesCluster InvalidParameterValueException kubernetesCluster InvalidParameterValueException String format kubernetesCluster getUuid accountManager checkAccess CallContext current getCallingAccount SecurityChecker AccessType OperateEntry kubernetesCluster kubernetesCluster LOGGER LOGGER debug String format kubernetesCluster getUuid kubernetesCluster LOGGER
kubernetesCluster List KubernetesClusterVmMapVO clusterVMs kubernetesClusterVmMapDao listByClusterId kubernetesCluster getId clusterVMs kubernetesCluster
LOGGER info message LOGGER e LOGGER debug message e LOGGER debug message e LOGGER warn message e LOGGER warn message e
LOGGER info message LOGGER e LOGGER debug message e LOGGER debug message e LOGGER warn message e LOGGER warn message e LOGGER error message e
KubernetesCluster cluster kubernetesClusterDao findById kubernetesCluster getId cluster cluster KubernetesCluster failedEvent KubernetesCluster Event CreateFailed version logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId failedEvent VMTemplateVO iso templateDao findById version getIsoId iso logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId failedEvent iso logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId failedEvent iso logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId failedEvent vm templateService attachIso iso getId vm getId
NetworkVO network networkDao findById kubernetesCluster getNetworkId network logAndThrow Level ERROR String format kubernetesCluster getUuid List VMInstanceVO networkVMs vmInstanceDao listNonRemovedVmsByTypeAndNetwork network getId VirtualMachine Type User networkVMs logAndThrow Level ERROR String format network getUuid kubernetesCluster getUuid VMInstanceVO vm networkVMs vmFoundInKubernetesCluster vm getId vmFoundInKubernetesCluster vmFoundInKubernetesCluster logAndThrow Level ERROR String format vm getUuid kubernetesCluster getUuid network getUuid
e String msg String format kubernetesCluster getUuid LOGGER warn msg e updateKubernetesClusterEntryForGC CloudRuntimeException msg e deleteKubernetesClusterNetworkRules e String msg String format kubernetesCluster getUuid LOGGER warn msg e updateKubernetesClusterEntryForGC CloudRuntimeException msg e String msg String format kubernetesCluster getUuid
Pair HostVO Integer hostEntry Pair HostVO Integer hp hostEntry getValue HostVO h hp first h hostDao loadHostTags h h h reserved hp second reserved ClusterVO cluster clusterDao findById h getClusterId ClusterDetailsVO cluster_detail_cpu clusterDetailsDao findDetail cluster getId ClusterDetailsVO cluster_detail_ram clusterDetailsDao findDetail cluster getId Float cpuOvercommitRatio Float parseFloat cluster_detail_cpu getValue Float memoryOvercommitRatio Float parseFloat cluster_detail_ram getValue
h hostDao loadHostTags h h h reserved hp second reserved ClusterVO cluster clusterDao findById h getClusterId ClusterDetailsVO cluster_detail_cpu clusterDetailsDao findDetail cluster getId ClusterDetailsVO cluster_detail_ram clusterDetailsDao findDetail cluster getId Float cpuOvercommitRatio Float parseFloat cluster_detail_cpu getValue Float memoryOvercommitRatio Float parseFloat cluster_detail_ram getValue LOGGER LOGGER debug String format h getUuid reserved h getId reserved reserved cpuOvercommitRatio memoryOvercommitRatio
ClusterDetailsVO cluster_detail_cpu clusterDetailsDao findDetail cluster getId ClusterDetailsVO cluster_detail_ram clusterDetailsDao findDetail cluster getId Float cpuOvercommitRatio Float parseFloat cluster_detail_cpu getValue Float memoryOvercommitRatio Float parseFloat cluster_detail_ram getValue LOGGER LOGGER debug String format h getUuid reserved h getId cpu_requested reserved ram_requested reserved cpuOvercommitRatio memoryOvercommitRatio LOGGER LOGGER debug String format h getUuid cpu_requested reserved toHumanReadableSize ram_requested reserved hostEntry setValue Pair HostVO Integer h reserved suitable_host_found suitable_host_found LOGGER LOGGER info String format zone getUuid i offering getUuid clusterTemplate getHypervisorType toString
ServiceOffering offering serviceOfferingDao findById kubernetesCluster getServiceOfferingId DataCenter zone dataCenterDao findById kubernetesCluster getZoneId
vm StartVMCmd startVm StartVMCmd startVm ComponentContext inject startVm Field f startVm getClass getDeclaredField f setAccessible f set startVm vm getId userVmService startVirtualMachine startVm
Account owner accountDao findById kubernetesCluster getAccountId Network IpAddresses addrs Network IpAddresses rootDiskSize kubernetesCluster getNodeRootDiskSize Map String String customParameterMap HashMap String String rootDiskSize customParameterMap put String valueOf rootDiskSize String hostName getKubernetesClusterNodeAvailableName String format kubernetesClusterNodeNamePrefix nodeInstance String k8sNodeConfig k8sNodeConfig getKubernetesNodeConfig joinIp Hypervisor HypervisorType VMware equals clusterTemplate getHypervisorType e logAndThrow Level ERROR e String base64UserData Base64 encodeBase64String k8sNodeConfig getBytes StringUtils getPreferredCharset nodeVm userVmService createAdvancedVirtualMachine zone serviceOffering clusterTemplate networkIds owner hostName hostName Hypervisor HypervisorType None BaseCmd HTTPMethod POST base64UserData kubernetesCluster getKeyPair addrs customParameterMap
vmId clusterVMIds get i Nic vmNic networkModel getNicInNetwork vmId networkId Ip vmIp Ip vmNic getIPv4Address vmIdFinal vmId srcPortFinal firewallRuleSourcePortStart i PortForwardingRuleVO PortForwardingRuleVO PortForwardingRuleVO PortForwardingRuleVO newRule PortForwardingRuleVO publicIpId srcPortFinal srcPortFinal vmIp networkId accountId domainId vmIdFinal newRule setDisplay newRule setState FirewallRule State Add newRule portForwardingRulesDao persist newRule newRule rulesService applyPortForwardingRules publicIp getId account
network LOGGER LOGGER debug String format network getUuid kubernetesCluster getUuid IpAddress publicIp getSourceNatIp network publicIp ManagementServerException String format network getUuid kubernetesCluster getUuid FirewallRule firewallRule removeSshFirewallRule publicIp firewallRule ManagementServerException existingFirewallRuleSourcePortEnd firewallRule getSourcePortEnd scaledTotalNodeCount clusterSize kubernetesCluster getTotalNodeCount clusterSize kubernetesCluster getMasterNodeCount provisionFirewallRules publicIp owner CLUSTER_NODES_DEFAULT_START_SSH_PORT CLUSTER_NODES_DEFAULT_START_SSH_PORT scaledTotalNodeCount LOGGER
Pair Boolean String result SshHelper sshExecute ipAddress port CLUSTER_NODE_VM_USER pkFile String format hostName result LOGGER warn String format hostName userVm getUuid kubernetesCluster getUuid result SshHelper sshExecute ipAddress port CLUSTER_NODE_VM_USER pkFile String format hostName result LOGGER warn String format hostName userVm getUuid kubernetesCluster getUuid e String msg String format kubernetesCluster getUuid hostName userVm getUuid LOGGER warn msg e Thread sleep waitDuration
Map String String customParameterMap HashMap String String rootDiskSize customParameterMap put String valueOf rootDiskSize String hostName kubernetesClusterNodeNamePrefix kubernetesCluster hostName hostName getKubernetesClusterNodeAvailableName hostName haSupported isKubernetesVersionSupportsHA String k8sMasterConfig k8sMasterConfig getKubernetesMasterConfig masterIp serverIp hostName haSupported Hypervisor HypervisorType VMware equals clusterTemplate getHypervisorType e logAndThrow Level ERROR e String base64UserData Base64 encodeBase64String k8sMasterConfig getBytes StringUtils getPreferredCharset masterVm userVmService createAdvancedVirtualMachine zone serviceOffering clusterTemplate networkIds owner hostName hostName Hypervisor HypervisorType None BaseCmd HTTPMethod POST base64UserData kubernetesCluster getKeyPair requestedIps addrs customParameterMap
networkIds add kubernetesCluster getNetworkId Network IpAddresses addrs Network IpAddresses rootDiskSize kubernetesCluster getNodeRootDiskSize Map String String customParameterMap HashMap String String rootDiskSize customParameterMap put String valueOf rootDiskSize String hostName getKubernetesClusterNodeAvailableName String format kubernetesClusterNodeNamePrefix additionalMasterNodeInstance String k8sMasterConfig k8sMasterConfig getKubernetesAdditionalMasterConfig joinIp Hypervisor HypervisorType VMware equals clusterTemplate getHypervisorType e logAndThrow Level ERROR e String base64UserData Base64 encodeBase64String k8sMasterConfig getBytes StringUtils getPreferredCharset additionalMasterVm userVmService createAdvancedVirtualMachine zone serviceOffering clusterTemplate networkIds owner hostName hostName Hypervisor HypervisorType None BaseCmd HTTPMethod POST base64UserData kubernetesCluster getKeyPair addrs customParameterMap
List Long clusterVMIds ArrayList vm clusterVMs clusterVMIds add vm getId IpAddress publicIp getSourceNatIp network publicIp ManagementServerException String format network getUuid kubernetesCluster getUuid provisionFirewallRules publicIp owner CLUSTER_API_PORT CLUSTER_API_PORT LOGGER LOGGER info String format CLUSTER_API_PORT publicIp getAddress addr kubernetesCluster getUuid e ManagementServerException String format kubernetesCluster getUuid e endPort CLUSTER_NODES_DEFAULT_START_SSH_PORT clusterVMs size provisionFirewallRules publicIp owner CLUSTER_NODES_DEFAULT_START_SSH_PORT endPort
k8sMasterVM provisionKubernetesClusterMasterVm network publicIpAddress e logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId KubernetesCluster Event CreateFailed e clusterVMs add k8sMasterVM publicIpAddress publicIpSshPort getKubernetesClusterServerIpSshPort k8sMasterVM publicIpAddress publicIpSshPort first publicIpAddress logTransitStateAndThrow Level WARN String format kubernetesCluster getUuid kubernetesCluster getId KubernetesCluster Event CreateFailed List UserVm additionalMasterVMs provisionKubernetesClusterAdditionalMasterVms publicIpAddress clusterVMs addAll additionalMasterVMs e logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId KubernetesCluster Event CreateFailed e
InetAddress address InetAddress getByName URL kubernetesCluster getEndpoint getHost logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId KubernetesCluster Event OperationFailed Pair String Integer sshIpPort getKubernetesClusterServerIpSshPort publicIpAddress sshIpPort first sshPort sshIpPort second publicIpAddress logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId KubernetesCluster Event OperationFailed kubernetesCluster publicIpAddress logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId KubernetesCluster Event OperationFailed logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId KubernetesCluster Event OperationFailed logTransitStateAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster getId KubernetesCluster Event OperationFailed stateTransitTo kubernetesCluster getId KubernetesCluster Event OperationSucceeded
result logTransitStateDetachIsoAndThrow Level ERROR String format kubernetesCluster getUuid vm getUuid kubernetesCluster clusterVMs KubernetesCluster Event OperationFailed logTransitStateDetachIsoAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster clusterVMs KubernetesCluster Event OperationFailed result runInstallScriptOnVM vm i e logTransitStateDetachIsoAndThrow Level ERROR String format kubernetesCluster getUuid vm getUuid kubernetesCluster clusterVMs KubernetesCluster Event OperationFailed e result logTransitStateDetachIsoAndThrow Level ERROR String format kubernetesCluster getUuid vm getUuid kubernetesCluster clusterVMs KubernetesCluster Event OperationFailed logTransitStateDetachIsoAndThrow Level ERROR String format kubernetesCluster getUuid kubernetesCluster clusterVMs KubernetesCluster Event OperationFailed kubernetesCluster vm logTransitStateDetachIsoAndThrow Level ERROR String format kubernetesCluster getUuid vm getUuid kubernetesCluster clusterVMs KubernetesCluster Event OperationFailed i
running
String ipAddress port k8sApiServerSetup String versionOutput IOUtils toString URL String format ipAddress port StringUtils getPreferredCharset versionOutput
kubernetesCluster String ipAddress port waitDuration k8sApiServerSetup String versionOutput IOUtils toString URL String format ipAddress port StringUtils getPreferredCharset versionOutput LOGGER LOGGER info String format kubernetesCluster getUuid versionOutput k8sApiServerSetup e LOGGER warn String format kubernetesCluster getUuid e Thread sleep waitDuration
InvalidParameterValueException String format ApiConstants MIN_MEMORY semanticVersion MIN_KUBERNETES_VERSION InvalidParameterValueException String format MIN_KUBERNETES_VERSION zoneId dataCenterDao findById zoneId InvalidParameterValueException isoUrl InvalidParameterValueException String format isoUrl name name String format semanticVersion zoneId name String format name dataCenterDao findById zoneId getName VMTemplateVO template VirtualMachineTemplate vmTemplate registerKubernetesVersionIso zoneId name isoUrl isoChecksum
CloudRuntimeException Long versionId cmd getId KubernetesSupportedVersion version kubernetesSupportedVersionDao findById versionId version InvalidParameterValueException List KubernetesClusterVO clusters kubernetesClusterDao listAllByKubernetesVersion versionId clusters CloudRuntimeException String format version getUuid VMTemplateVO template templateDao findByIdIncludingRemoved version getIsoId template LOGGER warn String format version getUuid template template deleteKubernetesVersionIso template getId
value httpServer HttpServer create InetSocketAddress PrometheusExporterServerPort value httpServer createContext ExporterHandler prometheusExporter httpServer createContext httpExchange String response httpExchange sendResponseHeaders response length OutputStream os httpExchange getResponseBody os write response getBytes os close httpServer start LOG debug
m m HASH_CONFLICT BigSwitchBcfApiException m isMaster set_hash HASH_IGNORE HASH_IGNORE m m m customErrorMsg IllegalArgumentException customErrorMsg String errorMessage responseToErrorMessage m
T T returnObjectType String uri String String parameters checkInvariants GetMethod gm GetMethod createMethod uri _port setHttpHeader gm parameters parameters List NameValuePair nameValuePairs ArrayList NameValuePair parameters size String String e parameters nameValuePairs add NameValuePair e getKey e getValue gm setQueryString nameValuePairs toArray NameValuePair executeMethod gm String hash checkResponse gm T returnValue returnValue T gson fromJson gm getResponseBodyAsString returnObjectType e
_bcfUtils listACLbyNetwork network Vpc vpc network getVpcId vpc _vpcDao acquireInLockTable network getVpcId String tenantId vpc tenantId vpc getUuid _vpcDao releaseFromLockTable vpc getId tenantId network getUuid rule String srcIp _ipAddressDao findById rule getSourceIpAddressId getAddress addr String dstIp rule getDestIpAddress String mac rule getSourceMacAddress rule
String tenantId vpc tenantId vpc getUuid _vpcDao releaseFromLockTable vpc getId tenantId network getUuid rule String srcIp _ipAddressDao findById rule getSourceIpAddressId getAddress addr String dstIp rule getDestIpAddress String mac rule getSourceMacAddress rule s_logger debug srcIp dstIp mac CreateBcfStaticNatCommand cmd CreateBcfStaticNatCommand tenantId network getUuid dstIp srcIp mac _bcfUtils sendBcfCommandWithNetworkSyncCheck cmd network
initTopologySyncDone initTopologySyncDone _bigswitchBcfApi executeRequest SyncBcfTopologyCommand _numRetries e s_logger error e executeRequest SyncBcfTopologyCommand _numRetries e s_logger error e ControlClusterStatus ccs _bigswitchBcfApi getControlClusterStatus ccs
executeRequest SyncBcfTopologyCommand _numRetries e s_logger error e ControlClusterStatus ccs _bigswitchBcfApi getControlClusterStatus ccs getStatus s_logger error ccs getStatus ccs _bigswitchBcfApi executeRequest SyncBcfTopologyCommand _numRetries executeRequest SyncBcfTopologyCommand _numRetries
s_logger error ccs getStatus ccs _bigswitchBcfApi executeRequest SyncBcfTopologyCommand _numRetries executeRequest SyncBcfTopologyCommand _numRetries s_logger debug e s_logger error e Capabilities cap _bigswitchBcfApi getCapabilities
cmd CreateBcfRouterCommand _latestTopology CreateBcfRouterCommand cmd getTopology executeRequest CreateBcfRouterCommand cmd numRetries cmd CreateBcfRouterInterfaceCommand _latestTopology CreateBcfRouterInterfaceCommand cmd getTopology executeRequest CreateBcfRouterInterfaceCommand cmd numRetries cmd CreateBcfStaticNatCommand _latestTopology CreateBcfStaticNatCommand cmd getTopology executeRequest CreateBcfStaticNatCommand cmd numRetries cmd DeleteBcfStaticNatCommand _latestTopology DeleteBcfStaticNatCommand cmd getTopology executeRequest DeleteBcfStaticNatCommand cmd numRetries cmd UpdateBcfRouterCommand _latestTopology UpdateBcfRouterCommand cmd getTopology executeRequest UpdateBcfRouterCommand cmd numRetries
result BrocadeVcsApiException HttpPatch pm HttpPatch createMethod uri pm setHeader pm setEntity StringEntity convertToString newObject ContentType APPLICATION_XML HttpResponse response executeMethod pm response String errorMessage errorMessage responseToErrorMessage response e s_logger error e getMessage BrocadeVcsApiException e getMessage pm releaseConnection
Output object Output output JAXBContext context JAXBContext newInstance Output StringReader reader StringReader object Unmarshaller unmarshaller context createUnmarshaller Object result unmarshaller unmarshal reader result Output output Output result
BrocadeVcsApiException result HttpPost pm HttpPost createMethod uri pm setHeader pm setEntity StringEntity convertToString newObject ContentType APPLICATION_XML HttpResponse response executeMethod pm response String errorMessage errorMessage responseToErrorMessage response e s_logger error e getMessage BrocadeVcsApiException e getMessage pm releaseConnection
BrocadeVcsApiException String readLine StringBuffer sb HttpPost pm HttpPost createMethod uri pm setHeader pm setEntity StringEntity ContentType APPLICATION_XML HttpResponse response executeMethod pm response String errorMessage errorMessage responseToErrorMessage response e s_logger error e getMessage BrocadeVcsApiException e getMessage pm releaseConnection
response String errorMessage errorMessage responseToErrorMessage response e s_logger error e getMessage BrocadeVcsApiException e getMessage pm releaseConnection s_logger error errorMessage BrocadeVcsApiException errorMessage response sb StringBuffer readLine readLine s_logger debug readLine sb append readLine
reserve nic network vm dest context reserve nic network vm dest context DataCenter dc _dcDao findById network getDataCenterId String interfaceMac nic getMacAddress List BrocadeVcsDeviceVO devices _brocadeVcsDao listByPhysicalNetwork network getPhysicalNetworkId devices
network nic String interfaceMac nic getMacAddress List BrocadeVcsDeviceVO devices _brocadeVcsDao listByPhysicalNetwork network getPhysicalNetworkId devices
brocadeVcsNetworkVlanMapping vlanTag brocadeVcsNetworkVlanMapping getVlanId s_logger error network getId List BrocadeVcsDeviceVO devices _brocadeVcsDao listByPhysicalNetwork network getPhysicalNetworkId devices s_logger error network getPhysicalNetworkId BrocadeVcsDeviceVO brocadeVcsDevice devices HostVO brocadeVcsHost _hostDao findById brocadeVcsDevice getHostId DeleteNetworkCommand cmd DeleteNetworkCommand vlanTag network getId DeleteNetworkAnswer answer DeleteNetworkAnswer _agentMgr easySend brocadeVcsHost getId cmd answer answer s_logger error
network DataCenter zone _entityMgr findById DataCenter network getDataCenterId zone
NetworkType Basic s_logger debug NetworkType Basic network List CiscoVnmcControllerVO devices _ciscoVnmcDao listByPhysicalNetwork network getPhysicalNetworkId devices s_logger error network getName List CiscoAsa1000vDeviceVO asaList _ciscoAsa1000vDao listByPhysicalNetwork network getPhysicalNetworkId asaList s_logger debug network getName NetworkAsa1000vMapVO asaForNetwork _networkAsa1000vMapDao findByNetworkId network getId asaForNetwork
network List CiscoVnmcControllerVO devices _ciscoVnmcDao listByPhysicalNetwork network getPhysicalNetworkId devices s_logger error network getName List CiscoAsa1000vDeviceVO asaList _ciscoAsa1000vDao listByPhysicalNetwork network getPhysicalNetworkId asaList s_logger debug network getName NetworkAsa1000vMapVO asaForNetwork _networkAsa1000vMapDao findByNetworkId network getId asaForNetwork s_logger debug network getName network getId
s_logger error network getName List CiscoAsa1000vDeviceVO asaList _ciscoAsa1000vDao listByPhysicalNetwork network getPhysicalNetworkId asaList s_logger debug network getName NetworkAsa1000vMapVO asaForNetwork _networkAsa1000vMapDao findByNetworkId network getId asaForNetwork s_logger debug network getName network getId s_logger error network getName
NetworkAsa1000vMapVO asaForNetwork _networkAsa1000vMapDao findByNetworkId network getId asaForNetwork s_logger debug network getName network getId s_logger error network getName CiscoAsa1000vDevice assignedAsa assignAsa1000vToNetwork network assignedAsa s_logger error network getName CloudRuntimeException network getName ClusterVO asaCluster _clusterDao findById assignedAsa getClusterId ClusterVSMMapVO clusterVsmMap _clusterVsmMapDao findByClusterId assignedAsa getClusterId clusterVsmMap
Account owner context getAccount PublicIp sourceNatIp _ipAddrMgr assignSourceNatIpAddressToGuestNetwork owner network vlanId Long parseLong BroadcastDomainType getValue network getBroadcastUri List VlanVO vlanVOList _vlanDao listVlansByPhysicalNetworkId network getPhysicalNetworkId List String publicGateways ArrayList String VlanVO vlanVO vlanVOList publicGateways add vlanVO getVlanGateway IpAddress outsideIp List IPAddressVO publicIps _ipAddressDao listByAssociatedNetwork network getId IPAddressVO ip publicIps ip outsideIp ip outsideIp
List String publicGateways ArrayList String vlanVO publicGateways add vlanVO getVlanGateway IpAddress outsideIp List IPAddressVO publicIps _ipAddressDao listByAssociatedNetwork network getId IPAddressVO ip publicIps ip outsideIp ip outsideIp Account caller CallContext current getCallingAccount callerUserId CallContext current getCallingUserId outsideIp _ipAddrMgr allocateIp owner caller callerUserId zone
IpAddress outsideIp List IPAddressVO publicIps _ipAddressDao listByAssociatedNetwork network getId IPAddressVO ip publicIps ip outsideIp ip outsideIp Account caller CallContext current getCallingAccount callerUserId CallContext current getCallingUserId outsideIp _ipAddrMgr allocateIp owner caller callerUserId zone e s_logger error e CloudRuntimeException e
ip ip outsideIp ip outsideIp Account caller CallContext current getCallingAccount callerUserId CallContext current getCallingUserId outsideIp _ipAddrMgr allocateIp owner caller callerUserId zone e s_logger error e CloudRuntimeException e outsideIp _ipAddrMgr associateIPToGuestNetwork outsideIp getId network getId e
outsideIp Account caller CallContext current getCallingAccount callerUserId CallContext current getCallingUserId outsideIp _ipAddrMgr allocateIp owner caller callerUserId zone e s_logger error e CloudRuntimeException e outsideIp _ipAddrMgr associateIPToGuestNetwork outsideIp getId network getId e s_logger error outsideIp getAddress addr vlanId e CloudRuntimeException outsideIp getAddress addr vlanId e String gatewayNetmask NetUtils getCidrNetmask network getCidr
Account caller CallContext current getCallingAccount callerUserId CallContext current getCallingUserId outsideIp _ipAddrMgr allocateIp owner caller callerUserId zone e s_logger error e CloudRuntimeException e outsideIp _ipAddrMgr associateIPToGuestNetwork outsideIp getId network getId e s_logger error outsideIp getAddress addr vlanId e CloudRuntimeException outsideIp getAddress addr vlanId e String gatewayNetmask NetUtils getCidrNetmask network getCidr vlanId network gatewayNetmask outsideIp getAddress addr getId s_logger error network getName
ExecutionException vlanId ExecutionException vlanId ExecutionException vlanId cmd ExecutionException vlanId String ipRange getIpRangeFromCidr cmd getContextParam NetworkElementCommand GUEST_NETWORK_CIDR ipRange ipRange ExecutionException vlanId ExecutionException vlanId ExecutionException e String msg e getMessage
cmd String vlanId Long toString cmd getVlanId NetconfHelper helper List Pair OperationType String params ArrayList Pair OperationType String params add Pair OperationType String OperationType addvlanid vlanId helper NetconfHelper cmd getVsmIp cmd getVsmUsername cmd getVsmPassword
cmd String vlanId Long toString cmd getVlanId NetconfHelper helper List Pair OperationType String params ArrayList Pair OperationType String params add Pair OperationType String OperationType addvlanid vlanId helper NetconfHelper cmd getVsmIp cmd getVsmUsername cmd getVsmPassword s_logger debug cmd getVsmIp helper addVServiceNode vlanId cmd getIpAddress
cmd String vlanId Long toString cmd getVlanId NetconfHelper helper List Pair OperationType String params ArrayList Pair OperationType String params add Pair OperationType String OperationType addvlanid vlanId helper NetconfHelper cmd getVsmIp cmd getVsmUsername cmd getVsmPassword s_logger debug cmd getVsmIp helper addVServiceNode vlanId cmd getIpAddress s_logger debug vlanId helper updatePortProfile cmd getAsaInPortProfile SwitchPortMode access params
s_logger warn network getId ResourceUnavailableException DataCenter network getDataCenterId elbVm sourceIpId _networkModel getPublicIpAddress rules get getSourceIp addr network getDataCenterId getId List LoadBalancerVO lbs _lbDao listByIpAddress sourceIpId List LoadBalancingRule lbRules ArrayList LoadBalancingRule LoadBalancerVO lb lbs List LbDestination dstList _lbMgr getExistingDestinations lb getId List LbStickinessPolicy policyList _lbMgr getStickinessPolicies lb getId List LbHealthCheckPolicy hcPolicyList _lbMgr getHealthCheckPolicies lb getId Ip sourceIp _networkModel getPublicIpAddress lb getSourceIpAddressId getAddress LbSslCert sslCert _lbMgr getLbSslCert lb getId LoadBalancingRule loadBalancing LoadBalancingRule lb dstList policyList hcPolicyList sourceIp sslCert lb getLbProtocol lbRules add loadBalancing applyLBRules elbVm lbRules network getId
_systemAcct _accountService getSystemAccount _instance configs get _instance _instance _mgmtCidr _configDao getValue Config ManagementNetwork key _elasticLbVmRamSize NumbersUtil parseInt configs get Config ElasticLoadBalancerVmMemory key DEFAULT_ELB_VM_RAMSIZE _elasticLbvmCpuMHz NumbersUtil parseInt configs get Config ElasticLoadBalancerVmCpuMhz key DEFAULT_ELB_VM_CPU_MHZ _elasticLbvmNumCpu NumbersUtil parseInt configs get Config ElasticLoadBalancerVmNumVcpu key List ServiceOfferingVO offerings _serviceOfferingDao createSystemServiceOfferings ServiceOffering elbVmDefaultOffUniqueName _elasticLbvmNumCpu _elasticLbVmRamSize _elasticLbvmCpuMHz Storage ProvisioningType THIN VirtualMachine Type ElasticLoadBalancerVm offerings offerings String msg s_logger error msg ConfigurationException msg String enabled _configDao getValue Config ElasticLoadBalancerEnabled key _enabled enabled Boolean parseBoolean enabled
_elasticLbvmNumCpu NumbersUtil parseInt configs get Config ElasticLoadBalancerVmNumVcpu key List ServiceOfferingVO offerings _serviceOfferingDao createSystemServiceOfferings ServiceOffering elbVmDefaultOffUniqueName _elasticLbvmNumCpu _elasticLbVmRamSize _elasticLbvmCpuMHz Storage ProvisioningType THIN VirtualMachine Type ElasticLoadBalancerVm offerings offerings String msg s_logger error msg ConfigurationException msg String enabled _configDao getValue Config ElasticLoadBalancerEnabled key _enabled enabled Boolean parseBoolean enabled s_logger info _enabled _enabled String traffType _configDao getValue Config ElasticLoadBalancerNetwork key traffType _frontendTrafficType TrafficType Guest traffType _frontendTrafficType TrafficType Public
String msg s_logger error msg ConfigurationException msg String enabled _configDao getValue Config ElasticLoadBalancerEnabled key _enabled enabled Boolean parseBoolean enabled s_logger info _enabled _enabled String traffType _configDao getValue Config ElasticLoadBalancerNetwork key traffType _frontendTrafficType TrafficType Guest traffType _frontendTrafficType TrafficType Public ConfigurationException traffType s_logger info traffType gcIntervalMinutes NumbersUtil parseInt configs get Config ElasticLoadBalancerVmGcInterval key
List DomainRouterVO unusedElbVms _elbVmMapDao listUnusedElbVms unusedElbVms unusedElbVms
_gcCandidateElbVmIds retainAll currentGcCandidates currentGcCandidates removeAll _gcCandidateElbVmIds elbVmId _gcCandidateElbVmIds DomainRouterVO elbVm _routerDao findById elbVmId gceed s_logger info elbVm stop elbVm gceed e s_logger warn elbVm e e s_logger warn elbVm e gceed
nic dest s_logger s_logger info dest getPod getCidrAddress dest getPod getCidrSize dest getPod getGateway ApiServiceConfiguration ManagementServerAddresses value s_logger s_logger debug buf append append _mgmtCidr buf append append dest getPod getGateway buf append controlNic nic String domain guestNetwork getNetworkDomain domain buf append domain buf append append defaultDns1
DataCenterVO dcVo _dcDao findById elbVm getDataCenterId NicProfile controlNic Long guestNetworkId dcVo NicProfile nic nic nic controlNic nic guestNetworkId nic getNetworkId NicProfile nic nic nic controlNic nic nic guestNetworkId nic getNetworkId controlNic
nic nic getIPv4Address controlNic nic nic guestNetworkId nic getNetworkId controlNic s_logger error elbVm cmds addCommand CheckSshCommand profile getInstanceName controlNic getIPv4Address List LoadBalancerVO lbs _elbVmMapDao listLbsForElbVm elbVm getId List LoadBalancingRule lbRules ArrayList LoadBalancingRule LoadBalancerVO lb lbs List LbDestination dstList _lbMgr getExistingDestinations lb getId List LbStickinessPolicy policyList _lbMgr getStickinessPolicies lb getId List LbHealthCheckPolicy hcPolicyList _lbMgr getHealthCheckPolicies lb getId Ip sourceIp _networkModel getPublicIpAddress lb getSourceIpAddressId getAddress
lb List LoadBalancerVO remainingLbs _loadBalancerDao listByIpAddress lb getSourceIpAddressId remainingLbs
Long ipId newIp List LoadBalancerVO existingLbs findExistingLoadBalancers lb getName lb getSourceIpAddressId lb getAccountId lb getDomainId lb getSourcePortStart existingLbs existingLbs findExistingLoadBalancers lb getName lb getSourceIpAddressId lb getAccountId lb getDomainId existingLbs lb getSourceIpAddressId throwExceptionIfSuppliedlLbNameIsNotAssociatedWithIpAddress lb s_logger debug PublicIp ip allocDirectIp account networkId ipId ip getId newIp ipId existingLbs get getSourceIpAddressId
PublicIp account guestNetworkId PublicIp PublicIp Network frontEndNetwork _networkModel getNetwork guestNetworkId PublicIp ip _ipAddrMgr assignPublicIpAddress frontEndNetwork getDataCenterId account VlanType DirectAttached frontEndNetwork getId IPAddressVO ipvo _ipAddressDao findById ip getId ipvo setAssociatedWithNetworkId frontEndNetwork getId _ipAddressDao update ipvo getId ipvo
network ExternalLoadBalancerDeviceVO lbDevice getExternalLoadBalancerForNetwork network lbDevice
numRetries numRetriesRemaining numRetries
String results String cmd getIpAddresses length i IpAddressTO ips cmd getIpAddresses IpAddressTO ip ips guestVlanTag Long parseLong ip getBroadcastUri inline ip isOneToOneNat String vlanSelfIp inline tagAddressWithRouteDomain ip getVlanGateway guestVlanTag ip getVlanGateway String vlanNetmask ip getVlanNetmask deleteGuestVlan guestVlanTag vlanSelfIp vlanNetmask inline ip addGuestVlan guestVlanTag vlanSelfIp vlanNetmask inline saveConfiguration results i ip getPublicIp
vlanTag String String String vlanName genVlanName vlanTag List String allVlans getStrippedVlans allVlans vlanName String vlanNames genStringArray vlanName vlanTags genLongArray vlanTag CommonEnabledState commonEnabledState CommonEnabledState STATE_DISABLED NetworkingVLANMemberEntry vlanMemberEntries NetworkingVLANMemberEntry vlanMemberEntries setMember_type NetworkingMemberType MEMBER_INTERFACE vlanMemberEntries setTag_state NetworkingMemberTagType MEMBER_TAGGED vlanMemberEntries setMember_name _privateInterface
vlanTag String String String vlanName genVlanName vlanTag List String allVlans getStrippedVlans allVlans vlanName String vlanNames genStringArray vlanName vlanTags genLongArray vlanTag CommonEnabledState commonEnabledState CommonEnabledState STATE_DISABLED NetworkingVLANMemberEntry vlanMemberEntries NetworkingVLANMemberEntry vlanMemberEntries setMember_type NetworkingMemberType MEMBER_INTERFACE vlanMemberEntries setTag_state NetworkingMemberTagType MEMBER_TAGGED vlanMemberEntries setMember_name _privateInterface s_logger debug vlanTag _vlanApi create vlanNames vlanTags vlanMemberEntries commonEnabledState String
NetworkingVLANMemberEntry vlanMemberEntries NetworkingVLANMemberEntry vlanMemberEntries setMember_type NetworkingMemberType MEMBER_INTERFACE vlanMemberEntries setTag_state NetworkingMemberTagType MEMBER_TAGGED vlanMemberEntries setMember_name _privateInterface s_logger debug vlanTag _vlanApi create vlanNames vlanTags vlanMemberEntries commonEnabledState String s_logger debug vlanName s_logger debug getStrippedVlans getStrippedVlans vlanName ExecutionException vlanTag List Long allRouteDomains getRouteDomains allRouteDomains vlanTag routeDomainIds genLongArray vlanTag String vlanNames String genStringArray genVlanName vlanTag
List Long allRouteDomains getRouteDomains allRouteDomains vlanTag routeDomainIds genLongArray vlanTag String vlanNames String genStringArray genVlanName vlanTag s_logger debug vlanTag _routeDomainApi create routeDomainIds vlanNames getRouteDomains vlanTag ExecutionException vlanTag List String allSelfIps getSelfIps allSelfIps vlanSelfIp String selfIpsToCreate genStringArray vlanSelfIp String vlans genStringArray vlanName String netmasks genStringArray vlanNetmask unitIds genLongArray
String vlanSelfIp String vlanNetmask deleteVirtualServersInGuestVlan vlanSelfIp vlanNetmask List String allSelfIps getSelfIps allSelfIps vlanSelfIp
String String destIp destPort String memberIdentifier destIp destPort memberIdentifier
String String destIp destPort String memberIdentifier destIp destPort List String lbPools getAllStrippedLbPools lbPools memberIdentifier
String memberIdentifier destIp destPort List String lbPools getAllStrippedLbPools lbPools virtualServerName virtualServerName memberIdentifier s_logger debug memberIdentifier virtualServerName _loadbalancerApi remove_member genStringArray virtualServerName genMembers destIp destPort virtualServerName memberIdentifier ExecutionException memberIdentifier virtualServerName destIp nodeNeeded done String lbPools String destIp nodeNeeded done nodeNeeded
stat index stat index stat index high stat getValue getHigh low stat getValue getLow full getFullUsage high low bytesSentAndReceived index full bytesSentAndReceived bytesSentAndReceived answer ipBytes put virtualServerIp bytesSentAndReceived
String networkIp String templateId String reverseDomainName generateReverseDomainNameFromNetworkIp networkIp Domain reverseDomain searchDomain reverseDomainName reverseDomain reverseDomain _globoDns getDomainAPI createReverseDomain reverseDomainName templateId DEFAULT_AUTHORITY_TYPE
cmd needsExport Domain domain searchDomain cmd getDomainName domain domain _globoDns getDomainAPI createDomain cmd getDomainName cmd getTemplateId DEFAULT_AUTHORITY_TYPE
domainId name ip type Record record searchRecord name domainId record record _globoDns getRecordAPI createRecord domainId name ip type
Export export _globoDns getExportAPI scheduleExport export
network List String ips _appLbDao listLbIpsBySourceIpNetworkIdAndScheme network getId Scheme Internal String ip ips Ip sourceIp Ip ip active _appLbDao countActiveBySourceIp sourceIp network getId active
network List LoadBalancingRule rules Set Ip vmsToDestroy getVmsToDestroy network rules Map Ip List LoadBalancingRule rulesToApply getLbRulesToApply rules
network List LoadBalancingRule rules Set Ip vmsToDestroy getVmsToDestroy network rules Map Ip List LoadBalancingRule rulesToApply getLbRulesToApply rules s_logger debug rulesToApply size getName Ip sourceIp vmsToDestroy List VirtualRouter vms _internalLbMgr findInternalLbVms network getId sourceIp vms size
ntwkSvcProviderId VirtualRouterProviderVO element _vrProviderDao findByNspIdAndType ntwkSvcProviderId Type InternalLbVm element
nic controlNic nic dest s_logger s_logger info dest getPod getCidrAddress dest getPod getCidrSize dest getPod getGateway _mgmtHost s_logger s_logger info buf append append _mgmtCidr buf append append dest getPod getGateway controlNic CloudRuntimeException guestNetwork String domain guestNetwork getNetworkDomain domain buf append domain
profile DomainRouterVO internalLbVm _internalLbVmDao findById profile getId NicProfile controlNic getNicProfileByTrafficType profile TrafficType Control controlNic
_instance _instance _mgmtHost configs get _mgmtCidr _configDao getValue Config ManagementNetwork key String offUUID configs get Config InternalLbVmServiceOfferingId key offUUID offUUID ServiceOfferingVO off _serviceOfferingDao findByUuid offUUID off _internalLbVmOfferingId off getId s_logger warn Config InternalLbVmServiceOfferingId key _internalLbVmOfferingId List ServiceOfferingVO offerings _serviceOfferingDao createSystemServiceOfferings ServiceOffering internalLbVmDefaultOffUniqueName InternalLoadBalancerVMManager DEFAULT_INTERNALLB_VM_RAMSIZE InternalLoadBalancerVMManager DEFAULT_INTERNALLB_VM_CPU_MHZ Storage ProvisioningType THIN VirtualMachine Type InternalLoadBalancerVm offerings offerings String msg
LinkedHashMap Network List NicProfile Network LinkedHashMap Network List NicProfile networks LinkedHashMap Network List NicProfile
DomainRouterVO dest plan svcOffId Long List ServiceOfferingVO routerOffering _serviceOfferingDao findById svcOffId List HypervisorType hypervisors getHypervisors dest plan allocateRetry startRetry DomainRouterVO internalLbVm HypervisorType iter hypervisors iter HypervisorType hType iter next id _internalLbVmDao getNextInSequence Long
String templateName hType templateName templateName templateName templateName templateName VMTemplateVO template _templateDao findRoutingTemplate hType templateName template
VMTemplateVO template _templateDao findRoutingTemplate hType templateName template s_logger debug hType userId CallContext current getCallingUserId CallContext current getId owner getId List UserVO userVOs _userDao listByAccount owner getAccountId userVOs userId userVOs get getId internalLbVm DomainRouterVO id routerOffering getId internalLbProviderId VirtualMachineName getSystemVmName id _instance InternalLbVmNamePrefix template getId template getHypervisorType template getGuestOSId owner getDomainId owner getId userId RedundantState UNKNOWN VirtualMachine Type InternalLoadBalancerVm vpcId internalLbVm setRole Role INTERNAL_LB_VM internalLbVm _internalLbVmDao persist internalLbVm _itMgr allocate internalLbVm getInstanceName template routerOffering networks plan internalLbVm _internalLbVmDao findById internalLbVm getId
internalLbVm DomainRouterVO id routerOffering getId internalLbProviderId VirtualMachineName getSystemVmName id _instance InternalLbVmNamePrefix template getId template getHypervisorType template getGuestOSId owner getDomainId owner getId userId RedundantState UNKNOWN VirtualMachine Type InternalLoadBalancerVm vpcId internalLbVm setRole Role INTERNAL_LB_VM internalLbVm _internalLbVmDao persist internalLbVm _itMgr allocate internalLbVm getInstanceName template routerOffering networks plan internalLbVm _internalLbVmDao findById internalLbVm getId ex allocateRetry s_logger debug hType ex allocateRetry
internalLbVm params s_logger debug internalLbVm _itMgr start internalLbVm getUuid params internalLbVm
network s_logger debug network getName network getTrafficType network getTrafficType
Map String String serviceMap ConfigurationServerImpl _configServer getServicesAndProvidersForNetwork _manager getRouterOffering getId List TrafficType types ArrayList TrafficType types add TrafficType Control types add TrafficType Management types add TrafficType Storage List NetworkVO systemNets _manager findSystemNetworks types systemNets systemNets NetworkVO systemNets
types add TrafficType Management types add TrafficType Storage List NetworkVO systemNets _manager findSystemNetworks types systemNets systemNets NetworkVO net systemNets s_logger debug net getName serviceMap _networksDao update net getId net serviceMap s_logger debug serviceMap ConfigurationServerImpl _configServer getServicesAndProvidersForNetwork _manager getPublicRouterOffering getId types ArrayList TrafficType types add TrafficType Public systemNets _manager findSystemNetworks types systemNets systemNets NetworkVO net systemNets
s_logger debug
s_logger debug network getName network getTrafficType VirtualNetworkModel vnModel _manager getDatabase lookupVirtualNetwork network getUuid _manager getCanonicalName network network getTrafficType vnModel vnModel VirtualNetworkModel network network getUuid _manager getCanonicalName network network getTrafficType vnModel setProperties _manager getModelController network vnModel _manager getModelController vnModel update _manager getModelController ex s_logger warn ex network _manager getDatabase getVirtualNetworks add vnModel network getVpcId List IPAddressVO ips _ipAddressDao listByAssociatedVpc network getVpcId ips
Properties configProps Properties fileStream FileInputStream configFile configProps load fileStream String value configProps getProperty value _dbSyncInterval Integer parseInt value hostname configProps getProperty String portStr configProps getProperty portStr portStr port Integer parseInt portStr _api ApiConnectorFactory build hostname port ex s_logger warn configuration ex ConfigurationException
_api ApiConnectorFactory build hostname port ex s_logger warn configuration ex ConfigurationException ex s_logger debug ex ex printStackTrace ConfigurationException IOUtils closeQuietly fileStream _controller ModelController _api _vmDao _networksDao _nicDao _vlanDao _ipAddressDao _routerOffering locateNetworkOffering routerOfferingName routerOfferingDisplayText Provider JuniperContrailRouter _routerPublicOffering locatePublicNetworkOffering routerPublicOfferingName routerPublicOfferingDisplayText Provider JuniperContrailRouter _vpcRouterOffering locateNetworkOffering vpcRouterOfferingName vpcRouterOfferingDisplayText Provider JuniperContrailVpcRouter
List Long offerings ArrayList Long offerings add getRouterOffering getId offerings add getVpcRouterOffering getId offerings add getPublicRouterOffering getId sc setParameters offerings toArray types types types ArrayList TrafficType types add TrafficType Control types add TrafficType Management types add TrafficType Public types add TrafficType Storage types add TrafficType Guest sc setParameters types toArray List NetworkVO dbNets _networksDao search sc dbNets
cls String filterMethod filterMethodPrefix getClassName cls Method method _methodMap get filterMethod method
cls String equalMethod equalMethodPrefix getClassName cls Method method _methodMap get equalMethod method
cls SyncStats stats SyncStats stats log getClassName cls
cls dbList vncList SyncStats stats SyncStats stats log getClassName cls s_logger debug getClassName cls java util Collections sort dbList dbComparator cls java util Collections sort vncList vncComparator cls syncCollections cls dbList vncList _syncMode SYNC_MODE_CHECK stats _syncMode SYNC_MODE_CHECK
cls dbList vncList SyncStats stats SyncStats stats log getClassName cls s_logger debug getClassName cls java util Collections sort dbList dbComparator cls java util Collections sort vncList vncComparator cls syncCollections cls dbList vncList _syncMode SYNC_MODE_CHECK stats _syncMode SYNC_MODE_CHECK s_logger debug getClassName cls stats toString
cls dbList vncList SyncStats stats SyncStats stats log getClassName cls s_logger debug getClassName cls java util Collections sort dbList dbComparator cls java util Collections sort vncList vncComparator cls syncCollections cls dbList vncList _syncMode SYNC_MODE_CHECK stats _syncMode SYNC_MODE_CHECK s_logger debug getClassName cls stats toString s_logger debug stats logMsg
cls dbList vncList SyncStats stats SyncStats stats log getClassName cls s_logger debug getClassName cls java util Collections sort dbList dbComparator cls java util Collections sort vncList vncComparator cls syncCollections cls dbList vncList _syncMode SYNC_MODE_CHECK stats _syncMode SYNC_MODE_CHECK s_logger debug getClassName cls stats toString s_logger debug stats logMsg s_logger debug getClassName cls s_logger debug getClassName cls stats toString stats s_logger debug getClassName cls
stats log getClassName cls s_logger debug getClassName cls java util Collections sort dbList dbComparator cls java util Collections sort vncList vncComparator cls syncCollections cls dbList vncList _syncMode SYNC_MODE_CHECK stats _syncMode SYNC_MODE_CHECK s_logger debug getClassName cls stats toString s_logger debug stats logMsg s_logger debug getClassName cls s_logger debug getClassName cls stats toString stats s_logger debug getClassName cls s_logger debug stats logMsg
FileNotFoundException inputFile FileInputStream configFile FileNotFoundException e s_logger error e getMessage ConfigurationException e getMessage Properties configProps Properties configProps load inputFile e s_logger error e getMessage ConfigurationException e getMessage closeAutoCloseable inputFile _mgmtCidr configProps getProperty _mgmtGateway configProps getProperty
syncMode syncState SYNC_STATE_IN_SYNC s_logger debug _lockSyncMode lock _rwMode syncMode DBSyncGeneric SYNC_MODE_UPDATE _dbSync setSyncMode syncMode _dbSync DBSyncGeneric
syncState SYNC_STATE_IN_SYNC s_logger debug cls _lockSyncMode lock _rwMode syncMode DBSyncGeneric SYNC_MODE_UPDATE _dbSync setSyncMode syncMode _dbSync DBSyncGeneric s_logger debug DBSyncGeneric getClassName cls s_logger debug DBSyncGeneric getClassName cls _dbSync cls _dbSync DBSyncGeneric s_logger info DBSyncGeneric getClassName cls
cls _lockSyncMode lock _rwMode syncMode DBSyncGeneric SYNC_MODE_UPDATE _dbSync setSyncMode syncMode _dbSync DBSyncGeneric s_logger debug DBSyncGeneric getClassName cls s_logger debug DBSyncGeneric getClassName cls _dbSync cls _dbSync DBSyncGeneric s_logger info DBSyncGeneric getClassName cls s_logger info DBSyncGeneric getClassName cls syncState SYNC_STATE_OUT_OF_SYNC _dbSync DBSyncGeneric
_rwMode syncMode DBSyncGeneric SYNC_MODE_UPDATE _dbSync setSyncMode syncMode _dbSync DBSyncGeneric s_logger debug DBSyncGeneric getClassName cls s_logger debug DBSyncGeneric getClassName cls _dbSync cls _dbSync DBSyncGeneric s_logger info DBSyncGeneric getClassName cls s_logger info DBSyncGeneric getClassName cls syncState SYNC_STATE_OUT_OF_SYNC _dbSync DBSyncGeneric s_logger debug DBSyncGeneric getClassName cls
cls s_logger debug cls getName
cls s_logger debug cls getName s_logger debug DBSyncGeneric getClassName cls _lockSyncMode lock _dbSync setSyncMode DBSyncGeneric SYNC_MODE_UPDATE _dbSync sync cls _lockSyncMode unlock
db ApiConnector api _manager getApiConnector net juniper contrail api types Domain vnc net juniper contrail api types Domain vnc setName db getName vnc setUuid db getUuid api vnc
db ApiConnector api _manager getApiConnector net juniper contrail api types Project vnc net juniper contrail api types Project vnc setName db getName vnc setUuid db getUuid api vnc
NetworkACLVO acl _networkACLDao findById dbNet getNetworkACLId NetworkPolicyModel policyModel _manager getDatabase lookupNetworkPolicy acl getUuid policyModel s_logger error dbNet getName acl getUuid acl getName vnModel addToNetworkPolicy policyModel vnModel build _manager getModelController dbNet vnModel _manager getModelController vnModel update _manager getModelController ex s_logger warn ex syncLogMesg append dbNet getName
dbn vnet syncLogMesg syncLogMesg append _manager getCanonicalName dbn vnet getName VirtualNetworkModel current _manager getDatabase lookupVirtualNetwork vnet getUuid _manager getCanonicalName dbn dbn getTrafficType VirtualNetworkModel vnModel VirtualNetworkModel dbn vnet getUuid _manager getCanonicalName dbn dbn getTrafficType dbn getTrafficType dbn getNetworkACLId NetworkACLVO acl _networkACLDao findById dbn getNetworkACLId NetworkPolicyModel policyModel _manager getDatabase lookupNetworkPolicy acl getUuid policyModel
ApiConnector api _manager getApiConnector List VMInstanceVO vmDbList _vmInstanceDao listAll SuppressWarnings List VirtualMachine vncVmList List VirtualMachine api list VirtualMachine
ex s_logger warn ex ex policyModel setProject project List NetworkACLItemVO rules _networkACLItemDao listByACL db getId policyModel build _manager getModelController rules e e printStackTrace policyModel _manager getModelController policyModel update _manager getModelController ex s_logger warn ex
ApiConnector api _manager getApiConnector
org apache cloudstack framework events Event event org apache cloudstack framework events Event args Method method event String methodName event getResourceType method _methodMap get methodName method defaultCreateHandler subject topic event method invoke subject topic event event defaultDeleteHandler subject topic event defaultHandler subject topic event
subject topic s_logger debug subject topic
subject topic event s_logger debug subject topic s_logger debug event getDescription
subject topic event s_logger debug subject topic s_logger debug event getDescription s_logger debug event getEventCategory
subject topic event s_logger debug subject topic s_logger debug event getDescription s_logger debug event getEventCategory s_logger debug event getResourceType
subject topic s_logger debug subject topic
subject topic event s_logger debug subject topic s_logger debug event getDescription
subject topic event s_logger debug subject topic s_logger debug event getDescription s_logger debug event getEventCategory
subject topic event s_logger debug subject topic s_logger debug event getDescription s_logger debug event getEventCategory s_logger debug event getResourceType
subject topic s_logger debug subject topic
subject topic event s_logger debug subject topic s_logger debug event getDescription
subject topic event s_logger debug subject topic s_logger debug event getDescription s_logger debug event getEventCategory
subject topic event s_logger debug subject topic s_logger debug event getDescription s_logger debug event getEventCategory s_logger debug event getResourceType
subject topic event s_logger info topic subject id parseForId event getResourceType event getDescription id DomainVO domain _domainDao findById id domain
subject topic event s_logger info topic subject id parseForId event getResourceType event getDescription id DomainVO domain _domainDao findById id domain s_logger info domain getName domain getUuid StringBuffer logMesg StringBuffer _dbSync createDomain domain logMesg _dbSync syncClass net juniper contrail api types Domain _dbSync syncClass net juniper contrail api types Domain
subject topic event s_logger info topic subject id parseForId event getResourceType event getDescription id ProjectVO project _projectDao findById id project
subject topic event s_logger info topic subject id parseForId event getResourceType event getDescription id ProjectVO project _projectDao findById id project s_logger info project getName project getUuid StringBuffer logMesg StringBuffer _dbSync createProject project logMesg _dbSync syncClass net juniper contrail api types Project _dbSync syncClass net juniper contrail api types Project
String policyId api findByName NetworkPolicy _project _name policyId policy _policy NetworkPolicy api findById NetworkPolicy policyId policy policy NetworkPolicy policy setUuid _uuid policy setName _name policy setParent _project ex s_logger warn ex policy setEntries _policyMap _policy api create policy
policyModel setProject Project _serviceInstance getParent _left addToNetworkPolicy policyModel _right addToNetworkPolicy policyModel List String siList ArrayList String siList add StringUtils join _serviceInstance getQualifiedName policyModel build controller getManager getModelController _leftName _rightName siList e s_logger error e policyModel controller getManager getModelController policyModel update controller getManager getModelController controller getManager getDatabase getNetworkPolicys add policyModel
controller instance setProperties controller instance UserVm userVm controller getVmDao findById instance getId userVm userVm
Project project project Project api findById Project _projectId ex s_logger debug ex CloudRuntimeException ex vm setParent project vm setName _instanceName vm setUuid _uuid _serviceModel vm setServiceInstance _serviceModel getServiceInstance api create vm ex
_vn VirtualNetwork api findById VirtualNetwork _uuid e e printStackTrace _vn NetworkIpam ipam String ipam_id api findByName NetworkIpam ipam_id s_logger debug ipam NetworkIpam api findById NetworkIpam ipam_id ipam
nets nets NetworkVO public_net nets get public_net_id public_net getId s_logger debug _zone getId Account system _accountMgr getSystemAccount setParameter cmd BaseCmd CommandType STRING system getAccountName setParameter cmd BaseCmd CommandType LONG Domain ROOT_DOMAIN setParameter cmd BaseCmd CommandType STRING setParameter cmd BaseCmd CommandType STRING setParameter cmd ApiConstants GATEWAY BaseCmd CommandType STRING setParameter cmd ApiConstants NETMASK BaseCmd CommandType STRING setParameter cmd BaseCmd CommandType LONG public_net_id setParameter cmd BaseCmd CommandType LONG _zone getId setParameter cmd BaseCmd CommandType STRING
_znet PhysicalNetwork State Enabled _znet _networkService updatePhysicalNetwork _znet getId PhysicalNetwork State Enabled toString Pair List PhysicalNetworkTrafficType Integer trafficTypes _networkService listTrafficTypes _znet getId found PhysicalNetworkTrafficType trafficTypes TrafficType Guest found found _networkService addTrafficTypeToPhysicalNetwork _znet getId TrafficType Guest toString Pair List PhysicalNetworkServiceProvider Integer providers _networkService listNetworkServiceProviders _znet getId Provider JuniperContrailRouter getName providers s_logger debug Provider JuniperContrailRouter getName _znet getName PhysicalNetworkServiceProvider provider _networkService addProviderToPhysicalNetwork _znet getId Provider JuniperContrailRouter getName _networkService updateNetworkServiceProvider provider getId PhysicalNetworkServiceProvider State Enabled toString
first TrafficType Guest found found _networkService addTrafficTypeToPhysicalNetwork _znet getId TrafficType Guest toString Pair List PhysicalNetworkServiceProvider Integer providers _networkService listNetworkServiceProviders _znet getId Provider JuniperContrailRouter getName providers s_logger debug Provider JuniperContrailRouter getName _znet getName PhysicalNetworkServiceProvider provider _networkService addProviderToPhysicalNetwork _znet getId Provider JuniperContrailRouter getName _networkService updateNetworkServiceProvider provider getId PhysicalNetworkServiceProvider State Enabled toString PhysicalNetworkServiceProvider provider providers first get provider PhysicalNetworkServiceProvider State Enabled _networkService updateNetworkServiceProvider provider getId PhysicalNetworkServiceProvider State Enabled toString providers _networkService listNetworkServiceProviders _znet getId PhysicalNetworkServiceProvider State Enabled toString
ApiConnectorFactory setImplementation ApiConnectorMock s_logger info s_mysqlSrverPort TestDbSetup init
Account system _accountMgr getSystemAccount DataCenter zone _server getZone List Network list _networkService getIsolatedNetworksOwnedByAccountInZone zone getId system Network list
ApiConnectorFactory setImplementation ApiConnectorMockito s_logger info s_mysqlServerPort TestDbSetup init
network DataCenter zone _entityMgr findById DataCenter network getDataCenterId zone
network DataCenter zone _entityMgr findById DataCenter network getDataCenterId zone
String String filename String xmlFilePath Script findScript scriptsDir filename xmlFilePath Exception filename xmlFilePath String xml String line line xml line trim xml Exception e s_logger debug e Exception e
String xml SrxXml CLOSE_CONFIGURATION getXml String successMsg String errorMsg CLOSE_CONFIGURATION xml
guestVlanTag Long parseLong cmd getAccessDetail NetworkElementCommand GUEST_VLAN_TAG String guestVlanGateway cmd getAccessDetail NetworkElementCommand GUEST_NETWORK_GATEWAY String cidr cmd getAccessDetail NetworkElementCommand GUEST_NETWORK_CIDR cidrSize NetUtils cidrToLong cidr String guestVlanSubnet NetUtils getCidrSubNet guestVlanGateway cidrSize Long publicVlanTag ip getBroadcastUri ip getBroadcastUri publicVlanTag Long parseLong BroadcastDomainType getValue ip getBroadcastUri ExecutionException ip getBroadcastUri openConfiguration shutdownGuestNetwork type ip getAccountId publicVlanTag sourceNatIpAddress guestVlanTag guestVlanGateway guestVlanSubnet cidrSize ip implementGuestNetwork type publicVlanTag sourceNatIpAddress guestVlanTag guestVlanGateway guestVlanSubnet cidrSize
privateGateway privateGateway privateCidrNumber privateSubnet privateSubnet privateCidrNumber managePrivateInterface SrxCommand ADD type equals GuestNetworkType SOURCE_NAT privateVlanTag privateGateway manageZoneInterface SrxCommand ADD privateVlanTag type equals GuestNetworkType SOURCE_NAT manageSourceNatPool SrxCommand ADD publicIp manageSourceNatRule SrxCommand ADD publicIp privateSubnet manageProxyArp SrxCommand ADD publicVlanTag publicIp manageUsageFilter SrxCommand ADD _usageFilterIPOutput privateSubnet genIpFilterTermName publicIp manageUsageFilter SrxCommand ADD _usageFilterIPInput publicIp genIpFilterTermName publicIp type equals GuestNetworkType manageUsageFilter SrxCommand ADD _usageFilterVlanOutput privateVlanTag manageUsageFilter SrxCommand ADD _usageFilterVlanInput privateVlanTag String msg type privateVlanTag privateGateway msg type equals GuestNetworkType SOURCE_NAT publicIp
privateSubnet privateSubnet privateCidrSize managePrivateInterface SrxCommand DELETE privateVlanTag privateGateway manageZoneInterface SrxCommand DELETE privateVlanTag deleteVpnObjectsForAccount accountId type equals GuestNetworkType SOURCE_NAT manageSourceNatRule SrxCommand DELETE sourceNatIpAddress privateSubnet manageSourceNatPool SrxCommand DELETE sourceNatIpAddress manageProxyArp SrxCommand DELETE publicVlanTag sourceNatIpAddress manageUsageFilter SrxCommand DELETE _usageFilterIPOutput privateSubnet genIpFilterTermName sourceNatIpAddress manageUsageFilter SrxCommand DELETE _usageFilterIPInput sourceNatIpAddress genIpFilterTermName sourceNatIpAddress type equals GuestNetworkType manageUsageFilter SrxCommand DELETE _usageFilterVlanOutput privateVlanTag manageUsageFilter SrxCommand DELETE _usageFilterVlanInput privateVlanTag String msg type privateVlanTag privateGateway msg type equals GuestNetworkType SOURCE_NAT sourceNatIpAddress
openConfiguration Set String ipPairs activeRules keySet String ipPair ipPairs String ipPairComponents ipPair split String publicIp ipPairComponents String privateIp ipPairComponents List FirewallRuleTO activeRulesForIpPair activeRules get ipPair Long publicVlanTag getVlanTag vlanTagMap get publicIp removeStaticNatRule publicVlanTag publicIp privateIp activeRulesForIpPair addStaticNatRule publicVlanTag publicIp privateIp activeRulesForIpPair commitConfiguration Answer cmd
String ipPairComponents ipPair split String publicIp ipPairComponents String privateIp ipPairComponents List FirewallRuleTO activeRulesForIpPair activeRules get ipPair Long publicVlanTag getVlanTag vlanTagMap get publicIp removeStaticNatRule publicVlanTag publicIp privateIp activeRulesForIpPair addStaticNatRule publicVlanTag publicIp privateIp activeRulesForIpPair commitConfiguration Answer cmd e s_logger error e closeConfiguration numRetries numRetriesRemaining numRetries
publicVlanTag publicIp privateIp rules manageStaticNatRule SrxCommand ADD publicIp privateIp manageAddressBookEntry SrxCommand ADD _privateZone privateIp manageProxyArp SrxCommand ADD publicVlanTag publicIp addSecurityPolicyAndApplications SecurityPolicyType STATIC_NAT privateIp extractApplications rules
publicVlanTag publicIp privateIp manageStaticNatRule SrxCommand DELETE publicIp privateIp removeSecurityPolicyAndApplications SecurityPolicyType STATIC_NAT privateIp manageAddressBookEntry SrxCommand DELETE _privateZone privateIp manageProxyArp SrxCommand DELETE publicVlanTag publicIp
String preSharedKey cmd getPresharedKey String ipRange cmd getIpRange split openConfiguration deleteVpnObjectsForAccount accountId cmd manageIkePolicy SrxCommand ADD accountId preSharedKey manageAddressPool SrxCommand ADD accountId guestNetworkCidr ipRange ipRange _primaryDnsAddress commitConfiguration Answer cmd e s_logger error e closeConfiguration numRetries numRetriesRemaining numRetries
UsernamePassword users cmd getUserpwds openConfiguration UsernamePassword user users SrxCommand srxCmd user isAdd SrxCommand ADD SrxCommand DELETE String ipsecVpnName genIpsecVpnName accountId user getUsername manageIkeGateway srxCmd accountId ikePolicyName _ikeGatewayHostname user getUsername manageIpsecVpn srxCmd accountId guestNetworkCidr user getUsername _ipsecPolicyName manageDynamicVpnClient srxCmd accountId guestNetworkCidr ipsecVpnName user getUsername manageAccessProfile srxCmd accountId user getUsername user getPassword genAddressPoolName accountId manageAddressBookEntry srxCmd _privateZone guestNetworkCidr ipsecVpnName manageSecurityPolicy SecurityPolicyType VPN srxCmd guestNetworkCidr ipsecVpnName commitConfiguration Answer cmd
SrxCommand srxCmd user isAdd SrxCommand ADD SrxCommand DELETE String ipsecVpnName genIpsecVpnName accountId user getUsername manageIkeGateway srxCmd accountId ikePolicyName _ikeGatewayHostname user getUsername manageIpsecVpn srxCmd accountId guestNetworkCidr user getUsername _ipsecPolicyName manageDynamicVpnClient srxCmd accountId guestNetworkCidr ipsecVpnName user getUsername manageAccessProfile srxCmd accountId user getUsername user getPassword genAddressPoolName accountId manageAddressBookEntry srxCmd _privateZone guestNetworkCidr ipsecVpnName manageSecurityPolicy SecurityPolicyType VPN srxCmd guestNetworkCidr ipsecVpnName commitConfiguration Answer cmd e s_logger error e closeConfiguration numRetries numRetriesRemaining numRetries
String ipPair String ipPairComponents ipPair split String publicIp ipPairComponents String privateIp ipPairComponents List FirewallRuleTO activeRulesForIpPair activeRules get ipPair List String destNatRules getDestNatRules RuleMatchCondition PUBLIC_PRIVATE_IPS publicIp privateIp Map String Long publicVlanTags getPublicVlanTagsForNatRules destNatRules removeDestinationNatRules publicVlanTags destNatRules FirewallRuleTO rule activeRulesForIpPair Long publicVlanTag getVlanTag rule getSrcVlanTag PortForwardingRuleTO portForwardingRule PortForwardingRuleTO rule addDestinationNatRule getProtocol rule getProtocol publicVlanTag portForwardingRule getSrcIp portForwardingRule getDstIp portForwardingRule getSrcPortRange portForwardingRule getSrcPortRange portForwardingRule getDstPortRange portForwardingRule getDstPortRange commitConfiguration Answer cmd
List FirewallRuleTO activeRulesForIpPair activeRules get ipPair List String destNatRules getDestNatRules RuleMatchCondition PUBLIC_PRIVATE_IPS publicIp privateIp Map String Long publicVlanTags getPublicVlanTagsForNatRules destNatRules removeDestinationNatRules publicVlanTags destNatRules FirewallRuleTO rule activeRulesForIpPair Long publicVlanTag getVlanTag rule getSrcVlanTag PortForwardingRuleTO portForwardingRule PortForwardingRuleTO rule addDestinationNatRule getProtocol rule getProtocol publicVlanTag portForwardingRule getSrcIp portForwardingRule getDstIp portForwardingRule getSrcPortRange portForwardingRule getSrcPortRange portForwardingRule getDstPortRange portForwardingRule getDstPortRange commitConfiguration Answer cmd e s_logger error e closeConfiguration numRetries numRetriesRemaining numRetries
publicVlanTag publicIp privateIp srcPort destPort manageDestinationNatRule SrxCommand DELETE publicIp privateIp srcPort destPort manageDestinationNatPool SrxCommand DELETE privateIp destPort manageProxyArp SrxCommand DELETE publicVlanTag publicIp removeSecurityPolicyAndApplications SecurityPolicyType DESTINATION_NAT privateIp manageAddressBookEntry SrxCommand DELETE _privateZone privateIp
xml setDelete xml xml replaceXmlValue xml _privateZone xml replaceXmlValue xml _privateZone xml replaceXmlValue xml ruleName_private sendRequestAndCheckResponse command xml ruleName_private publicIp privateIp xml SrxXml STATIC_NAT_RULE_ADD getXml xml replaceXmlValue xml _publicZone xml replaceXmlValue xml _publicZone xml replaceXmlValue xml ruleName xml replaceXmlValue xml publicIp xml replaceXmlValue xml privateIp sendRequestAndCheckResponse command xml ExecutionException String format publicIp privateIp _publicZone
xml replaceXmlValue xml privateIp xml ExecutionException String format publicIp privateIp _publicZone s_logger debug String format publicIp privateIp _publicZone publicIp privateIp xml SrxXml STATIC_NAT_RULE_ADD getXml xml replaceXmlValue xml _privateZone xml replaceXmlValue xml _privateZone xml replaceXmlValue xml ruleName_private xml replaceXmlValue xml publicIp xml replaceXmlValue xml privateIp xml ExecutionException String format publicIp privateIp _privateZone
xml replaceXmlValue xml _privateZone xml replaceXmlValue xml ruleName_private xml replaceXmlValue xml publicIp xml replaceXmlValue xml privateIp xml ExecutionException String format publicIp privateIp _privateZone s_logger debug String format publicIp privateIp _privateZone publicIp privateIp xml SrxXml STATIC_NAT_RULE_GETONE getXml xml setDelete xml xml replaceXmlValue xml _publicZone xml replaceXmlValue xml _publicZone xml replaceXmlValue xml ruleName
publicIp privateIp xml SrxXml STATIC_NAT_RULE_GETONE getXml xml setDelete xml xml replaceXmlValue xml _publicZone xml replaceXmlValue xml _publicZone xml replaceXmlValue xml ruleName xml ruleName ExecutionException String format publicIp privateIp _publicZone s_logger debug String format publicIp privateIp _publicZone publicIp privateIp xml SrxXml STATIC_NAT_RULE_GETONE getXml xml setDelete xml xml replaceXmlValue xml _privateZone
xml SrxXml getXml xml setDelete xml xml replaceXmlValue xml poolName sendRequestAndCheckResponse command xml poolName xml SrxXml getXml xml replaceXmlValue xml _publicZone sendRequestAndCheckResponse command xml poolName privateIp destPort xml SrxXml DEST_NAT_POOL_ADD getXml xml replaceXmlValue xml poolName xml replaceXmlValue xml privateIp xml replaceXmlValue xml String valueOf destPort sendRequestAndCheckResponse command xml ExecutionException String format privateIp destPort
xml replaceXmlValue xml String valueOf destPort xml ExecutionException String format privateIp destPort s_logger debug String format privateIp destPort privateIp destPort privateIp destPort xml SrxXml DEST_NAT_POOL_GETONE getXml xml setDelete xml xml replaceXmlValue xml poolName xml ExecutionException String format privateIp destPort
ExecutionException String format privateIp destPort s_logger debug String format privateIp destPort privateIp destPort privateIp destPort xml SrxXml DEST_NAT_POOL_GETONE getXml xml setDelete xml xml replaceXmlValue xml poolName xml ExecutionException String format privateIp destPort s_logger debug String format privateIp destPort
xml replaceXmlValue xml ruleName_private sendRequestAndCheckResponse command xml ruleName_private publicIp privateIp srcPort destPort privateIp destPort ExecutionException String format privateIp destPort xml SrxXml DEST_NAT_RULE_ADD getXml xml replaceXmlValue xml _publicZone xml replaceXmlValue xml _publicZone xml replaceXmlValue xml ruleName xml replaceXmlValue xml publicIp xml replaceXmlValue xml String valueOf srcPort xml replaceXmlValue xml poolName sendRequestAndCheckResponse command xml ExecutionException String format publicIp srcPort privateIp destPort _publicZone
xml replaceXmlValue xml poolName xml ExecutionException String format publicIp srcPort privateIp destPort _publicZone s_logger debug String format publicIp srcPort privateIp destPort _publicZone publicIp privateIp srcPort destPort xml SrxXml DEST_NAT_RULE_ADD getXml xml replaceXmlValue xml _privateZone xml replaceXmlValue xml _privateZone xml replaceXmlValue xml ruleName_private xml replaceXmlValue xml publicIp xml replaceXmlValue xml String valueOf srcPort xml replaceXmlValue xml poolName xml ExecutionException String format publicIp srcPort privateIp destPort _privateZone
xml replaceXmlValue xml _privateZone xml replaceXmlValue xml ruleName_private xml replaceXmlValue xml publicIp xml replaceXmlValue xml String valueOf srcPort xml replaceXmlValue xml poolName xml ExecutionException String format publicIp srcPort privateIp destPort _privateZone s_logger debug String format publicIp srcPort privateIp destPort _privateZone publicIp privateIp srcPort destPort xml SrxXml DEST_NAT_RULE_GETONE getXml xml setDelete xml xml replaceXmlValue xml _publicZone xml replaceXmlValue xml _publicZone
s_logger debug String format publicIp srcPort privateIp destPort _privateZone publicIp privateIp srcPort destPort xml SrxXml DEST_NAT_RULE_GETONE getXml xml setDelete xml xml replaceXmlValue xml _publicZone xml replaceXmlValue xml _publicZone xml replaceXmlValue xml ruleName xml ExecutionException String format publicIp srcPort privateIp destPort _publicZone s_logger debug String format publicIp srcPort privateIp destPort _publicZone publicIp privateIp srcPort destPort xml SrxXml DEST_NAT_RULE_GETONE getXml xml setDelete xml
xmlRequest s_logger debug xmlRequest s_logger debug timedOut StringBuffer xmlResponseBuffer StringBuffer sendStream write xmlRequest sendStream flush String line line xmlResponseBuffer append line line
s_logger debug timedOut StringBuffer xmlResponseBuffer StringBuffer sendStream write xmlRequest sendStream flush String line line xmlResponseBuffer append line line e s_logger debug e timedOut
e s_logger debug e timedOut e s_logger debug e String xmlResponse xmlResponseBuffer toString String errorMsg timedOut errorMsg xmlRequest xmlResponse errorMsg xmlResponse errorMsg xmlResponse
String xmlResponse String key String value xmlResponse s_logger error xmlResponse s_logger debug xmlResponse s_logger debug String textToSearchFor key value textToSearchFor key value key xmlResponse textToSearchFor xmlResponse textToSearchFor String responseMessage extractXml xmlResponse responseMessage
xmlResponse s_logger debug xmlResponse s_logger debug String textToSearchFor key value textToSearchFor key value key xmlResponse textToSearchFor xmlResponse textToSearchFor String responseMessage extractXml xmlResponse responseMessage s_logger error responseMessage
xmlResponse s_logger debug xmlResponse s_logger debug String textToSearchFor key value textToSearchFor key value key xmlResponse textToSearchFor xmlResponse textToSearchFor String responseMessage extractXml xmlResponse responseMessage s_logger error responseMessage s_logger error textToSearchFor
String deviceName cmd getDeviceType deviceName InvalidParameterValueException URI uri uri URI cmd getUrl e String msg e getMessage s_logger debug msg InvalidParameterValueException msg Map String String configParams HashMap String String UrlUtil parseQueryParameters uri getQuery configParams dedicatedUse configParams get ApiConstants LOAD_BALANCER_DEVICE_DEDICATED Boolean parseBoolean configParams get ApiConstants LOAD_BALANCER_DEVICE_DEDICATED dedicatedUse deviceName String msg
uri URI cmd getUrl e String msg e getMessage s_logger debug msg InvalidParameterValueException msg Map String String configParams HashMap String String UrlUtil parseQueryParameters uri getQuery configParams dedicatedUse configParams get ApiConstants LOAD_BALANCER_DEVICE_DEDICATED Boolean parseBoolean configParams get ApiConstants LOAD_BALANCER_DEVICE_DEDICATED dedicatedUse String msg s_logger debug msg InvalidParameterValueException msg cmd
String msg e getMessage s_logger debug msg InvalidParameterValueException msg Map String String configParams HashMap String String UrlUtil parseQueryParameters uri getQuery configParams dedicatedUse configParams get ApiConstants LOAD_BALANCER_DEVICE_DEDICATED Boolean parseBoolean configParams get ApiConstants LOAD_BALANCER_DEVICE_DEDICATED dedicatedUse String msg s_logger debug msg InvalidParameterValueException msg String msg s_logger debug msg InvalidParameterValueException msg
multiNetScalerDeployment Boolean valueOf _configDao getValue Config EIPWithMultipleNetScalersEnabled key multiNetScalerDeployment String errMsg ExternalLoadBalancerDeviceVO lbDevice getExternalLoadBalancerForNetwork config lbDevice lbDevice allocateLoadBalancerForNetwork config e errMsg e getMessage s_logger error errMsg ResourceUnavailableException errMsg getClass lbDevice errMsg
SetStaticNatRulesCommand cmd SetStaticNatRulesCommand rulesTO answer SetStaticNatRulesAnswer _agentMgr send lbDevice getHostId cmd answer answer getResult rule ExternalLoadBalancerDeviceVO lbDevice getNetScalerForEIP rule lbDevice String errMsg rule getDestIpAddress s_logger error errMsg ResourceUnavailableException errMsg getClass List StaticNatRuleTO rulesTO ArrayList StaticNatRuleTO
zoneId physicalNetworkId zoneGslbProviderHosId ExternalLoadBalancerDeviceVO nsGslbProvider findGslbProvider zoneId physicalNetworkId nsGslbProvider String msg zoneId
String result URI agentUri agentUri URI _ip DEFAULT_PORT org json JSONObject jsonBody JSONObject org json JSONObject jsonCredentials JSONObject result getHttpRequest jsonBody toString agentUri _sessionid
URI agentUri agentUri URI _ip DEFAULT_PORT org json JSONObject jsonBody JSONObject org json JSONObject jsonCredentials JSONObject jsonCredentials put _username jsonCredentials put _password jsonBody put jsonCredentials result postHttpRequest jsonBody toString agentUri _sessionid result ConfigurationException jsonResponse JSONObject result org json JSONArray loginResponse jsonResponse getJSONArray _sessionid jsonResponse getJSONArray getJSONObject getString
jsonBody put jsonCredentials result postHttpRequest jsonBody toString agentUri _sessionid result ConfigurationException jsonResponse JSONObject result org json JSONArray loginResponse jsonResponse getJSONArray _sessionid jsonResponse getJSONArray getJSONObject getString s_logger debug _sessionid set_nccsession _sessionid s_logger debug get_nccsession s_logger debug result result String errMsg
result ConfigurationException jsonResponse JSONObject result org json JSONArray loginResponse jsonResponse getJSONArray _sessionid jsonResponse getJSONArray getJSONObject getString s_logger debug _sessionid set_nccsession _sessionid s_logger debug get_nccsession s_logger debug result result e String errMsg s_logger error errMsg e e
String String jobId String result URI agentUri agentUri URI _ip DEFAULT_PORT jobId org json JSONObject jsonBody JSONObject startTick System currentTimeMillis System currentTimeMillis startTick result getHttpRequest jsonBody toString agentUri _sessionid JSONObject response JSONObject result response
String String jobId String result URI agentUri agentUri URI _ip DEFAULT_PORT jobId org json JSONObject jsonBody JSONObject startTick System currentTimeMillis System currentTimeMillis startTick _nccCmdTimeout result getHttpRequest jsonBody toString agentUri _sessionid JSONObject response JSONObject result response s_logger debug jobId result System currentTimeMillis startTick _nccCmdTimeout String status response getJSONObject getString toUpperCase String message response getJSONObject getString
result getHttpRequest jsonBody toString agentUri _sessionid JSONObject response JSONObject result response s_logger debug jobId result System currentTimeMillis startTick _nccCmdTimeout String status response getJSONObject getString toUpperCase String message response getJSONObject getString s_logger debug jobId status status status message message String errMsg
cmd String result URI agentUri agentUri URI _ip DEFAULT_PORT org json JSONObject jsonBody JSONObject cmd getDetails
cmd String result URI agentUri agentUri URI _ip DEFAULT_PORT org json JSONObject jsonBody JSONObject cmd getDetails s_logger debug jsonBody result postHttpRequest jsonBody toString agentUri _sessionid
cmd String result URI agentUri agentUri URI _ip DEFAULT_PORT org json JSONObject jsonBody JSONObject cmd getDetails s_logger debug jsonBody result postHttpRequest jsonBody toString agentUri _sessionid s_logger debug result result queryAsyncJob result
agentUri URI _ip DEFAULT_PORT org json JSONObject jsonBody JSONObject cmd getDetails s_logger debug jsonBody result postHttpRequest jsonBody toString agentUri _sessionid s_logger debug result result queryAsyncJob result s_logger debug result Answer cmd e String errMsg s_logger error errMsg e e e Answer cmd e
s_logger debug result result queryAsyncJob result s_logger debug result Answer cmd e String errMsg s_logger error errMsg e e e getMessage Answer cmd e getMessage s_logger error e getMessage Answer cmd e getMessage
String errMsg s_logger error errMsg e e e getMessage Answer cmd e getMessage s_logger error e getMessage Answer cmd e getMessage numRetries s_logger debug numRetries e retry cmd numRetries Answer cmd e getMessage e
JSONArray dest lbstat getJSONArray List DestinationTO listDestTo ArrayList DestinationTO d d dest d JSONObject dt dest getJSONObject d dt DestinationTO destTO DestinationTO dt getString dt getInt dt getString listDestTo add destTO loadBalancer LoadBalancerTO lbstat getString listDestTo hcLB add loadBalancer e s_logger error e numRetries retry cmd numRetries HealthCheckLBConfigAnswer hcLB
String networkid URI agentUri String response agentUri URI _ip DEFAULT_PORT networkid org json JSONObject jsonBody JSONObject response getHttpRequest jsonBody toString agentUri _sessionid
Answer cmd LoadBalancerTO loadBalancers cmd getLoadBalancers loadBalancers Answer cmd JSONObject lbConfigPaylod JSONObject cmd String gsonLBConfig _gson toJson cmd URI agentUri agentUri URI _ip DEFAULT_PORT JSONObject lbConfigCmd JSONObject JSONObject lbcmd JSONObject gsonLBConfig s_logger debug lbcmd toString gsonLBConfig lbConfigCmd put lbcmd getJSONArray s_logger debug lbConfigCmd toString String result postHttpRequest lbConfigCmd toString agentUri _sessionid
LoadBalancerTO loadBalancers cmd getLoadBalancers loadBalancers Answer cmd JSONObject lbConfigPaylod JSONObject cmd String gsonLBConfig _gson toJson cmd URI agentUri agentUri URI _ip DEFAULT_PORT JSONObject lbConfigCmd JSONObject JSONObject lbcmd JSONObject gsonLBConfig s_logger debug lbcmd toString gsonLBConfig lbConfigCmd put lbcmd getJSONArray s_logger debug lbConfigCmd toString String result postHttpRequest lbConfigCmd toString agentUri _sessionid s_logger debug result result queryAsyncJob result
JSONObject lbConfigPaylod JSONObject cmd String gsonLBConfig _gson toJson cmd URI agentUri agentUri URI _ip DEFAULT_PORT JSONObject lbConfigCmd JSONObject JSONObject lbcmd JSONObject gsonLBConfig s_logger debug lbcmd toString gsonLBConfig lbConfigCmd put lbcmd getJSONArray s_logger debug lbConfigCmd toString String result postHttpRequest lbConfigCmd toString agentUri _sessionid s_logger debug result result queryAsyncJob result s_logger debug result Answer cmd
agentUri URI _ip DEFAULT_PORT JSONObject lbConfigCmd JSONObject JSONObject lbcmd JSONObject gsonLBConfig s_logger debug lbcmd toString gsonLBConfig lbConfigCmd put lbcmd getJSONArray s_logger debug lbConfigCmd toString String result postHttpRequest lbConfigCmd toString agentUri _sessionid s_logger debug result result queryAsyncJob result s_logger debug result Answer cmd e s_logger error e e Answer cmd
s_logger debug lbcmd toString gsonLBConfig lbConfigCmd put lbcmd getJSONArray s_logger debug lbConfigCmd toString String result postHttpRequest lbConfigCmd toString agentUri _sessionid s_logger debug result result queryAsyncJob result s_logger debug result Answer cmd e s_logger error e e getMessage Answer cmd e getMessage e getMessage s_logger error e getMessage Answer cmd e getMessage
Answer cmd e s_logger error e e getMessage Answer cmd e getMessage e getMessage s_logger error e getMessage Answer cmd e getMessage e getMessage s_logger error e getMessage Answer cmd e getMessage numRetries retry cmd numRetries Answer cmd e getMessage
statsIPList JSONObject response getJSONObject getJSONArray statsIPList i i statsIPList i JSONObject ipstat statsIPList getJSONObject i JSONObject ipvalues ipstat getJSONObject ipstat bytesSentAndReceived bytesSentAndReceived ipvalues getLong bytesSentAndReceived ipvalues getLong bytesSentAndReceived bytesSentAndReceived answer ipBytes put ipstat getString bytesSentAndReceived s_logger debug response e e printStackTrace e
i i statsIPList i JSONObject ipstat statsIPList getJSONObject i JSONObject ipvalues ipstat getJSONObject ipstat bytesSentAndReceived bytesSentAndReceived ipvalues getLong bytesSentAndReceived ipvalues getLong bytesSentAndReceived bytesSentAndReceived answer ipBytes put ipstat getString bytesSentAndReceived s_logger debug response e e printStackTrace e s_logger debug e getMessage e printStackTrace
HttpClient HttpClient httpClient easyStrategy SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e
easyStrategy SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e s_logger error e getMessage e
SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage e
String String jsonCmd String String logMessage StringEscapeUtils unescapeJava jsonCmd logMessage cleanPassword logMessage
String String jsonCmd agentUri String sessionID String logMessage StringEscapeUtils unescapeJava jsonCmd logMessage cleanPassword logMessage s_logger debug agentUri toString logMessage HttpClient httpClient getHttpClient String result HttpGet request HttpGet agentUri StringEntity cmdJson StringEntity jsonCmd request addHeader request addHeader sessionID
String String jsonCmd agentUri String sessionID String logMessage StringEscapeUtils unescapeJava jsonCmd logMessage cleanPassword logMessage s_logger debug agentUri toString logMessage HttpClient httpClient getHttpClient String result HttpGet request HttpGet agentUri StringEntity cmdJson StringEntity jsonCmd request addHeader request addHeader sessionID s_logger debug agentUri toString logMessage HttpResponse response httpClient execute request response getStatusLine getStatusCode String errMsg response getStatusLine getStatusCode
s_logger debug agentUri toString logMessage HttpClient httpClient getHttpClient String result HttpGet request HttpGet agentUri StringEntity cmdJson StringEntity jsonCmd request addHeader request addHeader sessionID s_logger debug agentUri toString logMessage HttpResponse response httpClient execute request response getStatusLine getStatusCode String errMsg response getStatusLine getStatusCode s_logger error errMsg String unsupportMsg agentUri getPath Answer ans UnsupportedAnswer unsupportMsg
HttpGet request HttpGet agentUri StringEntity cmdJson StringEntity jsonCmd request addHeader request addHeader sessionID s_logger debug agentUri toString logMessage HttpResponse response httpClient execute request response getStatusLine getStatusCode String errMsg response getStatusLine getStatusCode s_logger error errMsg String unsupportMsg agentUri getPath Answer ans UnsupportedAnswer unsupportMsg s_logger error ans result s_gson toJson Answer ans response getStatusLine getStatusCode String errMsg agentUri toString response getStatusLine getStatusCode
HttpResponse response httpClient execute request response getStatusLine getStatusCode String errMsg response getStatusLine getStatusCode s_logger error errMsg String unsupportMsg agentUri getPath Answer ans UnsupportedAnswer unsupportMsg s_logger error ans result s_gson toJson Answer ans response getStatusLine getStatusCode String errMsg agentUri toString response getStatusLine getStatusCode s_logger error errMsg ExecutionException result EntityUtils toString response getEntity String logResult cleanPassword StringEscapeUtils unescapeJava result
String errMsg response getStatusLine getStatusCode s_logger error errMsg String unsupportMsg agentUri getPath Answer ans UnsupportedAnswer unsupportMsg s_logger error ans result s_gson toJson Answer ans response getStatusLine getStatusCode String errMsg agentUri toString response getStatusLine getStatusCode s_logger error errMsg ExecutionException result EntityUtils toString response getEntity String logResult cleanPassword StringEscapeUtils unescapeJava result s_logger debug logResult
String unsupportMsg agentUri getPath Answer ans UnsupportedAnswer unsupportMsg s_logger error ans result s_gson toJson Answer ans response getStatusLine getStatusCode String errMsg agentUri toString response getStatusLine getStatusCode s_logger error errMsg ExecutionException result EntityUtils toString response getEntity String logResult cleanPassword StringEscapeUtils unescapeJava result s_logger debug logResult protocolEx s_logger error protocolEx
String String jsonCmd String String logMessage StringEscapeUtils unescapeJava jsonCmd logMessage cleanPassword logMessage
String logMessage StringEscapeUtils unescapeJava jsonCmd logMessage cleanPassword logMessage s_logger debug agentUri toString logMessage HttpClient httpClient getHttpClient easyStrategy String SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm
s_logger debug agentUri toString logMessage HttpClient httpClient getHttpClient easyStrategy SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e
easyStrategy SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e s_logger error e getMessage e
SSLSocketFactory sf SSLSocketFactory easyStrategy AllowAllHostnameVerifier SchemeRegistry registry SchemeRegistry registry register Scheme DEFAULT_PORT sf ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage e
ClientConnectionManager ccm BasicClientConnectionManager registry httpClient DefaultHttpClient ccm e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage String result HttpPost request HttpPost agentUri StringEntity cmdJson StringEntity jsonCmd request addHeader
String results String cmd getIpAddresses length i IpAddressTO ips cmd getIpAddresses IpAddressTO ip ips guestVlanTag Long parseLong ip getBroadcastUri String vlanSelfIp ip getVlanGateway String vlanNetmask ip getVlanNetmask ip isAdd addGuestVlanAndSubnet guestVlanTag vlanSelfIp vlanNetmask deleteGuestVlan guestVlanTag vlanSelfIp vlanNetmask saveConfiguration results i ip getPublicIp String action ip isAdd
IpAddressTO ips cmd getIpAddresses IpAddressTO ip ips guestVlanTag Long parseLong ip getBroadcastUri String vlanSelfIp ip getVlanGateway String vlanNetmask ip getVlanNetmask ip isAdd addGuestVlanAndSubnet guestVlanTag vlanSelfIp vlanNetmask deleteGuestVlan guestVlanTag vlanSelfIp vlanNetmask saveConfiguration results i ip getPublicIp String action ip isAdd s_logger s_logger debug _ip action ip
String nsVirtualServerName generateNSVirtualServerName loadBalancer getSrcIp loadBalancer getSrcPort com citrix netscaler nitro resource config lb lbvserver_service_binding serviceBindings com citrix netscaler nitro resource config lb lbvserver_service_binding get _netscalerService nsVirtualServerName serviceBindings destination loadBalancer String nsServiceName generateNSServiceName destination getDestIp destination getDestPort com citrix netscaler nitro resource config lb lbvserver_service_binding binding serviceBindings nsServiceName binding destination setMonitorState binding get_curstate hcLB add loadBalancer e s_logger error e numRetries retry cmd numRetries
String nsVirtualServerName generateNSVirtualServerName srcIp srcPort String nsMonitorName generateNSMonitorName srcIp srcPort LbSslCert sslCert loadBalancer getSslCert loadBalancer applyAutoScaleConfig loadBalancer hasMonitor deleteMonitor destinationsToAdd deleteCert loadBalancer destinationsToAdd loadBalancer destinationsToAdd
Answer cmd ExecutionException vpxName _ip startTick System currentTimeMillis nsServiceUp nsServiceWaitMilliSeconds System currentTimeMillis startTick nsServiceWaitMilliSeconds nitro_service netscalerService nitro_service cmd getLoadBalancerIP netscalerService set_certvalidation netscalerService set_hostnameverification netscalerService set_credential username password apiCallResult netscalerService login apiCallResult nsServiceUp
ns vpxToDelete ns vpxInstances ns get _netscalerSdxService ns vpx vpxInstances vpx vpxName vpxToDelete vpx vpxToDelete String msg vpxName _ip s_logger warn msg DestroyLoadBalancerApplianceAnswer cmd msg ns nsDelObj ns nsDelObj set_id vpxToDelete get_id vpxToDelete ns delete _netscalerSdxService nsDelObj String msg vpxName _ip
e e e iNatRule iNatRule inat iNatRule set_name iNatRuleName iNatRule set_publicip srcIp iNatRule set_privateip dstIP iNatRule set_usnip iNatRule set_usip apiCallResult inat add _netscalerService iNatRule e e e
s_logger debug _ip srcIp dstIP rnat rnatRules rnat get _netscalerService rnatRules rnat rantrule rnatRules rantrule rnatRule rantrule e e rnatRule rnatRule rnat rnatRule set_natip srcIp rnatRule set_network dstIP rnatRule set_netmask
e e rnatRule rnatRule rnat rnatRule set_natip srcIp rnatRule set_network dstIP rnatRule set_netmask apiCallResult rnat update _netscalerService rnatRule e e e s_logger debug _ip dstIP srcIp
csMonitorExisis csMonitorExisis lbmonitor csMon lbmonitor csMon set_monitorname nsMonitorName csMon set_type lbProtocol lbProtocol csMon set_httprequest hcp getpingPath s_logger trace s_logger debug csMon set_interval hcp getHealthcheckInterval csMon set_retries Math max hcp getHealthcheckThresshold hcp getUnhealthThresshold csMon set_resptimeout hcp getResponseTime csMon set_failureretries hcp getUnhealthThresshold csMon set_successretries hcp getHealthcheckThresshold
lbmonitor csMon lbmonitor csMon set_monitorname nsMonitorName csMon set_type lbProtocol lbProtocol csMon set_httprequest hcp getpingPath s_logger trace s_logger debug csMon set_interval hcp getHealthcheckInterval csMon set_retries Math max hcp getHealthcheckThresshold hcp getUnhealthThresshold csMon set_resptimeout hcp getResponseTime csMon set_failureretries hcp getUnhealthThresshold csMon set_successretries hcp getHealthcheckThresshold s_logger debug csMon get_interval csMon get_resptimeout csMon get_failureretries csMon get_successretries
nsServiceName nsMonitorName com citrix netscaler nitro resource config basic service serviceObject com citrix netscaler nitro resource config basic service serviceObject com citrix netscaler nitro resource config basic service get _netscalerService nsServiceName serviceObject com citrix netscaler nitro resource config basic service_lbmonitor_binding serviceMonitor com citrix netscaler nitro resource config basic service_lbmonitor_binding serviceMonitor set_monitor_name nsMonitorName serviceMonitor set_name nsServiceName serviceMonitor set_monstate
nsServiceName nsMonitorName com citrix netscaler nitro resource config basic service serviceObject com citrix netscaler nitro resource config basic service serviceObject com citrix netscaler nitro resource config basic service get _netscalerService nsServiceName serviceObject com citrix netscaler nitro resource config basic service_lbmonitor_binding serviceMonitor com citrix netscaler nitro resource config basic service_lbmonitor_binding serviceMonitor set_monitor_name nsMonitorName serviceMonitor set_name nsServiceName serviceMonitor set_monstate s_logger debug nsMonitorName nsServiceName com citrix netscaler nitro resource config basic service_lbmonitor_binding add _netscalerService serviceMonitor
nsServiceName nsMonitorName com citrix netscaler nitro resource config basic service serviceObject com citrix netscaler nitro resource config basic service serviceObject com citrix netscaler nitro resource config basic service get _netscalerService nsServiceName serviceObject com citrix netscaler nitro resource config basic service_lbmonitor_binding serviceMonitor com citrix netscaler nitro resource config basic service_lbmonitor_binding serviceMonitor set_monitor_name nsMonitorName serviceMonitor set_name nsServiceName
nsServiceName nsMonitorName com citrix netscaler nitro resource config basic service serviceObject com citrix netscaler nitro resource config basic service serviceObject com citrix netscaler nitro resource config basic service get _netscalerService nsServiceName serviceObject com citrix netscaler nitro resource config basic service_lbmonitor_binding serviceMonitor com citrix netscaler nitro resource config basic service_lbmonitor_binding serviceMonitor set_monitor_name nsMonitorName serviceMonitor set_name nsServiceName s_logger debug nsMonitorName nsServiceName service_lbmonitor_binding delete _netscalerService serviceMonitor
nsMonitorName nsMonitorName lbmonitor monitorObj lbmonitor get _netscalerService nsMonitorName monitorObj set_respcode lbmonitor delete _netscalerService monitorObj
loadBalancerTO String srcIp loadBalancerTO getSrcIp srcPort loadBalancerTO getSrcPort String lbProtocol getNetScalerProtocol loadBalancerTO String lbAlgorithm loadBalancerTO getAlgorithm generateAutoScaleVmGroupIdentifier loadBalancerTO String nsVirtualServerName generateNSVirtualServerName srcIp srcPort AutoScaleVmGroupTO vmGroupTO loadBalancerTO getAutoScaleVmGroupTO
answer stat_entry String lbvserverName stat_entry get_name lbvserver vserver lbvserver get _netscalerService lbvserverName vserver String lbVirtualServerIp vserver get_ipv46 bytesSentAndReceived answer ipBytes get lbVirtualServerIp bytesSentAndReceived bytesSentAndReceived bytesSentAndReceived stat_entry get_totalrequestbytes bytesSentAndReceived stat_entry get_totalresponsebytes bytesSentAndReceived bytesSentAndReceived answer ipBytes put lbVirtualServerIp bytesSentAndReceived
VirtualRouterProvider ntwkSvcProviderId VirtualRouterProviderVO element _vrProviderDao findByNspIdAndType ntwkSvcProviderId com cloud network VirtualRouterProvider Type NetScalerVm element
vmId DomainRouterVO netscalerVm _routerDao findById vmId
vmId DomainRouterVO netscalerVm _routerDao findById vmId
network network s_logger debug PublicIp sourceNatIp ipAddrMgr assignSourceNatIpAddressToGuestNetwork owner network String publicCidr sourceNatIp getAddress addr NetUtils getCidrSize sourceNatIp getVlanNetmask String internalCidr network getGateway network getCidr split String vtag sourceNatIp getVlanTag BroadcastDomainType tiep tiep BroadcastDomainType getTypeOf vtag use CloudRuntimeException vtag use tiep BroadcastDomainType Vlan vtag BroadcastDomainType Vlan getValueFrom BroadcastDomainType fromString vtag tiep BroadcastDomainType tiep BroadcastDomainType CloudRuntimeException vtag
network String lSwitchUuid String ownerName niciraNvpHost String networkCidr network getCidr String vlanGateway network getGateway String portIpAddress createLogicalRouterPortIpAddress networkCidr vlanGateway NiciraNvpRouterMappingVO mapRouterNetwork niciraNvpRouterMappingDao findByNetworkId network getId String lRouterUuid mapRouterNetwork getLogicalRouterUuid ConfigureSharedNetworkUuidCommand cmd ConfigureSharedNetworkUuidCommand lRouterUuid lSwitchUuid portIpAddress ownerName network getId ConfigureSharedNetworkUuidAnswer answer ConfigureSharedNetworkUuidAnswer agentMgr easySend niciraNvpHost getId cmd answer
NicVO nicVO nicDao findById nic getId List NiciraNvpDeviceVO devices niciraNvpDao listByPhysicalNetwork network getPhysicalNetworkId devices s_logger error network getPhysicalNetworkId NiciraNvpDeviceVO niciraNvpDevice devices get HostVO niciraNvpHost hostDao findById niciraNvpDevice getHostId NiciraNvpNicMappingVO existingNicMap niciraNvpNicMappingDao findByNicUuid nicVO getUuid existingNicMap FindLogicalSwitchPortCommand findCmd FindLogicalSwitchPortCommand existingNicMap getLogicalSwitchUuid existingNicMap getLogicalSwitchPortUuid FindLogicalSwitchPortAnswer answer FindLogicalSwitchPortAnswer agentMgr easySend niciraNvpHost getId findCmd answer s_logger warn nic getName existingNicMap getLogicalSwitchPortUuid UpdateLogicalSwitchPortCommand cmd UpdateLogicalSwitchPortCommand existingNicMap getLogicalSwitchPortUuid BroadcastDomainType getValue network getBroadcastUri nicVO getUuid context getDomain getName context getAccount getAccountName nic getName agentMgr easySend niciraNvpHost getId cmd
network nic network network s_logger error NicVO nicVO nicDao findById nic getId List NiciraNvpDeviceVO devices niciraNvpDao listByPhysicalNetwork network getPhysicalNetworkId devices s_logger error network getPhysicalNetworkId NiciraNvpDeviceVO niciraNvpDevice devices get HostVO niciraNvpHost hostDao findById niciraNvpDevice getHostId NiciraNvpNicMappingVO nicMap niciraNvpNicMappingDao findByNicUuid nicVO getUuid nicMap
List NiciraNvpDeviceVO devices niciraNvpDao listByPhysicalNetwork network getPhysicalNetworkId devices s_logger error network getPhysicalNetworkId NiciraNvpDeviceVO niciraNvpDevice devices get HostVO niciraNvpHost hostDao findById niciraNvpDevice getHostId network network getId s_logger debug NiciraNvpRouterMappingVO routermapping niciraNvpRouterMappingDao findByNetworkId network getId routermapping s_logger warn network getDisplayText DeleteLogicalRouterCommand cmd DeleteLogicalRouterCommand routermapping getLogicalRouterUuid DeleteLogicalRouterAnswer answer DeleteLogicalRouterAnswer agentMgr easySend niciraNvpHost getId cmd answer
network List List NiciraNvpDeviceVO devices niciraNvpDao listByPhysicalNetwork network getPhysicalNetworkId devices
networkObject NiciraNvpRouterMappingVO routermapping niciraNvpRouterMappingDao findByNetworkId networkObject getId routermapping
networkObject String logicalSwitchUuid niciraNvpHost NiciraNvpRouterMappingVO routermapping niciraNvpRouterMappingDao findByNetworkId networkObject getId routermapping s_logger info networkObject getDisplayText String lRouterUuid routermapping getLogicalRouterUuid s_logger debug lRouterUuid logicalSwitchUuid FindLogicalRouterPortCommand cmd FindLogicalRouterPortCommand lRouterUuid logicalSwitchUuid FindLogicalRouterPortAnswer answer FindLogicalRouterPortAnswer agentMgr easySend niciraNvpHost getId cmd answer answer String logicalRouterPortUuid answer getLogicalRouterPortUuid s_logger debug logicalRouterPortUuid DeleteLogicalRouterPortCommand cmdDeletePort DeleteLogicalRouterPortCommand lRouterUuid logicalRouterPortUuid DeleteLogicalRouterPortAnswer answerDelete DeleteLogicalRouterPortAnswer agentMgr easySend niciraNvpHost getId cmdDeletePort answerDelete answerDelete
routermapping s_logger info networkObject getDisplayText String lRouterUuid routermapping getLogicalRouterUuid s_logger debug lRouterUuid logicalSwitchUuid FindLogicalRouterPortCommand cmd FindLogicalRouterPortCommand lRouterUuid logicalSwitchUuid FindLogicalRouterPortAnswer answer FindLogicalRouterPortAnswer agentMgr easySend niciraNvpHost getId cmd answer answer String logicalRouterPortUuid answer getLogicalRouterPortUuid s_logger debug logicalRouterPortUuid DeleteLogicalRouterPortCommand cmdDeletePort DeleteLogicalRouterPortCommand lRouterUuid logicalRouterPortUuid DeleteLogicalRouterPortAnswer answerDelete DeleteLogicalRouterPortAnswer agentMgr easySend niciraNvpHost getId cmdDeletePort answerDelete answerDelete s_logger info logicalRouterPortUuid
response closeResponse response
ControlClusterStatus ccs niciraNvpApi getControlClusterStatus getApiProviderMajorityVersion ccs ccs
command niciraNvpResource NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi List NatRule existingRules niciraNvpApi findNatRulesByLogicalRouterUuid command getLogicalRouterUuid rule command rule rule rule getDstPortRange rule getDstPortRange rule getSrcPortRange rule getSrcPortRange ConfigurePortForwardingRulesOnLogicalRouterAnswer command NatRule rulepair niciraNvpResource generatePortForwardingRulePair rule getDstIp rule getDstPortRange rule getSrcIp rule getSrcPortRange rule getProtocol NatRule incoming NatRule outgoing NatRule storedRule existingRules storedRule rulepair outgoing storedRule
rule rule rule getDstPortRange rule getDstPortRange rule getSrcPortRange rule getSrcPortRange ConfigurePortForwardingRulesOnLogicalRouterAnswer command NatRule rulepair niciraNvpResource generatePortForwardingRulePair rule getDstIp rule getDstPortRange rule getSrcIp rule getSrcPortRange rule getProtocol NatRule incoming NatRule outgoing NatRule storedRule storedRule rulepair outgoing storedRule s_logger debug outgoing getUuid incoming storedRule rulepair incoming storedRule
NatRule rulepair niciraNvpResource generatePortForwardingRulePair rule getDstIp rule getDstPortRange rule getSrcIp rule getSrcPortRange rule getProtocol NatRule incoming NatRule outgoing NatRule storedRule storedRule rulepair outgoing storedRule s_logger debug outgoing getUuid incoming storedRule rulepair incoming storedRule s_logger debug incoming getUuid outgoing incoming outgoing
NatRule incoming NatRule outgoing NatRule storedRule storedRule outgoing storedRule s_logger debug outgoing getUuid incoming storedRule incoming storedRule s_logger debug incoming getUuid outgoing incoming outgoing
storedRule incoming storedRule s_logger debug incoming getUuid outgoing incoming outgoing rule s_logger debug incoming getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid incoming getUuid s_logger debug outgoing getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid outgoing getUuid rule s_logger warn rule getSrcIp rule getDstIp
storedRule incoming storedRule s_logger debug incoming getUuid outgoing incoming outgoing rule s_logger debug incoming getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid incoming getUuid s_logger debug outgoing getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid outgoing getUuid rule s_logger warn rule getSrcIp rule getDstIp
command niciraNvpResource String logicalRouterUuid command getLogicalRouterUuid String logicalSwitchUuid command getLogicalSwitchUuid String portIpAddress command getPortIpAddress List NiciraNvpTag tags ArrayList NiciraNvpTag tags add NiciraNvpTag command getOwnerName networkId command getNetworkId NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi
command niciraNvpResource String logicalRouterUuid command getLogicalRouterUuid String logicalSwitchUuid command getLogicalSwitchUuid String portIpAddress command getPortIpAddress List NiciraNvpTag tags ArrayList NiciraNvpTag tags add NiciraNvpTag command getOwnerName networkId command getNetworkId NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi s_logger debug logicalSwitchUuid logicalRouterUuid networkId
String logicalSwitchUuid command getLogicalSwitchUuid String portIpAddress command getPortIpAddress List NiciraNvpTag tags ArrayList NiciraNvpTag tags add NiciraNvpTag command getOwnerName networkId command getNetworkId NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi s_logger debug logicalSwitchUuid logicalRouterUuid networkId s_logger info logicalSwitchUuid String logicalSwitchDisplayName List LogicalSwitch lSwitchList niciraNvpApi findLogicalSwitch logicalSwitchUuid lSwitchList lSwitchList logicalSwitchDisplayName lSwitchList get getDisplayName
tags add NiciraNvpTag command getOwnerName networkId command getNetworkId NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi s_logger debug logicalSwitchUuid logicalRouterUuid networkId s_logger info logicalSwitchUuid String logicalSwitchDisplayName List LogicalSwitch lSwitchList niciraNvpApi findLogicalSwitch logicalSwitchUuid lSwitchList lSwitchList logicalSwitchDisplayName lSwitchList get getDisplayName s_logger error logicalSwitchUuid CloudRuntimeException logicalSwitchUuid
lSwitchList lSwitchList logicalSwitchDisplayName lSwitchList get getDisplayName s_logger error logicalSwitchUuid CloudRuntimeException logicalSwitchUuid s_logger error logicalSwitchUuid CloudRuntimeException logicalSwitchUuid e s_logger warn logicalSwitchUuid CommandRetryUtility retryUtility niciraNvpResource getRetryUtility retryUtility addRetry command NUM_RETRIES retryUtility retry command ConfigureSharedNetworkUuidAnswer e CloudRuntimeException e
retryUtility retry command ConfigureSharedNetworkUuidAnswer e e s_logger info e getMessage ConfigureSharedNetworkUuidAnswer command e getMessage s_logger info logicalSwitchDisplayName logicalSwitchUuid s_logger debug logicalRouterUuid LogicalRouterPort lRouterPort lRouterPort LogicalRouterPort lRouterPort setAdminStatusEnabled lRouterPort setDisplayName niciraNvpResource truncate logicalSwitchDisplayName NAME_MAX_LEN lRouterPort setTags tags List String ipAddresses ArrayList String ipAddresses add portIpAddress lRouterPort setIpAddresses ipAddresses
retryUtility retry command ConfigureSharedNetworkUuidAnswer e e s_logger info e getMessage ConfigureSharedNetworkUuidAnswer command e getMessage s_logger info logicalSwitchDisplayName logicalSwitchUuid s_logger debug logicalRouterUuid LogicalRouterPort lRouterPort lRouterPort LogicalRouterPort lRouterPort setAdminStatusEnabled lRouterPort setDisplayName niciraNvpResource truncate logicalSwitchDisplayName NAME_MAX_LEN lRouterPort setTags tags List String ipAddresses ArrayList String ipAddresses add portIpAddress lRouterPort setIpAddresses ipAddresses
lRouterPort LogicalRouterPort lRouterPort setAdminStatusEnabled lRouterPort setDisplayName niciraNvpResource truncate logicalSwitchDisplayName NAME_MAX_LEN lRouterPort setTags tags List String ipAddresses ArrayList String ipAddresses add portIpAddress lRouterPort setIpAddresses ipAddresses lRouterPort niciraNvpApi createLogicalRouterPort logicalRouterUuid lRouterPort e s_logger warn logicalRouterUuid e getMessage handleException e command niciraNvpResource s_logger debug lRouterPort getUuid lRouterPort getDisplayName logicalRouterUuid s_logger debug logicalSwitchUuid logicalSwitchDisplayName LogicalSwitchPort lSwitchPort
lRouterPort LogicalRouterPort lRouterPort setAdminStatusEnabled lRouterPort setDisplayName niciraNvpResource truncate logicalSwitchDisplayName NAME_MAX_LEN lRouterPort setTags tags List String ipAddresses ArrayList String ipAddresses add portIpAddress lRouterPort setIpAddresses ipAddresses lRouterPort niciraNvpApi createLogicalRouterPort logicalRouterUuid lRouterPort e s_logger warn logicalRouterUuid e getMessage handleException e command niciraNvpResource s_logger debug lRouterPort getUuid lRouterPort getDisplayName logicalRouterUuid s_logger debug logicalSwitchUuid logicalSwitchDisplayName LogicalSwitchPort lSwitchPort
e s_logger warn logicalRouterUuid e getMessage handleException e command niciraNvpResource s_logger debug lRouterPort getUuid lRouterPort getDisplayName logicalRouterUuid s_logger debug logicalSwitchUuid logicalSwitchDisplayName LogicalSwitchPort lSwitchPort lSwitchPort LogicalSwitchPort niciraNvpResource truncate NAME_MAX_LEN tags lSwitchPort niciraNvpApi createLogicalSwitchPort logicalSwitchUuid lSwitchPort e s_logger warn logicalSwitchUuid logicalSwitchDisplayName e getMessage cleanupLRouterPort logicalRouterUuid lRouterPort niciraNvpApi handleException e command niciraNvpResource s_logger debug lSwitchPort getUuid lSwitchPort getDisplayName logicalSwitchUuid logicalSwitchDisplayName s_logger debug lRouterPort getUuid lRouterPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName
e s_logger warn logicalRouterUuid e getMessage handleException e command niciraNvpResource s_logger debug lRouterPort getUuid lRouterPort getDisplayName logicalRouterUuid s_logger debug logicalSwitchUuid logicalSwitchDisplayName LogicalSwitchPort lSwitchPort lSwitchPort LogicalSwitchPort niciraNvpResource truncate NAME_MAX_LEN tags lSwitchPort niciraNvpApi createLogicalSwitchPort logicalSwitchUuid lSwitchPort e s_logger warn logicalSwitchUuid logicalSwitchDisplayName e getMessage cleanupLRouterPort logicalRouterUuid lRouterPort niciraNvpApi handleException e command niciraNvpResource s_logger debug lSwitchPort getUuid lSwitchPort getDisplayName logicalSwitchUuid logicalSwitchDisplayName s_logger debug lRouterPort getUuid lRouterPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName
lSwitchPort niciraNvpApi createLogicalSwitchPort logicalSwitchUuid lSwitchPort e s_logger warn logicalSwitchUuid logicalSwitchDisplayName e getMessage cleanupLRouterPort logicalRouterUuid lRouterPort niciraNvpApi handleException e command niciraNvpResource s_logger debug lSwitchPort getUuid lSwitchPort getDisplayName logicalSwitchUuid logicalSwitchDisplayName s_logger debug lRouterPort getUuid lRouterPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName niciraNvpApi updateLogicalRouterPortAttachment logicalRouterUuid lRouterPort getUuid PatchAttachment lSwitchPort getUuid e s_logger warn lRouterPort getUuid lRouterPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName e getMessage cleanupLRouterPort logicalRouterUuid lRouterPort niciraNvpApi cleanupLSwitchPort logicalSwitchUuid lSwitchPort niciraNvpApi handleException e command niciraNvpResource s_logger debug lRouterPort getUuid lRouterPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName
lSwitchPort niciraNvpApi createLogicalSwitchPort logicalSwitchUuid lSwitchPort e s_logger warn logicalSwitchUuid logicalSwitchDisplayName e getMessage cleanupLRouterPort logicalRouterUuid lRouterPort niciraNvpApi handleException e command niciraNvpResource s_logger debug lSwitchPort getUuid lSwitchPort getDisplayName logicalSwitchUuid logicalSwitchDisplayName s_logger debug lRouterPort getUuid lRouterPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName niciraNvpApi updateLogicalRouterPortAttachment logicalRouterUuid lRouterPort getUuid PatchAttachment lSwitchPort getUuid e s_logger warn lRouterPort getUuid lRouterPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName e getMessage cleanupLRouterPort logicalRouterUuid lRouterPort niciraNvpApi cleanupLSwitchPort logicalSwitchUuid lSwitchPort niciraNvpApi handleException e command niciraNvpResource s_logger debug lRouterPort getUuid lRouterPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName
command String logicalSwitchUuid command getLogicalSwitchUuid String l2GatewayServiceUuid command getL2GatewayServiceUuid vlanId command getVlanId List NiciraNvpTag tags ArrayList NiciraNvpTag tags add NiciraNvpTag command getOwnerName networkId command getNetworkId
command niciraNvpResource String logicalSwitchUuid command getLogicalSwitchUuid String l2GatewayServiceUuid command getL2GatewayServiceUuid vlanId command getVlanId List NiciraNvpTag tags ArrayList NiciraNvpTag tags add NiciraNvpTag command getOwnerName networkId command getNetworkId s_logger debug logicalSwitchUuid l2GatewayServiceUuid vlanId networkId NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi
networkId command getNetworkId s_logger debug logicalSwitchUuid l2GatewayServiceUuid vlanId networkId NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi s_logger debug logicalSwitchUuid LogicalSwitchPort lSwitchPort lSwitchPort LogicalSwitchPort lSwitchPort setAdminStatusEnabled lSwitchPort setDisplayName niciraNvpResource truncate networkId NAME_MAX_LEN lSwitchPort setTags tags lSwitchPort niciraNvpApi createLogicalSwitchPort logicalSwitchUuid lSwitchPort e s_logger warn logicalSwitchUuid e getMessage handleException e command niciraNvpResource s_logger debug lSwitchPort getUuid lSwitchPort getDisplayName logicalSwitchUuid
e s_logger warn logicalSwitchUuid e getMessage handleException e command niciraNvpResource s_logger debug lSwitchPort getUuid lSwitchPort getDisplayName logicalSwitchUuid s_logger debug lSwitchPort getUuid lSwitchPort getDisplayName command getVlanId L2GatewayAttachment attachment L2GatewayAttachment l2GatewayServiceUuid command getVlanId attachment setVlanId command getVlanId niciraNvpApi updateLogicalSwitchPortAttachment logicalSwitchUuid lSwitchPort getUuid attachment e s_logger warn lSwitchPort getUuid lSwitchPort getDisplayName lSwitchPort getUuid lSwitchPort getDisplayName e getMessage e getErrorCode cleanup logicalSwitchUuid lSwitchPort niciraNvpApi handleException e command niciraNvpResource s_logger debug lSwitchPort getUuid lSwitchPort getDisplayName command getVlanId
command niciraNvpResource NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi List NatRule existingRules niciraNvpApi findNatRulesByLogicalRouterUuid command getLogicalRouterUuid rule command NatRule rulepair niciraNvpResource generateStaticNatRulePair rule getDstIp rule getSrcIp NatRule incoming NatRule outgoing NatRule storedRule existingRules storedRule rulepair outgoing storedRule
NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi List NatRule existingRules niciraNvpApi findNatRulesByLogicalRouterUuid command getLogicalRouterUuid rule command NatRule rulepair niciraNvpResource generateStaticNatRulePair rule getDstIp rule getSrcIp NatRule incoming NatRule outgoing NatRule storedRule existingRules storedRule rulepair outgoing storedRule s_logger debug outgoing getUuid incoming storedRule rulepair incoming storedRule
NatRule incoming NatRule outgoing NatRule storedRule storedRule outgoing storedRule s_logger debug outgoing getUuid incoming storedRule incoming storedRule s_logger debug incoming getUuid outgoing incoming outgoing
storedRule storedRule outgoing storedRule s_logger debug outgoing getUuid incoming storedRule incoming storedRule s_logger debug incoming getUuid outgoing incoming outgoing s_logger debug incoming getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid incoming getUuid
storedRule incoming storedRule s_logger debug incoming getUuid outgoing incoming outgoing rule s_logger debug incoming getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid incoming getUuid s_logger debug outgoing getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid outgoing getUuid rule s_logger warn rule getSrcIp rule getDstIp
s_logger debug incoming getUuid outgoing incoming outgoing rule s_logger debug incoming getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid incoming getUuid s_logger debug outgoing getUuid niciraNvpApi deleteLogicalRouterNatRule command getLogicalRouterUuid outgoing getUuid rule s_logger warn rule getSrcIp rule getDstIp rulepair niciraNvpApi createLogicalRouterNatRule command getLogicalRouterUuid rulepair s_logger debug niciraNvpResource natRuleToString rulepair
command String routerName command getName String gatewayServiceUuid command getGatewayServiceUuid String logicalSwitchUuid command getLogicalSwitchUuid List NiciraNvpTag tags ArrayList NiciraNvpTag tags add NiciraNvpTag command getOwnerName String publicNetworkNextHopIp command getPublicNextHop String publicNetworkIpAddress command getPublicIpCidr String internalNetworkAddress command getInternalIpCidr
command niciraNvpResource String logicalRouterUuid command getLogicalRouterUuid String logicalRouterPortUuid command getLogicalRouterPortUuid NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi
command niciraNvpResource GatewayServiceConfig config command getGatewayServiceConfig String uuid config getUuid String type config getType NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi
command niciraNvpResource String logicalRouterUuid command getLogicalRouterUuid String attachmentLswitchUuid command getAttachmentLswitchUuid NiciraNvpApi niciraNvpApi niciraNvpResource getNiciraNvpApi
reserve nic network vm dest context reserve nic network vm dest context Long physicalNetworkId network getPhysicalNetworkId List OpenDaylightControllerVO devices openDaylightControllerMappingDao listByPhysicalNetwork physicalNetworkId devices
release nic vm reservationId success release nic vm reservationId success NetworkVO network _networkDao findById nic getNetworkId Long physicalNetworkId network getPhysicalNetworkId List OpenDaylightControllerVO devices openDaylightControllerMappingDao listByPhysicalNetwork physicalNetworkId devices
gre_key i e s_logger error e ConfigureNetworkAnswer cmd e NeutronNetwork newNetwork NeutronNetwork newNetwork setName cmd getName newNetwork setTenantId cmd getTenantId newNetwork setNetworkType newNetwork setShared newNetwork setSegmentationId gre_key newNetwork setId UUID randomUUID NeutronNetworkWrapper wrapper NeutronNetworkWrapper wrapper setNetwork newNetwork
NeutronPort newPort NeutronPort newPort setId cmd getPortId newPort setTenantId cmd getTennantId newPort setAdminStateUp newPort setName cmd getPortId toString newPort setNetworkId cmd getNetworkId newPort setMacAddress cmd getMacAddress newPort setDeviceId UUID randomUUID newPort setStatus newPort setFixedIps Collections String emptyList NeutronPortWrapper portWrapper NeutronPortWrapper portWrapper setPort newPort portWrapper configurePort createNeutronPort portWrapper
String formattedUrl neutronUrl toString uri url URL formattedUrl toString Constructor HttpMethodBase httpMethodConstructor httpClazz getConstructor String HttpMethodBase httpMethod httpMethodConstructor newInstance url httpMethod e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error
httpMethod e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error
s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e
String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e
e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e NeutronRestApiException error e e String error s_logger error error e
NeutronRestFactory factory NeutronRestFactory getInstance NeutronRestApi neutronRestApi factory getNeutronApi GetMethod GetMethod getMethod GetMethod neutronRestApi createMethod url uri getMethod setRequestHeader CONTENT_TYPE JSON_CONTENT_TYPE String encodedCredentials encodeCredentials getMethod setRequestHeader encodedCredentials parameters parameters List NameValuePair nameValuePairs ArrayList NameValuePair parameters size String String e parameters nameValuePairs add NameValuePair e getKey e getValue getMethod setQueryString nameValuePairs toArray NameValuePair neutronRestApi executeMethod getMethod getMethod String errorMessage responseToErrorMessage getMethod
getMethod setRequestHeader CONTENT_TYPE JSON_CONTENT_TYPE String encodedCredentials encodeCredentials getMethod setRequestHeader encodedCredentials parameters parameters List NameValuePair nameValuePairs ArrayList NameValuePair parameters size String String e parameters nameValuePairs add NameValuePair e getKey e getValue getMethod setQueryString nameValuePairs toArray NameValuePair neutronRestApi executeMethod getMethod getMethod String errorMessage responseToErrorMessage getMethod getMethod releaseConnection s_logger error errorMessage NeutronRestApiException errorMessage
validateCredentials e NeutronRestApiException e NeutronRestFactory factory NeutronRestFactory getInstance NeutronRestApi neutronRestApi factory getNeutronApi PostMethod PostMethod postMethod PostMethod neutronRestApi createMethod url uri postMethod setRequestHeader CONTENT_TYPE JSON_CONTENT_TYPE postMethod setRequestEntity entity String encodedCredentials encodeCredentials postMethod setRequestHeader encodedCredentials neutronRestApi executeMethod postMethod postMethod String errorMessage responseToErrorMessage postMethod postMethod releaseConnection
validateCredentials e NeutronRestApiException e NeutronRestFactory factory NeutronRestFactory getInstance NeutronRestApi neutronRestApi factory getNeutronApi PutMethod PutMethod putMethod PutMethod neutronRestApi createMethod url uri putMethod setRequestHeader CONTENT_TYPE JSON_CONTENT_TYPE putMethod setRequestEntity entity String encodedCredentials encodeCredentials putMethod setRequestHeader encodedCredentials neutronRestApi executeMethod putMethod putMethod String errorMessage responseToErrorMessage putMethod putMethod releaseConnection
NeutronRestApiException e NeutronRestFactory factory NeutronRestFactory getInstance NeutronRestApi neutronRestApi factory getNeutronApi PutMethod PutMethod putMethod PutMethod neutronRestApi createMethod url uri putMethod setRequestHeader CONTENT_TYPE JSON_CONTENT_TYPE putMethod setRequestEntity entity String encodedCredentials encodeCredentials putMethod setRequestHeader encodedCredentials neutronRestApi executeMethod putMethod putMethod String errorMessage responseToErrorMessage putMethod putMethod releaseConnection s_logger error errorMessage NeutronRestApiException errorMessage
String String uri NeutronRestApiException validateCredentials e NeutronRestApiException e NeutronRestFactory factory NeutronRestFactory getInstance NeutronRestApi neutronRestApi factory getNeutronApi PutMethod PutMethod putMethod PutMethod neutronRestApi createMethod url uri String encodedCredentials encodeCredentials putMethod setRequestHeader encodedCredentials neutronRestApi executeMethod putMethod putMethod String errorMessage responseToErrorMessage putMethod putMethod releaseConnection
e NeutronRestApiException e NeutronRestFactory factory NeutronRestFactory getInstance NeutronRestApi neutronRestApi factory getNeutronApi PutMethod PutMethod putMethod PutMethod neutronRestApi createMethod url uri String encodedCredentials encodeCredentials putMethod setRequestHeader encodedCredentials neutronRestApi executeMethod putMethod putMethod String errorMessage responseToErrorMessage putMethod putMethod releaseConnection s_logger error errorMessage NeutronRestApiException errorMessage putMethod getResponseBodyAsString
validateCredentials e NeutronRestApiException e NeutronRestFactory factory NeutronRestFactory getInstance NeutronRestApi neutronRestApi factory getNeutronApi DeleteMethod DeleteMethod deleteMethod DeleteMethod neutronRestApi createMethod url uri deleteMethod setRequestHeader CONTENT_TYPE JSON_CONTENT_TYPE String encodedCredentials encodeCredentials deleteMethod setRequestHeader encodedCredentials neutronRestApi executeMethod deleteMethod deleteMethod String errorMessage responseToErrorMessage deleteMethod deleteMethod releaseConnection
e NeutronRestApiException e NeutronRestFactory factory NeutronRestFactory getInstance NeutronRestApi neutronRestApi factory getNeutronApi DeleteMethod DeleteMethod deleteMethod DeleteMethod neutronRestApi createMethod url uri deleteMethod setRequestHeader CONTENT_TYPE JSON_CONTENT_TYPE String encodedCredentials encodeCredentials deleteMethod setRequestHeader encodedCredentials neutronRestApi executeMethod deleteMethod deleteMethod String errorMessage responseToErrorMessage deleteMethod deleteMethod releaseConnection s_logger error errorMessage NeutronRestApiException errorMessage
answers OvsCreateTunnelAnswer r OvsCreateTunnelAnswer answers String s String format r getFromIp r getToIp r getBridge r getKey r getInPortName Long from r getFrom Long to r getTo networkId r getNetworkId OvsTunnelNetworkVO tunnel _tunnelNetworkDao findByFromToNetwork from to networkId tunnel CloudRuntimeException String format from to networkId r tunnel setState OvsTunnel State Failed name s_logger warn from to r getDetails s tunnel setState OvsTunnel State Established name tunnel setPortName r getInPortName
HypervisorType hvType host getHypervisorType String label hvType label label label physNetLabel label label label label physNetLabel label hvType OvsTunnelInterfaceVO tunnelIface _tunnelInterfaceDao getByHostAndLabel host getId physNetLabel tunnelIface Commands fetchIfaceCmds Commands OvsFetchInterfaceCommand physNetLabel
List Long toHostIds ArrayList Long List Long fromHostIds ArrayList Long List Long networkSpannedHosts _ovsNetworkToplogyGuru getNetworkSpanedHosts nw getId Long rh networkSpannedHosts rh hostId OvsTunnelNetworkVO ta _tunnelNetworkDao findByFromToNetwork hostId rh longValue nw getId ta ta s_logger debug hostId rh longValue ta createTunnelRecord hostId rh longValue nw getId key toHostIds rh toHostIds add rh ta _tunnelNetworkDao findByFromToNetwork rh longValue hostId nw getId ta ta
toHostIds add rh ta _tunnelNetworkDao findByFromToNetwork rh longValue hostId nw getId ta ta s_logger debug rh longValue hostId ta createTunnelRecord rh longValue hostId nw getId key fromHostIds rh fromHostIds add rh String myIp getGreEndpointIP host nw myIp GreTunnelException host getId noHost i toHostIds HostVO rHost _hostDao findById i String otherIp getGreEndpointIP rHost nw
ta _tunnelNetworkDao findByFromToNetwork rh longValue hostId nw getId ta ta s_logger debug rh longValue hostId ta createTunnelRecord rh longValue hostId nw getId key fromHostIds rh fromHostIds add rh String myIp getGreEndpointIP host nw myIp GreTunnelException host getId noHost i HostVO rHost _hostDao findById i String otherIp getGreEndpointIP rHost nw otherIp GreTunnelException rHost getId
fromHostIds rh fromHostIds add rh String myIp getGreEndpointIP host nw myIp GreTunnelException host getId noHost Long i HostVO rHost _hostDao findById i String otherIp getGreEndpointIP rHost nw otherIp GreTunnelException rHost getId Commands cmds Commands OvsCreateTunnelCommand otherIp key Long valueOf hostId i nw getId myIp bridgeName nw getUuid s_logger debug hostId i nw getId s_logger debug hostId i Answer answers _agentMgr send hostId cmds handleCreateTunnelAnswer answers
String myIp getGreEndpointIP host nw myIp GreTunnelException host getId noHost Long i HostVO rHost _hostDao findById i String otherIp getGreEndpointIP rHost nw otherIp GreTunnelException rHost getId Commands cmds Commands OvsCreateTunnelCommand otherIp key Long valueOf hostId i nw getId myIp bridgeName nw getUuid s_logger debug hostId i nw getId s_logger debug hostId i Answer answers _agentMgr send hostId cmds handleCreateTunnelAnswer answers noHost Long i HostVO rHost _hostDao findById i
List Network vpcNetworks _vpcMgr getVpcNetworks nw getVpcId Network vpcNetworks key getGreKey nw String bridgeName generateBridgeName nw key List OvsTunnelNetworkVO peers _tunnelNetworkDao listByToNetwork host getId nw getId OvsTunnelNetworkVO p peers p Command cmd OvsDestroyTunnelCommand p getNetworkId bridgeName p getPortName s_logger debug host getId p getFrom Answer ans _agentMgr send p getFrom cmd handleDestroyTunnelAnswer ans p getFrom p getTo p getNetworkId Command cmd OvsDestroyBridgeCommand nw getId generateBridgeNameForVpc nw getVpcId host getId
Answer ans _agentMgr send p getFrom cmd handleDestroyTunnelAnswer ans p getFrom p getTo p getNetworkId Command cmd OvsDestroyBridgeCommand nw getId generateBridgeNameForVpc nw getVpcId host getId s_logger debug nw getId host getId Answer ans _agentMgr send host getId cmd handleDestroyBridgeAnswer ans host getId nw getId e s_logger info e getLocalizedMessage List Long vmIds _ovsNetworkToplogyGuru getActiveVmsInNetworkOnHost nw getId host getId vmIds vmIds key getGreKey nw String bridgeName generateBridgeName nw key
Answer ans _agentMgr send host getId cmd handleDestroyBridgeAnswer ans host getId nw getId e s_logger info e getLocalizedMessage List Long vmIds _ovsNetworkToplogyGuru getActiveVmsInNetworkOnHost nw getId host getId vmIds vmIds key getGreKey nw String bridgeName generateBridgeName nw key Command cmd OvsDestroyBridgeCommand nw getId bridgeName host getId s_logger debug nw getId host getId Answer ans _agentMgr send host getId cmd handleDestroyBridgeAnswer ans host getId nw getId
host vpcId hostId host getId String bridgeName generateBridgeNameForVpc vpcId List Long vmIds _ovsNetworkToplogyGuru getActiveVmsInVpcOnHost vpcId hostId vmIds vmIds Commands cmds Commands OvsSetupBridgeCommand bridgeName hostId
host vpcId hostId host getId String bridgeName generateBridgeNameForVpc vpcId List Long vmIds _ovsNetworkToplogyGuru getActiveVmsInVpcOnHost vpcId hostId vmIds vmIds Commands cmds Commands OvsSetupBridgeCommand bridgeName hostId s_logger debug hostId vpcId Answer answers _agentMgr send hostId cmds handleSetupBridgeAnswer answers e s_logger warn e OvsVpcRoutingPolicyConfigCommand cmd prepareVpcRoutingPolicyUpdate vpcId cmd setSequenceNumber getNextRoutingPolicyUpdateSequenceNumber vpcId cmd hostId bridgeName
OvsVpcRoutingPolicyConfigCommand cmd prepareVpcRoutingPolicyUpdate vpcId cmd setSequenceNumber getNextRoutingPolicyUpdateSequenceNumber vpcId cmd hostId s_logger debug hostId List Network vpcNetworks _vpcMgr getVpcNetworks vpcId List Long vpcSpannedHostIds _ovsNetworkToplogyGuru getVpcSpannedHosts vpcId Network vpcNetwork vpcNetworks vpcNetwork getState Network State Implemented vpcNetwork getState Network State Implementing vpcNetwork getState Network State Setup key getGreKey vpcNetwork List Long toHostIds ArrayList Long List Long fromHostIds ArrayList Long OvsTunnelNetworkVO tunnelRecord Long vpcSpannedHostIds hostId
List Long vpcSpannedHostIds _ovsNetworkToplogyGuru getVpcSpannedHosts vpcId Network vpcNetwork vpcNetwork getState Network State Implemented vpcNetwork getState Network State Implementing vpcNetwork getState Network State Setup key getGreKey vpcNetwork List Long toHostIds ArrayList Long List Long fromHostIds ArrayList Long OvsTunnelNetworkVO tunnelRecord Long rh vpcSpannedHostIds rh hostId tunnelRecord _tunnelNetworkDao findByFromToNetwork hostId rh longValue vpcNetwork getId tunnelRecord tunnelRecord getState State s_logger debug hostId rh longValue tunnelRecord createTunnelRecord hostId rh longValue vpcNetwork getId key
tunnelRecord createTunnelRecord hostId rh longValue vpcNetwork getId key toHostIds rh toHostIds add rh tunnelRecord _tunnelNetworkDao findByFromToNetwork rh longValue hostId vpcNetwork getId tunnelRecord tunnelRecord s_logger debug rh longValue hostId tunnelRecord createTunnelRecord rh longValue hostId vpcNetwork getId key fromHostIds rh fromHostIds add rh String myIp getGreEndpointIP host vpcNetwork myIp GreTunnelException host getId noHost
createTunnelRecord hostId rh longValue vpcNetwork getId key toHostIds rh toHostIds add rh tunnelRecord _tunnelNetworkDao findByFromToNetwork rh longValue hostId vpcNetwork getId tunnelRecord tunnelRecord s_logger debug rh longValue hostId tunnelRecord createTunnelRecord rh longValue hostId vpcNetwork getId key fromHostIds rh fromHostIds add rh String myIp getGreEndpointIP host vpcNetwork myIp GreTunnelException host getId noHost toHostIds
s_logger debug rh longValue hostId createTunnelRecord rh longValue hostId vpcNetwork getId key fromHostIds rh fromHostIds add rh String myIp getGreEndpointIP host vpcNetwork myIp GreTunnelException host getId noHost Long i HostVO rHost _hostDao findById i String otherIp getGreEndpointIP rHost vpcNetwork otherIp GreTunnelException rHost getId Commands cmds Commands OvsCreateTunnelCommand otherIp key Long valueOf hostId i vpcNetwork getId myIp bridgeName vpcNetwork getUuid
updateCmd hostId bridgeName s_logger debug hostId updateCmd setHostId hostId updateCmd setBridgeName bridgeName Answer ans _agentMgr send hostId updateCmd ans
updateCmd hostId bridgeName s_logger debug hostId updateCmd setHostId hostId updateCmd setBridgeName bridgeName Answer ans _agentMgr send hostId updateCmd ans
network DataCenter zone _entityMgr findById DataCenter network getDataCenterId zone
network DataCenter zone _entityMgr findById DataCenter network getDataCenterId zone
String guestVlanGateway cmd getAccessDetail NetworkElementCommand GUEST_NETWORK_GATEWAY String cidr cmd getAccessDetail NetworkElementCommand GUEST_NETWORK_CIDR cidrSize NetUtils cidrToLong cidr String guestVlanSubnet NetUtils getCidrSubNet guestVlanGateway cidrSize Long publicVlanTag ip getBroadcastUri String parsedVlanTag parsePublicVlanTag ip getBroadcastUri parsedVlanTag publicVlanTag Long parseLong parsedVlanTag ExecutionException parsedVlanTag ArrayList IPaloAltoCommand commandList ArrayList IPaloAltoCommand ip implementGuestNetwork commandList type publicVlanTag sourceNatIpAddress guestVlanTag guestVlanGateway guestVlanSubnet cidrSize
Answer cmd numRetries FirewallRuleTO rules cmd getRules ArrayList IPaloAltoCommand commandList ArrayList IPaloAltoCommand FirewallRuleTO rule rules rule manageFirewallRule commandList PaloAltoPrimative ADD rule manageFirewallRule commandList PaloAltoPrimative DELETE rule status requestWithCommit commandList Answer cmd e s_logger error e numRetries numRetriesRemaining numRetries
Answer cmd numRetries StaticNatRuleTO rules cmd getRules ArrayList IPaloAltoCommand commandList ArrayList IPaloAltoCommand StaticNatRuleTO rule rules rule manageStcNatRule commandList PaloAltoPrimative ADD rule manageStcNatRule commandList PaloAltoPrimative DELETE rule status requestWithCommit commandList Answer cmd e s_logger error e numRetries numRetriesRemaining numRetries
Answer cmd numRetries PortForwardingRuleTO rules cmd getRules ArrayList IPaloAltoCommand commandList ArrayList IPaloAltoCommand PortForwardingRuleTO rule rules rule manageDstNatRule commandList PaloAltoPrimative ADD rule manageDstNatRule commandList PaloAltoPrimative DELETE rule status requestWithCommit commandList Answer cmd e s_logger error e numRetries numRetriesRemaining numRetries
privateVlanTag String String interfaceName genPrivateInterfaceName privateVlanTag String String params String String params put params put params put _privateInterfaceType _privateInterface interfaceName String response request PaloAltoMethod GET params result validResponse response responseNotEmpty response
rule getSrcVlanTag publicInterfaceName genPublicInterfaceName Long publicVlanTag parsePublicVlanTag rule getSrcVlanTag publicVlanTag publicInterfaceName genPublicInterfaceName Long publicInterfaceName genPublicInterfaceName Long publicVlanTag String String params String String params put params put params put dstNatName String response request PaloAltoMethod GET params result validResponse response responseNotEmpty response
rule getSrcVlanTag publicInterfaceName genPublicInterfaceName Long publicVlanTag parsePublicVlanTag rule getSrcVlanTag publicVlanTag publicInterfaceName genPublicInterfaceName Long publicInterfaceName genPublicInterfaceName Long publicVlanTag String String params String String params put params put params put stcNatName String response request PaloAltoMethod GET params result validResponse response responseNotEmpty response
_logProfile xml _logProfile has_default String defaultEgressRule rule Map String String e_params HashMap String String e_params put e_params put e_params put rule getSrcVlanTag String e_response request PaloAltoMethod GET e_params has_default validResponse e_response responseNotEmpty e_response has_default s_logger debug ruleName NodeList response_body Document doc getDocument e_response
privateVlanTag String String String ruleName genNetworkIsolationName privateVlanTag String String params String String params put params put params put ruleName String response request PaloAltoMethod GET params result validResponse response responseNotEmpty response
String String params String String params put params put params put _pingManagementProfile String response request PaloAltoMethod GET params result validResponse response responseNotEmpty response
String protocol String dstPorts String srcPorts String serviceName genServiceName protocol dstPorts srcPorts String String params String String params put params put params put serviceName String response request PaloAltoMethod GET params result validResponse response responseNotEmpty response
URI base URI apiUrl req setURI URI base getScheme base getUserInfo base getHost base getPort path e s_logger error apiUrl path e String content content getHttpClient execute req BasicResponseHandler s_logger info req e s_logger info req e e req reset content getHttpClient execute req BasicResponseHandler
e s_logger error apiUrl path e String content content getHttpClient execute req BasicResponseHandler s_logger info req e s_logger info req e e req reset content getHttpClient execute req BasicResponseHandler s_logger info req content
String content content getHttpClient execute req BasicResponseHandler s_logger info req e s_logger info req e e req reset content getHttpClient execute req BasicResponseHandler s_logger info req content e s_logger error req e
String tenantUuid _sspTenantDao findUuidByZone network getDataCenterId tenantUuid tenantUuid _configDao getValueAndInitIfNotExist processed SspClient client network network getDataCenterId SspClient TenantNetwork sspNet client createTenantNetwork tenantUuid network getName sspNet SspUuidVO uuid SspUuidVO uuid setUuid sspNet uuid uuid setObjClass SspUuidVO objClassNetwork uuid setObjId network getId _sspUuidDao persist uuid processed
tenantUuid tenantUuid _configDao getValueAndInitIfNotExist processed SspClient client network network SspClient TenantNetwork sspNet client createTenantNetwork tenantUuid network getName sspNet SspUuidVO uuid SspUuidVO uuid setUuid sspNet uuid uuid setObjClass SspUuidVO objClassNetwork uuid setObjId network getId _sspUuidDao persist uuid processed processed s_logger error network toString
network String tenantNetworkUuid _sspUuidDao findUuidByNetwork network tenantNetworkUuid
s_logger info reservationId String tenantPortUuid SspClient client SspClient TenantPort sspPort client createTenantPort tenantNetworkUuid sspPort tenantPortUuid sspPort uuid nic setReservationId reservationId SspUuidVO uuid SspUuidVO uuid setUuid tenantPortUuid uuid setObjClass SspUuidVO objClassNicProfile uuid setObjId nic getId uuid setReservationId reservationId _sspUuidDao persist uuid
SspUuidVO uuid SspUuidVO uuid setUuid tenantPortUuid uuid setObjClass SspUuidVO objClassNicProfile uuid setObjId nic getId uuid setReservationId reservationId _sspUuidDao persist uuid tenantPortUuid s_logger debug network toString SspClient client network network SspClient TenantPort sspPort client updateTenantVifBinding tenantPortUuid dest getHost getPrivateIpAddress sspPort sspPort nic setBroadcastType BroadcastDomainType Vlan
isDriverEnabled OutOfBandManagementDriverResponse output IPMITOOL executeCommands Arrays asList IpmiToolPath value output output isIpmiToolBinAvailable
List StoragePool plan List StoragePool suitablePools ArrayList StoragePool dcId plan getDataCenterId Long podId plan getPodId Long clusterId plan getClusterId podId s_logger debug dcId podId clusterId List StoragePoolVO pools storagePoolDao listBy dcId podId clusterId ScopeType CLUSTER pools s_logger s_logger debug suitablePools Collections shuffle pools s_logger
s_logger debug dcId podId clusterId List StoragePoolVO pools storagePoolDao listBy dcId podId clusterId ScopeType CLUSTER pools size s_logger s_logger debug suitablePools Collections shuffle pools s_logger s_logger debug pools size StoragePoolVO pool pools suitablePools size StoragePool pol StoragePool dataStoreMgr getPrimaryDataStore pool getId pol suitablePools add pol
String store String installPath format dataObject EndPoint ep _epSelector select store String path installPath String uuid UUID randomUUID toString format getFileExtension CreateEntityDownloadURLCommand cmd CreateEntityDownloadURLCommand ImageStoreEntity store getMountPoint path uuid dataObject getTO Answer ans ep String errMsg
store String installPath String downloadUrl entityType EndPoint ep _epSelector select store downloadUrl DeleteEntityDownloadURLCommand cmd DeleteEntityDownloadURLCommand installPath entityType downloadUrl ImageStoreEntity store getMountPoint Answer ans ep String errMsg
store S3TO s3 S3TO getStoreTO store
String store String SwiftTO swiftTO SwiftTO store getTO String tempKey UUID randomUUID toString result SwiftUtil setTempKey swiftTO tempKey result String errMsg tempKey
DataStore dataStore data Long maxTemplateSizeInBytes getMaxTemplateSizeInBytes VirtualMachineTemplate tmpl _templateDao findById data getId DataStore cacheStore cacheManager getCacheStorage dataStore getScope DownloadCommand dcmd DownloadCommand TemplateObjectTO data getTO maxTemplateSizeInBytes dcmd setCacheStore cacheStore getTO dcmd setProxy getHttpProxy EndPoint ep _epSelector select data ep String errMsg
Map String dsInfos Long dcId Long dsInfos get String url String dsInfos get String name String dsInfos get ScopeType scope ScopeType dsInfos get String providerName String dsInfos get DataStoreRole role DataStoreRole dsInfos get Map String String details Map String String dsInfos get
s_logger info SnapshotObjectTO snapshotTO SnapshotObjectTO snapshot getTO String volumeid snapshotTO getVolume getUuid String snapshotname snapshotTO getName Answer answer ElastistorUtil createElastistorVolumeSnapshot volumeid snapshotname answer s_logger info CloudRuntimeException s_logger info snapshotTO setPath answer getDetails CreateObjectAnswer createObjectAnswer CreateObjectAnswer snapshotTO result CreateCmdResult createObjectAnswer result setResult
List StoragePoolHostVO hostPoolRecords _storagePoolHostDao listByPoolId store getId StoragePool pool StoragePool store HypervisorType hType hostPoolRecords hType getHypervisorType hostPoolRecords get getHostId StoragePoolVO storagePoolVO _storagePoolDao findById store getId storagePoolVO StoragePoolHostVO host hostPoolRecords DeleteStoragePoolCommand deleteCmd DeleteStoragePoolCommand pool Answer answer agentMgr easySend host getHostId deleteCmd answer answer HypervisorType hType answer
List Class List Class cmdList ArrayList Class cmdList add ListElastistorVolumeCmd cmdList add ListElastistorPoolCmd cmdList add ListElastistorInterfaceCmd
List ListElastistorVolumeResponse volumeResponses ArrayList ListElastistorVolumeResponse ListElastistorVolumeResponse volumeResponse volumeResponse ListElastistorVolumeResponse volumeResponse setId listVolumeResponse getUuid volumeResponse setName listVolumeResponse getName volumeResponse setGraceAllowed listVolumeResponse getGraceallowed volumeResponse setDeduplication listVolumeResponse getDeduplication volumeResponse setCompression listVolumeResponse getCompression volumeResponse setSync listVolumeResponse getSync volumeResponse setObjectName volumeResponses add volumeResponse ListResponse ListElastistorVolumeResponse response ListResponse ListElastistorVolumeResponse response setResponses volumeResponses response
i i listPools getPools i elastistorPoolResponse ListElastistorPoolResponse elastistorPoolResponse setId listPools getPools getPool i getUuid elastistorPoolResponse setName listPools getPools getPool i getName elastistorPoolResponse setAvailIOPS Long parseLong listPools getPools getPool i getAvailIOPS elastistorPoolResponse setCurrentAvailableSpace Long parseLong listPools getPools getPool i getAvailableSpace elastistorPoolResponse setState listPools getPools getPool i getState elastistorPoolResponse setControllerid listPools getPools getPool i getControllerid elastistorPoolResponse setGateway listPools getPools getPool i getGateway elastistorPoolResponse setObjectName poolResponses add elastistorPoolResponse ListResponse ListElastistorPoolResponse response ListResponse ListElastistorPoolResponse response setResponses poolResponses response
ListInterfacesResponse listInterfacesResponse ElastistorUtil ListElastistorInterfaces cmd getControllerId List ListElastistorInterfaceResponse interfaceResponses ArrayList ListElastistorInterfaceResponse ListElastistorInterfaceResponse interfaceResponse i i listInterfacesResponse getInterfaces i interfaceResponse ListElastistorInterfaceResponse interfaceResponse setId listInterfacesResponse getInterfaces getInterface i getUuid interfaceResponse setName listInterfacesResponse getInterfaces getInterface i getName interfaceResponse setStatus listInterfacesResponse getInterfaces getInterface i getStatus interfaceResponse setObjectName interfaceResponses add interfaceResponse ListResponse ListElastistorInterfaceResponse response ListResponse ListElastistorInterfaceResponse response setResponses interfaceResponses response
dataObject host dataStore s_logger debug Preconditions checkArgument dataObject Preconditions checkArgument host Preconditions checkArgument dataStore storagePoolId dataStore getId DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao String appInstanceName getAppInstanceName dataObject DateraObject AppInstance appInstance getDateraAppInstance conn appInstanceName Preconditions checkArgument appInstance clusterId host getClusterId ClusterVO cluster _clusterDao findById clusterId GlobalLock lock GlobalLock getInternLock cluster getUuid lock lock
DateraObject AppInstance appInstance getDateraAppInstance conn appInstanceName Preconditions checkArgument appInstance clusterId host getClusterId ClusterVO cluster _clusterDao findById clusterId GlobalLock lock GlobalLock getInternLock cluster getUuid lock lock s_logger debug cluster getUuid DateraObject InitiatorGroup initiatorGroup String initiatorGroupKey DateraUtil getInitiatorGroupKey storagePoolId List HostVO hosts _hostDao findByClusterId clusterId DateraUtil hosts s_logger debug String initiatorGroupName DateraUtil INITIATOR_GROUP_PREFIX cluster getUuid
ClusterVO cluster _clusterDao findById clusterId GlobalLock lock GlobalLock getInternLock cluster getUuid lock lock s_logger debug cluster getUuid DateraObject InitiatorGroup initiatorGroup String initiatorGroupKey DateraUtil getInitiatorGroupKey storagePoolId List HostVO hosts _hostDao findByClusterId clusterId DateraUtil hosts s_logger debug String initiatorGroupName DateraUtil INITIATOR_GROUP_PREFIX cluster getUuid s_logger debug String valueOf initiatorGroupName initiatorGroup DateraUtil getInitiatorGroup conn initiatorGroupName initiatorGroup
initiatorGroup DateraUtil getInitiatorGroup conn initiatorGroupName initiatorGroup s_logger debug String valueOf initiatorGroupName initiatorGroup DateraUtil createInitiatorGroup conn initiatorGroupName ClusterDetailsVO clusterDetail ClusterDetailsVO clusterId initiatorGroupKey initiatorGroupName _clusterDetailsDao persist clusterDetail initiatorGroup DateraUtil getInitiatorGroup conn initiatorGroupName Preconditions checkNotNull initiatorGroup addClusterHostsToInitiatorGroup conn clusterId initiatorGroupName conn initiatorGroup DateraUtil assignGroupToAppInstance conn initiatorGroupName appInstanceName retries DateraUtil DEFAULT_RETRIES conn initiatorGroup retries Thread sleep DateraUtil POLL_TIMEOUT_MS
s_logger debug String valueOf initiatorGroupName initiatorGroup DateraUtil createInitiatorGroup conn initiatorGroupName ClusterDetailsVO clusterDetail ClusterDetailsVO clusterId initiatorGroupKey initiatorGroupName _clusterDetailsDao persist clusterDetail initiatorGroup DateraUtil getInitiatorGroup conn initiatorGroupName Preconditions checkNotNull initiatorGroup addClusterHostsToInitiatorGroup conn clusterId initiatorGroupName isInitiatorGroupAssignedToAppInstance conn initiatorGroup appInstance DateraUtil assignGroupToAppInstance conn initiatorGroupName appInstanceName retries DateraUtil DEFAULT_RETRIES isInitiatorGroupAssignedToAppInstance conn initiatorGroup appInstance retries Thread sleep DateraUtil POLL_TIMEOUT_MS retries Preconditions checkArgument isInitiatorGroupAssignedToAppInstance conn initiatorGroup appInstance
DateraObject conn clusterId String initiatorGroupName DateraObject List HostVO clusterHosts _hostDao findByClusterId clusterId DateraObject InitiatorGroup initiatorGroup DateraUtil getInitiatorGroup conn initiatorGroupName HostVO host clusterHosts String iqn host getStorageUrl DateraObject Initiator initiator DateraUtil getInitiator conn iqn String initiatorName initiator initiatorName DateraUtil INITIATOR_PREFIX host getUuid initiator DateraUtil createInitiator conn initiatorName iqn
dataObject host dataStore s_logger debug Preconditions checkArgument dataObject Preconditions checkArgument host Preconditions checkArgument dataStore String appInstanceName getAppInstanceName dataObject clusterId host getClusterId storagePoolId dataStore getId ClusterVO cluster _clusterDao findById clusterId GlobalLock lock GlobalLock getInternLock cluster getUuid lock lock
name add DateraUtil APPINSTANCE_PREFIX String dataObjectTypeString dataObject getType name String dataObjectTypeBrief dataObjectTypeBrief org apache commons lang StringUtils substring dataObjectTypeString name add dataObjectTypeBrief dataObject getType dataObject name add dataObject getUuid name add String valueOf dataObject getDataStore getId volumeInfo dataObject String volumeName volumeInfo getName name add String valueOf volumeName name add dataObject getUuid VolumeVO volumeVo _volumeDao findById dataObject getId
dateraError String errMesg storagePool getId s_logger warn errMesg dateraError CloudRuntimeException errMesg List SnapshotVO lstSnapshots _snapshotDao listAll lstSnapshots SnapshotVO snapshot lstSnapshots SnapshotDetailsVO snapshotDetails _snapshotDetailsDao findDetail snapshot getId DateraUtil STORAGE_POOL_ID snapshotDetails snapshotDetails getValue Long parseLong snapshotDetails getValue storagePool getId snapshotDetails _snapshotDetailsDao findDetail snapshot getId DateraUtil VOLUME_SIZE snapshotDetails snapshotDetails getValue snapshotSize Long parseLong snapshotDetails getValue usedSpaceBytes snapshotSize List VMTemplateStoragePoolVO lstTemplatePoolRefs tmpltPoolDao listByPoolId storagePool getId lstTemplatePoolRefs
volumeInfo storagePoolId s_logger debug Preconditions checkArgument volumeInfo Preconditions checkArgument storagePoolId verifySufficientBytesForStoragePool volumeInfo storagePoolId DateraObject AppInstance appInstance DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao csSnapshotId getCsIdForCloning volumeInfo getId csTemplateId getCsIdForCloning volumeInfo getId
appInstance DateraUtil getAppInstance conn appInstanceName s_logger debug appInstance createDateraVolume conn volumeInfo storagePoolId e String errMesg e getMessage s_logger warn errMesg CloudRuntimeException errMesg e appInstance String errMesg s_logger warn errMesg CloudRuntimeException errMesg Preconditions checkNotNull appInstance String iqn appInstance getIqn String iqnPath DateraUtil generateIqnPath iqn
appInstance DateraUtil getAppInstance conn appInstanceName s_logger debug appInstance createDateraVolume conn volumeInfo storagePoolId e String errMesg e getMessage s_logger warn errMesg CloudRuntimeException errMesg e appInstance String errMesg s_logger warn errMesg CloudRuntimeException errMesg Preconditions checkNotNull appInstance String iqn appInstance getIqn String iqnPath DateraUtil generateIqnPath iqn
minIops Ints checkedCast volumeInfo getMinIops volumeInfo getMinIops getDefaultMinIops storagePoolId maxIops Ints checkedCast volumeInfo getMaxIops volumeInfo getMaxIops getDefaultMaxIops storagePoolId maxIops maxIops Ints checkedCast getDefaultMaxIops storagePoolId replicas getNumReplicas storagePoolId String volumePlacement getVolPlacement storagePoolId String ipPool getIpPool storagePoolId volumeSizeBytes getDataObjectSizeIncludingHypervisorSnapshotReserve volumeInfo _storagePoolDao findById storagePoolId volumeSizeGib DateraUtil bytesToGib volumeSizeBytes volumePlacement appInstance DateraUtil createAppInstance conn getAppInstanceName volumeInfo volumeSizeGib maxIops replicas appInstance DateraUtil createAppInstance conn getAppInstanceName volumeInfo volumeSizeGib maxIops replicas volumePlacement ipPool s_logger debug
dataType s_logger debug VMTemplateStoragePoolVO templatePoolRef tmpltPoolDao findByPoolTemplate storagePoolId dataObjectId templatePoolRef baseAppInstanceName templatePoolRef getLocalDownloadPath baseAppInstanceName CloudRuntimeException volumeInfo getId dataType appInstance DateraUtil cloneAppInstanceFromVolume conn clonedAppInstanceName baseAppInstanceName ipPool dataType volumeInfo getMaxIops totalIops Math min DateraUtil MAX_IOPS Ints checkedCast volumeInfo getMaxIops DateraUtil updateAppInstanceIops conn clonedAppInstanceName totalIops appInstance DateraUtil getAppInstance conn clonedAppInstanceName String newPlacementMode getVolPlacement storagePoolId newPlacementMode
SnapshotDetailsVO snapshotDetails snapshotDetailsDao findDetail csSnapshotId DateraUtil SNAPSHOT_ID snapshotDetails snapshotDetails getValue CloudRuntimeException DateraUtil SNAPSHOT_ID DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao snapshotDetails snapshotDetailsDao findDetail csSnapshotId snapshotDetails snapshotDetails getValue snapshotDetails getValue snapshotDetails snapshotDetailsDao findDetail csSnapshotId DateraUtil SNAPSHOT_ID String snapshotName snapshotDetails getValue String clonedAppInstanceName getAppInstanceName snapshotInfo DateraObject AppInstance clonedAppInstance clonedAppInstance DateraUtil cloneAppInstanceFromSnapshot conn clonedAppInstanceName snapshotName ipPool DateraUtil pollAppInstanceAvailable conn clonedAppInstanceName DateraObject e String errMesg csSnapshotId e getMessage
snapshotDetails snapshotDetailsDao findDetail csSnapshotId snapshotDetails snapshotDetails getValue snapshotDetails getValue snapshotDetails snapshotDetailsDao findDetail csSnapshotId DateraUtil SNAPSHOT_ID String snapshotName snapshotDetails getValue String clonedAppInstanceName getAppInstanceName snapshotInfo DateraObject AppInstance clonedAppInstance clonedAppInstance DateraUtil cloneAppInstanceFromSnapshot conn clonedAppInstanceName snapshotName ipPool DateraUtil pollAppInstanceAvailable conn clonedAppInstanceName DateraObject e String errMesg csSnapshotId e getMessage s_logger error errMesg e CloudRuntimeException errMesg e clonedAppInstance CloudRuntimeException snapshotName
DateraObject AppInstance clonedAppInstance clonedAppInstance DateraUtil cloneAppInstanceFromSnapshot conn clonedAppInstanceName snapshotName ipPool DateraUtil pollAppInstanceAvailable conn clonedAppInstanceName DateraObject e String errMesg csSnapshotId e getMessage s_logger error errMesg e CloudRuntimeException errMesg e clonedAppInstance CloudRuntimeException snapshotName s_logger debug clonedAppInstanceName addTempVolumeToDb csSnapshotId clonedAppInstanceName handleSnapshotDetails csSnapshotId DiskTO IQN DateraUtil generateIqnPath clonedAppInstance getIqn snapshotDetails snapshotDetails snapshotDetails snapshotDetails snapshotDetailsDao findDetail csSnapshotId DateraUtil VOLUME_ID
String templateInfo storagePoolId s_logger debug verifySufficientBytesForStoragePool templateInfo storagePoolId DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao String iqn String appInstanceName templateSizeBytes getDataObjectSizeIncludingHypervisorSnapshotReserve templateInfo storagePoolDao findById storagePoolId
String templateInfo storagePoolId s_logger debug verifySufficientBytesForStoragePool templateInfo storagePoolId DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao String iqn String appInstanceName templateSizeBytes getDataObjectSizeIncludingHypervisorSnapshotReserve templateInfo storagePoolDao findById storagePoolId s_logger debug toHumanReadableSize templateSizeBytes templateSizeGib DateraUtil bytesToGib templateSizeBytes templateIops DateraUtil MAX_IOPS replicaCount getNumReplicas storagePoolId appInstanceName getAppInstanceName templateInfo String volumePlacement getVolPlacement storagePoolId String ipPool getIpPool storagePoolId
CloudRuntimeException templateInfo getId iqn appInstance getIqn VMTemplateStoragePoolVO templatePoolRef tmpltPoolDao findByPoolTemplate storagePoolId templateInfo getId templatePoolRef setInstallPath DateraUtil generateIqnPath iqn templatePoolRef setLocalDownloadPath appInstance getName templatePoolRef setTemplateSize DateraUtil gibToBytes appInstance getSize tmpltPoolDao update templatePoolRef getId templatePoolRef StoragePoolVO storagePool storagePoolDao findById storagePoolId capacityBytes storagePool getCapacityBytes usedBytes getUsedBytes storagePool storagePool setUsedBytes usedBytes capacityBytes capacityBytes usedBytes storagePoolDao update storagePoolId storagePool String errMesg appInstanceName
VMTemplateStoragePoolVO templatePoolRef tmpltPoolDao findByPoolTemplate storagePoolId templateInfo getId templatePoolRef setInstallPath DateraUtil generateIqnPath iqn templatePoolRef setLocalDownloadPath appInstance getName templatePoolRef setTemplateSize DateraUtil gibToBytes appInstance getSize tmpltPoolDao update templatePoolRef getId templatePoolRef StoragePoolVO storagePool storagePoolDao findById storagePoolId capacityBytes storagePool getCapacityBytes usedBytes getUsedBytes storagePool storagePool setUsedBytes usedBytes capacityBytes capacityBytes usedBytes storagePoolDao update storagePoolId storagePool dateraError dateraError String errMesg appInstanceName s_logger debug errMesg dateraError
dataStore dataObject String iqn String errMsg dataObject getType s_logger debug iqn createVolume VolumeInfo dataObject dataStore getId dataObject getType s_logger debug createTempVolume SnapshotInfo dataObject dataStore getId dataObject getType s_logger debug iqn createTemplateVolume TemplateInfo dataObject dataStore getId errMsg dataObject getType
dataObject getType s_logger debug iqn createVolume VolumeInfo dataObject dataStore getId dataObject getType s_logger debug createTempVolume SnapshotInfo dataObject dataStore getId dataObject getType s_logger debug iqn createTemplateVolume TemplateInfo dataObject dataStore getId errMsg dataObject getType s_logger error errMsg ex errMsg ex getMessage
String errMsg dataObject getType s_logger debug deleteVolume VolumeInfo dataObject dataStore getId dataObject getType s_logger debug deleteSnapshot SnapshotInfo dataObject dataStore getId dataObject getType s_logger debug deleteTemplate TemplateInfo dataObject dataStore getId errMsg dataObject getType ex errMsg ex getMessage
snapshotInfo CreateCmdResult s_logger debug CreateCmdResult result VolumeInfo volumeInfo snapshotInfo getBaseVolume VolumeVO volumeVO _volumeDao findById volumeInfo getId storagePoolId volumeVO getPoolId DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao String baseAppInstanceName getAppInstanceName volumeInfo DateraObject AppInstance baseAppInstance DateraUtil getAppInstance conn baseAppInstanceName Preconditions checkNotNull baseAppInstance SnapshotObjectTO snapshotObjectTo SnapshotObjectTO snapshotInfo getTO snapshotInfo getId DateraObject VolumeSnapshot volumeSnapshot DateraUtil takeVolumeSnapshot conn baseAppInstanceName volumeSnapshot
VolumeVO volumeVO _volumeDao findById volumeInfo getId storagePoolId volumeVO getPoolId DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao String baseAppInstanceName getAppInstanceName volumeInfo DateraObject AppInstance baseAppInstance DateraUtil getAppInstance conn baseAppInstanceName Preconditions checkNotNull baseAppInstance SnapshotObjectTO snapshotObjectTo SnapshotObjectTO snapshotInfo getTO snapshotInfo getId DateraObject VolumeSnapshot volumeSnapshot DateraUtil takeVolumeSnapshot conn baseAppInstanceName volumeSnapshot s_logger error baseAppInstanceName volumeInfo getId CloudRuntimeException volumeInfo getId String snapshotName baseAppInstanceName volumeSnapshot getTimestamp updateSnapshotDetails snapshotInfo getId baseAppInstanceName snapshotName storagePoolId baseAppInstance getSize snapshotObjectTo setPath snapshotName
String volumePlacement getVolPlacement storagePoolId String ipPool getIpPool storagePoolId usedBytes volumeSizeBytes usedBytes CloudRuntimeException String appInstanceName getAppInstanceName snapshotInfo DateraObject AppInstance snapshotAppInstance DateraUtil createAppInstance conn appInstanceName volumeSizeGib DateraUtil MAX_IOPS getNumReplicas storagePoolId volumePlacement ipPool snapshotObjectTo setPath snapshotAppInstance getName String iqnPath DateraUtil generateIqnPath snapshotAppInstance getIqn updateSnapshotDetails snapshotInfo getId snapshotAppInstance getName storagePoolId snapshotAppInstance getSize iqnPath snapshotObjectTo setPath snapshotAppInstance getName storagePool setUsedBytes usedBytes _storagePoolDao update storagePoolId storagePool CreateObjectAnswer createObjectAnswer CreateObjectAnswer snapshotObjectTo result CreateCmdResult createObjectAnswer
VolumeVO volume _volumeDao findById snapshot getVolumeId volume volume _volumeDao findByIdIncludingRemoved snapshot getVolumeId snapshot getVolumeId snapshot DateraUtil deleteAppInstance conn volume getFolder snapshotDetails snapshotDetailsDao findDetail csSnapshotId DateraUtil VOLUME_ID String appInstanceName snapshotDetails getValue DateraUtil deleteAppInstance conn appInstanceName snapshotDetailsDao removeDetails csSnapshotId StoragePoolVO storagePool storagePoolDao findById storagePoolId usedBytes getUsedBytes storagePool storagePool setUsedBytes usedBytes usedBytes storagePoolDao update storagePoolId storagePool
snapshotInfo VolumeInfo volumeInfo snapshotInfo getBaseVolume VolumeVO volumeVO _volumeDao findById volumeInfo getId storagePoolId volumeVO getPoolId csSnapshotId snapshotInfo getId
storagePoolId volumeVO getPoolId csSnapshotId snapshotInfo getId s_logger info String valueOf csSnapshotId volumeVO getName DateraObject AppInstance appInstance volumeVO volumeVO String errMsg CommandResult commandResult CommandResult commandResult setResult errMsg callback complete commandResult DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao SnapshotDetailsVO snapshotDetails snapshotDetailsDao findDetail csSnapshotId DateraUtil SNAPSHOT_ID snapshotDetails snapshotDetails getValue String snapshotName snapshotDetails getValue
CommandResult commandResult CommandResult commandResult setResult errMsg callback complete commandResult DateraObject DateraConnection conn DateraUtil getDateraConnection storagePoolId _storagePoolDetailsDao SnapshotDetailsVO snapshotDetails snapshotDetailsDao findDetail csSnapshotId DateraUtil SNAPSHOT_ID snapshotDetails snapshotDetails getValue String snapshotName snapshotDetails getValue s_logger info snapshotName appInstance DateraUtil restoreVolumeSnapshot conn snapshotName Preconditions checkNotNull appInstance updateVolumeDetails volumeInfo getId appInstance getSize CommandResult commandResult CommandResult callback complete commandResult
String volPlacement DateraUtil getVolPlacement url String clusterAdminUsername DateraUtil getValue DateraUtil CLUSTER_ADMIN_USERNAME url String clusterAdminPassword DateraUtil getValue DateraUtil CLUSTER_ADMIN_PASSWORD url String uuid String randomString PrimaryDataStoreParameters parameters PrimaryDataStoreParameters clusterId CloudRuntimeException CloudRuntimeException ClusterVO cluster _clusterDao findById clusterId String clusterUuid cluster getUuid randomString DateraUtil generateUUID clusterUuid uuid DateraUtil PROVIDER_NAME clusterUuid randomString
CloudRuntimeException ClusterVO cluster _clusterDao findById clusterId String clusterUuid cluster getUuid randomString DateraUtil generateUUID clusterUuid uuid DateraUtil PROVIDER_NAME clusterUuid randomString s_logger debug uuid parameters setPodId podId parameters setClusterId clusterId HypervisorType hypervisorType getHypervisorTypeForCluster clusterId hypervisorType CloudRuntimeException hypervisorType DataCenterVO zone zoneDao findById zoneId String zoneUuid zone getUuid randomString DateraUtil generateUUID zoneUuid
HypervisorType hypervisorType getHypervisorTypeForCluster clusterId hypervisorType CloudRuntimeException hypervisorType DataCenterVO zone zoneDao findById zoneId String zoneUuid zone getUuid randomString DateraUtil generateUUID zoneUuid uuid DateraUtil PROVIDER_NAME zoneUuid randomString s_logger debug uuid IllegalArgumentException IllegalArgumentException domainName domainName
hostId HostVO host _hostDao findById hostId host
hostId clusterId ClusterVO clusterVO _clusterDao findById clusterId HostVO hostVO _hostDao findByIdIncludingRemoved hostId String initiatorName DateraUtil INITIATOR_PREFIX hostVO getUuid s_lockTimeInSeconds GlobalLock lock GlobalLock getInternLock clusterVO getUuid lock lock s_lockTimeInSeconds String errMsg clusterVO getUuid
Answer answer CreateCmdResult result CreateCmdResult data answer createVolume VolumeInfo data answer answer result setSuccess answer result setResult answer getDetails result setAnswer answer e s_logger debug e errMsg e toString e
EndPoint ep data ep epSelector select data StorageAction DELETEVOLUME ep epSelector select data ep String errMsg s_logger error errMsg result setResult errMsg Answer answer ep sendMessage cmd answer answer result setResult answer getDetails
templateObjectTO setPhysicalSize srcdata getSize templateObjectTO setFormat Storage ImageFormat RAW CopyCmdAnswer answer CopyCmdAnswer templateObjectTO CopyCommandResult result CopyCommandResult answer callback complete result srcdata destData primaryStorageDownloadWait StorageManager PRIMARY_STORAGE_DOWNLOAD_WAIT value StoragePoolVO storagePoolVO primaryStoreDao findById store getId DataStore imageStore templateManager getImageStore storagePoolVO getDataCenterId srcdata getId DataObject srcData templateDataFactory getTemplate srcdata getId imageStore CopyCommand cmd CopyCommand srcData getTO destData getTO primaryStorageDownloadWait EndPoint ep epSelector select srcData destData Answer answer ep String errMsg
CreateObjectCommand cmd CreateObjectCommand snapshotTO EndPoint ep epSelector select snapshot StorageAction TAKESNAPSHOT Answer answer ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd result CreateCmdResult answer answer answer result setResult answer getDetails callback complete result
snapshot snapshotOnPrimaryStore CommandResult SnapshotObjectTO snapshotTO SnapshotObjectTO snapshot getTO RevertSnapshotCommand cmd RevertSnapshotCommand snapshotTO CommandResult result CommandResult EndPoint ep epSelector select snapshotOnPrimaryStore ep String errMsg
snapshot snapshotOnPrimaryStore CommandResult SnapshotObjectTO snapshotTO SnapshotObjectTO snapshot getTO RevertSnapshotCommand cmd RevertSnapshotCommand snapshotTO CommandResult result CommandResult EndPoint ep epSelector select snapshotOnPrimaryStore ep String errMsg s_logger error errMsg result setResult errMsg Answer answer ep sendMessage cmd answer answer result setResult answer getDetails
data CreateCmdResult VolumeObject vol VolumeObject data StoragePool pool StoragePool data getDataStore ResizeVolumePayload resizeParameter ResizeVolumePayload vol getpayload ResizeVolumeCommand resizeCmd ResizeVolumeCommand vol getPath StorageFilerTO pool vol getSize resizeParameter newSize resizeParameter shrinkOk resizeParameter instanceName CreateCmdResult result CreateCmdResult ResizeVolumeAnswer answer ResizeVolumeAnswer storageMgr sendToPool pool resizeParameter hosts resizeCmd answer answer finalSize answer getNewSize
ResizeVolumeCommand resizeCmd ResizeVolumeCommand vol getPath StorageFilerTO pool vol getSize resizeParameter newSize resizeParameter shrinkOk resizeParameter instanceName CreateCmdResult result CreateCmdResult ResizeVolumeAnswer answer ResizeVolumeAnswer storageMgr sendToPool pool resizeParameter hosts resizeCmd answer answer finalSize answer getNewSize s_logger debug toHumanReadableSize vol getSize toHumanReadableSize finalSize vol setSize finalSize vol update answer result setResult answer getDetails s_logger debug result setResult
uri String uriPath uri getPath uriPath InvalidParameterValueException uri String uriHost uri getHost String uriPath uri getPath uriHost uriPath uriHost uriPath InvalidParameterValueException InvalidParameterValueException url String tags String dsInfos get Map String String details Map String String dsInfos get parameters setTags tags parameters setDetails details
String uriPath uri getPath uriPath uriPath InvalidParameterValueException InvalidParameterValueException url String tags String dsInfos get Map String String details Map String String dsInfos get parameters setTags tags parameters setDetails details String scheme uri getScheme String storageHost uri getHost String hostPath hostPath URLDecoder decode uri getPath
List StoragePoolHostVO hostPoolRecords _storagePoolHostDao listByPoolId store getId StoragePool pool StoragePool store deleteFlag HypervisorType hType hostPoolRecords hType getHypervisorType hostPoolRecords get getHostId StoragePoolHostVO host hostPoolRecords DeleteStoragePoolCommand deleteCmd DeleteStoragePoolCommand pool Answer answer agentMgr easySend host getHostId deleteCmd answer answer deleteFlag HypervisorType hType answer
object method params StringBuilder sb StringBuilder NmsRequest nmsRequest NmsRequest object method params
vol EndPoint ep selector select vol ep String errMsg
dataStore dataObject String iqn String errMsg dataObject getType iqn createVolume VolumeInfo dataObject dataStore getId dataObject getType createTempVolume SnapshotInfo dataObject dataStore getId dataObject getType iqn createTemplateVolume TemplateInfo dataObject dataStore getId errMsg dataObject getType LOGGER error errMsg ex errMsg ex getMessage
sfNewSnapshotName StringUtils left volumeInfo getName volumeInfo getName length trimRequired snapshotInfo getUuid sfNewSnapshotId SolidFireUtil createSnapshot sfConnection sfVolumeId SolidFireUtil getSolidFireVolumeName sfNewSnapshotName getSnapshotAttributes snapshotInfo updateSnapshotDetails snapshotInfo getId volumeInfo getId sfVolumeId sfNewSnapshotId storagePoolId sfVolumeSize snapshotObjectTo setPath sfNewSnapshotId String sfNewVolumeName volumeInfo getName snapshotInfo getUuid Iops iops getIops MIN_IOPS_FOR_SNAPSHOT_VOLUME MAX_IOPS_FOR_SNAPSHOT_VOLUME storagePoolId sfNewVolumeId SolidFireUtil createVolume sfConnection SolidFireUtil getSolidFireVolumeName sfNewVolumeName sfVolume getAccountId sfVolumeSize sfVolume isEnable512e getSnapshotAttributes snapshotInfo iops getMinIops iops getMaxIops iops getBurstIops SolidFireUtil SolidFireVolume sfNewVolume SolidFireUtil getVolume sfConnection sfNewVolumeId updateSnapshotDetails snapshotInfo getId sfNewVolumeId storagePoolId sfVolumeSize sfNewVolume getIqn snapshotObjectTo setPath sfNewVolumeId storagePoolDao update storagePoolId storagePool CreateObjectAnswer createObjectAnswer CreateObjectAnswer snapshotObjectTo result CreateCmdResult createObjectAnswer result setResult
SolidFireUtil SolidFireConnection sfConnection SolidFireUtil getSolidFireConnection storagePoolId storagePoolDetailsDao volumeId performBasicDeleteByFolder sfConnection volumeId volumeId performBasicDelete sfConnection volumeId volumeId performBasicDeleteFailure sfConnection volumeId deleteSolidFireVolume sfConnection volumeInfo volumeDetailsDao removeDetails volumeId StoragePoolVO storagePool storagePoolDao findById storagePoolId usedBytes getUsedBytes storagePool volumeId storagePool setUsedBytes usedBytes usedBytes storagePoolDao update storagePoolId storagePool
SolidFireUtil SolidFireConnection sfConnection SolidFireUtil getSolidFireConnection storagePoolId storagePoolDetailsDao SnapshotDetailsVO snapshotDetails snapshotDetailsDao findDetail csSnapshotId SolidFireUtil SNAPSHOT_ID snapshotDetails snapshotDetails getValue sfSnapshotId Long parseLong snapshotDetails getValue deleteSolidFireSnapshot sfConnection csSnapshotId sfSnapshotId snapshotDetails snapshotDetailsDao findDetail csSnapshotId SolidFireUtil VOLUME_ID sfVolumeId Long parseLong snapshotDetails getValue SolidFireUtil deleteVolume sfConnection sfVolumeId snapshotDetailsDao removeDetails csSnapshotId StoragePoolVO storagePool storagePoolDao findById storagePoolId usedBytes getUsedBytes storagePool storagePool setUsedBytes usedBytes usedBytes storagePoolDao update storagePoolId storagePool
details put SolidFireUtil MANAGEMENT_PORT String valueOf managementPort String clusterAdminUsername SolidFireUtil getValue SolidFireUtil CLUSTER_ADMIN_USERNAME url String clusterAdminPassword SolidFireUtil getValue SolidFireUtil CLUSTER_ADMIN_PASSWORD url details put SolidFireUtil CLUSTER_ADMIN_USERNAME clusterAdminUsername details put SolidFireUtil CLUSTER_ADMIN_PASSWORD clusterAdminPassword capacityBytes SolidFireUtil MIN_VOLUME_SIZE capacityBytes SolidFireUtil MIN_VOLUME_SIZE lMinIops lMaxIops lBurstIops String minIops SolidFireUtil getValue SolidFireUtil MIN_IOPS url minIops minIops lMinIops Long parseLong minIops
capacityBytes SolidFireUtil MIN_VOLUME_SIZE lMinIops lMaxIops lBurstIops String minIops SolidFireUtil getValue SolidFireUtil MIN_IOPS url minIops minIops lMinIops Long parseLong minIops ex LOGGER info ex getLocalizedMessage String maxIops SolidFireUtil getValue SolidFireUtil MAX_IOPS url maxIops maxIops lMaxIops Long parseLong maxIops ex
Long clusterId Long hostId DeleteStoragePoolCommand deleteCmd DeleteStoragePoolCommand storagePool deleteCmd setRemoveDatastore Map String String details HashMap StoragePoolDetailVO storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil DATASTORE_NAME details put DeleteStoragePoolCommand DATASTORE_NAME storagePoolDetail getValue storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil IQN details put DeleteStoragePoolCommand IQN storagePoolDetail getValue storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil STORAGE_VIP details put DeleteStoragePoolCommand STORAGE_HOST storagePoolDetail getValue storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil STORAGE_PORT details put DeleteStoragePoolCommand STORAGE_PORT storagePoolDetail getValue
details put DeleteStoragePoolCommand DATASTORE_NAME storagePoolDetail getValue storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil IQN details put DeleteStoragePoolCommand IQN storagePoolDetail getValue storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil STORAGE_VIP details put DeleteStoragePoolCommand STORAGE_HOST storagePoolDetail getValue storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil STORAGE_PORT details put DeleteStoragePoolCommand STORAGE_PORT storagePoolDetail getValue deleteCmd setDetails details Answer answer agentMgr easySend host getHostId deleteCmd answer answer LOGGER info host getHostId HostVO hostVO hostDao findById host getHostId hostVO clusterId hostVO getClusterId hostId hostVO getId
details put DeleteStoragePoolCommand IQN storagePoolDetail getValue storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil STORAGE_VIP details put DeleteStoragePoolCommand STORAGE_HOST storagePoolDetail getValue storagePoolDetail storagePoolDetailsDao findDetail storagePool getId SolidFireUtil STORAGE_PORT details put DeleteStoragePoolCommand STORAGE_PORT storagePoolDetail getValue deleteCmd setDetails details Answer answer agentMgr easySend host getHostId deleteCmd answer answer LOGGER info host getHostId HostVO hostVO hostDao findById host getHostId hostVO clusterId hostVO getClusterId hostId hostVO getId
hostId HostVO host hostDao findById hostId host
hostId HostVO host hostDao findById hostId host
SolidFireVag SolidFireVag sfVags clusterUuId SolidFireVag SolidFireVag sfVagMatchingClusterId sfVags stream filter vag vag getName equals clusterUuId findFirst orElse sfVagMatchingClusterId
accountName domain Account account _accountService getActiveAccountByName accountName domain getId account
List LdapUser users groupName users _ldapManager getUsersInGroup groupName domainId users _ldapManager getUsers domainId ex users ArrayList LdapUser s_logger info ex getMessage List LdapUser addedUsers ArrayList LdapUser LdapUser user users Domain domain getDomain user createCloudstackUserAccount user getAccountName user domain addedUsers add user
LinkAccountToLdapResponse response _ldapManager linkAccountToLdap admin LdapUser ldapUser ldapUser _ldapManager getUser admin type ldapDomain domainId e LOGGER debug admin e ldapUser ldapUser Account account _accountService getActiveAccountByName admin domainId account UserAccount userAccount _accountService createUserAccount admin ldapUser getFirstname ldapUser getLastname ldapUser getEmail admin Account ACCOUNT_TYPE_DOMAIN_ADMIN RoleType DomainAdmin getId domainId UUID randomUUID toString UUID randomUUID toString User Source LDAP response setAdminId String valueOf userAccount getAccountId
LinkAccountToLdapResponse response _ldapManager linkAccountToLdap admin LdapUser ldapUser ldapUser _ldapManager getUser admin type ldapDomain domainId e LOGGER debug admin e ldapUser ldapUser Account account _accountService getActiveAccountByName admin domainId account UserAccount userAccount _accountService createUserAccount admin ldapUser getFirstname ldapUser getLastname ldapUser getEmail admin Account ACCOUNT_TYPE_DOMAIN_ADMIN RoleType DomainAdmin getId domainId UUID randomUUID toString UUID randomUUID toString User Source LDAP response setAdminId String valueOf userAccount getAccountId LOGGER info admin domainId e
LdapUser ldapUser ldapUser _ldapManager getUser admin type ldapDomain domainId e LOGGER debug admin e ldapUser ldapUser Account account _accountService getActiveAccountByName admin domainId account UserAccount userAccount _accountService createUserAccount admin ldapUser getFirstname ldapUser getLastname ldapUser getEmail admin Account ACCOUNT_TYPE_DOMAIN_ADMIN RoleType DomainAdmin getId domainId UUID randomUUID toString UUID randomUUID toString User Source LDAP response setAdminId String valueOf userAccount getAccountId LOGGER info admin domainId e LOGGER info admin domainId e
ldapUser _ldapManager getUser admin type ldapDomain domainId e LOGGER debug admin e ldapUser ldapUser Account account _accountService getActiveAccountByName admin domainId account UserAccount userAccount _accountService createUserAccount admin ldapUser getFirstname ldapUser getLastname ldapUser getEmail admin Account ACCOUNT_TYPE_DOMAIN_ADMIN RoleType DomainAdmin getId domainId UUID randomUUID toString UUID randomUUID toString User Source LDAP response setAdminId String valueOf userAccount getAccountId LOGGER info admin domainId e LOGGER info admin domainId e LOGGER debug admin domainId
LinkDomainToLdapResponse response _ldapManager linkDomainToLdap admin LdapUser ldapUser ldapUser _ldapManager getUser admin type getLdapDomain domainId e s_logger debug admin e ldapUser ldapUser Account account _accountService getActiveAccountByName admin domainId account UserAccount userAccount _accountService createUserAccount admin ldapUser getFirstname ldapUser getLastname ldapUser getEmail admin Account ACCOUNT_TYPE_DOMAIN_ADMIN RoleType DomainAdmin getId domainId UUID randomUUID toString UUID randomUUID toString User Source LDAP response setAdminId String valueOf userAccount getAccountId
LinkDomainToLdapResponse response _ldapManager linkDomainToLdap admin LdapUser ldapUser ldapUser _ldapManager getUser admin type getLdapDomain domainId e s_logger debug admin e ldapUser ldapUser Account account _accountService getActiveAccountByName admin domainId account UserAccount userAccount _accountService createUserAccount admin ldapUser getFirstname ldapUser getLastname ldapUser getEmail admin Account ACCOUNT_TYPE_DOMAIN_ADMIN RoleType DomainAdmin getId domainId UUID randomUUID toString UUID randomUUID toString User Source LDAP response setAdminId String valueOf userAccount getAccountId s_logger info admin domainId e
LdapUser ldapUser ldapUser _ldapManager getUser admin type getLdapDomain domainId e s_logger debug admin e ldapUser ldapUser Account account _accountService getActiveAccountByName admin domainId account UserAccount userAccount _accountService createUserAccount admin ldapUser getFirstname ldapUser getLastname ldapUser getEmail admin Account ACCOUNT_TYPE_DOMAIN_ADMIN RoleType DomainAdmin getId domainId UUID randomUUID toString UUID randomUUID toString User Source LDAP response setAdminId String valueOf userAccount getAccountId s_logger info admin domainId e s_logger info admin domainId e
ldapUser _ldapManager getUser admin type getLdapDomain domainId e s_logger debug admin e ldapUser ldapUser Account account _accountService getActiveAccountByName admin domainId account UserAccount userAccount _accountService createUserAccount admin ldapUser getFirstname ldapUser getLastname ldapUser getEmail admin Account ACCOUNT_TYPE_DOMAIN_ADMIN RoleType DomainAdmin getId domainId UUID randomUUID toString UUID randomUUID toString User Source LDAP response setAdminId String valueOf userAccount getAccountId s_logger info admin domainId e s_logger info admin domainId e s_logger debug admin domainId
String String groupName domainId StringBuilder userObjectFilter StringBuilder userObjectFilter append userObjectFilter append _ldapConfiguration getUserObject domainId userObjectFilter append StringBuilder memberOfFilter StringBuilder String groupCnName _ldapConfiguration getCommonNameAttribute groupName _ldapConfiguration getBaseDn domainId memberOfFilter append append getMemberOfAttribute domainId append memberOfFilter append groupCnName memberOfFilter append StringBuilder result StringBuilder result append result append userObjectFilter result append memberOfFilter result append
Pair Boolean ActionOnFailedAuthentication Pair Boolean ActionOnFailedAuthentication rc Pair Boolean ActionOnFailedAuthentication
domainId String type String name accountType Validate notNull type Validate notNull domainId Validate notEmpty name Validate isTrue accountType accountType LinkType linkType LdapManager LinkType valueOf type toUpperCase LdapTrustMapVO vo _ldapTrustMapDao persist LdapTrustMapVO domainId linkType name accountType DomainVO domain domainDao findById vo getDomainId String domainUuid domain
Validate notEmpty cmd getAccountName Validate notEmpty cmd getLdapDomain Validate notNull cmd getType Validate notEmpty cmd getLdapDomain LinkType linkType LdapManager LinkType valueOf cmd getType toUpperCase Account account accountDao findActiveAccount cmd getAccountName cmd getDomainId account account AccountVO cmd getAccountName cmd getDomainId cmd getAccountType UUID randomUUID toString accountDao persist AccountVO account Long accountId account getAccountId clearOldAccountMapping cmd LdapTrustMapVO vo _ldapTrustMapDao persist LdapTrustMapVO cmd getDomainId linkType cmd getLdapDomain cmd getAccountType accountId DomainVO domain domainDao findById vo getDomainId String domainUuid domain
cmd LdapTrustMapVO oldVo _ldapTrustMapDao findGroupInDomain cmd getDomainId cmd getLdapDomain oldVo oldVo getAccountId AccountVO oldAcount accountDao findByIdIncludingRemoved oldVo getAccountId String msg String format cmd getLdapDomain oldVo getAccountId cmd getDomainId oldAcount msg
LdapTrustMapVO oldVo _ldapTrustMapDao findGroupInDomain cmd getDomainId cmd getLdapDomain oldVo oldVo getAccountId AccountVO oldAcount accountDao findByIdIncludingRemoved oldVo getAccountId String msg String format cmd getLdapDomain oldVo getAccountId cmd getDomainId oldAcount msg LOGGER error msg CloudRuntimeException msg msg LOGGER warn msg _ldapTrustMapDao expunge oldVo getId String msg String format cmd getLdapDomain cmd getDomainId
StringBuilder memberOfFilter StringBuilder
List LdapUser String groupName context domainId String attributeName _ldapConfiguration getGroupUniqueMemberAttribute domainId SearchControls controls SearchControls controls setSearchScope _ldapConfiguration getScope controls setReturningAttributes String attributeName NamingEnumeration SearchResult result context search _ldapConfiguration getBaseDn domainId generateGroupSearchFilter groupName domainId controls List LdapUser users ArrayList LdapUser result Attribute attribute result nextElement getAttributes get attributeName NamingEnumeration values attribute getAll values String userdn String valueOf values nextElement users add getUserForDn userdn context domainId
params ApiConstants DOMAIN domainPath String params get ApiConstants DOMAIN domainPath domainPath domainPath domainPath domainPath domainPath domainPath domainPath SAMLProviderMetadata spMetadata samlAuthManager getSPMetadata SAMLProviderMetadata idpMetadata samlAuthManager getIdPMetadata idpId idpMetadata ServerApiException ApiErrorCode PARAM_ERROR apiServer getSerializedApiError ApiErrorCode PARAM_ERROR getHttpCode idpId params responseType idpMetadata idpMetadata ServerApiException ApiErrorCode PARAM_ERROR apiServer getSerializedApiError ApiErrorCode PARAM_ERROR getHttpCode idpId idpMetadata getContactPersonName idpMetadata getContactPersonEmail params responseType String authnId SAMLUtils generateSecureRandomId samlAuthManager saveToken authnId domainPath idpMetadata getEntityId
String String String String responseType auditTrailSb resp auditTrailSb append LogoutCmdResponse response LogoutCmdResponse response setDescription response setResponseName getCommandName String responseString ApiResponseSerializer toSerializedString response responseType resp sendRedirect SAML2AuthManager SAMLCloudStackRedirectionUrl value ignored s_logger info ignored responseString DefaultBootstrap bootstrap
ignored s_logger info ignored responseString DefaultBootstrap bootstrap e s_logger error e getMessage ServerApiException ApiErrorCode ACCOUNT_ERROR _apiServer getSerializedApiError ApiErrorCode ACCOUNT_ERROR getHttpCode params responseType params params String samlResponse String params get SAMLPluginConstants SAML_RESPONSE Response processedSAMLResponse SAMLUtils decodeSAMLResponse samlResponse String statusCode processedSAMLResponse getStatus getStatusCode getValue statusCode ServerApiException ApiErrorCode INTERNAL_ERROR _apiServer getSerializedApiError ApiErrorCode INTERNAL_ERROR getHttpCode params responseType
String samlResponse String params get SAMLPluginConstants SAML_RESPONSE Response processedSAMLResponse SAMLUtils decodeSAMLResponse samlResponse String statusCode processedSAMLResponse getStatus getStatusCode getValue statusCode ServerApiException ApiErrorCode INTERNAL_ERROR _apiServer getSerializedApiError ApiErrorCode INTERNAL_ERROR getHttpCode params responseType e s_logger error e getMessage resp sendRedirect SAML2AuthManager SAMLCloudStackRedirectionUrl value ignored s_logger info ignored responseString String idpId String session getAttribute SAMLPluginConstants SAML_IDPID SAMLProviderMetadata idpMetadata _samlAuthManager getIdPMetadata idpId
e s_logger error e getMessage resp sendRedirect SAML2AuthManager SAMLCloudStackRedirectionUrl value ignored s_logger info ignored responseString String idpId String session getAttribute SAMLPluginConstants SAML_IDPID SAMLProviderMetadata idpMetadata _samlAuthManager getIdPMetadata idpId String nameId String session getAttribute SAMLPluginConstants SAML_NAMEID idpMetadata nameId nameId resp sendRedirect SAML2AuthManager SAMLCloudStackRedirectionUrl value ignored s_logger info ignored
descriptor SAMLProviderMetadata SAMLProviderMetadata idpMetadata SAMLProviderMetadata idpMetadata setEntityId descriptor getEntityID
s_logger error _timer Timer HttpClient client HttpClient String idpMetaDataUrl getSAMLIdentityProviderMetadataURL SAMLTimeout value SAMLTimeout value _refreshInterval SAMLTimeout value DefaultBootstrap bootstrap idpMetaDataUrl _idpMetaDataProvider HTTPMetadataProvider _timer client idpMetaDataUrl File metadataFile PropertiesUtil findConfigFile idpMetaDataUrl metadataFile
_timer Timer HttpClient client HttpClient String idpMetaDataUrl getSAMLIdentityProviderMetadataURL SAMLTimeout value SAMLTimeout value _refreshInterval SAMLTimeout value DefaultBootstrap bootstrap idpMetaDataUrl _idpMetaDataProvider HTTPMetadataProvider _timer client idpMetaDataUrl File metadataFile PropertiesUtil findConfigFile idpMetaDataUrl metadataFile s_logger error idpMetaDataUrl
File metadataFile PropertiesUtil findConfigFile idpMetaDataUrl metadataFile s_logger error idpMetaDataUrl s_logger debug metadataFile getAbsolutePath _idpMetaDataProvider FilesystemMetadataProvider _timer metadataFile _idpMetaDataProvider setRequireValidMetadata _idpMetaDataProvider setParserPool BasicParserPool _idpMetaDataProvider initialize _timer scheduleAtFixedRate MetadataRefreshTask _refreshInterval e s_logger error e getMessage s_logger error
metadataFile s_logger error idpMetaDataUrl s_logger debug metadataFile getAbsolutePath _idpMetaDataProvider FilesystemMetadataProvider _timer metadataFile _idpMetaDataProvider setRequireValidMetadata _idpMetaDataProvider setParserPool BasicParserPool _idpMetaDataProvider initialize _timer scheduleAtFixedRate MetadataRefreshTask _refreshInterval e s_logger error e getMessage s_logger error e
dcId plan getDataCenterId Long podId plan getPodId Long clusterId plan getClusterId ServiceOffering offering vmProfile getServiceOffering VMTemplateVO template VMTemplateVO vmProfile getTemplate Account account vmProfile getOwner isVMDeployedWithUefi UserVmDetailVO userVmDetailVO _userVmDetailsDao findDetail vmProfile getId userVmDetailVO userVmDetailVO userVmDetailVO isVMDeployedWithUefi s_logger info isVMDeployedWithUefi Host ArrayList Host s_logger
s_logger info isVMDeployedWithUefi type Host ArrayList Host s_logger s_logger debug dcId podId clusterId String hostTagOnOffering offering getHostTag String hostTagOnTemplate template getTemplateTag String hostTagUefi hasSvcOfferingTag hostTagOnOffering hasTemplateTag hostTagOnTemplate List HostVO clusterHosts ArrayList HostVO List HostVO hostsMatchingUefiTag ArrayList HostVO isVMDeployedWithUefi hostsMatchingUefiTag _hostDao listByHostCapability type clusterId podId dcId Host HOST_UEFI_ENABLE s_logger
hasSvcOfferingTag hostTagOnOffering hasTemplateTag hostTagOnTemplate List HostVO clusterHosts ArrayList HostVO List HostVO hostsMatchingUefiTag ArrayList HostVO hostsMatchingUefiTag _hostDao listByHostCapability type clusterId podId dcId Host HOST_UEFI_ENABLE s_logger s_logger debug hostTagUefi hostsMatchingUefiTag String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag haVmTag clusterHosts _hostDao listByHostTag type clusterId podId dcId haVmTag hostTagOnOffering hostTagOnTemplate clusterHosts _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId
List HostVO hostsMatchingUefiTag ArrayList HostVO hostsMatchingUefiTag _hostDao listByHostCapability type clusterId podId dcId Host HOST_UEFI_ENABLE s_logger s_logger debug hostTagUefi hostsMatchingUefiTag String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag haVmTag clusterHosts _hostDao listByHostTag type clusterId podId dcId haVmTag clusterHosts _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId List HostVO hostsMatchingOfferingTag ArrayList HostVO List HostVO hostsMatchingTemplateTag ArrayList HostVO
s_logger s_logger debug hostTagUefi hostsMatchingUefiTag String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag haVmTag clusterHosts _hostDao listByHostTag type clusterId podId dcId haVmTag hostTagOnOffering clusterHosts _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId List HostVO hostsMatchingOfferingTag ArrayList HostVO List HostVO hostsMatchingTemplateTag ArrayList HostVO s_logger s_logger debug hostTagOnOffering hostsMatchingOfferingTag _hostDao listByHostTag type clusterId podId dcId hostTagOnOffering
String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag haVmTag clusterHosts _hostDao listByHostTag type clusterId podId dcId haVmTag hostTagOnOffering clusterHosts _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId List HostVO hostsMatchingOfferingTag ArrayList HostVO List HostVO hostsMatchingTemplateTag ArrayList HostVO s_logger s_logger debug hostTagOnOffering hostsMatchingOfferingTag _hostDao listByHostTag type clusterId podId dcId hostTagOnOffering s_logger s_logger debug hostTagOnOffering hostsMatchingOfferingTag
hostTagOnOffering hostTagOnTemplate clusterHosts _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId List HostVO hostsMatchingOfferingTag ArrayList HostVO List HostVO hostsMatchingTemplateTag ArrayList HostVO s_logger s_logger debug hostTagOnOffering hostsMatchingOfferingTag _hostDao listByHostTag type clusterId podId dcId hostTagOnOffering s_logger s_logger debug hostTagOnOffering hostsMatchingOfferingTag s_logger s_logger debug hostTagOnTemplate
type suitableHosts String hostTagOnOffering offering getHostTag String hostTagOnTemplate template getTemplateTag hasSvcOfferingTag hostTagOnOffering hasTemplateTag hostTagOnTemplate String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag haVmTag hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId haVmTag hostTagOnOffering hostTagOnTemplate hostsCopy retainAll _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId hasSvcOfferingTag
String hostTagOnOffering offering getHostTag String hostTagOnTemplate template getTemplateTag hasSvcOfferingTag hostTagOnOffering hasTemplateTag hostTagOnTemplate String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag haVmTag hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId haVmTag hostTagOnOffering hostTagOnTemplate hostsCopy retainAll _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId hasSvcOfferingTag s_logger s_logger debug hostTagOnOffering hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId hostTagOnOffering
hasTemplateTag hostTagOnTemplate String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag haVmTag hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId haVmTag hostTagOnOffering hostTagOnTemplate hostsCopy retainAll _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId s_logger s_logger debug hostTagOnOffering hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId hostTagOnOffering s_logger s_logger debug hostTagOnOffering hostsCopy hasTemplateTag
hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId haVmTag hostTagOnOffering hostTagOnTemplate hostsCopy retainAll _resourceMgr listAllUpAndEnabledNonHAHosts type clusterId podId dcId s_logger s_logger debug hostTagOnOffering hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId hostTagOnOffering s_logger s_logger debug hostTagOnOffering hostsCopy s_logger s_logger debug hostTagOnTemplate hostsCopy retainAll _hostDao listByHostTag type clusterId podId dcId hostTagOnTemplate
hosts reorderHostsByCapacity plan hosts s_logger s_logger debug hosts size hosts hosts prioritizeHosts template offering hosts s_logger s_logger debug hosts size hosts s_logger s_logger debug offering getCpu offering getSpeed offering getRamSize serviceOfferingId offering getId List Host suitableHosts ArrayList Host ServiceOfferingDetailsVO offeringDetails Host hosts suitableHosts size
s_logger debug hosts size hosts hosts prioritizeHosts template offering hosts s_logger s_logger debug hosts size hosts s_logger s_logger debug offering getCpu offering getSpeed offering getRamSize serviceOfferingId offering getId List Host suitableHosts ArrayList Host ServiceOfferingDetailsVO offeringDetails Host host hosts suitableHosts size host s_logger s_logger debug host getName host getId
s_logger s_logger debug offering getCpu offering getSpeed offering getRamSize serviceOfferingId offering getId List Host suitableHosts ArrayList Host ServiceOfferingDetailsVO offeringDetails Host host suitableHosts host s_logger s_logger debug host getName host getId host s_logger s_logger debug host getName host getId
host s_logger s_logger debug host getName host getId avoid addHost host getId _serviceOfferingDetailsDao findDetail serviceOfferingId GPU Keys toString ServiceOfferingDetailsVO groupName _serviceOfferingDetailsDao findDetail serviceOfferingId GPU Keys pciDevice toString host getId groupName s_logger info host getName host getId avoid addHost host getId cpu_requested offering getCpu offering getSpeed ram_requested offering getRamSize Cluster cluster _clusterDao findById host getClusterId
s_logger debug host getName host getId avoid addHost host getId _serviceOfferingDetailsDao findDetail serviceOfferingId GPU Keys toString ServiceOfferingDetailsVO groupName _serviceOfferingDetailsDao findDetail serviceOfferingId GPU Keys pciDevice toString host getId groupName getValue getValue s_logger info host getName host getId avoid addHost host getId cpu_requested offering getCpu offering getSpeed ram_requested offering getRamSize Cluster cluster _clusterDao findById host getClusterId ClusterDetailsVO clusterDetailsCpuOvercommit _clusterDetailsDao findDetail cluster getId ClusterDetailsVO clusterDetailsRamOvercommmt _clusterDetailsDao findDetail cluster getId Float cpuOvercommitRatio Float parseFloat clusterDetailsCpuOvercommit getValue
hosts String templateGuestOSCategory getTemplateGuestOSCategory template List Host prioritizedHosts ArrayList Host List Host noHvmHosts ArrayList Host List Host hostsToCheck ArrayList Host template Host host hosts host hostsToCheck add host noHvmHosts add host hostsToCheck addAll hosts noHvmHosts
List Host hosts allocateTo vm plan type avoid returnUpTo hosts hosts hosts s_logger debug VirtualMachine Type vmType vm getType vmType VirtualMachine Type s_logger debug ArrayList Host DataCenter dc _dcDao findById plan getDataCenterId List PodCluster pcs _resourceMgr listByDataCenter dc getId dc s_logger debug List VolumeVO vols _volsDao findByInstance vm getId VolumeVO vol vols get podId vol getPodId
zone zoneId zone getId List HostPodVO podsInZone _podDao listByDataCenterId zoneId podsInZone
s_logger debug zone getName List HostPodVO availablePods ArrayList HostPodVO Map Long Long podHostCandidates HashMap Long Long HostPodVO pod podId pod getId podId getId pod podId offering hostCandiates enoughCapacity dataCenterAndPodHasEnoughCapacity zoneId podId offering getRamSize Capacity CAPACITY_TYPE_MEMORY hostCandiates enoughCapacity s_logger
Map Long Long podHostCandidates HashMap Long Long pod podId pod getId podId getId pod podId offering hostCandiates enoughCapacity dataCenterAndPodHasEnoughCapacity zoneId podId offering getRamSize Capacity CAPACITY_TYPE_MEMORY hostCandiates enoughCapacity s_logger s_logger debug zoneId podId enoughCapacity dataCenterAndPodHasEnoughCapacity zoneId podId offering getCpu offering getSpeed Capacity CAPACITY_TYPE_CPU hostCandiates enoughCapacity
enoughCapacity dataCenterAndPodHasEnoughCapacity zoneId podId offering getCpu offering getSpeed Capacity CAPACITY_TYPE_CPU hostCandiates enoughCapacity s_logger s_logger debug zoneId podId podHostCandidates put podId hostCandiates List UserVmVO vmsInPod _vmDao listByAccountAndPod accountId pod getId vmsInPod Pair Pod Long pod podHostCandidates get podId List VolumeVO volumesInPod _volumeDao findByAccountAndPod accountId pod getId volumesInPod Pair Pod Long pod podHostCandidates get podId availablePods add pod availablePods s_logger debug zone getName
totalStr Double toString totalCapacity usedStr Double toString usedCapacity msgContent totalStr usedStr pctStr alertType AlertManager AlertType ALERT_TYPE_DIRECT_ATTACHED_PUBLIC_IP totalStr Double toString totalCapacity usedStr Double toString usedCapacity msgContent totalStr usedStr pctStr alertType AlertManager AlertType ALERT_TYPE_VLAN
msgSubject totalStr Double toString totalCapacity usedStr Double toString usedCapacity msgContent totalStr usedStr pctStr alertType AlertManager AlertType ALERT_TYPE_DIRECT_ATTACHED_PUBLIC_IP msgSubject totalStr Double toString totalCapacity usedStr Double toString usedCapacity msgContent totalStr usedStr pctStr alertType AlertManager AlertType ALERT_TYPE_VLAN s_logger s_logger debug msgSubject
msgContent totalStr usedStr pctStr alertType AlertManager AlertType ALERT_TYPE_DIRECT_ATTACHED_PUBLIC_IP msgSubject dc totalStr Double toString totalCapacity usedStr Double toString usedCapacity msgContent totalStr usedStr pctStr alertType AlertManager AlertType ALERT_TYPE_VLAN s_logger s_logger debug msgSubject s_logger debug msgContent _emailAlert sendAlert alertType dc getId podId clusterId msgSubject msgContent
acctIdStr accountObject _entityMgr findById Account Long parseLong acctIdStr CallContext ctx CallContext register user accountObject contextDetails objectMapType Map Object Object ctx putContextParameters Map Object Object gson fromJson contextDetails objectMapType _dispatcher dispatch cmdObj params _asyncJobMgr completeAsyncJob job getId JobInfo Status SUCCEEDED ApiSerializerHelper toSerializedString cmdObj getResponseObject ipve ServerApiException ApiErrorCode PARAM_ERROR ipve getMessage CallContext unregister
GuestOS guestOs ApiDBUtils findGuestOSById instance getGuestOSId guestOs snapshotResponse setOsTypeId guestOs getUuid snapshotResponse setOsDisplayName guestOs getDisplayName snapshotResponse setCreated snapshot getCreated snapshotResponse setName snapshot getName snapshotResponse setIntervalType ApiDBUtils getSnapshotIntervalTypes snapshot getId snapshotResponse setState snapshot getState snapshotResponse setLocationType ApiDBUtils getSnapshotLocationType snapshot getId SnapshotInfo snapshotInfo snapshot SnapshotInfo snapshotInfo SnapshotInfo snapshot DataStoreRole dataStoreRole getDataStoreRole snapshot _snapshotStoreDao _dataStoreMgr snapshotInfo snapshotfactory getSnapshot snapshot getId dataStoreRole
templateOwner templateOwnerDomain templateOwner getDomainId TemplatePermissionsResponse response TemplatePermissionsResponse response setId template getUuid response setPublicTemplate template isPublicTemplate templateOwnerDomain Domain domain ApiDBUtils findDomainById templateOwnerDomain domain response setDomainId domain getUuid List String projectIds ArrayList String List String regularAccounts ArrayList String String accountName Account account ApiDBUtils findAccountByNameDomain accountName templateOwner getDomainId account
accountId Account account ApiDBUtils findAccountById accountId account
nameField serializedParts index result indexOf token nameField token content result substring index nameField length Class clz clz Class forName clzName Gson gson ApiGsonHelper getBuilder create Object obj gson fromJson content clz nameField ResponseObject obj setObjectName nameField obj
Security addProvider BouncyCastleProvider Integer apiPort IntegrationAPIPort value Long snapshotLimit ConcurrentSnapshotsThresholdPerHost value snapshotLimit snapshotLimit
List Field fields ReflectUtil getAllFieldsForClass cmdClass BaseCmd Field field fields Parameter parameterAnnotation field getAnnotation Parameter parameterAnnotation parameterAnnotation Object paramObj parameterMap get parameterAnnotation name paramObj parameterAnnotation ServerApiException ApiErrorCode ACCOUNT_ERROR parameterAnnotation name CallContext register accountMgr getSystemUser accountMgr getSystemAccount sb insert User UID_SYSTEM Account ACCOUNT_ID_SYSTEM String responseText handleRequest parameterMap responseType sb sb append responseText responseText length writeResponse response responseText HttpStatus SC_OK responseType ServerApiException
ServerApiException ApiErrorCode UNSUPPORTED_ACTION_ERROR command Map String String paramMap HashMap String String Set keys params keySet Iterator keysIter keys iterator keysIter String key String keysIter next key String value String params get key paramMap put key value Class cmdClass getCmdClass command cmdClass
buildAuditTrail auditTrailSb command log toString String errorString command s_logger warn errorString auditTrailSb append errorString ServerApiException ApiErrorCode UNSUPPORTED_ACTION_ERROR errorString ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex ArrayList ExceptionProxyObject idList ex getIdProxyList idList
String errorString command s_logger warn errorString auditTrailSb append errorString ServerApiException ApiErrorCode UNSUPPORTED_ACTION_ERROR errorString ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex ArrayList ExceptionProxyObject idList ex getIdProxyList idList StringBuffer buf StringBuffer
s_logger warn errorString auditTrailSb append errorString ServerApiException ApiErrorCode UNSUPPORTED_ACTION_ERROR errorString ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex ArrayList ExceptionProxyObject idList ex getIdProxyList idList StringBuffer buf StringBuffer ExceptionProxyObject obj idList buf append obj getDescription
ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex ArrayList ExceptionProxyObject idList ex getIdProxyList idList StringBuffer buf StringBuffer ExceptionProxyObject obj idList buf append obj getDescription buf append buf append obj getUuid buf append
ex s_logger info ex getMessage ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex ArrayList ExceptionProxyObject idList ex getIdProxyList idList StringBuffer buf StringBuffer ExceptionProxyObject obj idList buf append obj getDescription buf append buf append obj getUuid buf append s_logger info ex getMessage buf toString s_logger info ex getMessage
ServerApiException ApiErrorCode PARAM_ERROR ex getMessage ex ex ArrayList ExceptionProxyObject idList ex getIdProxyList idList StringBuffer buf StringBuffer ExceptionProxyObject obj idList buf append obj getDescription buf append buf append obj getUuid buf append s_logger info ex getMessage buf toString s_logger info ex getMessage ServerApiException ApiErrorCode ACCOUNT_ERROR ex getMessage ex ex
obj buf append obj getDescription buf append buf append obj getUuid buf append s_logger info ex getMessage buf toString s_logger info ex getMessage ServerApiException ApiErrorCode ACCOUNT_ERROR ex getMessage ex ex s_logger info ex getMessage ServerApiException ApiErrorCode ACCOUNT_RESOURCE_LIMIT_ERROR ex getMessage ex ex s_logger info ex getMessage String errorMsg ex getMessage
buf append obj getUuid buf append s_logger info ex getMessage buf toString s_logger info ex getMessage ServerApiException ApiErrorCode ACCOUNT_ERROR ex getMessage ex ex s_logger info ex getMessage ServerApiException ApiErrorCode ACCOUNT_RESOURCE_LIMIT_ERROR ex getMessage ex ex s_logger info ex getMessage String errorMsg ex getMessage errorMsg BaseCmd USER_ERROR_MESSAGE ServerApiException ApiErrorCode INSUFFICIENT_CAPACITY_ERROR errorMsg ex
String apiKey String secretKey String signature String unsignedRequest String command String requestParameters get ApiConstants COMMAND command s_logger info String commandName command userId User user ApiDBUtils findUserById userId commandAvailable remoteAddress commandName user commandName commandName commandName String errorMessage commandName remoteAddress getHostAddress
Date now Date System currentTimeMillis now s_logger debug signature apiKey TransactionLegacy txn TransactionLegacy open TransactionLegacy CLOUD_DB txn close User user Pair User Account userAcctPair accountMgr findUserByApiKey apiKey userAcctPair s_logger debug apiKey user userAcctPair first Account account userAcctPair second user getState Account account getState Account s_logger info user getId user getUsername user getState account getState
userDomain userDomain getId CloudAuthenticationException domainPath domainId userDomain getId UserAccount userAcct accountMgr authenticateUser username password domainId loginIpAddress requestParameters userAcct String timezone userAcct getTimezone offsetInHrs timezone TimeZone t TimeZone getTimeZone timezone s_logger info timezone java util Date date java util Date longDate date getTime offsetInMs t getOffset longDate offsetInHrs offsetInMs
resp setStatusCode statusCode resp setReasonPhrase reasonPhrase BasicHttpEntity body BasicHttpEntity HttpUtils body setContentType JSONcontentType value responseText body setContent ByteArrayInputStream getBytes HttpUtils UTF_8 body setContentType responseText body setContent ByteArrayInputStream getBytes HttpUtils UTF_8 responseText body setContent ByteArrayInputStream responseText getBytes HttpUtils UTF_8 resp setEntity body
e s_logger warn e String response apiServer getSerializedApiError HttpServletResponse SC_INTERNAL_SERVER_ERROR HttpUtils RESPONSE_TYPE_XML HttpUtils writeHttpResponse resp response HttpServletResponse SC_INTERNAL_SERVER_ERROR HttpUtils RESPONSE_TYPE_XML ApiServer JSONcontentType value StringBuilder auditTrailSb StringBuilder auditTrailSb append append remoteAddress getHostAddress auditTrailSb append append req getMethod append String responseType HttpUtils RESPONSE_TYPE_XML Map String Object params HashMap String Object params putAll req getParameterMap utf8Fixup req params String reqStr String cleanQueryString StringUtils cleanString req getQueryString s_logger
String command String params get ApiConstants COMMAND command s_logger info auditTrailSb append HttpServletResponse SC_BAD_REQUEST String serializedResponse apiServer getSerializedApiError HttpServletResponse SC_BAD_REQUEST params responseType HttpUtils writeHttpResponse resp serializedResponse HttpServletResponse SC_BAD_REQUEST responseType ApiServer JSONcontentType value User user entityMgr findById User userId CallContext register user Account accountObj session invalidate auditTrailSb append HttpServletResponse SC_UNAUTHORIZED String serializedResponse apiServer getSerializedApiError HttpServletResponse SC_UNAUTHORIZED params responseType
Method o String propName Method method String methodName getGetMethodName propName method o getClass getMethod methodName s_logger error o getClass getName propName s_logger s_logger trace o getClass getName methodName propName method method methodName getGetMethodName propName method o getClass getMethod methodName
cmd Map params Map Object AccessType entitiesToAccess HashMap Object AccessType List Field cmdFields cmd getParamFields Field field cmdFields Parameter parameterAnnotation field getAnnotation Parameter Object paramObj params get parameterAnnotation name paramObj parameterAnnotation ServerApiException ApiErrorCode PARAM_ERROR cmd getCommandName substring cmd getCommandName length parameterAnnotation name validateField paramObj parameterAnnotation setFieldValue field cmd paramObj parameterAnnotation
Parameter parameterAnnotation field getAnnotation Parameter Object paramObj params get parameterAnnotation name paramObj parameterAnnotation ServerApiException ApiErrorCode PARAM_ERROR cmd getCommandName substring cmd getCommandName length parameterAnnotation name validateField paramObj parameterAnnotation setFieldValue field cmd paramObj parameterAnnotation s_logger s_logger debug cmd getCommandName paramObj parameterAnnotation name ServerApiException ApiErrorCode PARAM_ERROR cmd getCommandName substring cmd getCommandName length paramObj parameterAnnotation name s_logger
validateField paramObj parameterAnnotation setFieldValue field cmd paramObj parameterAnnotation s_logger s_logger debug cmd getCommandName paramObj parameterAnnotation name ServerApiException ApiErrorCode PARAM_ERROR cmd getCommandName substring cmd getCommandName length paramObj parameterAnnotation name s_logger s_logger debug paramObj cmd getCommandName substring cmd getCommandName length ServerApiException ApiErrorCode PARAM_ERROR paramObj cmd getCommandName substring cmd getCommandName length invEx ServerApiException ApiErrorCode PARAM_ERROR cmd getCommandName substring cmd getCommandName length invEx getMessage
String token st nextToken CommandType listType annotation collectionType listType listParam add valueOf token token Long internalId translateUuidToInternalId token annotation listParam add internalId listParam add Long valueOf token listParam add valueOf token listParam add token
listParam add Long valueOf token listParam add valueOf token listParam add token field set cmdObj listParam Long internalId field set cmdObj internalId field set cmdObj Long valueOf field set cmdObj valueOf
addDir File dirObj out File files dirObj listFiles tmpBuf String pathToDir s_dirName i i files length i files i addDir files i out files i getPath out putNextEntry ZipEntry files i getPath substring pathToDir length len len tmpBuf out write tmpBuf len out closeEntry
name sc addAnd SearchCriteria Op EQ name keyword SearchCriteria DataCenterJoinVO ssc _dcJoinDao createSearchCriteria ssc addOr SearchCriteria Op LIKE keyword ssc addOr SearchCriteria Op LIKE keyword sc addAnd SearchCriteria Op SC ssc domainId sc addAnd SearchCriteria Op EQ domainId account getId SearchCriteria DataCenterJoinVO sdc _dcJoinDao createSearchCriteria sdc addOr SearchCriteria Op EQ account getId sdc addOr SearchCriteria Op NULL sc addAnd SearchCriteria Op SC sdc
domainRecord s_logger error account getAccountName CloudAuthenticationException account getAccountName domainIds add domainRecord getId domainRecord getParent domainRecord _domainDao findById domainRecord getParent domainIds add domainRecord getId SearchCriteria DataCenterJoinVO sdc _dcJoinDao createSearchCriteria sdc addOr SearchCriteria Op IN domainIds toArray sdc addOr SearchCriteria Op NULL sc addAnd SearchCriteria Op SC sdc sc addAnd SearchCriteria Op NEQ Grouping AllocationState Disabled SearchCriteria DataCenterJoinVO sdc2 _dcJoinDao createSearchCriteria sdc2 addOr SearchCriteria Op EQ account getId sdc2 addOr SearchCriteria Op NULL
VMTemplateVO template Filter searchFilter Filter TemplateJoinVO SortKeyAscending value startIndex pageSize searchFilter addOrderBy TemplateJoinVO SortKeyAscending value SearchBuilder TemplateJoinVO sb _templateJoinDao createSearchBuilder sb select Func DISTINCT sb entity getId sb select Func DISTINCT sb entity getTempZonePair sb and sb entity getId SearchCriteria Op IN SearchCriteria TemplateJoinVO sc sb create templateId template _templateDao findByIdIncludingRemoved templateId template InvalidParameterValueException
sb select Func DISTINCT sb entity getId sb select Func DISTINCT sb entity getTempZonePair sb and sb entity getId SearchCriteria Op IN SearchCriteria TemplateJoinVO sc sb create templateId template _templateDao findByIdIncludingRemoved templateId template InvalidParameterValueException template s_logger error templateId InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject template getUuid
CapacityVO capacityCpu _capacityDao lockRow capacityCpuId CapacityVO capacityMemory _capacityDao lockRow capacityMemoryId CapacityVO capacityCpuCore _capacityDao lockRow capacityCpuCoreId usedCpu capacityCpu getUsedCapacity usedMem capacityMemory getUsedCapacity usedCpuCore capacityCpuCore getUsedCapacity reservedCpu capacityCpu getReservedCapacity reservedMem capacityMemory getReservedCapacity reservedCpuCore capacityCpuCore getReservedCapacity actualTotalCpu capacityCpu getTotalCapacity cpuOvercommitRatio Float parseFloat _clusterDetailsDao findDetail clusterIdFinal getValue memoryOvercommitRatio Float parseFloat _clusterDetailsDao findDetail clusterIdFinal getValue vmCPU svo getCpu svo getSpeed vmCPUCore svo getCpu vmMem svo getRamSize
CapacityVO capacityMemory _capacityDao lockRow capacityMemoryId CapacityVO capacityCpuCore _capacityDao lockRow capacityCpuCoreId usedCpu capacityCpu getUsedCapacity usedMem capacityMemory getUsedCapacity usedCpuCore capacityCpuCore getUsedCapacity reservedCpu capacityCpu getReservedCapacity reservedMem capacityMemory getReservedCapacity reservedCpuCore capacityCpuCore getReservedCapacity actualTotalCpu capacityCpu getTotalCapacity cpuOvercommitRatio Float parseFloat _clusterDetailsDao findDetail clusterIdFinal getValue memoryOvercommitRatio Float parseFloat _clusterDetailsDao findDetail clusterIdFinal getValue vmCPU svo getCpu svo getSpeed vmCPUCore svo getCpu vmMem svo getRamSize actualTotalMem capacityMemory getTotalCapacity
usedCpu vmCPU capacityCpu setUsedCapacity usedCpu vmCPU usedMem vmMem capacityMemory setUsedCapacity usedMem vmMem usedCpuCore vmCPUCore capacityCpuCore setUsedCapacity usedCpuCore vmCPUCore reservedCpu vmCPU capacityCpu setReservedCapacity reservedCpu vmCPU reservedMem vmMem capacityMemory setReservedCapacity reservedMem vmMem capacityCpuCore setReservedCapacity reservedCpuCore vmCPUCore reservedCpu vmCPU capacityCpu setReservedCapacity reservedCpu vmCPU
usedCpu vmCPU capacityCpu setUsedCapacity usedCpu vmCPU usedMem vmMem capacityMemory setUsedCapacity usedMem vmMem usedCpuCore vmCPUCore capacityCpuCore setUsedCapacity usedCpuCore vmCPUCore reservedCpu vmCPU capacityCpu setReservedCapacity reservedCpu vmCPU reservedMem vmMem capacityMemory setReservedCapacity reservedMem vmMem capacityCpuCore setReservedCapacity reservedCpuCore vmCPUCore reservedCpu vmCPU capacityCpu setReservedCapacity reservedCpu vmCPU
CapacityVO capacityCpu _capacityDao lockRow capacityCpuId CapacityVO capacityMem _capacityDao lockRow capacityMemId CapacityVO capacityCpuCore _capacityDao lockRow capacityCpuCoreId usedCpu capacityCpu getUsedCapacity usedMem capacityMem getUsedCapacity usedCpuCore capacityCpuCore getUsedCapacity reservedCpu capacityCpu getReservedCapacity reservedMem capacityMem getReservedCapacity reservedCpuCore capacityCpuCore getReservedCapacity actualTotalCpu capacityCpu getTotalCapacity actualTotalMem capacityMem getTotalCapacity totalCpu actualTotalCpu cpuOvercommitRatio totalMem actualTotalMem memoryOvercommitRatio
usedCpu capacityCpu getUsedCapacity usedMem capacityMem getUsedCapacity usedCpuCore capacityCpuCore getUsedCapacity reservedCpu capacityCpu getReservedCapacity reservedMem capacityMem getReservedCapacity reservedCpuCore capacityCpuCore getReservedCapacity actualTotalCpu capacityCpu getTotalCapacity actualTotalMem capacityMem getTotalCapacity totalCpu actualTotalCpu cpuOvercommitRatio totalMem actualTotalMem memoryOvercommitRatio s_logger s_logger debug actualTotalCpu totalCpu freeCpu totalCpu reservedCpu usedCpu freeMem totalMem reservedMem usedMem s_logger
usedMem capacityMem getUsedCapacity usedCpuCore capacityCpuCore getUsedCapacity reservedCpu capacityCpu getReservedCapacity reservedMem capacityMem getReservedCapacity reservedCpuCore capacityCpuCore getReservedCapacity actualTotalCpu capacityCpu getTotalCapacity actualTotalMem capacityMem getTotalCapacity totalCpu actualTotalCpu cpuOvercommitRatio totalMem actualTotalMem memoryOvercommitRatio s_logger s_logger debug actualTotalCpu totalCpu freeCpu totalCpu reservedCpu usedCpu freeMem totalMem reservedMem usedMem s_logger s_logger debug hostId
totalCpu actualTotalCpu cpuOvercommitRatio totalMem actualTotalMem memoryOvercommitRatio s_logger s_logger debug actualTotalCpu totalCpu freeCpu totalCpu reservedCpu usedCpu freeMem totalMem reservedMem usedMem s_logger s_logger debug hostId s_logger debug usedCpu freeCpu cpu s_logger debug toHumanReadableSize usedMem toHumanReadableSize freeMem toHumanReadableSize ram capacityCpu setUsedCapacity usedCpu cpu capacityMem setUsedCapacity usedMem ram capacityCpuCore setUsedCapacity usedCpuCore cpucore s_logger
totalMem actualTotalMem memoryOvercommitRatio s_logger s_logger debug actualTotalCpu totalCpu freeCpu totalCpu reservedCpu usedCpu freeMem totalMem reservedMem usedMem s_logger s_logger debug hostId s_logger debug usedCpu freeCpu cpu s_logger debug toHumanReadableSize usedMem toHumanReadableSize freeMem toHumanReadableSize ram capacityCpu setUsedCapacity usedCpu cpu capacityMem setUsedCapacity usedMem ram capacityCpuCore setUsedCapacity usedCpuCore cpucore s_logger s_logger debug
capacityCpu setUsedCapacity usedCpu cpu capacityMem setUsedCapacity usedMem ram capacityCpuCore setUsedCapacity usedCpuCore cpucore s_logger s_logger debug s_logger debug reservedCpu cpu s_logger debug toHumanReadableSize reservedMem toHumanReadableSize ram reservedCpu cpu reservedMem ram capacityCpu setReservedCapacity reservedCpu cpu capacityMem setReservedCapacity reservedMem ram capacityCpuCore setReservedCapacity reservedCpuCore cpucore reservedCpu usedCpu cpu reservedMem usedMem ram s_logger
capacityCpu setUsedCapacity usedCpu cpu capacityMem setUsedCapacity usedMem ram capacityCpuCore setUsedCapacity usedCpuCore cpucore s_logger s_logger debug s_logger debug reservedCpu cpu s_logger debug toHumanReadableSize reservedMem toHumanReadableSize ram reservedCpu cpu reservedMem ram capacityCpu setReservedCapacity reservedCpu cpu capacityMem setReservedCapacity reservedMem ram capacityCpuCore setReservedCapacity reservedCpuCore cpucore reservedCpu usedCpu cpu reservedMem usedMem ram s_logger
hostId cpuNum cpuSpeed Host host _hostDao findById hostId isCpuNumGood host getCpus intValue cpuNum isCpuSpeedGood host getSpeed intValue cpuSpeed isCpuNumGood isCpuSpeedGood
hasCapacity
capacityCpu s_logger s_logger debug hostId capacityMem s_logger s_logger debug hostId usedCpu capacityCpu getUsedCapacity usedMem capacityMem getUsedCapacity reservedCpu capacityCpu getReservedCapacity reservedMem capacityMem getReservedCapacity actualTotalCpu capacityCpu getTotalCapacity actualTotalMem capacityMem getTotalCapacity totalCpu actualTotalCpu cpuOvercommitRatio totalMem actualTotalMem memoryOvercommitRatio
s_logger debug hostId usedCpu capacityCpu getUsedCapacity usedMem capacityMem getUsedCapacity reservedCpu capacityCpu getReservedCapacity reservedMem capacityMem getReservedCapacity actualTotalCpu capacityCpu getTotalCapacity actualTotalMem capacityMem getTotalCapacity totalCpu actualTotalCpu cpuOvercommitRatio totalMem actualTotalMem memoryOvercommitRatio s_logger s_logger debug actualTotalCpu totalCpu String failureReason freeCpu reservedCpu
usedCpu capacityCpu getUsedCapacity usedMem capacityMem getUsedCapacity reservedCpu capacityCpu getReservedCapacity reservedMem capacityMem getReservedCapacity actualTotalCpu capacityCpu getTotalCapacity actualTotalMem capacityMem getTotalCapacity totalCpu actualTotalCpu cpuOvercommitRatio totalMem actualTotalMem memoryOvercommitRatio s_logger s_logger debug actualTotalCpu totalCpu String failureReason freeCpu reservedCpu freeMem reservedMem
s_logger s_logger debug s_logger debug freeCpu cpu s_logger debug toHumanReadableSize freeMem toHumanReadableSize ram reservedCpu cpu reservedMem ram hasCapacity failureReason failureReason reservedCpuValueToUse reservedCpu reservedMemValueToUse reservedMem
s_logger debug s_logger debug freeCpu cpu s_logger debug toHumanReadableSize freeMem toHumanReadableSize ram reservedCpu cpu reservedMem ram hasCapacity failureReason failureReason reservedCpuValueToUse reservedCpu reservedMemValueToUse reservedMem s_logger
failureReason reservedCpuValueToUse reservedCpu reservedMemValueToUse reservedMem considerReservedCapacity s_logger s_logger debug considerReservedCapacity reservedCpuValueToUse reservedMemValueToUse freeCpu totalCpu reservedCpuValueToUse usedCpu freeMem totalMem reservedMemValueToUse usedMem s_logger s_logger debug freeCpu cpu s_logger debug toHumanReadableSize freeMem toHumanReadableSize ram
failureReason reservedCpuValueToUse reservedCpu reservedMemValueToUse reservedMem considerReservedCapacity s_logger s_logger debug considerReservedCapacity reservedCpuValueToUse reservedMemValueToUse freeCpu totalCpu reservedCpuValueToUse usedCpu freeMem totalMem reservedMemValueToUse usedMem s_logger s_logger debug freeCpu cpu s_logger debug toHumanReadableSize freeMem toHumanReadableSize ram
reservedCpuValueToUse reservedCpu reservedMemValueToUse reservedMem considerReservedCapacity s_logger s_logger debug considerReservedCapacity reservedCpuValueToUse reservedMemValueToUse freeCpu totalCpu reservedCpuValueToUse usedCpu freeMem totalMem reservedMemValueToUse usedMem s_logger s_logger debug freeCpu cpu s_logger debug toHumanReadableSize freeMem toHumanReadableSize ram reservedCpuValueToUse usedCpu cpu totalCpu reservedMemValueToUse usedMem ram totalMem
reservedCpuValueToUse reservedCpu reservedMemValueToUse reservedMem considerReservedCapacity s_logger s_logger debug considerReservedCapacity reservedCpuValueToUse reservedMemValueToUse freeCpu totalCpu reservedCpuValueToUse usedCpu freeMem totalMem reservedMemValueToUse usedMem s_logger s_logger debug freeCpu cpu s_logger debug toHumanReadableSize freeMem toHumanReadableSize ram reservedCpuValueToUse usedCpu cpu totalCpu reservedMemValueToUse usedMem ram totalMem hasCapacity
considerReservedCapacity s_logger s_logger debug considerReservedCapacity reservedCpuValueToUse reservedMemValueToUse freeCpu totalCpu reservedCpuValueToUse usedCpu freeMem totalMem reservedMemValueToUse usedMem s_logger s_logger debug freeCpu cpu s_logger debug toHumanReadableSize freeMem toHumanReadableSize ram reservedCpuValueToUse usedCpu cpu totalCpu reservedMemValueToUse usedMem ram totalMem hasCapacity failureReason
Map Long ServiceOfferingVO offeringsMap HashMap Long ServiceOfferingVO ServiceOfferingVO offering offeringsMap put offering getId offering usedCpuCore reservedCpuCore usedCpu usedMemory reservedMemory reservedCpu CapacityState capacityState host getResourceState ResourceState Enabled CapacityState Enabled CapacityState Disabled List VMInstanceVO vms _vmDao listUpByHostId host getId s_logger s_logger debug vms size host getId List VMInstanceVO vosMigrating _vmDao listVmsMigratingFromHost host getId s_logger
reservedCpu Integer parseInt vmDetails get UsageEventVO DynamicParameters cpuNumber name so getSpeed cpuOvercommitRatio clusterCpuOvercommitRatio reservedCpuCore Integer parseInt vmDetails get UsageEventVO DynamicParameters cpuNumber name reservedMemory so getRamSize ramOvercommitRatio clusterRamOvercommitRatio reservedCpu so getCpu so getSpeed cpuOvercommitRatio clusterCpuOvercommitRatio reservedCpuCore so getCpu UserVmDetailVO messageSentFlag _userVmDetailsDao findDetail vm getId VmDetailConstants MESSAGE_RESERVED_CAPACITY_FREED_FLAG messageSentFlag messageSentFlag _messageBus publish _name PublishScope LOCAL vm vm UserVmVO userVM _userVMDao findById vm getId _userVMDao loadDetails userVM userVM setDetail VmDetailConstants MESSAGE_RESERVED_CAPACITY_FREED_FLAG _userVMDao saveDetails userVM
reservedMemory so getRamSize ramOvercommitRatio clusterRamOvercommitRatio reservedCpu so getCpu so getSpeed cpuOvercommitRatio clusterCpuOvercommitRatio reservedCpuCore so getCpu UserVmDetailVO messageSentFlag _userVmDetailsDao findDetail vm getId VmDetailConstants MESSAGE_RESERVED_CAPACITY_FREED_FLAG messageSentFlag messageSentFlag _messageBus publish _name PublishScope LOCAL vm vm UserVmVO userVM _userVMDao findById vm getId _userVMDao loadDetails userVM userVM setDetail VmDetailConstants MESSAGE_RESERVED_CAPACITY_FREED_FLAG _userVMDao saveDetails userVM CapacityVO cpuCap _capacityDao findByHostIdType host getId Capacity CAPACITY_TYPE_CPU CapacityVO memCap _capacityDao findByHostIdType host getId Capacity CAPACITY_TYPE_MEMORY
UserVmDetailVO messageSentFlag _userVmDetailsDao findDetail vm getId VmDetailConstants MESSAGE_RESERVED_CAPACITY_FREED_FLAG messageSentFlag messageSentFlag _messageBus publish _name PublishScope LOCAL vm vm UserVmVO userVM _userVMDao findById vm getId _userVMDao loadDetails userVM userVM setDetail VmDetailConstants MESSAGE_RESERVED_CAPACITY_FREED_FLAG _userVMDao saveDetails userVM CapacityVO cpuCap _capacityDao findByHostIdType host getId Capacity CAPACITY_TYPE_CPU CapacityVO memCap _capacityDao findByHostIdType host getId Capacity CAPACITY_TYPE_MEMORY CapacityVO cpuCoreCap _capacityDao findByHostIdType host getId CapacityVO CAPACITY_TYPE_CPU_CORE cpuCoreCap hostTotalCpuCore host getCpus longValue cpuCoreCap hostTotalCpuCore
CapacityVO memCap _capacityDao findByHostIdType host getId Capacity CAPACITY_TYPE_MEMORY CapacityVO cpuCoreCap _capacityDao findByHostIdType host getId CapacityVO CAPACITY_TYPE_CPU_CORE cpuCoreCap hostTotalCpuCore host getCpus longValue cpuCoreCap getTotalCapacity hostTotalCpuCore s_logger debug host getId cpuCoreCap getTotalCapacity hostTotalCpuCore cpuCoreCap setTotalCapacity hostTotalCpuCore cpuCoreCap getUsedCapacity usedCpuCore cpuCoreCap getReservedCapacity reservedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity cpuCoreCap getReservedCapacity cpuCoreCap getReservedCapacity reservedCpuCore s_logger debug host getId cpuCoreCap getReservedCapacity reservedCpuCore cpuCoreCap setReservedCapacity reservedCpuCore cpuCoreCap getUsedCapacity usedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity usedCpuCore
hostTotalCpuCore host getCpus longValue cpuCoreCap getTotalCapacity hostTotalCpuCore s_logger debug host getId cpuCoreCap getTotalCapacity hostTotalCpuCore cpuCoreCap setTotalCapacity hostTotalCpuCore cpuCoreCap getUsedCapacity usedCpuCore cpuCoreCap getReservedCapacity reservedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity cpuCoreCap getReservedCapacity cpuCoreCap getReservedCapacity reservedCpuCore s_logger debug host getId cpuCoreCap getReservedCapacity reservedCpuCore cpuCoreCap setReservedCapacity reservedCpuCore cpuCoreCap getUsedCapacity usedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity usedCpuCore cpuCoreCap setUsedCapacity usedCpuCore _capacityDao update cpuCoreCap getId cpuCoreCap
cpuCoreCap getUsedCapacity usedCpuCore cpuCoreCap getReservedCapacity reservedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity cpuCoreCap getReservedCapacity cpuCoreCap getReservedCapacity reservedCpuCore s_logger debug host getId cpuCoreCap getReservedCapacity reservedCpuCore cpuCoreCap setReservedCapacity reservedCpuCore cpuCoreCap getUsedCapacity usedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity usedCpuCore cpuCoreCap setUsedCapacity usedCpuCore _capacityDao update cpuCoreCap getId cpuCoreCap e s_logger error host getId e usedCpuCoreFinal usedCpuCore
cpuCoreCap getReservedCapacity reservedCpuCore s_logger debug host getId cpuCoreCap getReservedCapacity reservedCpuCore cpuCoreCap setReservedCapacity reservedCpuCore cpuCoreCap getUsedCapacity usedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity usedCpuCore cpuCoreCap setUsedCapacity usedCpuCore _capacityDao update cpuCoreCap getId cpuCoreCap e s_logger error host getId e usedCpuCoreFinal usedCpuCore reservedCpuCoreFinal reservedCpuCore
s_logger debug host getId cpuCoreCap getReservedCapacity reservedCpuCore cpuCoreCap setReservedCapacity reservedCpuCore cpuCoreCap getUsedCapacity usedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity usedCpuCore cpuCoreCap setUsedCapacity usedCpuCore _capacityDao update cpuCoreCap getId cpuCoreCap e s_logger error host getId e usedCpuCoreFinal usedCpuCore reservedCpuCoreFinal reservedCpuCore CapacityVO capacity CapacityVO host getId host getDataCenterId host getPodId host getClusterId usedCpuCoreFinal host getCpus longValue CapacityVO CAPACITY_TYPE_CPU_CORE
cpuCoreCap getUsedCapacity usedCpuCore s_logger debug host getId cpuCoreCap getUsedCapacity usedCpuCore cpuCoreCap setUsedCapacity usedCpuCore _capacityDao update cpuCoreCap getId cpuCoreCap e s_logger error host getId e usedCpuCoreFinal usedCpuCore reservedCpuCoreFinal reservedCpuCore CapacityVO capacity CapacityVO host getId host getDataCenterId host getPodId host getClusterId usedCpuCoreFinal host getCpus longValue CapacityVO CAPACITY_TYPE_CPU_CORE capacity setReservedCapacity reservedCpuCoreFinal capacity setCapacityState capacityState
_capacityDao update cpuCoreCap getId cpuCoreCap e s_logger error host getId e usedCpuCoreFinal usedCpuCore reservedCpuCoreFinal reservedCpuCore CapacityVO capacity CapacityVO host getId host getDataCenterId host getPodId host getClusterId usedCpuCoreFinal host getCpus longValue CapacityVO CAPACITY_TYPE_CPU_CORE capacity setReservedCapacity reservedCpuCoreFinal capacity setCapacityState capacityState _capacityDao persist capacity
_capacityDao update cpuCoreCap getId cpuCoreCap e s_logger error host getId e usedCpuCoreFinal usedCpuCore reservedCpuCoreFinal reservedCpuCore CapacityVO capacity CapacityVO host getId host getDataCenterId host getPodId host getClusterId usedCpuCoreFinal host getCpus longValue CapacityVO CAPACITY_TYPE_CPU_CORE capacity setReservedCapacity reservedCpuCoreFinal capacity setCapacityState capacityState _capacityDao persist capacity host
s_logger error host getId e usedCpuCoreFinal usedCpuCore reservedCpuCoreFinal reservedCpuCore CapacityVO capacity CapacityVO host getId host getDataCenterId host getPodId host getClusterId usedCpuCoreFinal host getCpus longValue CapacityVO CAPACITY_TYPE_CPU_CORE capacity setReservedCapacity reservedCpuCoreFinal capacity setCapacityState capacityState _capacityDao persist capacity memCap host getTotalMemory memCap setTotalCapacity host getTotalMemory hostTotalCpu host getCpus longValue host getSpeed longValue
usedCpuCoreFinal usedCpuCore reservedCpuCoreFinal reservedCpuCore CapacityVO capacity CapacityVO host getId host getDataCenterId host getPodId host getClusterId usedCpuCoreFinal host getCpus longValue CapacityVO CAPACITY_TYPE_CPU_CORE capacity setReservedCapacity reservedCpuCoreFinal capacity setCapacityState capacityState _capacityDao persist capacity memCap host getTotalMemory memCap setTotalCapacity host getTotalMemory hostTotalCpu host getCpus longValue host getSpeed longValue hostTotalCpu
capacity setReservedCapacity reservedCpuCoreFinal capacity setCapacityState capacityState _capacityDao persist capacity cpuCap memCap host getTotalMemory memCap setTotalCapacity host getTotalMemory hostTotalCpu host getCpus longValue host getSpeed longValue cpuCap getTotalCapacity hostTotalCpu s_logger debug host getId cpuCap getTotalCapacity hostTotalCpu cpuCap setTotalCapacity hostTotalCpu capacityState cpuCap s_logger debug host getId cpuCap getTotalCapacity hostTotalCpu cpuCap setCapacityState capacityState memCap setCapacityState capacityState
capacityCPU addAnd SearchCriteria Op EQ server getDataCenterId capacityCPU addAnd SearchCriteria Op EQ server getPodId capacityCPU addAnd SearchCriteria Op EQ Capacity CAPACITY_TYPE_CPU List CapacityVO capacityVOCpus _capacityDao search capacitySC Float cpuovercommitratio Float parseFloat _clusterDetailsDao findDetail server getClusterId getValue Float memoryOvercommitRatio Float parseFloat _clusterDetailsDao findDetail server getClusterId getValue capacityVOCpus capacityVOCpus CapacityVO CapacityVOCpu capacityVOCpus get newTotalCpu server getCpus longValue server getSpeed longValue cpuovercommitratio CapacityVOCpu newTotalCpu CapacityVOCpu CapacityVOCpu newTotalCpu CapacityVOCpu setTotalCapacity newTotalCpu CapacityVOCpu CapacityVOCpu newTotalCpu CapacityVOCpu newTotalCpu CapacityVOCpu setReservedCapacity CapacityVOCpu setTotalCapacity newTotalCpu
CapacityVO capacity CapacityVO server getId server getDataCenterId server getPodId server getClusterId server getCpus longValue server getSpeed longValue Capacity CAPACITY_TYPE_CPU _capacityDao persist capacity SearchCriteria CapacityVO capacityMem _capacityDao createSearchCriteria capacityMem addAnd SearchCriteria Op EQ server getId capacityMem addAnd SearchCriteria Op EQ server getDataCenterId capacityMem addAnd SearchCriteria Op EQ server getPodId capacityMem addAnd SearchCriteria Op EQ Capacity CAPACITY_TYPE_MEMORY List CapacityVO capacityVOMems _capacityDao search capacityMem capacityVOMems capacityVOMems CapacityVO CapacityVOMem capacityVOMems get newTotalMem server getTotalMemory memoryOvercommitRatio CapacityVOMem newTotalMem CapacityVOMem CapacityVOMem newTotalMem CapacityVOMem setTotalCapacity newTotalMem CapacityVOMem CapacityVOMem newTotalMem CapacityVOMem newTotalMem
clusterId cpuRequested Float clusterCpuOverProvisioning getClusterOverProvisioningFactor clusterId Capacity CAPACITY_TYPE_CPU Float clusterMemoryOverProvisioning getClusterOverProvisioningFactor clusterId Capacity CAPACITY_TYPE_MEMORY Float clusterCpuCapacityDisableThreshold DeploymentClusterPlanner ClusterCPUCapacityDisableThreshold valueIn clusterId Float clusterMemoryCapacityDisableThreshold DeploymentClusterPlanner ClusterMemoryCapacityDisableThreshold valueIn clusterId cpuConsumption _capacityDao findClusterConsumption clusterId Capacity CAPACITY_TYPE_CPU cpuRequested cpuConsumption clusterCpuOverProvisioning clusterCpuCapacityDisableThreshold
host Long vmCount _vmDao countActiveByHostId host getId HypervisorType hypervisorType host getHypervisorType String hypervisorVersion host getHypervisorVersion Long maxGuestLimit _hypervisorCapabilitiesDao getMaxGuestsLimit hypervisorType hypervisorVersion vmCount maxGuestLimit
String String name String String value String scope String validationMsg validateConfigurationValue name value scope validationMsg
accountDetailVO setValue value _accountDetailsDao update accountDetailVO getId accountDetailVO imgStore resourceId Preconditions checkState imgStore _imageStoreDetailsDao addDetail resourceId name value resourceId InvalidParameterValueException resourceId DomainDetailVO domainDetailVO _domainDetailsDao findDetail resourceId name domainDetailVO domainDetailVO DomainDetailVO resourceId name value _domainDetailsDao persist domainDetailVO
name ConfigurationVO cfg _configDao findByName name cfg
configKey s_logger warn name type configKey type type c getType String errMsg type Integer errMsg value name Integer parseInt value type Float errMsg value name Float parseFloat value type
Float errMsg value name Float parseFloat value Long errMsg value name Long parseLong value s_logger error errMsg errMsg value name String msg name s_logger error msg
Long errMsg value name Long parseLong value s_logger error errMsg errMsg value name String msg name s_logger error msg msg value value trim
s_logger error errMsg errMsg value name String msg name s_logger error msg msg value value trim name value String msg name
name String msg name s_logger error msg msg value value trim name value String msg name s_logger error msg InvalidParameterValueException msg String msg name s_logger error msg InvalidParameterValueException msg
String msg name s_logger error msg InvalidParameterValueException msg value value s_logger error name value Integer name val Integer parseInt value val val InvalidParameterValueException name
s_logger error name value Integer name val Integer parseInt value val val InvalidParameterValueException name s_logger error name InvalidParameterValueException name Integer name val Integer parseInt value val
s_logger error name InvalidParameterValueException name Integer name val Integer parseInt value val InvalidParameterValueException name name val InvalidParameterValueException name name val InvalidParameterValueException name val InvalidParameterValueException name
InvalidParameterValueException name Integer name val Integer parseInt value val InvalidParameterValueException name name val InvalidParameterValueException name name val InvalidParameterValueException name val InvalidParameterValueException name s_logger error name
val Integer parseInt value val InvalidParameterValueException name name val InvalidParameterValueException name name val InvalidParameterValueException name val InvalidParameterValueException name s_logger error name InvalidParameterValueException name
InvalidParameterValueException name c String range c getRange range String range value s_logger error value name s_logger error name InvalidParameterValueException
value s_logger error value name s_logger error name InvalidParameterValueException value s_logger error value name String hypervisors value split hypervisors
InvalidParameterValueException startIp endIp podId StringBuilder newPodIpRange StringBuilder first podIpRange first first newPodIpRange append newPodIpRange append podIpRange pod setDescription newPodIpRange toString HostPodVO lock lock _podDao acquireInLockTable podId
VlanVO networkId physicalNetworkId vlanGateway vlanNetmask vlanId vlanIp6Gateway vlanIp6Cidr zone vlanType ipv6Range ipRange VlanVO VlanVO VlanVO vlan VlanVO vlanType vlanId vlanGateway vlanNetmask zone getId ipRange networkId physicalNetworkId vlanIp6Gateway vlanIp6Cidr ipv6Range
isAccountSpecific List AccountVlanMapVO acctVln _accountVlanMapDao listAccountVlanMapsByVlan vlanRange getId acctVln acctVln isAccountSpecific isDomainSpecific List DomainVlanMapVO domainVlan _domainVlanMapDao listDomainVlanMapsByVlan vlanRange getId domainVlan domainVlan isDomainSpecific List IPAddressVO ips _publicIpAddressDao listByVlanId vlanDbId isAccountSpecific resourceCountToBeDecrement vlanRange _vlanDao acquireInLockTable vlanDbId vlanRange CloudRuntimeException vlanDbId
InvalidParameterValueException vlanDbId ip ip success _ipAddrMgr disassociatePublicIpAddress ip getId userId caller success s_logger warn vlanDbId resourceCountToBeDecrement UsageEventUtils publishUsageEvent EventTypes EVENT_NET_IP_RELEASE acctVln get getAccountId ip getDataCenterId ip getId ip getAddress toString ip isSourceNat vlanRange getVlanType toString ip getSystem ip getClass getName ip getUuid _vlanDao releaseFromLockTable vlanDbId resourceCountToBeDecrement _resourceLimitMgr decrementResourceCount acctVln get getAccountId ResourceType public_ip Long resourceCountToBeDecrement NicIpAliasVO ipAlias _nicIpAliasDao findByGatewayAndNetworkIdAndState vlanRange getVlanGateway vlanRange getNetworkId NicIpAlias State active ipAlias vlanDbId vlanRange getNetworkId ipAlias
ip success _ipAddrMgr disassociatePublicIpAddress ip getId userId caller success s_logger warn vlanDbId resourceCountToBeDecrement UsageEventUtils publishUsageEvent EventTypes EVENT_NET_IP_RELEASE acctVln get getAccountId ip getDataCenterId ip getId ip getAddress toString ip isSourceNat vlanRange getVlanType toString ip getSystem ip getClass getName ip getUuid _vlanDao releaseFromLockTable vlanDbId resourceCountToBeDecrement _resourceLimitMgr decrementResourceCount acctVln get getAccountId ResourceType public_ip Long resourceCountToBeDecrement NicIpAliasVO ipAlias _nicIpAliasDao findByGatewayAndNetworkIdAndState vlanRange getVlanGateway vlanRange getNetworkId NicIpAlias State active ipAlias vlanDbId vlanRange getNetworkId ipAlias getIp4Address InvalidParameterValueException vlanDbId ipAlias getIp4Address
resourceCountToBeDecrement UsageEventUtils publishUsageEvent EventTypes EVENT_NET_IP_RELEASE acctVln get getAccountId ip getDataCenterId ip getId ip getAddress toString ip isSourceNat vlanRange getVlanType toString ip getSystem ip getClass getName ip getUuid _vlanDao releaseFromLockTable vlanDbId resourceCountToBeDecrement _resourceLimitMgr decrementResourceCount acctVln get getAccountId ResourceType public_ip Long resourceCountToBeDecrement NicIpAliasVO ipAlias _nicIpAliasDao findByGatewayAndNetworkIdAndState vlanRange getVlanGateway vlanRange getNetworkId NicIpAlias State active ipAlias vlanDbId _publicIpAddressDao vlanRange getNetworkId ipAlias getIp4Address InvalidParameterValueException vlanDbId ipAlias getIp4Address allocIpCount _publicIpAddressDao countIPs vlanRange getDataCenterId vlanDbId allocIpCount InvalidParameterValueException allocIpCount
isDomainSpecific List DomainVlanMapVO domainVlan _domainVlanMapDao listDomainVlanMapsByVlan vlanDbId domainVlan domainVlan isDomainSpecific isDomainSpecific InvalidParameterValueException vlanDbId allocIpCount _publicIpAddressDao countIPs vlan getDataCenterId vlanDbId List IPAddressVO ips _publicIpAddressDao listByVlanId vlanDbId success List IPAddressVO ipsInUse ArrayList IPAddressVO allocIpCount vlan _vlanDao acquireInLockTable vlanDbId vlan CloudRuntimeException vlanDbId
isDomainSpecific isDomainSpecific InvalidParameterValueException vlanDbId allocIpCount _publicIpAddressDao countIPs vlan getDataCenterId vlanDbId List IPAddressVO ips _publicIpAddressDao listByVlanId vlanDbId success List IPAddressVO ipsInUse ArrayList IPAddressVO allocIpCount vlan _vlanDao acquireInLockTable vlanDbId vlan CloudRuntimeException vlanDbId s_logger s_logger debug vlanDbId IPAddressVO ips
accountName domainId Account account _accountDao findEnabledAccount accountName domainId account
s_logger info Map String String configs _configDao getConfiguration params String value configs get value _consoleProxyUrlPort NumbersUtil parseInt value ConsoleProxyManager DEFAULT_PROXY_URL_PORT value configs get value _consoleProxyPort NumbersUtil parseInt value ConsoleProxyManager DEFAULT_PROXY_VNC_PORT value configs get value value _sslEnabled _consoleProxyUrlDomain configs get _listener ConsoleProxyListener AgentBasedAgentHook _instanceDao _hostDao _configDao _ksMgr _agentMgr _keysMgr _agentMgr registerForHostEvents _listener s_logger
HostVO host findHost userVm host HostVO allocatedHost List HostVO hosts _hostDao listAllIncludingRemoved HostVO hv hosts hv hv host allocatedHost hv allocatedHost HostVO hv hosts hv hv host allocatedHost hv allocatedHost
HostVO allocatedHost List HostVO hosts _hostDao listAllIncludingRemoved HostVO hv hosts hv hv host allocatedHost hv allocatedHost HostVO hv hosts hv hv getPodId host getPodId allocatedHost hv allocatedHost s_logger s_logger debug host getName host getPodId userVmId
allocatedHost hv allocatedHost hv hv hv getPodId host getPodId allocatedHost hv allocatedHost s_logger s_logger debug host getName host getPodId userVmId s_logger s_logger debug allocatedHost getName userVmId allocatedHost getPublicIpAddress String publicIp allocatedHost getPublicIpAddress publicIp
cmd Long vmId String ticketInUrl cmd getTicket ticketInUrl
Long vmId String ticketInUrl cmd getTicket ticketInUrl s_logger error cmd getVmId ConsoleAccessAuthenticationAnswer cmd s_logger s_logger debug cmd getHost cmd getPort cmd getVmId ticketInUrl cmd String ticket ConsoleProxyServlet genAccessTicket cmd getHost cmd getPort cmd getSid cmd getVmId s_logger s_logger debug cmd getHost cmd getPort cmd getVmId ticket ticket ticketInUrl Date now Date String minuteEarlyTicket ConsoleProxyServlet genAccessTicket cmd getHost cmd getPort cmd getSid cmd getVmId Date now getTime s_logger
ticketInUrl s_logger error cmd getVmId ConsoleAccessAuthenticationAnswer cmd s_logger s_logger debug cmd getHost cmd getPort cmd getVmId ticketInUrl cmd String ticket ConsoleProxyServlet genAccessTicket cmd getHost cmd getPort cmd getSid cmd getVmId s_logger s_logger debug cmd getHost cmd getPort cmd getVmId ticket ticket ticketInUrl Date now Date String minuteEarlyTicket ConsoleProxyServlet genAccessTicket cmd getHost cmd getPort cmd getSid cmd getVmId Date now getTime s_logger s_logger debug cmd getHost cmd getPort cmd getVmId minuteEarlyTicket minuteEarlyTicket ticketInUrl
s_logger debug cmd getHost cmd getPort cmd getVmId ticket ticket ticketInUrl Date now Date String minuteEarlyTicket ConsoleProxyServlet genAccessTicket cmd getHost cmd getPort cmd getSid cmd getVmId Date now getTime s_logger s_logger debug cmd getHost cmd getPort cmd getVmId minuteEarlyTicket minuteEarlyTicket ticketInUrl s_logger error cmd getVmId ticketInUrl ticket minuteEarlyTicket ConsoleAccessAuthenticationAnswer cmd cmd getVmId cmd getVmId s_logger s_logger debug ConsoleAccessAuthenticationAnswer cmd VirtualMachine vm _instanceDao findByUuid cmd getVmId vm
s_logger debug ConsoleAccessAuthenticationAnswer cmd VirtualMachine vm _instanceDao findByUuid cmd getVmId vm vm _instanceDao findById Long parseLong cmd getVmId vm s_logger error cmd getVmId ConsoleAccessAuthenticationAnswer cmd vm getHostId s_logger warn vmId ConsoleAccessAuthenticationAnswer cmd HostVO host _hostDao findById vm getHostId host s_logger warn vmId ConsoleAccessAuthenticationAnswer cmd
vm vm _instanceDao findById Long parseLong cmd getVmId vm s_logger error cmd getVmId ConsoleAccessAuthenticationAnswer cmd vm getHostId s_logger warn vmId ConsoleAccessAuthenticationAnswer cmd HostVO host _hostDao findById vm getHostId host s_logger warn vmId ConsoleAccessAuthenticationAnswer cmd String sid cmd getSid sid sid vm s_logger warn sid
s_logger error cmd getVmId ConsoleAccessAuthenticationAnswer cmd vm getHostId s_logger warn vmId ConsoleAccessAuthenticationAnswer cmd HostVO host _hostDao findById vm getHostId host s_logger warn vmId ConsoleAccessAuthenticationAnswer cmd String sid cmd getSid sid sid vm s_logger warn sid ConsoleAccessAuthenticationAnswer cmd cmd ConsoleAccessAuthenticationAnswer authenticationAnswer ConsoleAccessAuthenticationAnswer cmd
s_logger debug ksBits _ksMgr getKeystoreBits ConsoleProxyManager CERTIFICATE_NAME ConsoleProxyManager CERTIFICATE_NAME storePassword cmd StartConsoleProxyAgentHttpHandlerCommand ksBits storePassword cmd setEncryptorPassword getEncryptorPassword HostVO consoleProxyHost findConsoleProxyHost startupCmd assert consoleProxyHost consoleProxyHost Answer answer _agentMgr send consoleProxyHost getId cmd answer answer s_logger error s_logger info
ksBits _ksMgr getKeystoreBits ConsoleProxyManager CERTIFICATE_NAME ConsoleProxyManager CERTIFICATE_NAME storePassword cmd StartConsoleProxyAgentHttpHandlerCommand ksBits storePassword cmd setEncryptorPassword getEncryptorPassword HostVO consoleProxyHost findConsoleProxyHost startupCmd assert consoleProxyHost consoleProxyHost Answer answer _agentMgr send consoleProxyHost getId cmd answer answer s_logger error s_logger info e s_logger error e e
ksBits _ksMgr getKeystoreBits ConsoleProxyManager CERTIFICATE_NAME ConsoleProxyManager CERTIFICATE_NAME storePassword cmd StartConsoleProxyAgentHttpHandlerCommand ksBits storePassword cmd setEncryptorPassword getEncryptorPassword HostVO consoleProxyHost findConsoleProxyHost startupCmd assert consoleProxyHost consoleProxyHost Answer answer _agentMgr send consoleProxyHost getId cmd answer answer s_logger error s_logger info e s_logger error e e s_logger error startupCmd getProxyVmId e
assert consoleProxyHost consoleProxyHost Answer answer _agentMgr send consoleProxyHost getId cmd answer answer s_logger error s_logger info e s_logger error e e s_logger error startupCmd getProxyVmId e e s_logger error startupCmd getProxyVmId e e s_logger error
VMInstanceVO vm _instanceDao findById vmId vm s_logger warn vmId vmId vm vm vm vm vm s_logger s_logger info vmId vm getProxyId proxy _consoleProxyDao findById vm getProxyId proxy proxy s_logger
proxy proxy s_logger s_logger info vmId proxy proxy proxy s_logger s_logger trace vmId proxy s_logger warn vmId proxy proxy proxy assignProxyFromRunningPool dataCenterId
VMTemplateVO template HypervisorType availableHypervisor _resourceMgr getAvailableHypervisor dataCenterId template _templateDao findSystemVMReadyTemplate dataCenterId availableHypervisor template CloudRuntimeException dataCenterId Map String Object context createProxyInstance dataCenterId template proxyVmId Long context get proxyVmId s_logger s_logger trace dataCenterId ConsoleProxyVO proxy _consoleProxyDao findById proxyVmId proxy SubscriptionMgr getInstance notifySubscribers ConsoleProxyManager ALERT_SUBJECT ConsoleProxyAlertEventArgs ConsoleProxyAlertEventArgs PROXY_CREATED dataCenterId proxy getId proxy proxy
dataCenterId s_logger s_logger trace dataCenterId ConsoleProxyVO proxy String errorString consoleProxyVmFromStoppedPool proxy assignProxyFromStoppedPool dataCenterId proxy s_logger s_logger info proxy startNew dataCenterId
proxy assignProxyFromStoppedPool dataCenterId proxy s_logger s_logger info _allocProxyLock proxy startNew dataCenterId e s_logger info e _allocProxyLock unlock s_logger s_logger info
proxy startNew dataCenterId e s_logger info e _allocProxyLock unlock s_logger s_logger info s_logger s_logger info proxy getId consoleProxyVmFromStoppedPool proxy proxyVmId proxy getId proxy startProxy proxyVmId
_allocProxyLock unlock s_logger s_logger info s_logger s_logger info proxy getId consoleProxyVmFromStoppedPool proxy proxyVmId proxy getId proxy startProxy proxyVmId proxy s_logger s_logger info proxy getHostName
ZoneHostInfo zoneHostInfoMap dataCenterId ZoneHostInfo zoneHostInfo zoneHostInfoMap get dataCenterId zoneHostInfo zoneHostInfo VMTemplateVO template _templateDao findSystemVMReadyTemplate dataCenterId HypervisorType Any template
template templateHostRef _vmTemplateStoreDao findByTemplate template getId DataStoreRole Image templateHostRef _vmTemplateStoreDao findByTemplateZoneDownloadStatus template getId dataCenterId Status DOWNLOADED templateHostRef useLocalStorage Boolean useLocal ConfigurationManagerImpl SystemVMUseLocalStorage valueIn dataCenterId useLocal useLocalStorage useLocal booleanValue List Pair Long Integer l _consoleProxyDao getDatacenterStoragePoolHostInfo dataCenterId useLocalStorage l l l s_logger s_logger debug
proxyVmId ConsoleProxyVO proxy _consoleProxyDao findById proxyVmId proxy
ConsoleProxyManagementState String value _configDao getValue Config ConsoleProxyManagementState key value ConsoleProxyManagementState state ConsoleProxyManagementState valueOf value state
ConsoleProxyManagementState String value _configDao getValue Config ConsoleProxyManagementLastState key value ConsoleProxyManagementState state ConsoleProxyManagementState valueOf value state
vmId ConsoleProxyVO proxy _consoleProxyDao findById vmId _itMgr expunge proxy getUuid proxy setPublicIpAddress proxy setPublicMacAddress proxy setPublicNetmask proxy setPrivateMacAddress proxy setPrivateIpAddress _consoleProxyDao update proxy getId proxy _consoleProxyDao remove vmId HostVO host _hostDao findByTypeNameAndZoneId proxy getDataCenterId proxy getHostName Host Type ConsoleProxy host
s_logger warn _sslEnabled value configs get Config ConsoleProxyCapacityScanInterval key _capacityScanInterval NumbersUtil parseLong value DEFAULT_CAPACITY_SCAN_INTERVAL _capacityPerProxy NumbersUtil parseInt configs get DEFAULT_PROXY_CAPACITY _standbyCapacity NumbersUtil parseInt configs get DEFAULT_STANDBY_CAPACITY _proxySessionTimeoutValue NumbersUtil parseInt configs get DEFAULT_PROXY_SESSION_TIMEOUT value configs get value _consoleProxyPort NumbersUtil parseInt value ConsoleProxyManager DEFAULT_PROXY_VNC_PORT value configs get Config ConsoleProxyDisableRpFilter key value value _disableRpFilter value configs get value value
_sslEnabled value configs get Config ConsoleProxyCapacityScanInterval key _capacityScanInterval NumbersUtil parseLong value DEFAULT_CAPACITY_SCAN_INTERVAL _capacityPerProxy NumbersUtil parseInt configs get DEFAULT_PROXY_CAPACITY _standbyCapacity NumbersUtil parseInt configs get DEFAULT_STANDBY_CAPACITY _proxySessionTimeoutValue NumbersUtil parseInt configs get DEFAULT_PROXY_SESSION_TIMEOUT value configs get value _consoleProxyPort NumbersUtil parseInt value ConsoleProxyManager DEFAULT_PROXY_VNC_PORT value configs get Config ConsoleProxyDisableRpFilter key value value _disableRpFilter value configs get value value _useStorageVm
_useStorageVm s_logger s_logger info _capacityPerProxy s_logger info _standbyCapacity _instance configs get _instance _instance Map String String agentMgrConfigs _configDao getConfiguration params value agentMgrConfigs get _mgmtPort NumbersUtil parseInt value _listener ConsoleProxyListener VmBasedAgentHook _instanceDao _hostDao _configDao _ksMgr _agentMgr _keysMgr _agentMgr registerForHostEvents _listener _itMgr registerGuru VirtualMachine Type ConsoleProxy String cpvmSrvcOffIdStr configs get Config ConsoleProxyServiceOffering key cpvmSrvcOffIdStr
buf append append deviceId append append nic getIPv4Address buf append append deviceId append append nic getIPv4Netmask nic buf append append nic getIPv4Gateway nic String mgmt_cidr _configDao getValue Config ManagementNetwork key mgmt_cidr buf append append mgmt_cidr buf append append dest getPod getGateway buf append DataCenterVO dc _dcDao findById profile getVirtualMachine getDataCenterId buf append append dc getInternalDns1 dc getInternalDns2 buf append append dc getInternalDns2
List ConsoleProxyVO runningProxies _consoleProxyDao getProxyListInStates State Running ConsoleProxyVO runningProxies
pool dataCenterId pool longValue dataCenterId
cpu_requested offering getCpu offering getSpeed ram_requested offering getRamSize VirtualMachine vm vmProfile getVirtualMachine DataCenter dc _dcDao findById vm getDataCenterId vm VirtualMachine vm VirtualMachine checkForNonDedicatedResources vmProfile dc avoids s_logger s_logger debug planner s_logger debug plan getDataCenterId plan getPodId plan getClusterId cpu_requested toHumanReadableSize ram_requested s_logger debug plan getPoolId String haVmTag String vmProfile getParameter VirtualMachineProfile Param HaTag String uefiFlag String vmProfile getParameter VirtualMachineProfile Param UefiFlag plan getHostId haVmTag Long hostIdSpecified plan getHostId s_logger
String uefiFlag String vmProfile getParameter VirtualMachineProfile Param UefiFlag plan getHostId Long hostIdSpecified plan getHostId s_logger s_logger debug hostIdSpecified HostVO host _hostDao findById hostIdSpecified host uefiFlag uefiFlag _hostDao loadDetails host host host host s_logger debug host s_logger debug host s_logger debug
Cluster cluster _clusterDao findById host getClusterId cluster s_logger warn cluster getId DeployDestination dest DeployDestination dc pod cluster host HashMap Volume StoragePool s_logger debug dest dest DataCenterDeployment lastPlan DataCenterDeployment host getDataCenterId host getPodId host getClusterId hostIdSpecified plan getPoolId plan getReservationContext Pair Map Volume List StoragePool List Volume result findSuitablePoolsForVolumes vmProfile lastPlan avoids HostAllocator RETURN_UPTO_ALL Map Volume List StoragePool suitableVolumeStoragePools result first List Volume readyAndReusedVolumes result second suitableVolumeStoragePools List Host suitableHosts ArrayList Host suitableHosts add host
dest DataCenterDeployment lastPlan DataCenterDeployment host getDataCenterId host getPodId host getClusterId hostIdSpecified plan getPoolId plan getReservationContext Pair Map Volume List StoragePool List Volume result findSuitablePoolsForVolumes vmProfile lastPlan avoids HostAllocator RETURN_UPTO_ALL Map Volume List StoragePool suitableVolumeStoragePools result first List Volume readyAndReusedVolumes result second suitableVolumeStoragePools List Host suitableHosts ArrayList Host suitableHosts add host Pair Host Map Volume StoragePool potentialResources findPotentialDeploymentResources suitableHosts suitableVolumeStoragePools avoids getPlannerUsage planner vmProfile plan avoids readyAndReusedVolumes plan getPreferredHosts potentialResources pod _podDao findById host getPodId cluster _clusterDao findById host getClusterId Map Volume StoragePool storageVolMap potentialResources second Volume vol readyAndReusedVolumes storageVolMap remove vol
Pair Map Volume List StoragePool List Volume result findSuitablePoolsForVolumes vmProfile lastPlan avoids HostAllocator RETURN_UPTO_ALL Map Volume List StoragePool suitableVolumeStoragePools result first List Volume readyAndReusedVolumes result second suitableVolumeStoragePools List Host suitableHosts ArrayList Host suitableHosts add host Pair Host Map Volume StoragePool potentialResources findPotentialDeploymentResources suitableHosts suitableVolumeStoragePools avoids getPlannerUsage planner vmProfile plan avoids readyAndReusedVolumes plan getPreferredHosts potentialResources pod _podDao findById host getPodId cluster _clusterDao findById host getClusterId Map Volume StoragePool storageVolMap potentialResources second Volume vol readyAndReusedVolumes storageVolMap remove vol DeployDestination dest DeployDestination dc pod cluster host storageVolMap s_logger debug dest
vol storageVolMap remove vol DeployDestination dest DeployDestination dc pod cluster host storageVolMap s_logger debug dest dest s_logger debug vmGroupCount _affinityGroupVMMapDao countAffinityGroupsForVm vm getId vmGroupCount processor processor process vmProfile plan avoids s_logger s_logger debug avoids getPodsToAvoid avoids getClustersToAvoid avoids getHostsToAvoid avoids dc s_logger
s_logger debug vmGroupCount _affinityGroupVMMapDao countAffinityGroupsForVm vm getId vmGroupCount processor processor process vmProfile plan avoids s_logger s_logger debug avoids getPodsToAvoid avoids getClustersToAvoid avoids getHostsToAvoid avoids dc s_logger s_logger debug dc getId String plannerName offering getDeploymentPlanner plannerName
planner getDeploymentPlannerByName plannerName vm getLastHostId s_logger debug vm getLastHostId HostVO host _hostDao findById vm getLastHostId ServiceOfferingDetailsVO offeringDetails host s_logger debug host s_logger debug plan getClusterId host getClusterId plan getClusterId host getClusterId s_logger debug plan getClusterId host s_logger debug host getId offeringDetails _serviceOfferingDetailsDao findDetail offering getId GPU Keys toString ServiceOfferingDetailsVO groupName _serviceOfferingDetailsDao findDetail offering getId GPU Keys pciDevice toString
PlannerResourceUsage hostResourceTypeFinal hostResourceType PlannerHostReservationVO lockedEntry _plannerHostReserveDao lockRow id lockedEntry s_logger error hostId lockedEntry lockedEntry setResourceUsage resourceUsageRequired _plannerHostReserveDao persist lockedEntry lockedEntry resourceUsageRequired
hostId hostId PlannerHostReservationVO reservationEntry _plannerHostReserveDao findByHostId hostId reservationEntry reservationEntry List VMInstanceVO vms _vmInstanceDao listUpByHostId hostId vms
hostId hostId PlannerHostReservationVO reservationEntry _plannerHostReserveDao findByHostId hostId reservationEntry reservationEntry List VMInstanceVO vms _vmInstanceDao listUpByHostId hostId vms size s_logger s_logger debug vms size hostId List VMInstanceVO vmsByLastHostId _vmInstanceDao listByLastHostId hostId vmsByLastHostId size VMInstanceVO stoppedVM vmsByLastHostId secondsSinceLastUpdate DateUtil currentGMTTime getTime stoppedVM getUpdateTime getTime secondsSinceLastUpdate s_logger
vms size s_logger s_logger debug vms size hostId List VMInstanceVO vmsByLastHostId _vmInstanceDao listByLastHostId hostId vmsByLastHostId size VMInstanceVO stoppedVM vmsByLastHostId secondsSinceLastUpdate DateUtil currentGMTTime getTime stoppedVM getUpdateTime getTime secondsSinceLastUpdate s_logger s_logger debug stoppedVM hostId List VMInstanceVO vmsStoppingMigratingByHostId _vmInstanceDao findByHostInStates hostId State Stopping State Migrating State Starting vmsStoppingMigratingByHostId size s_logger
VMInstanceVO stoppedVM secondsSinceLastUpdate DateUtil currentGMTTime getTime stoppedVM getUpdateTime getTime secondsSinceLastUpdate s_logger s_logger debug stoppedVM hostId List VMInstanceVO vmsStoppingMigratingByHostId _vmInstanceDao findByHostInStates hostId State Stopping State Migrating State Starting vmsStoppingMigratingByHostId size s_logger s_logger debug vmsStoppingMigratingByHostId size hostId List VMInstanceVO vmsStartingNoHost _vmInstanceDao listStartingWithNoHostId vmsStartingNoHost size s_logger s_logger debug vms size
List VMInstanceVO vmsStoppingMigratingByHostId _vmInstanceDao findByHostInStates hostId State Stopping State Migrating State Starting vmsStoppingMigratingByHostId size s_logger s_logger debug vmsStoppingMigratingByHostId size hostId List VMInstanceVO vmsStartingNoHost _vmInstanceDao listStartingWithNoHostId vmsStartingNoHost size s_logger s_logger debug vms size s_logger s_logger debug hostId id reservationEntry getId
_agentMgr registerForHostEvents VirtualMachine State getStateMachine registerListener obj VMInstanceVO vm VMInstanceVO obj
Pod pod _podDao findById clusterVO getPodId pod List Host suitableHosts findSuitableHosts vmProfile potentialPlan avoid HostAllocator RETURN_UPTO_ALL suitableHosts suitableHosts vmProfile DeployDestination dest DeployDestination dc pod clusterVO suitableHosts get dest Pair Map Volume List StoragePool List Volume result findSuitablePoolsForVolumes vmProfile potentialPlan avoid StoragePoolAllocator RETURN_UPTO_ALL Map Volume List StoragePool suitableVolumeStoragePools result first List Volume readyAndReusedVolumes result second suitableVolumeStoragePools Pair Host Map Volume StoragePool potentialResources findPotentialDeploymentResources suitableHosts suitableVolumeStoragePools avoid resourceUsageRequired readyAndReusedVolumes plan getPreferredHosts potentialResources Host host _hostDao findById potentialResources first getId Map Volume StoragePool storageVolMap potentialResources second
Pair Map Volume List StoragePool List Volume result findSuitablePoolsForVolumes vmProfile potentialPlan avoid StoragePoolAllocator RETURN_UPTO_ALL Map Volume List StoragePool suitableVolumeStoragePools result first List Volume readyAndReusedVolumes result second suitableVolumeStoragePools Pair Host Map Volume StoragePool potentialResources findPotentialDeploymentResources suitableHosts suitableVolumeStoragePools avoid resourceUsageRequired readyAndReusedVolumes plan getPreferredHosts potentialResources Host host _hostDao findById potentialResources first getId Map Volume StoragePool storageVolMap potentialResources second Volume vol readyAndReusedVolumes storageVolMap remove vol DeployDestination dest DeployDestination dc pod clusterVO host storageVolMap s_logger debug dest dest s_logger debug clusterId
hostAffinityCheck readyAndReusedVolumes readyAndReusedVolumes ArrayList Volume Map Volume StoragePool storage HashMap Volume StoragePool Volume volumesOrderBySizeDesc Volume Volume Volume v1 Volume v2 v1 getSize v2 getSize volumesOrderBySizeDesc addAll suitableVolumeStoragePools keySet multipleVolume volumesOrderBySizeDesc size Map StoragePool List Volume volumeAllocationMap HashMap StoragePool List Volume Volume volumesOrderBySizeDesc haveEnoughSpace
List Volume requestVolumes volumeAllocationMap containsKey potentialSPool requestVolumes volumeAllocationMap get potentialSPool requestVolumes Volume requestVolumes add vol _storageMgr storagePoolHasEnoughIops requestVolumes potentialSPool _storageMgr storagePoolHasEnoughSpace requestVolumes potentialSPool potentialHost getClusterId volumeAllocationMap put potentialSPool requestVolumes storage put vol potentialSPool haveEnoughSpace haveEnoughSpace s_logger warn
zoneId DataCenterVO zone _dcDao findById zoneId zone zone
vmProfile VirtualMachine vm vmProfile getVirtualMachine DataCenter dc dcDao findById vm getDataCenterId dc
s_logger debug avoid addCluster plan getClusterId plan getPodId Long podIdSpecified plan getPodId s_logger debug podIdSpecified HostPodVO pod podDao findById podIdSpecified pod avoid pod s_logger debug clusterList scanClustersForDestinationInZoneOrPod podIdSpecified vmProfile plan avoid clusterList avoid addPod plan getPodId
List Long vmProfile plan ServiceOffering offering vmProfile getServiceOffering requiredCpu offering getCpu offering getSpeed requiredRam offering getRamSize List Long prioritizedPodIds ArrayList Long Pair List Long Map Long Double podCapacityInfo listPodsByCapacity plan getDataCenterId requiredCpu requiredRam List Long podsWithCapacity podCapacityInfo first podsWithCapacity
ServiceOffering offering vmProfile getServiceOffering requiredCpu offering getCpu offering getSpeed requiredRam offering getRamSize List Long prioritizedPodIds ArrayList Long Pair List Long Map Long Double podCapacityInfo listPodsByCapacity plan getDataCenterId requiredCpu requiredRam List Long podsWithCapacity podCapacityInfo first podsWithCapacity avoid getPodsToAvoid s_logger s_logger debug avoid getPodsToAvoid podsWithCapacity removeAll avoid getPodsToAvoid vmProfile List Long disabledPods listDisabledPods plan getDataCenterId disabledPods s_logger
List Short capacityList getCapacitiesForCheckingThreshold List Long clustersCrossingThreshold ArrayList Long ServiceOffering offering vmProfile getServiceOffering cpu_requested offering getCpu offering getSpeed ram_requested offering getRamSize capacity capacityList clusterListForVmAllocation clusterListForVmAllocation capacity clustersCrossingThreshold capacityDao listClustersCrossingThreshold capacity plan getDataCenterId ClusterCPUCapacityDisableThreshold key cpu_requested capacity clustersCrossingThreshold capacityDao listClustersCrossingThreshold capacity plan getDataCenterId ClusterMemoryCapacityDisableThreshold key ram_requested clustersCrossingThreshold clustersCrossingThreshold avoid addClusterList clustersCrossingThreshold clusterListForVmAllocation removeAll clustersCrossingThreshold
List Long id isZone vmProfile avoid VirtualMachine vm vmProfile getVirtualMachine ServiceOffering offering vmProfile getServiceOffering DataCenter dc dcDao findById vm getDataCenterId requiredCpu offering getCpu offering getSpeed requiredRam offering getRamSize Pair List Long Map Long Double clusterCapacityInfo listClustersByCapacity id requiredCpu requiredRam avoid isZone List Long prioritizedClusterIds clusterCapacityInfo first prioritizedClusterIds avoid
Pair List Long Map Long Double clusterCapacityInfo listClustersByCapacity id requiredCpu requiredRam avoid isZone List Long prioritizedClusterIds clusterCapacityInfo first prioritizedClusterIds avoid getClustersToAvoid s_logger s_logger debug avoid getClustersToAvoid prioritizedClusterIds removeAll avoid getClustersToAvoid List Long disabledClusters ArrayList Long isZone disabledClusters listDisabledClusters plan getDataCenterId disabledClusters listDisabledClusters plan getDataCenterId id disabledClusters s_logger
List Long clusterListForVmAllocation hostTagOnOffering List Long matchingClusters hostDao listClustersByHostTag hostTagOnOffering clusterListForVmAllocation retainAll matchingClusters
accountId AccountVO account s_accountDao findByIdIncludingRemoved accountId account
hostId testHostIp Answer pingTestAnswer _agentMgr send hostId PingTestCommand testHostIp pingTestAnswer
Answer pingTestAnswer _agentMgr send hostId PingTestCommand testHostIp pingTestAnswer s_logger s_logger debug testHostIp Status Unknown pingTestAnswer s_logger s_logger debug testHostIp Status Up s_logger s_logger debug testHostIp Status Unknown s_logger
Status Unknown s_logger s_logger debug testHostIp Status Up s_logger s_logger debug testHostIp Status Unknown e s_logger s_logger debug testHostIp e getLocalizedMessage Status Unknown e s_logger
vm CheckVirtualMachineCommand cmd CheckVirtualMachineCommand vm getInstanceName CheckVirtualMachineAnswer answer CheckVirtualMachineAnswer _agentMgr send vm getHostId cmd answer
sb StringBuilder sb append i i vms i VMInstanceVO vm vms get i vm reorderedVMList add vm reorderedVMList add vm vm sb append vm getHostName HostPodVO podVO _podDao findById host getPodId String hostDesc host getName host getId dcVO getName podVO getName _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_HOST host getDataCenterId host getPodId hostDesc hostDesc sb sb toString VMInstanceVO vm reorderedVMList ServiceOfferingVO vmOffering _serviceOfferingDao findById vm getServiceOfferingId
VMInstanceVO vm vms get i vm reorderedVMList add vm reorderedVMList add vm vm sb append vm getHostName HostPodVO podVO _podDao findById host getPodId String hostDesc host getName host getId dcVO getName podVO getName _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_HOST host getDataCenterId host getPodId hostDesc hostDesc sb sb toString VMInstanceVO vm reorderedVMList ServiceOfferingVO vmOffering _serviceOfferingDao findById vm getServiceOfferingId vmOffering s_logger s_logger debug vm
reorderedVMList add vm vm sb append vm getHostName HostPodVO podVO _podDao findById host getPodId String hostDesc host getName host getId dcVO getName podVO getName _alertMgr sendAlert AlertManager AlertType ALERT_TYPE_HOST host getDataCenterId host getPodId hostDesc hostDesc sb sb toString vm reorderedVMList ServiceOfferingVO vmOffering _serviceOfferingDao findById vm getServiceOfferingId vmOffering s_logger s_logger debug vm s_logger s_logger debug vm getId vm getInstanceName
WorkType type assert type WorkType CheckStop type WorkType ForceStop type WorkType Stop type
vm vm getHostId HaWorkVO work HaWorkVO vm getId vm getType WorkType Migration Step Scheduled vm getHostId vm getState vm getUpdated _haDao persist work
work vmId work getInstanceId srcHostId work getHostId VMInstanceVO vm _instanceDao findById vmId vm
vm hostId HaWorkVO work HaWorkVO vm getId vm getType WorkType Destroy Step Scheduled hostId vm getState vm getUpdated _haDao persist work
work VirtualMachine vm _itMgr findById work getInstanceId
work VirtualMachine vm _itMgr findById work getInstanceId s_logger info vm toString vm
VirtualMachine vm _itMgr findById work getInstanceId s_logger info vm toString vm s_logger info vm toString vm _itMgr destroy vm getUuid s_logger info vm s_logger s_logger debug vm
vm s_logger info vm toString vm _itMgr destroy vm getUuid s_logger info vm s_logger s_logger debug vm e s_logger debug e getMessage e
s_logger info vm toString vm _itMgr destroy vm getUuid s_logger info vm s_logger s_logger debug vm e s_logger debug e getMessage e s_logger debug e getMessage e
HostVO host WorkType type host getType HostVO Type Storage WorkType Stop WorkType Migration
List HostVO hosts _resourceMgr listAllHostsInCluster host getClusterId FenceCommand fence FenceCommand vm host i HostVO h hosts h h h i h getId host getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence
FenceCommand fence FenceCommand vm host i h h h h i h getId host getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence e s_logger info h toString e
i h getId getId FenceAnswer answer answer FenceAnswer _agentMgr send h getId fence e s_logger info h toString e e s_logger info h toString e answer answer
VirtualMachine vm VirtualMachine Type type vm getType type VirtualMachine Type type VirtualMachine Type type VirtualMachine Type
vm UnknownVM vm s_logger s_logger debug vm UnknownVM s_logger s_logger debug vm UserVmVO userVm _userVmDao findById vm getId List Nic nics _networkMgr getNicsForTraffic userVm getId TrafficType Guest Nic nic nics nic List VirtualRouter routers _vnaMgr getRoutersForNetwork nic getNetworkId routers routers s_logger
List Nic nics _networkMgr getNicsForTraffic userVm getId TrafficType Guest Nic nic nics nic List VirtualRouter routers _vnaMgr getRoutersForNetwork nic getNetworkId routers routers s_logger s_logger debug nic getNetworkId vm Boolean result VirtualRouter router routers result testUserVM vm nic router result result
String routerPrivateIp router getPrivateIpAddress List Long otherHosts ArrayList Long vm vm otherHosts add router getHostId otherHosts findHostByPod router getPodIdToDeployIn Long hostId otherHosts Answer pingTestAnswer _agentMgr easySend hostId PingTestCommand routerPrivateIp privateIp pingTestAnswer pingTestAnswer s_logger s_logger debug vm getHostName privateIp router getHostName Boolean TRUE s_logger
otherHosts add router getHostId otherHosts findHostByPod router getPodIdToDeployIn hostId otherHosts Answer pingTestAnswer _agentMgr easySend hostId PingTestCommand routerPrivateIp privateIp pingTestAnswer pingTestAnswer s_logger s_logger debug vm getHostName privateIp router getHostName Boolean TRUE e s_logger s_logger debug e s_logger
DataCenterVO zone _zoneDao findByToken zoneToken zone zone _zoneDao findByName zoneToken zone zoneId Long parseLong zoneToken zone _zoneDao findById zoneId zone AgentAuthnException zoneToken AgentAuthnException zoneToken s_logger s_logger debug HostPodVO pod findPod startup zone getId Host Type Routing Long podId
to VirtualMachine vm vmProfile getVirtualMachine HostVO host _hostDao findById vm getHostId host CloudRuntimeException vm getHostId s_logger debug vm getUuid host getUuid hostMaxSpeed getHostCPUSpeed host maxSpeed getVmSpeed to BigDecimal percent BigDecimal maxSpeed hostMaxSpeed percent percent setScale RoundingMode HALF_DOWN percent BigDecimal s_logger debug vm getUuid host getUuid percent BigDecimal to setCpuQuotaPercentage percent doubleValue
HostVO host _hostDao findById vm getHostId host CloudRuntimeException vm getHostId s_logger debug vm getUuid host getUuid hostMaxSpeed getHostCPUSpeed host maxSpeed getVmSpeed to BigDecimal percent BigDecimal maxSpeed hostMaxSpeed percent percent setScale RoundingMode HALF_DOWN percent BigDecimal s_logger debug vm getUuid host getUuid percent BigDecimal to setCpuQuotaPercentage percent doubleValue s_logger debug host getUuid hostMaxSpeed vm getUuid maxSpeed percent doubleValue
CloudRuntimeException agentIp Integer validityPeriod CAManager CertValidityPeriod value validityPeriod validityPeriod SSHCmdHelper SSHCmdResult keystoreSetupResult SSHCmdHelper sshExecuteCmdWithResult sshConnection String format KeyStoreUtils KS_SETUP_SCRIPT KeyStoreUtils KS_FILENAME PasswordGenerator generateRandomPassword validityPeriod KeyStoreUtils CSR_FILENAME keystoreSetupResult CloudRuntimeException agentIp Certificate certificate caManager issueCertificate keystoreSetupResult getStdOut Arrays asList agentHostname agentIp Collections singletonList agentIp certificate certificate CloudRuntimeException agentIp SetupCertificateCommand certificateCommand SetupCertificateCommand certificate SSHCmdHelper SSHCmdResult setupCertResult SSHCmdHelper sshExecuteCmdWithResult sshConnection String format KeyStoreUtils KS_IMPORT_SCRIPT KeyStoreUtils KS_FILENAME KeyStoreUtils SSH_MODE KeyStoreUtils CERT_FILENAME certificateCommand getEncodedCertificate KeyStoreUtils CACERT_FILENAME certificateCommand getEncodedCaCertificates KeyStoreUtils PKEY_FILENAME certificateCommand getEncodedPrivateKey setupCertResult setupCertResult CloudRuntimeException
Map String String details HashMap String String uri String msg uri s_logger debug msg Connection sshConnection String agentIp String hostname uri getHost InetAddress ia InetAddress getByName hostname agentIp ia getHostAddress String guid UUID nameUUIDFromBytes agentIp getBytes toString List HostVO existingHosts _resourceMgr listAllHostsInOneZoneByType Host Type Routing dcId existingHosts HostVO existingHosts
account s_logger debug accountId String publicIp _networkModel getIp lb getSourceIpAddressId getAddress addr DataCenterVO zone _dcDao findById network getDataCenterId String statsEntryIdentifier account getAccountName zone getName networkId externalLoadBalancer getName newCurrentBytesSent newCurrentBytesReceived publicIp bytesSentAndReceived statsEntryIdentifier publicIp inline _networkModel isNetworkInlineMode network externalLoadBalancer inline InlineLoadBalancerNicMapVO mapping _inlineLoadBalancerNicMapDao findByPublicIpAddress publicIp mapping
oldNetBytesReceived userStats getNetBytesReceived oldCurrentBytesSent userStats getCurrentBytesSent oldCurrentBytesReceived userStats getCurrentBytesReceived String warning userStats getDataCenterId userStats getAccountId userStats setCurrentBytesSent newCurrentBytesSent oldCurrentBytesSent newCurrentBytesSent s_logger warn warning toHumanReadableSize oldCurrentBytesSent toHumanReadableSize newCurrentBytesSent userStats setNetBytesSent oldNetBytesSent oldCurrentBytesSent userStats setCurrentBytesReceived newCurrentBytesReceived oldCurrentBytesReceived newCurrentBytesReceived s_logger warn warning toHumanReadableSize oldCurrentBytesReceived toHumanReadableSize newCurrentBytesReceived userStats setNetBytesReceived oldNetBytesReceived oldCurrentBytesReceived userStats userStats s_logger debug statsEntryIdentifier
ntwkDevice url InvalidParameterValueException pNetwork _physicalNetworkDao findById physicalNetworkId pNetwork InvalidParameterValueException physicalNetworkId zoneId pNetwork getDataCenterId PhysicalNetworkServiceProviderVO ntwkSvcProvider _physicalNetworkServiceProviderDao findByServiceProvider pNetwork getId ntwkDevice getNetworkServiceProvder ntwkSvcProvider CloudRuntimeException ntwkDevice getNetworkServiceProvder physicalNetworkId ntwkSvcProvider CloudRuntimeException ntwkSvcProvider getProviderName physicalNetworkId URI uri uri URI url
HostVO externalFirewall _hostDao findById hostId externalFirewall InvalidParameterValueException hostId DetailVO fwHostDetails _hostDetailDao findDetail hostId ApiConstants FIREWALL_DEVICE_ID fwDeviceId Long parseLong fwHostDetails getValue List NetworkExternalFirewallVO networks _networkExternalFirewallDao listByFirewallDeviceId fwDeviceId networks networks CloudRuntimeException externalFirewall setResourceState ResourceState Maintenance _hostDao update hostId externalFirewall _resourceMgr deleteHost hostId _externalFirewallDeviceDao remove fwDeviceId
IpAddressTO ips IpAddressTO ips ip IpAssocCommand cmd IpAssocCommand ips cmd setAccessDetail NetworkElementCommand GUEST_NETWORK_GATEWAY guestVlanGateway cmd setAccessDetail NetworkElementCommand GUEST_NETWORK_CIDR guestVlanCidr cmd setAccessDetail NetworkElementCommand GUEST_VLAN_TAG String valueOf guestVlanTag Answer answer _agentMgr easySend externalFirewall getId cmd List String reservedIpAddressesForGuestNetwork _nicDao listIpAddressInNetwork network getId answer answer String action add String answerDetails answer answer getDetails String msg action zone getName answerDetails s_logger error msg add reservedIpAddressesForGuestNetwork network s_logger error
cmd setAccessDetail NetworkElementCommand GUEST_NETWORK_CIDR guestVlanCidr cmd setAccessDetail NetworkElementCommand GUEST_VLAN_TAG String valueOf guestVlanTag Answer answer _agentMgr easySend externalFirewall getId cmd List String reservedIpAddressesForGuestNetwork _nicDao listIpAddressInNetwork network getId answer answer String action add String answerDetails answer answer getDetails String msg action zone getName answerDetails s_logger error msg add reservedIpAddressesForGuestNetwork network getGateway s_logger error ResourceUnavailableException msg DataCenter zoneId add reservedIpAddressesForGuestNetwork network getGateway _networkMgr savePlaceholderNic network network getGateway
network zoneId network getDataCenterId DataCenterVO zone _dcDao findById zoneId ExternalFirewallDeviceVO fwDeviceVO getExternalFirewallForNetwork network HostVO externalFirewall _hostDao findById fwDeviceVO getHostId assert externalFirewall network
firewallRules zone externalFirewallId firewallRules SetFirewallRulesCommand cmd SetFirewallRulesCommand firewallRules Answer answer _agentMgr easySend externalFirewallId cmd answer answer String details answer answer getDetails String msg zone getName details
staticNatRules zone externalFirewallId staticNatRules SetStaticNatRulesCommand cmd SetStaticNatRulesCommand staticNatRules Answer answer _agentMgr easySend externalFirewallId cmd answer answer String details answer answer getDetails String msg zone getName details
portForwardingRules zone externalFirewallId portForwardingRules SetPortForwardingRulesCommand cmd SetPortForwardingRulesCommand portForwardingRules Answer answer _agentMgr easySend externalFirewallId cmd answer answer String details answer answer getDetails String msg zone getName details
List VpnUser addUsers ArrayList VpnUser List VpnUser removeUsers ArrayList VpnUser VpnUser user user VpnUser user VpnUser addUsers add user user VpnUser removeUsers add user VpnUsersCfgCommand addUsersCmd VpnUsersCfgCommand addUsers removeUsers addUsersCmd setAccessDetail NetworkElementCommand ACCOUNT_ID String valueOf network getAccountId addUsersCmd setAccessDetail NetworkElementCommand GUEST_NETWORK_CIDR network getCidr Answer answer _agentMgr easySend externalFirewall getId addUsersCmd answer answer String details answer answer getDetails DataCenterVO zone _dcDao findById network getDataCenterId String msg zone getName details
network zoneId network getDataCenterId DataCenterVO zone _dcDao findById zoneId ExternalFirewallDeviceVO fwDeviceVO getExternalFirewallForNetwork network HostVO externalFirewall _hostDao findById fwDeviceVO getHostId assert externalFirewall network
deviceMapLock unlock deviceMapLock releaseRef List ExternalLoadBalancerDeviceVO providerLbDevices _externalLoadBalancerDeviceDao listByProviderAndDeviceAllocationState physicalNetworkId provider LBDeviceAllocationState Provider providerLbDevices providerLbDevices ExternalLoadBalancerDeviceVO lbProviderDevice providerLbDevices lbProviderDevice DataCenterIpAddressVO dcPrivateIp _dcDao allocatePrivateIpAddress guestConfig getDataCenterId lbProviderDevice getUuid dcPrivateIp InsufficientNetworkCapacityException guestConfig getDataCenterId DataCenter guestConfig getDataCenterId Pod pod _podDao findById dcPrivateIp getPodId String lbIP dcPrivateIp getIpAddress String netmask NetUtils getCidrNetmask pod getCidrSize
deviceMapLock releaseRef List ExternalLoadBalancerDeviceVO providerLbDevices _externalLoadBalancerDeviceDao listByProviderAndDeviceAllocationState physicalNetworkId provider LBDeviceAllocationState Provider providerLbDevices providerLbDevices ExternalLoadBalancerDeviceVO lbProviderDevice providerLbDevices lbProviderDevice DataCenterIpAddressVO dcPrivateIp _dcDao allocatePrivateIpAddress guestConfig getDataCenterId lbProviderDevice getUuid dcPrivateIp InsufficientNetworkCapacityException guestConfig getDataCenterId DataCenter guestConfig getDataCenterId Pod pod _podDao findById dcPrivateIp getPodId String lbIP dcPrivateIp getIpAddress String netmask NetUtils getCidrNetmask pod getCidrSize String gateway pod getGateway CreateLoadBalancerApplianceCommand lbProvisionCmd CreateLoadBalancerApplianceCommand lbIP netmask gateway
lbDevice lbDevice Host lbHost _hostDao findById lbDevice getHostId String lbIP lbHost getPrivateIpAddress DestroyLoadBalancerApplianceCommand lbDeleteCmd DestroyLoadBalancerApplianceCommand lbIP DestroyLoadBalancerApplianceAnswer answer answer DestroyLoadBalancerApplianceAnswer _agentMgr easySend lbDevice getParentHostId lbDeleteCmd answer answer s_logger warn guestConfig getId answer answer getDetails e s_logger warn guestConfig getId e getMessage
DestroyLoadBalancerApplianceCommand lbDeleteCmd DestroyLoadBalancerApplianceCommand lbIP DestroyLoadBalancerApplianceAnswer answer answer DestroyLoadBalancerApplianceAnswer _agentMgr easySend lbDevice getParentHostId lbDeleteCmd answer answer s_logger warn guestConfig getId answer answer getDetails e s_logger warn guestConfig getId e getMessage s_logger s_logger debug guestConfig getId deviceMapLock unlock deleteExternalLoadBalancer lbHost getId _dcDao releasePrivateIpAddress lbHost getPrivateIpAddress guestConfig getDataCenterId DetailVO publicIpDetail _hostDetailDao findDetail lbHost getId IPAddressVO ipVo _ipAddressDao findByIpAndDcId guestConfig getDataCenterId publicIpDetail toString
answer DestroyLoadBalancerApplianceAnswer _agentMgr easySend lbDevice getParentHostId lbDeleteCmd answer answer s_logger warn guestConfig getId answer answer getDetails e s_logger warn guestConfig getId e getMessage s_logger s_logger debug guestConfig getId deviceMapLock unlock deleteExternalLoadBalancer lbHost getId _dcDao releasePrivateIpAddress lbHost getPrivateIpAddress guestConfig getDataCenterId DetailVO publicIpDetail _hostDetailDao findDetail lbHost getId IPAddressVO ipVo _ipAddressDao findByIpAndDcId guestConfig getDataCenterId publicIpDetail toString _ipAddrMgr disassociatePublicIpAddress ipVo getId _accountMgr getSystemUser getId _accountMgr getSystemAccount deviceMapLock unlock
Nic loadBalancingIpNic MappingNic nic MappingNic nic setState MappingState Unchanged String loadBalancingIpAddress existedGuestIp loadBalancingIpAddress network loadBalancingIpAddress _ipAddrMgr acquireGuestIpAddress network network PublicIp directIp _ipAddrMgr assignPublicIpAddress network getDataCenterId _accountDao findById network getAccountId VlanType DirectAttached network getId loadBalancingIpAddress directIp getAddress addr String msg
String loadBalancingIpAddress existedGuestIp loadBalancingIpAddress network loadBalancingIpAddress _ipAddrMgr acquireGuestIpAddress network network PublicIp directIp _ipAddrMgr assignPublicIpAddress network getDataCenterId _accountDao findById network getAccountId VlanType DirectAttached network getId loadBalancingIpAddress directIp getAddress addr String msg s_logger error msg ResourceUnavailableException msg DataCenter network getDataCenterId loadBalancingIpAddress String msg
DataCenterVO zone _dcDao findById zoneId HostVO externalLoadBalancer network externalLoadBalancer getNetScalerControlCenterForNetwork network ExternalLoadBalancerDeviceVO lbDeviceVO getExternalLoadBalancerForNetwork network lbDeviceVO s_logger warn externalLoadBalancer _hostDao findById lbDeviceVO getHostId externalLoadBalancerIsInline _networkMgr isNetworkInlineMode network network
network List Provider providers _networkMgr getProvidersForServiceInNetwork network Service Firewall providers
DataCenterVO zone _dcDao findById zoneId HostVO externalLoadBalancer network externalLoadBalancer getNetScalerControlCenterForNetwork network ExternalLoadBalancerDeviceVO lbDeviceVO getExternalLoadBalancerForNetwork network lbDeviceVO s_logger warn externalLoadBalancer _hostDao findById lbDeviceVO getHostId externalLoadBalancerIsInline _networkMgr isNetworkInlineMode network network
success
e s_logger warn ipId e success s_logger debug Purpose PortForwarding Purpose StaticNat ipId ipId s_logger warn ipId success e s_logger warn ipId e success s_logger debug Purpose LoadBalancing ipId ipId s_logger warn ipId success
s_logger s_logger debug addrId ip isSourceNat ip getAssociatedWithNetworkId Network network _networksDao findById ip getAssociatedWithNetworkId network s_logger warn network success e CloudRuntimeException e ip _ipAddressDao unassignIpAddress ip getId success ip
Account owner _accountMgr getAccount addr getAllocatedToAccountId _ipAddressDao addr getId IPAddressVO userIp _ipAddressDao findById addr getId userIp IpAddress State addr IpAddress State addr setState IpAddress State Allocated _ipAddressDao addr getId addr owner Account VlanVO vlan _vlanDao findById addr getVlanId String guestType vlan getVlanType toString addr UsageEventUtils publishUsageEvent EventTypes EVENT_NET_IP_ASSIGN owner getId addr getDataCenterId addr getId addr getAddress toString addr isSourceNat guestType addr getSystem addr getClass getName addr getUuid addr _resourceLimitMgr incrementResourceCount owner getId ResourceType public_ip
_ipAddressDao addr getId IPAddressVO userIp _ipAddressDao findById addr getId userIp IpAddress State addr IpAddress State addr setState IpAddress State Allocated _ipAddressDao addr getId addr owner VlanVO vlan _vlanDao findById addr getVlanId String guestType vlan getVlanType toString addr UsageEventUtils publishUsageEvent EventTypes EVENT_NET_IP_ASSIGN owner getId addr getDataCenterId addr getId addr getAddress toString addr isSourceNat guestType addr getSystem addr getClass getName addr getUuid addr _resourceLimitMgr incrementResourceCount owner getId ResourceType public_ip s_logger error addr getId addr getAddress
owner ConcurrentOperationException ex ConcurrentOperationException ex s_logger s_logger debug ownerId displayIp guestNtwkId Network ntwk _networksDao findById guestNtwkId displayIp ntwk getDisplayNetwork vpcId VpcVO vpc _vpcDao findById vpcId displayIp vpc isDisplay fetchNewPublicIp dcId owner VlanType VirtualNetwork guestNtwkId isSourceNat vpcId displayIp
s_logger debug ownerId displayIp guestNtwkId Network ntwk _networksDao findById guestNtwkId displayIp ntwk getDisplayNetwork vpcId VpcVO vpc _vpcDao findById vpcId displayIp vpc isDisplay fetchNewPublicIp dcId owner VlanType VirtualNetwork guestNtwkId isSourceNat vpcId displayIp ip s_logger error ip getId ip getAddress ip owner
guestNtwkId Network ntwk _networksDao findById guestNtwkId displayIp ntwk getDisplayNetwork vpcId VpcVO vpc _vpcDao findById vpcId displayIp vpc isDisplay fetchNewPublicIp dcId owner VlanType VirtualNetwork guestNtwkId isSourceNat vpcId displayIp ip s_logger error ip getId ip getAddress ip owner s_logger s_logger debug ownerId
element IpDeployingRequester CloudRuntimeException element deployer IpDeployingRequester element getIpDeployer network deployer CloudRuntimeException element Set Service services HashSet Service ip ips ipToServices ip services addAll ipToServices get ip deployer applyIps network ips services e success e
s_logger debug callerUserId ipOwner getId accountToLock _accountDao acquireInLockTable ipOwner getId accountToLock s_logger warn ipOwner getId ConcurrentOperationException s_logger s_logger debug ip PublicIp InsufficientAddressCapacityException PublicIp InsufficientAddressCapacityException PublicIp ip fetchNewPublicIp zone getId ipOwner vlanType assign ipaddress isSystem displayIp ip InsufficientAddressCapacityException ex InsufficientAddressCapacityException DataCenter zone getId ex addProxyObject ApiDBUtils findZoneById zone getId getUuid ex CallContext current setEventDetails ip getId
s_logger s_logger debug ip PublicIp InsufficientAddressCapacityException PublicIp InsufficientAddressCapacityException PublicIp ip fetchNewPublicIp zone getId ipOwner vlanType assign ipaddress isSystem displayIp ip InsufficientAddressCapacityException ex InsufficientAddressCapacityException DataCenter zone getId ex addProxyObject ApiDBUtils findZoneById zone getId getUuid ex CallContext current setEventDetails ip getId Ip ipAddress ip getAddress s_logger debug ipAddress ipOwner getId zone getId ip
InvalidParameterValueException DataCenter zone _entityMgr findById DataCenter network getDataCenterId zone network network _accountMgr checkAccess CallContext current getCallingAccount AccessType UseEntry network InvalidParameterValueException _accountMgr checkAccess caller ipToAssoc owner _accountMgr getAccount ipToAssoc getAllocatedToAccountId s_logger debug ipId ipToAssoc
_accountMgr checkAccess CallContext current getCallingAccount AccessType UseEntry network InvalidParameterValueException _accountMgr checkAccess caller ipToAssoc owner _accountMgr getAccount ipToAssoc getAllocatedToAccountId s_logger debug ipId ipToAssoc s_logger debug ipToAssoc networkId ipToAssoc Network network _networksDao findById networkId network _accountMgr checkAccess owner AccessType UseEntry network
Network network _networksDao findById networkId network _accountMgr checkAccess owner AccessType UseEntry network s_logger debug ipId DataCenter zone _entityMgr findById DataCenter network getDataCenterId network TrafficType Guest InvalidParameterValueException TrafficType Guest network owner zone zone network Network InvalidParameterValueException zone network network
TrafficType Guest InvalidParameterValueException TrafficType Guest getId NetworkType NetworkType Advanced GuestType InvalidParameterValueException NetworkType Advanced GuestType Isolated getId Service SourceNat ipToAssoc s_logger warn ipToAssoc _ipAddressDao unassignIpAddress ipToAssoc getId InvalidParameterValueException NetworkType Advanced GuestType Isolated Service SourceNat getName GuestType ipToAssoc s_logger warn ipToAssoc _ipAddressDao unassignIpAddress ipToAssoc getId
IPAddressVO ipToAssoc _ipAddressDao findById ipId ipToAssoc ipToAssoc InvalidParameterValueException ipToAssoc ipToAssoc network InvalidParameterValueException ipToAssoc networkId DataCenter zone _entityMgr findById DataCenter network getDataCenterId zone network assert isSharedNetworkOfferingWithServices network getNetworkOfferingId _accountMgr checkAccess CallContext current getCallingAccount AccessType UseEntry network _accountMgr checkAccess caller ipToAssoc owner _accountMgr getAccount ipToAssoc getAllocatedToAccountId
s_logger debug ipId DataCenter zone _entityMgr findById DataCenter network getDataCenterId network zone zone network InvalidParameterValueException List PublicIpAddress ipList ArrayList PublicIpAddress PublicIp publicIp PublicIp createFromAddrAndVlan ipToAssoc _vlanDao findById ipToAssoc getVlanId ipList add publicIp Map PublicIpAddress Set Service ipToServices _networkModel getIpToServices ipList ipToServices Set Service services ipToServices get publicIp services services InvalidParameterValueException ipToAssoc networkId
addr setSourceNat addr setAssociatedWithNetworkId guestNetwork getId addr setVpcId guestNetwork getVpcId addr setAllocatedTime Date addr setAllocatedInDomainId owner getDomainId addr setAllocatedToAccountId owner getId addr setSystem addr setState IpAddress State Allocating markPublicIpAsAllocated addr Ternary Boolean List NetworkOfferingVO Network createNetwork requiredOfferings guestNetwork e1 ExceptionUtil rethrowRuntime e1 ExceptionUtil rethrow e1 InsufficientCapacityException
network ipv4 network getIPv4Address PublicIp ip Nic placeholderNic _networkModel getPlaceholderNicForRouter network placeholderNic IPAddressVO userIp _ipAddressDao findByIpAndSourceNetworkId network getId placeholderNic getIPv4Address ip PublicIp createFromAddrAndVlan userIp _vlanDao findById userIp getVlanId
ipv4 ipv4
nic network network getIp6Gateway nic s_logger debug network getIp6Cidr network nic setIPv6Cidr network getIp6Cidr nic setIPv6Gateway network getIp6Gateway IPv6Address ipv6addr NetUtils EUI64Address network getIp6Cidr nic getMacAddress
networkCopy nw networkCopyId networkCopy getId networkCopyId networks get getId NetworkVO originalNetwork _networksDao findById originalNetworkId originalNetwork setRelated networkCopyId _networksDao update originalNetworkId originalNetwork NetworkVO copiedNetwork _networksDao findById networkCopyId copiedNetwork setRelated originalNetworkId copiedNetwork setDisplayNetwork copiedNetwork setBroadcastUri network getBroadcastUri copiedNetwork setState network getState _networksDao update networkCopyId copiedNetwork copyNetworkDetails originalNetworkId networkCopyId copyFirewallRulesToNewNetwork network networkCopyId
vpcId VpcVO vpc _vpcDao findById vpcId
ex Vpc copyOfVpc copyOfVpcId copyOfVpc _vpcService createVpc vpc getZoneId vpcOfferingId vpc getAccountId vpc getName vpc getDisplayText vpc getCidr vpc getNetworkDomain vpc isDisplay copyOfVpcId copyOfVpc getId _resourceTagDao persist ResourceTagVO MIGRATION Long toString vpcId vpc getAccountId vpc getDomainId copyOfVpcId ResourceTag ResourceObjectType Vpc vpc getUuid VpcVO copyVpcVO _vpcDao findById copyOfVpcId vpc setDisplay swapUuids vpc copyVpcVO reassignACLRulesToNewVpc vpcId copyOfVpcId reassignPublicIpsToNewVpc vpcId copyOfVpc copyVpcDetails vpcId copyOfVpcId reassignGatewayToNewVpc vpcId copyOfVpcId copyVpcResourceTagsToNewVpc vpcId copyOfVpcId
srcNetwork List FirewallRuleVO firewallRules _firewallDao listByNetworkPurposeTrafficType srcNetwork getId FirewallRule Purpose Firewall FirewallRule TrafficType Egress firewallRules addAll _firewallDao listByNetworkPurposeTrafficType srcNetwork getId FirewallRule Purpose Firewall FirewallRule TrafficType Ingress
VMNetworkMapVO vno VMNetworkMapVO vmVO getId networkInNewPhysicalNet getId _vmNetworkMapDao persist vno NicVO newNic _nicDao findById nicProfile getId copyNicDetails originalNic getId newNic getId moveServices originalNic newNic originalNic VirtualMachine vm vmProfile getVirtualMachine Host host _hostDao findById vm getHostId DeployDestination dest DeployDestination dc host nicProfile _networkMgr prepareNic vmProfile dest context nicProfile getId networkInNewPhysicalNet _itMgr replugNic networkInNewPhysicalNet _itMgr toNicTO nicProfile host getHypervisorType _itMgr toVmTO vmProfile context dest e CloudRuntimeException e markAsNonDefault originalNic
network String userDataProvider _ntwkSrvcDao getProviderForServiceInNetwork network getId Service UserData userDataProvider
String label label label label label label label
String label label label label label label label
String label label label label label label label
String label label label label label label label
element Map Service Map Capability String capabilities element getCapabilities Provider implementedProvider element getProvider implementedProvider implementedProvider
Account zoneId networkId Account caller CallContext current getCallingAccount callerUserId CallContext current getCallingUserId DataCenter zone _entityMgr findById DataCenter zoneId networkId Network network _networksDao findById networkId network InvalidParameterValueException network Network zone InvalidParameterValueException zone network _accountMgr checkAccess caller AccessType UseEntry network
callerUserId CallContext current getCallingUserId DataCenter zone _entityMgr findById DataCenter zoneId networkId networkId InvalidParameterValueException networkId Network network _networksDao findById networkId network InvalidParameterValueException network Network zone InvalidParameterValueException zone network _accountMgr checkAccess caller AccessType UseEntry network
InvalidParameterValueException nicId nicVO VirtualMachine InvalidParameterValueException String format nicVO getUuid VirtualMachine vm _userVmDao findById nicVO getInstanceId vm InvalidParameterValueException String format nicVO getUuid networkId nicVO getNetworkId Account ipOwner _accountMgr getAccount vm getAccountId _accountMgr checkAccess caller vm Network network _networksDao findById networkId network InvalidParameterValueException maxAllowedIpsPerNic NumbersUtil parseInt _configDao getValue Config MaxNumberOfSecondaryIPsPerNIC key Long nicWiseIpCount _nicSecondaryIpDao countByNicId nicId nicWiseIpCount maxAllowedIpsPerNic
ipAddressId Account caller CallContext current getCallingAccount success NicSecondaryIpVO secIpVO _nicSecondaryIpDao findById ipAddressId secIpVO InvalidParameterValueException VirtualMachine vm _userVmDao findById secIpVO getVmId vm InvalidParameterValueException _accountMgr checkAccess caller vm Network network _networksDao findById secIpVO getNetworkId network InvalidParameterValueException NetworkOfferingVO ntwkOff _networkOfferingDao findById network getNetworkOfferingId Long nicId secIpVO getNicId
InvalidParameterValueException _accountMgr checkAccess caller vm Network network _networksDao findById secIpVO getNetworkId network InvalidParameterValueException NetworkOfferingVO ntwkOff _networkOfferingDao findById network getNetworkOfferingId Long nicId secIpVO getNicId s_logger debug ipAddressId nicId List NicSecondaryIpVO ipList _nicSecondaryIpDao listByNicId nicId lastIp ipList lastIp DataCenter dc _dcDao findById network getDataCenterId dc InvalidParameterValueException
NetworkOfferingVO ntwkOff _networkOfferingDao findById network getNetworkOfferingId Long nicId secIpVO getNicId s_logger debug ipAddressId nicId List NicSecondaryIpVO ipList _nicSecondaryIpDao listByNicId nicId lastIp ipList lastIp DataCenter dc _dcDao findById network getDataCenterId dc InvalidParameterValueException s_logger debug secIpVO getIp4Address dc network String secondaryIp secIpVO getIp4Address List FirewallRuleVO fwRulesList _firewallDao listByNetworkAndPurpose network getId Purpose PortForwarding fwRulesList
List NicSecondaryIpVO ipList _nicSecondaryIpDao listByNicId nicId lastIp ipList lastIp DataCenter dc _dcDao findById network getDataCenterId dc InvalidParameterValueException s_logger debug secIpVO getIp4Address dc network String secondaryIp secIpVO getIp4Address List FirewallRuleVO fwRulesList _firewallDao listByNetworkAndPurpose network getId Purpose PortForwarding fwRulesList FirewallRuleVO fwRulesList getId secondaryIp s_logger debug secondaryIp
lastIp DataCenter dc _dcDao findById network getDataCenterId dc InvalidParameterValueException s_logger debug secIpVO getIp4Address dc network String secondaryIp secIpVO getIp4Address List FirewallRuleVO fwRulesList _firewallDao listByNetworkAndPurpose network getId Purpose PortForwarding fwRulesList FirewallRuleVO fwRulesList getId secondaryIp s_logger debug secondaryIp InvalidParameterValueException secondaryIp IPAddressVO publicIpVO _ipAddressDao findByIpAndNetworkId secIpVO getNetworkId secondaryIp publicIpVO
isDomainSpecific InvalidParameterValueException owner _accountDao findById Account ACCOUNT_ID_SYSTEM owner List NetworkVO existingNetwork _networksDao listByAccountIdNetworkName owner getId name existingNetwork InvalidParameterValueException owner getAccountName ipv4 ipv6 ipv4 ipv6
network throwInvalidIdException networkId toString network Network State Implemented network Network State Setup InvalidParameterValueException Network State Implemented Network State Setup network InvalidParameterException Account callerAccount _accountMgr getActiveAccountById user getAccountId _accountMgr checkAccess callerAccount network network network setRedundant network network CloudRuntimeException cleanup success _networkMgr restartNetwork networkId callerAccount user cleanup success
InvalidParameterValueException NetworkType Basic network GuestType Isolated InvalidParameterValueException GuestType Isolated InvalidParameterValueException network getState Network State Implemented InvalidParameterValueException Network State Implemented network getState InvalidParameterValueException InvalidParameterValueException networkCidr networkCidr InvalidParameterValueException networkCidr
String guestVmCidrPair guestVmCidr split Long size Long valueOf guestVmCidrPair List NicVO nicsPresent _nicDao listByNetworkId networkId String cidrIpRange NetUtils getIpRangeFromCidr guestVmCidrPair size s_logger info cidrIpRange cidrIpRange startIp NetUtils ip2Long cidrIpRange endIp NetUtils ip2Long cidrIpRange range endIp startIp s_logger info range NicVO nic nicsPresent nicIp NetUtils ip2Long nic getIPv4Address nicIp startIp nicIp endIp nic InvalidParameterValueException nic getIPv4Address NetUtils guestVmCidr guestVmCidr
servicesNotInNewOffering servicesNotInNewOffering _networkMgr cleanupConfigForServicesInNetwork servicesNotInNewOffering network e s_logger debug e getMessage validStateToShutdown network getState Network State Implemented network getState Network State Setup network getState Network State Allocated validStateToShutdown s_logger debug networkId _networkMgr network s_logger warn network CloudRuntimeException ex CloudRuntimeException ex addProxyObject network getUuid
Network networkInNewPhysicalNet network networkCopy NetworkCopy network getRelated networkInNewPhysicalNet networkInNewPhysicalNet newNtwkOff InvalidParameterValueException newNtwkOff getUuid networkCopy Transaction execute TransactionCallback NetworkCopy status migrateNetworkInDb network oldNtwkOff newNtwkOff oldVpcId newVpcId newPhysicalNetworkId Long networkIdInOldPhysicalNet networkCopy getNetworkIdInOldPhysicalNet Network networkInNewPhysicalNet networkCopy getNetworkInNewPhysicalNet ReservationContext context ReservationContextImpl callerUser callerAccount DataCenter zone _dcDao findById network getDataCenterId NetworkVO networkInOldPhysNet _networksDao findById networkIdInOldPhysicalNet shouldImplement newNtwkOff isPersistent networkInOldPhysNet getState Network State Implemented networkInNewPhysicalNet getState Network State Implemented shouldImplement DeployDestination dest DeployDestination zone
oldNetworkOfferingId newNetworkOfferingId NetworkOffering oldNetworkOffering _networkOfferingDao findByIdIncludingRemoved oldNetworkOfferingId NetworkOffering newNetworkOffering _networkOfferingDao findById newNetworkOfferingId oldNetworkOfferingId newNetworkOfferingId
tempVnets removeAll vnetsInDb removeVnets removeVnets vnetsInDb removeAll removeVnets tempVnets addVnets ArrayList String addVnets addAll tempVnets vnetsInDb addAll tempVnets vnetsInDb comaSeperatedStingOfVnetRanges generateVnetString ArrayList String vnetsInDb network setVnet comaSeperatedStingOfVnetRanges List String addVnetsFinal addVnets List String removeVnetsFinal removeVnets addVnetsFinal
removeVnets removeVnets vnetsInDb removeAll removeVnets tempVnets addVnets ArrayList String addVnets addAll tempVnets vnetsInDb addAll tempVnets vnetsInDb comaSeperatedStingOfVnetRanges generateVnetString ArrayList String vnetsInDb network setVnet comaSeperatedStingOfVnetRanges List String addVnetsFinal addVnets List String removeVnetsFinal removeVnets addVnetsFinal s_logger debug addVnetsFinal toString network getId network getDataCenterId
List Pair Integer Integer String Integer StartVnet Integer EndVnet List Pair Integer Integer vlanTokens ArrayList Pair Integer Integer String vlanRange String VnetRange vlanRange split minVnet MIN_VLAN_ID maxVnet MAX_VLAN_ID
Integer StartVnet Integer EndVnet List Pair Integer Integer vlanTokens ArrayList Pair Integer Integer String vlanRange String VnetRange vlanRange split minVnet MIN_VLAN_ID maxVnet MAX_VLAN_ID s_logger debug network getIsolationMethods network getIsolationMethods minVnet MIN_GRE_KEY maxVnet MAX_GRE_KEY network getIsolationMethods minVnet MIN_VXLAN_VNI maxVnet MAX_VXLAN_VNI String VnetRange
minVnet MIN_VLAN_ID maxVnet MAX_VLAN_ID s_logger debug network getIsolationMethods network getIsolationMethods minVnet MIN_GRE_KEY maxVnet MAX_GRE_KEY network getIsolationMethods minVnet MIN_VXLAN_VNI maxVnet MAX_VXLAN_VNI vnet s_logger debug vnet network getDataCenterId List DataCenterVnetVO vnis _datacneterVnet findVnet network getDataCenterId vnet vnis vnis DataCenterVnetVO vnis network
PhysicalNetworkServiceProviderVO provider _pNSPDao findById id provider InvalidParameterValueException id NetworkElement element _networkModel getElementImplementingProvider provider getProviderName element InvalidParameterValueException provider getProviderName PhysicalNetworkServiceProvider State state stateStr stateStr state PhysicalNetworkServiceProvider State valueOf stateStr InvalidParameterValueException stateStr update state
NetUtils netmask InvalidParameterValueException String cidr NetUtils ipAndNetMaskToCidr gateway netmask URI uri BroadcastDomainType fromString broadcastUriString String uriString uri toString BroadcastDomainType tiep BroadcastDomainType getSchemeValue uri tiep BroadcastDomainType tiep BroadcastDomainType InvalidParameterValueException broadcastUriString NetworkOfferingVO ntwkOffFinal ntwkOff Network Network DataCenterVO dc _dcDao lockRow pNtwk getDataCenterId Network privateNetwork _networksDao getPrivateNetwork uriString cidr networkOwnerId pNtwk getDataCenterId networkOfferingId vpcId privateNetwork
Network Network DataCenterVO dc _dcDao lockRow pNtwk getDataCenterId Network privateNetwork _networksDao getPrivateNetwork uriString cidr networkOwnerId pNtwk getDataCenterId networkOfferingId vpcId privateNetwork privateNetwork _networkMgr createPrivateNetwork ntwkOffFinal getId networkName displayText gateway cidr uriString bypassVlanOverlapCheck owner pNtwk vpcId privateNetwork s_logger debug privateNetwork CloudRuntimeException s_logger debug privateNetwork InvalidParameterValueException uriString cidr vpcId _entityMgr findById DataCenter pNtwk getDataCenterId getName vpcId PrivateIpVO privateIp _privateIpDao findByIpAndSourceNetworkIdAndVpcId privateNetwork getId startIp vpcId
Host cmd zoneId cmd getZoneId DataCenterVO zone _dcDao findById zoneId String zoneName zone InvalidParameterValueException zoneId zoneName zone getName List HostVO trafficMonitorsInZone _resourceMgr listAllHostsInOneZoneByType Host Type TrafficMonitor zoneId trafficMonitorsInZone InvalidParameterValueException zoneName URI uri uri URI cmd getUrl
PortProfileVO portProfName PortProfileVO portProfileObj portProfileObj _portProfileDao findByName portProfName portProfileObj
CloudRuntimeException zoneId nws size NetworkVO nw nws get checkOverlapPrivateIpRange podId startIp endIp checkOverlapStorageIpRange podId startIp endIp StorageNetworkIpRangeVO range String endIpFinal endIp StorageNetworkIpRangeVO StorageNetworkIpRangeVO StorageNetworkIpRangeVO range StorageNetworkIpRangeVO zoneId podId nw getId startIp endIpFinal vlan netmask cmd getGateWay _sNwIpRangeDao persist range createStorageIpEntires TransactionLegacy currentTxn range getId startIp endIpFinal zoneId StringBuilder err StringBuilder err append
autoscaleUserId cmd getAutoscaleUserId DataCenter zone _entityMgr findById DataCenter zoneId zone InvalidParameterValueException ServiceOffering serviceOffering _entityMgr findById ServiceOffering serviceOfferingId serviceOffering InvalidParameterValueException HashMap String String deployParams cmd getDeployParamMap deployParams deployParams InvalidParameterValueException dispatchChainFactory getStandardDispatchChain dispatch DispatchTask ComponentContext inject DeployVMCmd deployParams AutoScaleVmProfileVO profileVO AutoScaleVmProfileVO cmd getZoneId cmd getDomainId cmd getAccountId cmd getServiceOfferingId cmd getTemplateId cmd getOtherDeployParams cmd getCounterParamList cmd getDestroyVmGraceperiod autoscaleUserId cmd getDisplay profileVO setDisplay cmd getDisplay profileVO checkValidityAndPersist profileVO
autoscaleUserId vmProfile setAutoscaleUserId autoscaleUserId counterParamList vmProfile setCounterParamsForUpdate counterParamList destroyVmGraceperiod vmProfile setDestroyVmGraceperiod destroyVmGraceperiod cmd getCustomId vmProfile setUuid cmd getCustomId cmd getDisplay vmProfile setDisplay cmd getDisplay List AutoScaleVmGroupVO vmGroupList _autoScaleVmGroupDao listByAll profileId AutoScaleVmGroupVO vmGroupList InvalidParameterValueException vmProfile checkValidityAndPersist vmProfile
duration policy setDuration duration quietTime policy setQuietTime quietTime List AutoScaleVmGroupPolicyMapVO vmGroupPolicyList _autoScaleVmGroupPolicyMapDao listByPolicyId policyId AutoScaleVmGroupPolicyMapVO vmGroupPolicy vmGroupPolicyList AutoScaleVmGroupVO vmGroupVO _autoScaleVmGroupDao findById vmGroupPolicy getVmGroupId vmGroupVO s_logger warn vmGroupPolicy getVmGroupId vmGroupVO InvalidParameterValueException policy vmGroupVO InvalidParameterValueException policy checkValidityAndPersist policy conditionIds
maxMembers cmd getMaxMembers Integer interval cmd getInterval Boolean forDisplay cmd getDisplay interval interval NetUtils DEFAULT_AUTOSCALE_POLICY_INTERVAL_TIME LoadBalancerVO loadBalancer getEntityInDatabase CallContext current getCallingAccount ApiConstants LBID cmd getLbRuleId _lbDao Long zoneId _ipAddressDao findById loadBalancer getSourceIpAddressId getDataCenterId loadBalancer InvalidParameterValueException loadBalancer InvalidParameterValueException AutoScaleVmGroupVO vmGroupVO AutoScaleVmGroupVO cmd getLbRuleId zoneId loadBalancer getDomainId loadBalancer getAccountId minMembers maxMembers loadBalancer getDefaultPortStart interval cmd getProfileId AutoScaleVmGroup State_New forDisplay vmGroupVO setDisplay forDisplay vmGroupVO checkValidityAndPersist vmGroupVO cmd getScaleUpPolicyIds cmd getScaleDownPolicyIds
autoScaleVmGroupVO setState bakupState _autoScaleVmGroupDao persist autoScaleVmGroupVO success s_logger warn id success _autoScaleVmGroupDao remove id success s_logger warn success _autoScaleVmGroupPolicyMapDao removeByGroupId id success s_logger warn
Condition cmd checkCallerAccess cmd getAccountName cmd getDomainId String opr cmd getRelationalOperator toUpperCase cid cmd getCounterId threshold cmd getThreshold Condition Operator op op Condition Operator valueOf opr InvalidParameterValueException opr CounterVO counter _counterDao findById cid counter InvalidParameterValueException ConditionVO condition condition _conditionDao persist ConditionVO cid threshold cmd getEntityOwnerId cmd getDomainId op
accountId count count _autoScaleVmProfileDao removeByAccountId accountId count
ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_UNAVAILABLE_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode RESOURCE_ALLOCATION_ERROR ex getMessage ex s_logger warn ex ServerApiException ApiErrorCode INTERNAL_ERROR ex getMessage ex StringBuilder message StringBuilder ex getMessage ex ex message append s_logger info ex
groupId AutoScaleVmGroupVO asGroup _autoScaleVmGroupDao findById groupId asGroup
s_logger error asGroup getId vmId vmId asGroup AutoScaleVmGroupVmMapVO GroupVmVO AutoScaleVmGroupVmMapVO asGroup getId vmId _autoScaleVmGroupVmMapDao persist GroupVmVO List AutoScaleVmGroupPolicyMapVO GroupPolicyVOs _autoScaleVmGroupPolicyMapDao listByVmGroupId groupId AutoScaleVmGroupPolicyMapVO GroupPolicyVO GroupPolicyVOs AutoScalePolicyVO vo _autoScalePolicyDao findById GroupPolicyVO getPolicyId vo vo setLastQuiteTime Date _autoScalePolicyDao persist vo s_logger error
groupId AutoScaleVmGroupVO asGroup _autoScaleVmGroupDao findById groupId asGroup
SuppressWarnings UserVmVO uservm _userVmDao findById vm getId _userVmDao loadDetails uservm String password String vm getParameter VirtualMachineProfile Param VmPassword String userData uservm getUserData String sshPublicKey uservm getDetail Commands cmds Commands Command OnError Continue password nic SavePasswordCommand cmd SavePasswordCommand password nic getIPv4Address uservm getHostName _networkMgr getExecuteInSeqNtwkElmtCmd cmds addCommand cmd String serviceOffering _serviceOfferingDao findByIdIncludingRemoved uservm getServiceOfferingId getDisplayText String zoneName _dcDao findById network getDataCenterId getName String destHostname VirtualMachineManager getHypervisorHostname dest getHost getName cmds addCommand generateVmDataCommand nic getIPv4Address userData serviceOffering zoneName nic getIPv4Address uservm getHostName uservm getInstanceName uservm getId uservm getUuid sshPublicKey destHostname _agentManager send dest getHost getId cmds
String sshPublicKey uservm getDetail Commands cmds Commands Command OnError Continue password nic SavePasswordCommand cmd SavePasswordCommand password nic getIPv4Address uservm getHostName _networkMgr getExecuteInSeqNtwkElmtCmd cmds addCommand cmd String serviceOffering _serviceOfferingDao findByIdIncludingRemoved uservm getServiceOfferingId getDisplayText String zoneName _dcDao findById network getDataCenterId getName String destHostname VirtualMachineManager getHypervisorHostname dest getHost getName cmds addCommand generateVmDataCommand nic getIPv4Address userData serviceOffering zoneName nic getIPv4Address uservm getHostName uservm getInstanceName uservm getId uservm getUuid sshPublicKey destHostname _agentManager send dest getHost getId cmds s_logger debug dest getHost Answer dataAnswer cmds getAnswer
SavePasswordCommand cmd SavePasswordCommand password nic getIPv4Address uservm getHostName _networkMgr getExecuteInSeqNtwkElmtCmd cmds addCommand cmd String serviceOffering _serviceOfferingDao findByIdIncludingRemoved uservm getServiceOfferingId getDisplayText String zoneName _dcDao findById network getDataCenterId getName String destHostname VirtualMachineManager getHypervisorHostname dest getHost getName cmds addCommand generateVmDataCommand nic getIPv4Address userData serviceOffering zoneName nic getIPv4Address uservm getHostName uservm getInstanceName uservm getId uservm getUuid sshPublicKey destHostname _agentManager send dest getHost getId cmds s_logger debug dest getHost Answer dataAnswer cmds getAnswer dataAnswer dataAnswer s_logger info uservm getInstanceName
vm ResourceUnavailableException DataStore dataStore _dataStoreMgr getImageStoreWithFreeCapacity vm getDataCenterId Long agentId findAgentIdForImageStore dataStore List VolumeVO volumes _volumeDao findByInstanceAndType vm getId Volume Type ROOT volumes volumes dataStore _dataStoreMgr getDataStore volumes get getPoolId DataStoreRole Primary agentId vm getHostId vm getHostId vm getLastHostId agentId dataStore ResourceUnavailableException ConfigDriveNetworkElement LOG debug vm getInstanceName String isoPath ConfigDrive createConfigDrivePath vm getInstanceName HandleConfigDriveIsoCommand configDriveIsoCommand HandleConfigDriveIsoCommand isoPath dataStore getTO Answer answer agentManager easySend agentId configDriveIsoCommand answer
network List result network List DomainRouterVO routers getRouters network routers routers
network List result network List DomainRouterVO routers getRouters network routers routers
network List DomainRouterVO routers _routerDao listByNetworkAndRole network getId Role VIRTUAL_ROUTER routers routers s_logger debug network getId VirtualMachineProfile uservm vm DataCenterVO dcVO _dcDao findById network getDataCenterId NetworkTopology networkTopology networkTopologyContext retrieveNetworkTopology dcVO savePasswordResult isVrRunning router routers router result networkTopology savePasswordToRouter network nic uservm router result
cmd VirtualRouterProviderVO element _vrProviderDao findById cmd getId element element element
cmd OvsProviderVO element _ovsProviderDao findById cmd getId element
network List result network List DomainRouterVO routers _routerDao listByNetworkAndRole network getId Role VIRTUAL_ROUTER routers routers
network Long vpcId network getVpcId vpcId
network Long vpcId network getVpcId vpcId s_logger debug network success List VirtualRouter routers _routerDao listByVpcId vpcId VirtualRouter router routers router network s_logger debug router network success success _vpcRouterMgr removeVpcRouterFromGuestNetwork router network success s_logger warn network router
config Long vpcId config getVpcId vpcId
config Long vpcId config getVpcId vpcId s_logger debug config success List VirtualRouter routers _routerDao listByVpcId vpcId VirtualRouter router routers router config s_logger debug router config success success _vpcRouterMgr removeVpcRouterFromGuestNetwork router config success s_logger warn config router
List DomainRouterVO routers getRouters network dest routers routers Long vpcId network getVpcId vpcId s_logger error network routers Vpc vpc _vpcMgr getActiveVpc vpcId vpc s_logger warn vpcId routers RouterDeploymentDefinition routerDeploymentDefinition routerDeploymentDefinitionBuilder create setGuestNetwork network setVpc vpc setDeployDestination dest setAccountOwner _accountMgr getAccount vpc getAccountId build routers routerDeploymentDefinition deployVirtualRouter
routers Long vpcId network getVpcId vpcId s_logger error network routers Vpc vpc _vpcMgr getActiveVpc vpcId vpc s_logger warn vpcId routers RouterDeploymentDefinition routerDeploymentDefinition routerDeploymentDefinitionBuilder create setGuestNetwork network setVpc vpc setDeployDestination dest setAccountOwner _accountMgr getAccount vpc getAccountId build routers routerDeploymentDefinition deployVirtualRouter e s_logger error e e
Long vpcId network getVpcId vpcId s_logger error network routers Vpc vpc _vpcMgr getActiveVpc vpcId vpc s_logger warn vpcId routers RouterDeploymentDefinition routerDeploymentDefinition routerDeploymentDefinitionBuilder create setGuestNetwork network setVpc vpc setDeployDestination dest setAccountOwner _accountMgr getAccount vpc getAccountId build routers routerDeploymentDefinition deployVirtualRouter e s_logger error e e s_logger error e
List DomainRouterVO routers _vpcRouterMgr getVpcRouters gateway getVpcId routers routers s_logger debug getName gateway getVpcId s_logger info routers size DataCenterVO dcVO _dcDao findById gateway getZoneId NetworkTopology networkTopology networkTopologyContext retrieveNetworkTopology dcVO result Network network _networkDao findById gateway getNetworkId isPrivateGateway DomainRouterVO domainRouterVO routers networkTopology gateway domainRouterVO List NetworkACLItemVO rules _networkACLItemDao listByACL gateway getNetworkACLId result result networkTopology applyNetworkACLs network rules domainRouterVO isPrivateGateway
network List result network List DomainRouterVO routers _routerDao listByNetworkAndRole network getId Role VIRTUAL_ROUTER routers routers
vpc List List DomainRouterVO routers _routerDao listByVpcId vpc getId routers routers
gateway List Network network _networkDao findById gateway getNetworkId isPrivateGateway List DomainRouterVO routers _vpcRouterMgr getVpcRouters gateway getVpcId routers routers
ipId List FirewallRule rules ArrayList FirewallRule List FirewallRuleVO fwRules _firewallDao listByIpAndPurposeAndNotRevoked ipId Purpose Firewall
networkId List FirewallRule rules ArrayList FirewallRule List FirewallRuleVO fwRules _firewallDao listByNetworkAndPurposeAndNotRevoked networkId Purpose Firewall
vm List PortForwardingRuleVO pfRules _pfRulesDao listByVm vmId List FirewallRuleVO staticNatRules _firewallDao listStaticNatByVmId vm getId List FirewallRuleVO firewallRules ArrayList FirewallRuleVO PortForwardingRuleVO pfRule pfRules FirewallRuleVO relatedRule _firewallDao findByRelatedId pfRule getId relatedRule firewallRules add relatedRule FirewallRuleVO staticNatRule staticNatRules FirewallRuleVO relatedRule _firewallDao findByRelatedId staticNatRule getId relatedRule firewallRules add relatedRule Set Long ipsToReprogram HashSet Long firewallRules
List PortForwardingRuleVO pfRules _pfRulesDao listByVm vmId List FirewallRuleVO staticNatRules _firewallDao listStaticNatByVmId vm getId List FirewallRuleVO firewallRules ArrayList FirewallRuleVO PortForwardingRuleVO pfRule pfRules FirewallRuleVO relatedRule _firewallDao findByRelatedId pfRule getId relatedRule firewallRules add relatedRule FirewallRuleVO staticNatRule staticNatRules FirewallRuleVO relatedRule _firewallDao findByRelatedId staticNatRule getId relatedRule firewallRules add relatedRule Set Long ipsToReprogram HashSet Long firewallRules s_logger debug vmId
physicalNetwork getIsolationMethods List String isolationMethods physicalNetwork getIsolationMethods isolationMethods String isolationMethods
network id network getId List NicVO nics _nicDao listPlaceholderNicsByNetworkId id nics nics
network id network getId List NicVO nics _nicDao listPlaceholderNicsByNetworkId id nics nic nics nic getIPv4Address s_logger debug nic getIPv4Address nic IPAddressVO ip _ipAddressDao findByIpAndSourceNetworkId nic getNetworkId nic getIPv4Address ip _ipAddrMgr markIpAsUnavailable ip getId _ipAddressDao unassignIpAddress ip getId
nic nic getIPv4Address s_logger debug nic getIPv4Address nic IPAddressVO ip _ipAddressDao findByIpAndSourceNetworkId nic getNetworkId nic getIPv4Address ip _ipAddrMgr markIpAsUnavailable ip getId _ipAddressDao unassignIpAddress ip getId s_logger debug nic _nicDao remove nic getId
DataCenter dc _dcDao findById pod getDataCenterId PublicIp ip List PodVlanMapVO podRefs _podVlanDao listPodVlanMapsByPod pod getId VlanVO vlan _vlanDao findById podRefs get getVlanDbId getIPv4Address String podRangeGateway podRefs podRangeGateway vlan getVlanGateway Nic placeholderNic _networkModel getPlaceholderNicForRouter network pod getId placeholderNic IPAddressVO userIp _ipAddressDao findByIpAndSourceNetworkId network getId placeholderNic getIPv4Address ip PublicIp createFromAddrAndVlan userIp _vlanDao findById userIp getVlanId
s_logger debug placeholderNic getIPv4Address network podRangeGateway ip ip _ipAddrMgr assignPublicIpAddress dc getId pod getId vm getOwner VlanType DirectAttached network getId nic setIPv4Address ip getAddress toString nic setFormat AddressFormat Ip4 nic setIPv4Gateway ip getGateway nic setIPv4Netmask ip getNetmask ip getVlanTag ip getVlanTag Vlan UNTAGGED nic setIsolationUri IsolationType Ec2 toUri Vlan UNTAGGED nic setBroadcastUri BroadcastDomainType Vlan toUri Vlan UNTAGGED nic setBroadcastType BroadcastDomainType Native nic setReservationId String valueOf ip getVlanTag nic setMacAddress ip getMacAddress vm Nic placeholderNic _networkModel getPlaceholderNicForRouter network pod getId
nic setIPv4Gateway ip getGateway nic setIPv4Netmask ip getNetmask ip getVlanTag ip getVlanTag Vlan UNTAGGED nic setIsolationUri IsolationType Ec2 toUri Vlan UNTAGGED nic setBroadcastUri BroadcastDomainType Vlan toUri Vlan UNTAGGED nic setBroadcastType BroadcastDomainType Native nic setReservationId String valueOf ip getVlanTag nic setMacAddress ip getMacAddress VirtualMachine Type DomainRouter Nic placeholderNic _networkModel getPlaceholderNicForRouter network pod getId placeholderNic s_logger debug nic getIPv4Address network _networkMgr savePlaceholderNic network nic getIPv4Address VirtualMachine Type DomainRouter nic
nic setIsolationUri IsolationType Ec2 toUri Vlan UNTAGGED nic setBroadcastUri BroadcastDomainType Vlan toUri Vlan UNTAGGED nic setBroadcastType BroadcastDomainType Native nic setReservationId String valueOf ip getVlanTag nic setMacAddress ip getMacAddress VirtualMachine Type DomainRouter Nic placeholderNic _networkModel getPlaceholderNicForRouter network pod getId placeholderNic s_logger debug nic getIPv4Address network _networkMgr savePlaceholderNic network nic getIPv4Address VirtualMachine Type DomainRouter vlan getIp6Cidr nic s_logger debug vlan getIp6Cidr vlan getId nic setIPv6Cidr vlan getIp6Cidr nic setIPv6Gateway vlan getIp6Gateway
result InsufficientAddressCapacityException Pod pod getId Integer vlan result getVlan nic setIPv4Address result getIpAddress nic setMacAddress NetUtils long2Mac NetUtils createSequenceBasedMacAddress result getMacAddress NetworkModel MACIdentifier value nic setIPv4Gateway pod getGateway nic setFormat AddressFormat Ip4 String netmask NetUtils getCidrNetmask pod getCidrSize nic setIPv4Netmask netmask nic setBroadcastType BroadcastDomainType Native vlan nic setBroadcastUri BroadcastDomainType Native toUri vlan nic setBroadcastUri nic setIsolationUri
nic _dcDao releasePrivateIpAddress nic getId nic getReservationId nic deallocate
Integer vlan StorageNetworkIpAddressVO ip _sNwMgr acquireIpAddress pod getId ip InsufficientAddressCapacityException Pod pod getId vlan ip getVlan nic setIPv4Address ip getIpAddress nic setMacAddress NetUtils long2Mac NetUtils createSequenceBasedMacAddress ip getMac NetworkModel MACIdentifier value nic setFormat AddressFormat Ip4 nic setIPv4Netmask ip getNetmask nic setBroadcastType BroadcastDomainType Storage nic setIPv4Gateway ip getGateway vlan nic setBroadcastUri BroadcastDomainType Storage toUri vlan nic setBroadcastUri
params _configs _configDao getConfiguration params
LoadBalancerVO loadBalancer _lbDao findById vmGroup getLoadBalancerId FirewallRule State backupState loadBalancer getState vmGroup getState loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer loadBalancer getState FirewallRule State vmGroup getState loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer success applyAutoScaleConfig loadBalancer vmGroup currentState e s_logger warn loadBalancer getId e loadBalancer loadBalancer setState backupState _lbDao persist loadBalancer
success applyAutoScaleConfig loadBalancer vmGroup currentState e s_logger warn loadBalancer getId e loadBalancer loadBalancer setState backupState _lbDao persist loadBalancer s_logger debug loadBalancer getId e success s_logger warn vmGroupid success vmGroup
s_logger warn loadBalancer getId e loadBalancer loadBalancer setState backupState _lbDao persist loadBalancer s_logger debug loadBalancer getId e s_logger warn vmGroupid loadBalancer setState FirewallRule State Active s_logger debug loadBalancer getId
_lbDao persist loadBalancer s_logger debug loadBalancer getId e s_logger warn vmGroupid vmGroup AutoScaleVmGroup loadBalancer setState FirewallRule State Active s_logger debug loadBalancer getId _lbDao persist loadBalancer vmGroup setState AutoScaleVmGroup State_Enabled _autoScaleVmGroupDao persist vmGroup
lbRule Network network _networkDao findById lbRule getNetworkId Purpose purpose lbRule getPurpose purpose Purpose
stickinessPolicy getId cmd backupState loadBalancer getState loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer oldStickinessPolicyId stickinessPolicy getId stickinessPolicy setRevoke _lb2stickinesspoliciesDao persist stickinessPolicy applyLoadBalancerConfig cmd getLbRuleId e s_logger warn cmd getLbRuleId e loadBalancer loadBalancer setState backupState _lbDao persist loadBalancer
cmd success LoadBalancerVO loadBalancer _lbDao findById cmd getLbRuleId loadBalancer InvalidParameterException cmd getLbRuleId FirewallRule State backupState loadBalancer getState loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer applyLoadBalancerConfig cmd getLbRuleId e s_logger warn cmd getLbRuleId e loadBalancer loadBalancer setState backupState _lbDao persist loadBalancer
stickinessPolicy InvalidParameterException stickinessPolicyId LoadBalancerVO loadBalancer _lbDao findById Long valueOf stickinessPolicy getLoadBalancerId loadBalancer InvalidParameterException stickinessPolicy getLoadBalancerId stickinessPolicyId loadBalancerId loadBalancer getId FirewallRule State backupState loadBalancer getState _accountMgr checkAccess caller getCallingAccount loadBalancer loadBalancer getState FirewallRule State loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer backupStickyState stickinessPolicy isRevoke stickinessPolicy setRevoke _lb2stickinesspoliciesDao persist stickinessPolicy
loadBalancer FirewallRule State loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer backupStickyState stickinessPolicy isRevoke stickinessPolicy setRevoke _lb2stickinesspoliciesDao persist stickinessPolicy s_logger debug loadBalancerId stickinessPolicyId loadBalancerId s_logger warn loadBalancerId stickinessPolicyId CloudRuntimeException loadBalancerId stickinessPolicyId loadBalancer stickinessPolicy setRevoke backupStickyState _lb2stickinesspoliciesDao persist stickinessPolicy
healthCheckPolicy InvalidParameterException healthCheckPolicyId LoadBalancerVO loadBalancer _lbDao findById Long valueOf healthCheckPolicy getLoadBalancerId loadBalancer InvalidParameterException healthCheckPolicy getLoadBalancerId healthCheckPolicyId loadBalancerId loadBalancer getId FirewallRule State backupState loadBalancer getState _accountMgr checkAccess caller getCallingAccount loadBalancer loadBalancer getState FirewallRule State loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer backupStickyState healthCheckPolicy isRevoke healthCheckPolicy setRevoke _lb2healthcheckDao persist healthCheckPolicy
InvalidParameterException healthCheckPolicy getLoadBalancerId healthCheckPolicyId loadBalancerId loadBalancer getId FirewallRule State backupState loadBalancer getState _accountMgr checkAccess caller getCallingAccount loadBalancer loadBalancer getState FirewallRule State loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer backupStickyState healthCheckPolicy isRevoke healthCheckPolicy setRevoke _lb2healthcheckDao persist healthCheckPolicy s_logger debug loadBalancerId healthCheckPolicyId List LoadBalancerVMMapVO maps _lb2VmMapDao listByLoadBalancerId loadBalancerId maps
s_logger debug loadBalancerId map map setState _lb2VmMapDao persist map loadBalancerId s_logger warn loadBalancerId healthCheckPolicyId CloudRuntimeException loadBalancerId healthCheckPolicyId healthCheckPolicy setRevoke backupStickyState
nicInSameNetwork InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject vm getUuid ex String priIp nicInSameNetwork getIPv4Address existingVmIdIps instanceId List String mappedIps existingVmIdIps get instanceId List String newIps vmIdIpMap get instanceId newIps newIps ArrayList String newIps add priIp String newIp newIps mappedIps newIp InvalidParameterValueException instanceId newIp List String vmIpsList vmIdIpMap get instanceId
LoadBalancerCertMapVO certMapRule _lbCertMapDao findByLbRuleId loadBalancer getId certMapRule InvalidParameterValueException loadBalancer getLbProtocol loadBalancer getLbProtocol equals NetUtils SSL_PROTO InvalidParameterValueException loadBalancer getLbProtocol success FirewallRule State backupState loadBalancer getState loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer LoadBalancerCertMapVO certMap LoadBalancerCertMapVO lbRuleId certId _lbCertMapDao persist certMap applyLoadBalancerConfig loadBalancer getId success loadBalancer loadBalancer setState backupState
loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer lbCertMap setRevoke _lbCertMapDao persist lbCertMap lbRuleId s_logger warn lbRuleId CloudRuntimeException ex CloudRuntimeException lbRuleId ex addProxyObject loadBalancer getUuid ex success loadBalancer lbCertMap setRevoke _lbCertMapDao persist lbCertMap
vmIdIpMap vmIdIpMap HashMap Long List String instanceId vmIdIpMap put instanceId success FirewallRule State backupState loadBalancer getState Set Long vmIds vmIdIpMap keySet loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer instanceId vmIds List String lbVmIps vmIdIpMap get instanceId lbVmIps lbVmIps List LoadBalancerVMMapVO lbVms _lb2VmMapDao listByLoadBalancerIdAndVmId loadBalancerId instanceId lbVms
FirewallRule State backupState loadBalancer getState Set Long vmIds vmIdIpMap keySet loadBalancer setState FirewallRule State Add _lbDao persist loadBalancer instanceId vmIds List String lbVmIps vmIdIpMap get instanceId lbVmIps lbVmIps List LoadBalancerVMMapVO lbVms _lb2VmMapDao listByLoadBalancerIdAndVmId loadBalancerId instanceId lbVms InvalidParameterValueException instanceId loadBalancerId LoadBalancerVMMapVO lbvm lbVms lbvm setRevoke _lb2VmMapDao persist lbvm s_logger debug loadBalancerId instanceId
vmIp LoadBalancerVMMapVO map _lb2VmMapDao findByLoadBalancerIdAndVmIdVmIp loadBalancerId instanceId vmIp map InvalidParameterValueException instanceId loadBalancerId map setRevoke _lb2VmMapDao persist map s_logger debug loadBalancerId instanceId vmIp loadBalancerId _lb2VmMapDao remove loadBalancer getId instanceIds loadBalancerId s_logger warn loadBalancerId instanceIds CloudRuntimeException ex CloudRuntimeException instanceIds ex addProxyObject loadBalancer getUuid
map setRevoke _lb2VmMapDao persist map s_logger debug loadBalancerId instanceId vmIp loadBalancerId _lb2VmMapDao remove loadBalancer getId instanceIds loadBalancerId s_logger warn loadBalancerId instanceIds CloudRuntimeException ex CloudRuntimeException instanceIds ex addProxyObject loadBalancer getUuid ex success loadBalancer instanceId
loadBalancerId _lb2VmMapDao remove loadBalancer getId instanceIds loadBalancerId s_logger warn loadBalancerId instanceIds CloudRuntimeException ex CloudRuntimeException instanceIds ex addProxyObject loadBalancer getUuid ex success loadBalancer instanceId List String lbVmIps vmIdIpMap get instanceId lbVmIps lbVmIps LoadBalancerVMMapVO map _lb2VmMapDao findByLoadBalancerIdAndVmId loadBalancerId instanceId
instanceId success List LoadBalancerVMMapVO maps _lb2VmMapDao listByInstanceId instanceId maps maps Map Long List Long lbsToReconfigure HashMap Long List Long LoadBalancerVMMapVO map maps lbId map getLoadBalancerId List Long instances lbsToReconfigure get lbId instances instances ArrayList Long instances add map getInstanceId lbsToReconfigure put lbId instances map setRevoke _lb2VmMapDao persist map
List LoadBalancerVMMapVO backupMaps List LoadBalancerVMMapVO List LoadBalancerVMMapVO generateUsageEvent lb FirewallRule State s_logger s_logger debug lb generateUsageEvent lb FirewallRule State lb FirewallRule State lb setState FirewallRule State Revoke _lbDao persist lb generateUsageEvent List LoadBalancerVMMapVO backupMaps _lb2VmMapDao listByLoadBalancerId loadBalancerId List LoadBalancerVMMapVO maps _lb2VmMapDao listByLoadBalancerId loadBalancerId maps LoadBalancerVMMapVO maps
lbHealthCheck lbHealthCheck setRevoke _lb2healthcheckDao persist lbHealthCheck Network network _networkModel getNetwork lb getNetworkId UsageEventUtils publishUsageEvent EventTypes EVENT_LOAD_BALANCER_DELETE lb getAccountId network getDataCenterId lb getId LoadBalancingRule getName lb getUuid backupMaps NetworkVO network _networkDao findById lb getNetworkId network _networkModel network getDataCenterId network getId _externalDeviceUsageMgr updateExternalLoadBalancerNetworkUsageStats loadBalancerId loadBalancerId
Network network _networkModel getNetwork lb getNetworkId UsageEventUtils publishUsageEvent EventTypes EVENT_LOAD_BALANCER_DELETE lb getAccountId network getDataCenterId lb getId LoadBalancingRule getName lb getUuid backupMaps NetworkVO network _networkDao findById lb getNetworkId network _networkModel network getDataCenterId network getId _externalDeviceUsageMgr updateExternalLoadBalancerNetworkUsageStats loadBalancerId loadBalancerId s_logger warn
_externalDeviceUsageMgr updateExternalLoadBalancerNetworkUsageStats loadBalancerId loadBalancerId s_logger warn lb map _lb2VmMapDao persist map s_logger debug loadBalancerId map getInstanceId lb setState backupState _lbDao persist lb
IpAddress systemIp NetworkOffering off _entityMgr findById NetworkOffering network getNetworkOfferingId off ipVO network getVpcId systemIp _ipAddrMgr assignSystemIp networkId lbOwner systemIp ipVO _ipAddressDao findById systemIp getId ipVO InvalidParameterValueException ipVO NetworkRuleConflictException ipVO getAddress performedIpAssoc ipVO assignToVpcNtwk network getVpcId ipVO getVpcId ipVO getVpcId longValue network getVpcId
Ip sourceIp getSourceIp newRule LoadBalancingRule loadBalancing LoadBalancingRule newRule ArrayList LbDestination ArrayList LbStickinessPolicy ArrayList LbHealthCheckPolicy sourceIp lbProtocol loadBalancing InvalidParameterValueException LoadBalancerVO LoadBalancerVO LoadBalancerVO newRule LoadBalancerVO xId name description sourceIpId srcPort destPort algorithm networkId ipAddr getAllocatedToAccountId ipAddr getAllocatedInDomainId lbProtocol forDisplay newRule setDisplay forDisplay Ip sourceIp getSourceIp newRule LoadBalancingRule loadBalancing LoadBalancingRule newRule ArrayList LbDestination ArrayList LbStickinessPolicy ArrayList LbHealthCheckPolicy sourceIp lbProtocol loadBalancing InvalidParameterValueException newRule _lbDao persist newRule
networkId scheme List LoadBalancerVO lbs _lbDao listByNetworkIdAndScheme networkId scheme
networkId scheme List LoadBalancerVO lbs _lbDao listByNetworkIdAndScheme networkId scheme lbs
rules add getLoadBalancerRuleToApply lb rules s_logger debug lb checkForReleaseElasticIp checkForReleaseElasticIp lb FirewallRule State removeLBRule lb s_logger debug lb getId checkForReleaseElasticIp lb FirewallRule State lb setState FirewallRule State Active
lb checkForReleaseElasticIp checkForReleaseElasticIp lb FirewallRule State removeLBRule lb s_logger debug lb getId checkForReleaseElasticIp lb FirewallRule State lb setState FirewallRule State Active s_logger debug lb getId _lbDao persist lb List LoadBalancerVMMapVO lbVmMaps _lb2VmMapDao listByLoadBalancerId lb getId List Long instanceIds ArrayList Long LoadBalancerVMMapVO lbVmMaps
lb FirewallRule State removeLBRule lb s_logger debug lb getId checkForReleaseElasticIp lb FirewallRule State lb setState FirewallRule State Active s_logger debug lb getId _lbDao persist lb List LoadBalancerVMMapVO lbVmMaps _lb2VmMapDao listByLoadBalancerId lb getId List Long instanceIds ArrayList Long LoadBalancerVMMapVO lbVmMap lbVmMaps instanceIds add lbVmMap getInstanceId _lb2VmMapDao remove lb getId lbVmMap getInstanceId lbVmMap getInstanceIp s_logger debug lb getId lbVmMap getInstanceId lbVmMap getInstanceIp _lb2VmMapDao listByLoadBalancerId lb getId
lb FirewallRule State Add lb setState FirewallRule State Active s_logger debug lb getId _lbDao persist lb List LoadBalancerVMMapVO lbVmMaps _lb2VmMapDao listByLoadBalancerId lb getId List Long instanceIds ArrayList Long LoadBalancerVMMapVO lbVmMap lbVmMaps instanceIds add lbVmMap getInstanceId _lb2VmMapDao remove lb getId lbVmMap getInstanceId lbVmMap getInstanceIp s_logger debug lb getId lbVmMap getInstanceId lbVmMap getInstanceIp _lb2VmMapDao listByLoadBalancerId lb getId lb setState FirewallRule State Add _lbDao persist lb s_logger debug lb getId List LBStickinessPolicyVO stickinesspolicies _lb2stickinesspoliciesDao listByLoadBalancerId lb getId
_lbDao persist lb List LoadBalancerVMMapVO lbVmMaps _lb2VmMapDao listByLoadBalancerId lb getId List Long instanceIds ArrayList Long LoadBalancerVMMapVO lbVmMap lbVmMaps instanceIds add lbVmMap getInstanceId _lb2VmMapDao remove lb getId lbVmMap getInstanceId lbVmMap getInstanceIp s_logger debug lb getId lbVmMap getInstanceId lbVmMap getInstanceIp _lb2VmMapDao listByLoadBalancerId lb getId lb setState FirewallRule State Add _lbDao persist lb s_logger debug lb getId List LBStickinessPolicyVO stickinesspolicies _lb2stickinesspoliciesDao listByLoadBalancerId lb getId stickinesspolicies _lb2stickinesspoliciesDao remove lb getId s_logger debug lb getId
lbVmMap instanceIds add lbVmMap getInstanceId _lb2VmMapDao remove lb getId lbVmMap getInstanceId lbVmMap getInstanceIp s_logger debug lb getId lbVmMap getInstanceId lbVmMap getInstanceIp _lb2VmMapDao listByLoadBalancerId lb getId lb setState FirewallRule State Add _lbDao persist lb s_logger debug lb getId List LBStickinessPolicyVO stickinesspolicies _lb2stickinesspoliciesDao listByLoadBalancerId lb getId stickinesspolicies _lb2stickinesspoliciesDao remove lb getId s_logger debug lb getId List LBHealthCheckPolicyVO healthCheckpolicies _lb2healthcheckDao listByLoadBalancerId lb getId healthCheckpolicies _lb2healthcheckDao remove lb getId
lb IpAddress ip _ipAddressDao findById lb getSourceIpAddressId success ip
ipId List FirewallRuleVO rules _firewallDao listByIpAndPurpose ipId Purpose LoadBalancing rules
networkId List FirewallRuleVO rules _firewallDao listByNetworkAndPurposeAndNotRevoked networkId Purpose LoadBalancing rules
LoadBalancingRule rule getLoadBalancerRuleToApply lb rule InvalidParameterValueException lbRuleId LoadBalancerVO tmplbVo _lbDao findById lbRuleId success _lbDao update lbRuleId lb tmplbVo lb setState FirewallRule State Add _lbDao persist lb applyLoadBalancerConfig lbRuleId lb lbBackup getName lb setName lbBackup getName lbBackup
Account caller CallContext current getCallingAccount Long loadBalancerId cmd getId Boolean applied cmd isApplied applied applied Boolean TRUE LoadBalancerVO loadBalancer _lbDao findById loadBalancerId loadBalancer _accountMgr checkAccess caller loadBalancer List UserVmVO loadBalancerInstances ArrayList UserVmVO List String serviceStates ArrayList String List LoadBalancerVMMapVO vmLoadBalancerMappings vmLoadBalancerMappings _lb2VmMapDao listByLoadBalancerId loadBalancerId vmLoadBalancerMappings String msg
network VpcGatewayVO gateway _vpcGatewayDao getVpcGatewayByNetworkId network getId gateway
DomainRouterVO DomainRouterVO router DomainRouterVO vm _routerDao findById router getId
DomainRouterVO routerDeploymentDefinition ServiceOfferingVO routerOffering _serviceOfferingDao findById routerDeploymentDefinition getServiceOfferingId Account owner routerDeploymentDefinition getOwner List HypervisorType hypervisors getHypervisors routerDeploymentDefinition allocateRetry startRetry DomainRouterVO router HypervisorType iter hypervisors iter HypervisorType hType iter next id _routerDao getNextInSequence Long
ServiceOfferingVO routerOffering _serviceOfferingDao findById routerDeploymentDefinition getServiceOfferingId Account owner routerDeploymentDefinition getOwner List HypervisorType hypervisors getHypervisors routerDeploymentDefinition allocateRetry startRetry DomainRouterVO router HypervisorType iter hypervisors iter HypervisorType hType iter next id _routerDao getNextInSequence Long s_logger s_logger debug String format id routerDeploymentDefinition getDest getDataCenter hType String templateName retrieveTemplateName hType routerDeploymentDefinition getDest getDataCenter getId VMTemplateVO template _templateDao findRoutingTemplate hType templateName template
router setDynamicallyScalable template isDynamicallyScalable router setRole Role VIRTUAL_ROUTER router _routerDao persist router reallocateRouterNetworks routerDeploymentDefinition router template router _routerDao findById router getId ex allocateRetry s_logger debug hType ex allocateRetry
BroadcastDomainType Vxlan defaultNic setBroadcastType BroadcastDomainType Vxlan defaultNic setBroadcastUri BroadcastDomainType Vxlan toUri sourceNatIp getVlanTag defaultNic setIsolationUri BroadcastDomainType Vxlan toUri sourceNatIp getVlanTag defaultNic setBroadcastType BroadcastDomainType Vlan defaultNic setBroadcastUri BroadcastDomainType Vlan toUri sourceNatIp getVlanTag defaultNic setIsolationUri IsolationType Vlan toUri sourceNatIp getVlanTag defaultNic setDeviceId NetworkOffering publicOffering _networkModel getSystemAccountNetworkOfferings NetworkOffering SystemPublicNetwork get List Network publicNetworks _networkMgr setupNetwork s_systemAccount publicOffering routerDeploymentDefinition getPlan String publicIp defaultNic getIPv4Address NicVO peerNic _nicDao findByIp4AddressAndNetworkId publicIp publicNetworks get getId peerNic
LinkedHashMap Network List NicProfile routerDeploymentDefinition LinkedHashMap Network List NicProfile networks LinkedHashMap Network List NicProfile Network guestNetwork routerDeploymentDefinition getGuestNetwork guestNetwork
LinkedHashMap Network List NicProfile routerDeploymentDefinition LinkedHashMap Network List NicProfile networks LinkedHashMap Network List NicProfile Network guestNetwork routerDeploymentDefinition getGuestNetwork guestNetwork s_logger debug guestNetwork String defaultNetworkStartIp defaultNetworkStartIpv6 Nic placeholder _networkModel getPlaceholderNicForRouter guestNetwork routerDeploymentDefinition getPodId routerDeploymentDefinition guestNetwork placeholder placeholder
Network guestNetwork routerDeploymentDefinition getGuestNetwork guestNetwork s_logger debug guestNetwork String defaultNetworkStartIp defaultNetworkStartIpv6 Nic placeholder _networkModel getPlaceholderNicForRouter guestNetwork routerDeploymentDefinition getPodId routerDeploymentDefinition guestNetwork placeholder placeholder getIPv4Address s_logger debug placeholder getIPv4Address guestNetwork defaultNetworkStartIp placeholder getIPv4Address String startIp _networkModel getStartIpAddress guestNetwork getId startIp guestNetwork getId startIp defaultNetworkStartIp startIp s_logger
String defaultNetworkStartIp defaultNetworkStartIpv6 Nic placeholder _networkModel getPlaceholderNicForRouter guestNetwork routerDeploymentDefinition getPodId routerDeploymentDefinition guestNetwork placeholder placeholder getIPv4Address s_logger debug placeholder getIPv4Address guestNetwork defaultNetworkStartIp placeholder getIPv4Address String startIp _networkModel getStartIpAddress guestNetwork getId startIp guestNetwork getId startIp defaultNetworkStartIp startIp s_logger s_logger debug startIp guestNetwork getId guestNetwork placeholder placeholder
String startIp _networkModel getStartIpAddress guestNetwork getId startIp guestNetwork getId startIp defaultNetworkStartIp startIp s_logger s_logger debug startIp guestNetwork getId guestNetwork placeholder placeholder getIPv6Address s_logger debug placeholder getIPv6Address guestNetwork defaultNetworkStartIpv6 placeholder getIPv6Address String startIpv6 _networkModel getStartIpv6Address guestNetwork getId startIpv6 guestNetwork getId startIpv6 defaultNetworkStartIpv6 startIpv6 s_logger
String timeEndChar haproxy_stats_port Integer parseInt _configDao getValue Config NetworkLBHaproxyStatsPort key haproxy_stats_port
router List Long routerGuestNtwkIds _routerDao getRouterNetworks router getId Long guestNtwkId routerGuestNtwkIds UserStatisticsVO userStats _userStatsDao lock router getAccountId router getDataCenterId guestNtwkId router getId router getType toString userStats currentBytesRcvd userStats getCurrentBytesReceived userStats setCurrentBytesReceived userStats setNetBytesReceived userStats getNetBytesReceived currentBytesRcvd currentBytesSent userStats getCurrentBytesSent userStats setCurrentBytesSent userStats setNetBytesSent userStats getNetBytesSent currentBytesSent _userStatsDao update userStats getId userStats
cal add Calendar MILLISECOND aggDate cal getTime getTime _dailyOrHourly aggDate cal getTime getTime _dailyOrHourly _usageAggregationRange UsageUtils USAGE_AGGREGATION_RANGE_MIN s_logger warn UsageUtils USAGE_AGGREGATION_RANGE_MIN _usageAggregationRange UsageUtils USAGE_AGGREGATION_RANGE_MIN initialDelay aggDate System currentTimeMillis initialDelay s_logger warn _networkStatsUpdateExecutor scheduleAtFixedRate NetworkStatsUpdateTask initialDelay _usageAggregationRange TimeUnit MILLISECONDS _routerCheckInterval _checkExecutor scheduleAtFixedRate CheckRouterTask _routerCheckInterval _routerCheckInterval TimeUnit SECONDS
updated CheckRouterCommand command CheckRouterCommand command setAccessDetail NetworkElementCommand ROUTER_IP _routerControlHelper getRouterControlIp router getId command setAccessDetail NetworkElementCommand ROUTER_NAME router getInstanceName command setWait Answer origAnswer _agentMgr easySend router getHostId command CheckRouterAnswer answer origAnswer CheckRouterAnswer answer CheckRouterAnswer origAnswer s_logger warn router getHostName RedundantState state RedundantState UNKNOWN answer answer
masterRouter backupRouter masterRouter backupRouter HostVO masterHost _hostDao findById masterRouter getHostId HostVO backupHost _hostDao findById backupRouter getHostId masterHost backupHost String title backupRouter getInstanceName
List RouterHealthCheckResult Map String Map String Map String String checksJson routerId Map String Map String RouterHealthCheckResultVO checksInDb getHealthChecksFromDb routerId List RouterHealthCheckResult healthChecks ArrayList String lastRunKey String checkType checksJson checksJson get checkType lastRunKey Map String String lastRun checksJson get checkType get lastRunKey
List RouterHealthCheckResult Map String Map String Map String String checksJson routerId Map String Map String RouterHealthCheckResultVO checksInDb getHealthChecksFromDb routerId List RouterHealthCheckResult healthChecks ArrayList String lastRunKey String checkType checksJson checksJson get checkType lastRunKey Map String String lastRun checksJson get checkType get lastRunKey s_logger info checkType lastRun get lastRun get lastRun get String checkName checksJson get checkType lastRunKey checkName RouterHealthCheckResultVO hcVo parseHealthCheckVOFromJson routerId checkName checkType checksJson get checkType get checkName checksInDb healthChecks add hcVo
SetMonitorServiceCommand command createMonitorServiceCommand router String controlIP getRouterControlIP router controlIP controlIP s_logger debug router getUuid s_logger info router getUuid Answer origAnswer origAnswer _agentMgr easySend router getHostId command e s_logger error router getInstanceName e origAnswer
s_logger debug router getUuid s_logger info router getUuid Answer origAnswer origAnswer _agentMgr easySend router getHostId command e s_logger error router getInstanceName e origAnswer s_logger error router getHostName GroupAnswer answer origAnswer GroupAnswer answer GroupAnswer origAnswer
s_logger info router getUuid Answer origAnswer origAnswer _agentMgr easySend router getHostId command e s_logger error router getInstanceName e origAnswer s_logger error router getHostName GroupAnswer answer origAnswer GroupAnswer answer GroupAnswer origAnswer s_logger error router getHostName origAnswer getDetails
List DomainRouterVO routers _routerDao listByStateAndManagementServer VirtualMachine State Running mgmtSrvrId
type rpFilter rpFilter buf append type rpFilter String domain_suffix dc getDetail ZoneConfig DnsSearchOrder getName domain_suffix buf append append domain_suffix buf append _routerExtraPublicNics defaultDns1 buf append append defaultDns1
profile DomainRouterVO router _routerDao findById profile getId NicProfile controlNic getControlNic profile controlNic
List StaticNat staticNats ArrayList StaticNat List FirewallRule firewallRulesIngress ArrayList FirewallRule ip pfRules addAll _pfRulesDao listForApplication ip getId StaticNat staticNatFirewallRules addAll _rulesDao listByIpAndPurpose ip getId Purpose StaticNat Firewall firewallRulesIngress addAll _rulesDao listByIpAndPurpose ip getId Purpose Firewall RemoteAccessVpn vpn _vpnDao findByPublicIpAddress ip getId vpn vpns add vpn StaticNat ip
guestNetworkId Firewall firewallRulesIngress addAll _rulesDao listByIpAndPurpose ip getId Purpose Firewall guestNetworkId RemoteAccessVpn vpn _vpnDao findByPublicIpAddress ip getId vpn vpns add vpn guestNetworkId ip revoke ip s_logger debug ip getAddress revoke StaticNatImpl staticNat StaticNatImpl ip getAccountId ip getDomainId guestNetworkId ip getId ip getVmIp revoke staticNats add staticNat s_logger debug staticNats size router
guestNetworkId RemoteAccessVpn vpn _vpnDao findByPublicIpAddress ip getId vpn vpns add vpn guestNetworkId ip revoke ip s_logger debug ip getAddress revoke StaticNatImpl staticNat StaticNatImpl ip getAccountId ip getDomainId guestNetworkId ip getId ip getVmIp revoke staticNats add staticNat s_logger debug staticNats size router staticNats _commandSetupHelper createApplyStaticNatCommands staticNats router cmds guestNetworkId
vpn vpns add vpn guestNetworkId ip revoke ip s_logger debug ip getAddress revoke StaticNatImpl staticNat StaticNatImpl ip getAccountId ip getDomainId guestNetworkId ip getId ip getVmIp revoke staticNats add staticNat s_logger debug staticNats size router staticNats _commandSetupHelper createApplyStaticNatCommands staticNats router cmds guestNetworkId s_logger debug firewallRulesIngress size router firewallRulesIngress
revoke ip s_logger debug ip getAddress revoke StaticNatImpl staticNat StaticNatImpl ip getAccountId ip getDomainId guestNetworkId ip getId ip getVmIp revoke staticNats add staticNat s_logger debug staticNats size router staticNats _commandSetupHelper createApplyStaticNatCommands staticNats router cmds guestNetworkId s_logger debug firewallRulesIngress size router firewallRulesIngress _commandSetupHelper createFirewallRulesCommands firewallRulesIngress router cmds guestNetworkId s_logger debug pfRules size router pfRules _commandSetupHelper createApplyPortForwardingRulesCommands pfRules router cmds guestNetworkId
firewallRulesIngress _commandSetupHelper createFirewallRulesCommands firewallRulesIngress router cmds guestNetworkId s_logger debug pfRules size router pfRules _commandSetupHelper createApplyPortForwardingRulesCommands pfRules router cmds guestNetworkId s_logger debug staticNatFirewallRules size router staticNatFirewallRules List StaticNatRule staticNatRules ArrayList StaticNatRule rule staticNatFirewallRules staticNatRules add _rulesMgr buildStaticNatRule rule _commandSetupHelper createApplyStaticNatRulesCommands staticNatRules router cmds guestNetworkId s_logger debug vpns size router vpns vpn vpns _commandSetupHelper createApplyVpnCommands vpn router cmds
router provider guestNetworkId ArrayList PublicIpAddress publicIps getPublicIpsToApply router provider guestNetworkId publicIps publicIps
ArrayList router guestNetworkId IpAddress ownerId router getAccountId List IpAddress userIps Network guestNetwork _networkDao findById guestNetworkId guestNetwork userIps _networkModel listPublicIpsAssignedToGuestNtwk guestNetworkId userIps _networkModel listPublicIpsAssignedToGuestNtwk ownerId guestNetworkId List PublicIp allPublicIps ArrayList PublicIp userIps userIps addIp IpAddress userIps IpAddress
profile DomainRouterVO router _routerDao findById profile getId answer answer String cmdClassName answer getClass getCanonicalName replace String errorMessage cmdClassName String errorDetails answer getDetails answer toString _alertMgr sendAlert AlertService AlertType ALERT_TYPE_DOMAIN_ROUTER router getDataCenterId router getPodIdToDeployIn errorMessage errorDetails
profile answer answer VirtualMachine vm profile getVirtualMachine DomainRouterVO domR _routerDao findById vm getId processStopOrRebootAnswer domR answer List Nic routerNics _nicDao listByVmId profile getId Nic nic routerNics Network network _networkModel getNetwork nic getNetworkId DataCenterVO dcVO _dcDao findById network getDataCenterId network nic getBroadcastUri nic getBroadcastUri NicProfile nicProfile NicProfile nic network nic getBroadcastUri nic getIsolationUri NetworkTopology networkTopology _networkTopologyContext retrieveNetworkTopology dcVO networkTopology setupDhcpForPvlan domR domR getHostId nicProfile
s_logger warn ResourceUnavailableException DataCenter network getDataCenterId router router getState s_logger warn router getState ResourceUnavailableException router getState DataCenter network getDataCenterId Commands cmds Commands Command OnError Stop _commandSetupHelper createApplyVpnCommands vpn router cmds router cmds AgentUnavailableException router getHostId Answer answer cmds getAnswer answer s_logger error router getDataCenterId vpn getAccountId router getInstanceName ResourceUnavailableException router getDataCenterId vpn getAccountId router getInstanceName DataCenter router getDataCenterId answer
router getState s_logger warn router getState ResourceUnavailableException router getState DataCenter network getDataCenterId Commands cmds Commands Command OnError Stop _commandSetupHelper createApplyVpnCommands vpn router cmds router cmds AgentUnavailableException router getHostId Answer answer cmds getAnswer answer s_logger error router getDataCenterId vpn getAccountId router getInstanceName ResourceUnavailableException router getDataCenterId vpn getAccountId router getInstanceName DataCenter router getDataCenterId answer s_logger error router getDataCenterId vpn getAccountId router getInstanceName answer getDetails ResourceUnavailableException router getDataCenterId vpn getAccountId router getInstanceName answer getDetails DataCenter router getDataCenterId answer cmds getAnswer
network List ResourceUnavailableException s_logger warn ResourceUnavailableException network getId DataCenter network getDataCenterId router router getState State s_logger warn ResourceUnavailableException router getState DataCenter network getDataCenterId Commands cmds Commands Command OnError Continue List NicIpAliasVO revokedIpAliasVOs _nicIpAliasDao listByNetworkIdAndState network getId NicIpAlias State revoked s_logger debug revokedIpAliasVOs size List IpAliasTO revokedIpAliasTOs ArrayList IpAliasTO NicIpAliasVO revokedAliasVO revokedIpAliasVOs revokedIpAliasTOs add IpAliasTO revokedAliasVO getIp4Address revokedAliasVO getNetmask revokedAliasVO getAliasCount toString List NicIpAliasVO aliasVOs _nicIpAliasDao listByNetworkIdAndState network getId NicIpAlias State active
host List DomainRouterVO routers _routerDao listIsolatedByHostId host getId DomainRouterVO routers
answer answer s_logger warn router getInstanceName router getHostId answer getDetails answer answer s_logger debug NetworkUsageAnswer answerFinal answer UserStatisticsVO stats _userStatsDao lock router getAccountId router getDataCenterId network getId forVpc routerNic getIPv4Address router getId routerType stats s_logger warn router getAccountId
s_logger warn router getInstanceName router getHostId answer getDetails answer getBytesReceived answer getBytesSent s_logger debug NetworkUsageAnswer answerFinal answer UserStatisticsVO stats _userStatsDao lock router getAccountId router getDataCenterId network getId forVpc routerNic getIPv4Address router getId routerType stats s_logger warn router getAccountId stats stats s_logger debug answerFinal getRouterName answerFinal getBytesReceived answerFinal getBytesSent
s_logger debug NetworkUsageAnswer answerFinal answer UserStatisticsVO stats _userStatsDao lock router getAccountId router getDataCenterId network getId forVpc routerNic getIPv4Address router getId routerType stats s_logger warn router getAccountId getCurrentBytesReceived stats getCurrentBytesReceived stats s_logger debug answerFinal getRouterName answerFinal getBytesReceived answerFinal getBytesSent stats getCurrentBytesReceived answerFinal getBytesReceived s_logger s_logger debug answerFinal getRouterName toHumanReadableSize answerFinal getBytesReceived toHumanReadableSize stats getCurrentBytesReceived
List Long List List Long jobIds ArrayList Long
router router s_logger debug router getId Map String String params HashMap String String params put params put router getAccountId RebootRouterCmd cmd RebootRouterCmd ComponentContext inject cmd params put router getId params put AsyncJobVO job AsyncJobVO User UID_SYSTEM router getAccountId RebootRouterCmd getName ApiGsonHelper getBuilder create toJson params router getId cmd getInstanceType cmd getInstanceType toString job setDispatcher _asyncDispatcher getName jobId _asyncMgr submitAsyncJob job jobIds add jobId
VirtualMachine State VirtualMachine Event transition VirtualMachine VirtualMachine State newState transition getToState VirtualMachine Event event transition getEvent VirtualMachine event VirtualMachine Event newState VirtualMachine State
_routerDao addRouterToGuestNetwork router network NicProfile guestNic _itMgr addVmToNetwork router network guestNic result setupVpcGuestNetwork network router guestNic s_logger warn router network result result reprogramNetwork params params get Param ReProgramGuestNetworks Boolean params get Param ReProgramGuestNetworks sendNetworkRulesToRouter router getId network getId reprogramNetwork ex s_logger warn router network ex result
NicProfile guestNic _itMgr addVmToNetwork router network guestNic result setupVpcGuestNetwork network router guestNic s_logger warn router network result result reprogramNetwork params params get Param ReProgramGuestNetworks Boolean params get Param ReProgramGuestNetworks sendNetworkRulesToRouter router getId network getId reprogramNetwork ex s_logger warn router network ex result result s_logger debug router network
s_logger warn router network result result reprogramNetwork params params get Param ReProgramGuestNetworks Boolean params get Param ReProgramGuestNetworks sendNetworkRulesToRouter router getId network getId reprogramNetwork ex s_logger warn router network ex result result s_logger debug router network router network s_logger debug router network
nic getTrafficType defaultDns1 nic getIPv4Dns1 defaultDns2 nic getIPv4Dns2 s_logger debug nic nic getTrafficType it remove StringBuilder buf profile getBootArgsBuilder Vpc vpc _entityMgr findById Vpc vpcId buf append vpc getCidr vpc getNetworkDomain buf append append defaultDns1 defaultDns2 buf append append defaultDns2 VpcGatewayVO privateGatewayForVpc _vpcGatewayDao getPrivateGatewayForVpc domainRouterVO getVpcId privateGatewayForVpc String ip4Address privateGatewayForVpc getIp4Address buf append append ip4Address
_userStatsDao persist stats sourceNat _commandSetupHelper createVpcAssociatePublicIPCommands domainRouterVO sourceNat cmds vlanMacAddress Nic Network nicNtwk Nic guestNic nicNtwk first PlugNicCommand plugNicCmd PlugNicCommand _nwHelper getNicTO domainRouterVO guestNic getNetworkId domainRouterVO getInstanceName domainRouterVO getType details cmds addCommand plugNicCmd _networkModel guestNic getNetworkId VirtualMachine vm _vmDao findById domainRouterVO getId NicProfile nicProfile _networkModel getNicProfile vm guestNic getNetworkId SetupGuestNetworkCommand setupCmd _commandSetupHelper createSetupGuestNetworkCommand domainRouterVO nicProfile cmds addCommand setupCmd PrivateIpVO ipVO _privateIpDao findByIpAndSourceNetworkId guestNic getNetworkId guestNic getIPv4Address Network network _networkDao findById guestNic getNetworkId
PrivateIpVO ipVO _privateIpDao findByIpAndSourceNetworkId guestNic getNetworkId guestNic getIPv4Address Network network _networkDao findById guestNic getNetworkId BroadcastDomainType getValue network getBroadcastUri String netmask NetUtils getCidrNetmask network getCidr PrivateIpAddress ip PrivateIpAddress ipVO network getBroadcastUri toString network getGateway netmask guestNic getMacAddress List PrivateIpAddress privateIps ArrayList PrivateIpAddress privateIps add ip _commandSetupHelper createVpcAssociatePrivateIPCommands domainRouterVO privateIps cmds Long privateGwAclId _vpcGatewayDao getNetworkAclIdForPrivateIp ipVO getVpcId ipVO getNetworkId ipVO getIpAddress privateGwAclId List NetworkACLItemVO networkACLs _networkACLItemDao listByACL privateGwAclId s_logger debug networkACLs size domainRouterVO ipVO getIpAddress _commandSetupHelper createNetworkACLsCommands networkACLs domainRouterVO cmds ipVO getNetworkId
finalizeNetworkRulesForNetwork cmds domainRouterVO provider guestNetworkId finalizeNetworkRulesForNetwork cmds domainRouterVO provider guestNetworkId domainRouterVO domainRouterVO domainRouterVO guestNetworkId List NetworkACLItemVO networkACLs _networkACLMgr listNetworkACLItems guestNetworkId networkACLs networkACLs
router add privateNic router PrivateIpVO ipVO _privateIpDao findByIpAndSourceNetworkId privateNic getNetworkId privateNic getIPv4Address Network network _networkDao findById privateNic getNetworkId String netmask NetUtils getCidrNetmask network getCidr PrivateIpAddress ip PrivateIpAddress ipVO network getBroadcastUri toString network getGateway netmask privateNic getMacAddress List PrivateIpAddress privateIps ArrayList PrivateIpAddress privateIps add ip Commands cmds Commands Command OnError Stop _commandSetupHelper createVpcAssociatePrivateIPCommands router privateIps cmds add router cmds
List PrivateIpAddress privateIps ArrayList PrivateIpAddress privateIps add ip Commands cmds Commands Command OnError Stop _commandSetupHelper createVpcAssociatePrivateIPCommands router privateIps cmds add router cmds s_logger debug ip network s_logger warn ip network s_logger warn add network router router
result
_networkModel router getId gateway getNetworkId s_logger debug gateway result Network privateNetwork _networkModel getNetwork gateway getNetworkId NicProfile nicProfile _networkModel getNicProfile router privateNetwork getId s_logger debug gateway router result setupVpcPrivateNetwork router nicProfile result s_logger warn gateway router gateway s_logger debug gateway router s_logger debug router privateNetwork result result _itMgr removeVmFromNetwork router privateNetwork
ip setState IpAddress State Releasing ip IpAddress State Releasing Nic nic _nicDao findByIp4AddressAndNetworkIdAndInstanceId publicNtwkId router getId ip getAddress addr nic nicsToUnplug put ip getVlanTag ip s_logger debug ip ip getVlanTag publicNtwkId ip URI broadcastUri BroadcastDomainType Vlan toUri ip getVlanTag publicNtwkId ip getNetworkId ip ip setState IpAddress State Releasing ip IpAddress State ip IpAddress State Nic nic _nicDao findByNetworkIdInstanceIdAndBroadcastUri publicNtwkId router getId broadcastUri toString nic nicsToPlug ip getVlanTag nicsToPlug put ip getVlanTag ip
PublicIpAddress ip URI broadcastUri BroadcastDomainType Vlan toUri ip getVlanTag publicNtwkId ip getNetworkId ip ip setState IpAddress State Releasing ip IpAddress State ip IpAddress State Nic nic _nicDao findByNetworkIdInstanceIdAndBroadcastUri publicNtwkId router getId broadcastUri toString nic nicsToPlug get ip getVlanTag nicsToPlug put ip getVlanTag ip s_logger debug ip ip getVlanTag publicNtwkId PublicIpAddress nicToUnplug nicsToUnplug get ip getVlanTag nicToUnplug NicVO nicVO _nicDao findByIp4AddressAndNetworkIdAndInstanceId publicNtwkId router getId nicToUnplug getAddress addr nicVO setIPv4Address ip getAddress addr
Commands cmds Commands Command OnError Stop _commandSetupHelper createApplyVpnCommands vpn router cmds _agentMgr send router getHostId cmds e s_logger debug e AgentUnavailableException router getHostId e Answer answer cmds getAnswer answer answer String errorMessage answer answer getDetails s_logger error router getDataCenterId vpn getAccountId router getInstanceName errorMessage ResourceUnavailableException router getDataCenterId vpn getAccountId router getInstanceName errorMessage DataCenter router getDataCenterId answer cmds getAnswer answer answer String errorMessage answer answer getDetails
ip setState IpAddress State Releasing ip IpAddress State Releasing Nic nic nicDao findByIp4AddressAndNetworkIdAndInstanceId publicNtwkId _router getId ip getAddress addr nic nicsToUnplug put ip getVlanTag ip s_logger debug ip ip getVlanTag publicNtwkId ip URI broadcastUri BroadcastDomainType Vlan toUri ip getVlanTag publicNtwkId ip getNetworkId ip ip setState IpAddress State Releasing ip IpAddress State ip IpAddress State Nic nic nicDao findByNetworkIdInstanceIdAndBroadcastUri publicNtwkId _router getId broadcastUri toString nic nicsToPlug ip getVlanTag nicsToPlug put ip getVlanTag ip
PublicIpAddress ip URI broadcastUri BroadcastDomainType Vlan toUri ip getVlanTag publicNtwkId ip getNetworkId ip ip setState IpAddress State Releasing ip IpAddress State ip IpAddress State Nic nic nicDao findByNetworkIdInstanceIdAndBroadcastUri publicNtwkId _router getId broadcastUri toString nic nicsToPlug get ip getVlanTag nicsToPlug put ip getVlanTag ip s_logger debug ip ip getVlanTag publicNtwkId PublicIpAddress nicToUnplug nicsToUnplug get ip getVlanTag nicToUnplug NicVO nicVO nicDao findByIp4AddressAndNetworkIdAndInstanceId publicNtwkId _router getId nicToUnplug getAddress addr nicVO setIPv4Address ip getAddress addr
NicProfileHelper nicProfileHelper visitor getVirtualNetworkApplianceFactory getNicProfileHelper NicProfile requested nicProfileHelper createPrivateNicProfileForGateway _privateGateway _router NetworkHelper networkHelper visitor getVirtualNetworkApplianceFactory getNetworkHelper networkHelper _router s_logger warn _router getId VirtualMachineManager itMgr visitor getVirtualNetworkApplianceFactory getItMgr _nicProfile itMgr addVmToNetwork _router _network requested _nicProfile _isAddOperation result visitor visit ex s_logger warn _privateGateway _router ex result
s_logger warn _router getId VirtualMachineManager itMgr visitor getVirtualNetworkApplianceFactory getItMgr _nicProfile itMgr addVmToNetwork _router _network requested _nicProfile _isAddOperation result visitor visit ex s_logger warn _privateGateway _router ex result s_logger debug _privateGateway _router _isAddOperation isRemoved destroyPrivateGateway visitor isRemoved
visitor NetworkModel networkModel visitor getVirtualNetworkApplianceFactory getNetworkModel networkModel
Network privateNetwork networkModel getNetwork _privateGateway getNetworkId s_logger debug _privateGateway _router _nicProfile networkModel getNicProfile _router privateNetwork getId result visitor visit result s_logger warn _privateGateway _router NetworkACLManager networkACLMgr visitor getVirtualNetworkApplianceFactory getNetworkACLMgr networkACLMgr _privateGateway s_logger debug _privateGateway _router s_logger debug _router privateNetwork VirtualMachineManager itMgr visitor getVirtualNetworkApplianceFactory getItMgr result result itMgr removeVmFromNetwork _router privateNetwork
Account caller ctx getCallingAccount Long ipAddrId rule getSourceIpAddressId IPAddressVO ipAddress _ipAddressDao findById ipAddrId ipAddress InvalidParameterValueException ipAddrId ipAddress InvalidParameterValueException ipAddrId Long networkId rule getNetworkId Network network _networkModel getNetwork networkId performedIpAssoc Nic guestNic ipAddress assignToVpcNtwk network getVpcId ipAddress getVpcId ipAddress getVpcId longValue network getVpcId assignToVpcNtwk _networkModel checkIpForService ipAddress Service PortForwarding networkId
network InvalidParameterValueException guestNic _networkModel getNicInNetwork vmId networkId guestNic InvalidParameterValueException dstIp guestNic getIPv4Address _networkModel network InvalidParameterValueException UserVmVO vm _vmDao findById vmId vm InvalidParameterValueException ipId vmId ipAddress assignToVpcNtwk network getVpcId ipAddress getVpcId ipAddress getVpcId longValue network getVpcId assignToVpcNtwk
_networkModel network Service StaticNat InvalidParameterValueException UserVmVO vm _vmDao findById vmId vm InvalidParameterValueException ipId vmId ipAddress assignToVpcNtwk network getVpcId ipAddress getVpcId ipAddress getVpcId longValue network getVpcId assignToVpcNtwk _networkModel checkIpForService ipAddress Service StaticNat networkId s_logger debug networkId ipAddress _ipAddrMgr associateIPToGuestNetwork ipId networkId performedIpAssoc
NetworkRuleConflictException ipAddress ipAddress ipAddress vmId NetworkRuleConflictException ipAddress vmId IPAddressVO oldIP _ipAddressDao findByAssociatedVmIdAndVmIp vmId vmIp oldIP Long networkId oldIP getAssociatedWithNetworkId VMInstanceVO vm _vmInstanceDao findById vmId reassignStaticNat networkId Network guestNetwork _networkModel getNetwork networkId NetworkOffering offering _entityMgr findById NetworkOffering guestNetwork getNetworkOfferingId offering reassignStaticNat reassignStaticNat
ipId List PortForwardingRuleVO rules _portForwardingDao listForApplication ipId rules
sourceIpId List FirewallRule rules _firewallDao listByIpAndPurpose sourceIpId Purpose StaticNat List StaticNatRule staticNatRules ArrayList StaticNatRule rules
networkId List PortForwardingRuleVO rules listByNetworkId networkId rules
networkId List FirewallRuleVO rules _firewallDao listByNetworkAndPurpose networkId Purpose StaticNat List StaticNatRule staticNatRules ArrayList StaticNatRule rules
networkId List IPAddressVO ips _ipAddressDao listStaticNatPublicIps networkId ips
ipId List FirewallRule rules ArrayList FirewallRule List PortForwardingRuleVO pfRules _portForwardingDao listByIpAndNotRevoked ipId
revokeStaticNatRuleInternal rule getId caller userId IPAddressVO ipAddress _ipAddressDao findById ipId Long vmId ipAddress getAssociatedWithVmId Long networkId ipAddress getAssociatedWithNetworkId success success success applyPortForwardingRules ipId _ipAddrMgr RulesContinueOnError value caller success success applyStaticNatRulesForIp ipId _ipAddrMgr RulesContinueOnError value caller vmId networkId Network guestNetwork _networkModel getNetwork networkId Nic guestNic _networkModel getNicInNetwork vmId guestNetwork getId ipId caller ipAddress applyUserData vmId guestNetwork guestNic success
networkId List FirewallRule rules ArrayList FirewallRule List PortForwardingRuleVO pfRules _portForwardingDao listByNetwork networkId
List FirewallRuleVO staticNatRules _firewallDao listByNetworkAndPurpose networkId Purpose StaticNat s_logger s_logger debug staticNatRules size networkId rule revokePortForwardingRuleInternal rule getId caller userId FirewallRuleVO rule staticNatRules revokeStaticNatRuleInternal rule getId caller userId success success success applyPortForwardingRulesForNetwork networkId caller success success applyPortForwardingRulesForNetwork networkId _ipAddrMgr RulesContinueOnError value caller success success applyStaticNatRulesForNetwork networkId caller success success applyStaticNatRulesForNetwork networkId _ipAddrMgr RulesContinueOnError value caller rules addAll _portForwardingDao listByNetworkAndNotRevoked networkId rules addAll _firewallDao listByNetworkAndPurposeAndNotRevoked networkId Purpose StaticNat s_logger
networkId caller forRevoke List IpAddress staticNatIps _ipAddressDao listStaticNatPublicIps networkId List StaticNat staticNats ArrayList StaticNat IpAddress staticNatIp staticNatIps staticNats addAll createStaticNatForIp staticNatIp caller forRevoke staticNats staticNats forRevoke s_logger debug staticNats size networkId staticNats forRevoke ex s_logger warn ex
List StaticNat List StaticNat staticNats ArrayList StaticNat
List FirewallRuleVO nic s_logger debug nic getId List FirewallRuleVO result ArrayList FirewallRuleVO result addAll _portForwardingDao listByNetworkAndDestIpAddr nic getIPv4Address nic getNetworkId result
List FirewallRuleVO result ArrayList FirewallRuleVO result addAll _portForwardingDao listByNetworkAndDestIpAddr nic getIPv4Address nic getNetworkId result size s_logger debug result size nic getNetworkId List FirewallRuleVO staticNatRules _firewallDao listStaticNatByVmId nic getInstanceId FirewallRuleVO rule staticNatRules rule getNetworkId nic getNetworkId result add rule s_logger debug rule getId rule getPurpose List IpAddress staticNatIps _ipAddressDao listStaticNatPublicIps nic getNetworkId IpAddress ip staticNatIps ip ip nic getIPv4Address VMInstanceVO vm _vmInstanceDao findById nic getInstanceId FirewallRuleVO staticNatRule FirewallRuleVO ip getId NetUtils ALL_PROTO toString nic getNetworkId vm getAccountId vm getDomainId Purpose StaticNat result add staticNatRule
FirewallRuleVO rule rule getNetworkId nic getNetworkId result add rule s_logger debug rule getId rule getPurpose List IpAddress staticNatIps _ipAddressDao listStaticNatPublicIps nic getNetworkId IpAddress ip staticNatIps ip ip nic VMInstanceVO vm _vmInstanceDao findById nic getInstanceId FirewallRuleVO staticNatRule FirewallRuleVO ip getId NetUtils ALL_PROTO toString nic getNetworkId vm getAccountId vm getDomainId Purpose StaticNat result add staticNatRule s_logger debug staticNatRule getId staticNatRule getPurpose List LoadBalancerVMMapVO lbMapList _loadBalancerVMMapDao listByInstanceId nic getInstanceId LoadBalancerVMMapVO lb lbMapList FirewallRuleVO lbRule _firewallDao findById lb getLoadBalancerId lbRule getNetworkId nic getNetworkId
List Long affectedVms ArrayList Long ans ans SecurityGroupRuleAnswer SecurityGroupRuleAnswer ruleAnswer SecurityGroupRuleAnswer ans ans
ans ans SecurityGroupRuleAnswer SecurityGroupRuleAnswer ruleAnswer SecurityGroupRuleAnswer ans ans s_logger debug ruleAnswer toString agentId _workDao updateStep ruleAnswer getVmId ruleAnswer getLogSequenceNumber Step Done recordSuccess ruleAnswer getVmId _workDao updateStep ruleAnswer getVmId ruleAnswer getLogSequenceNumber Step Error s_logger debug ruleAnswer toString agentId ruleAnswer getDetails ruleAnswer s_logger debug ruleAnswer getVmId agentId ruleAnswer ruleAnswer getVmId
s_logger debug ruleAnswer toString agentId _workDao updateStep ruleAnswer getVmId ruleAnswer getLogSequenceNumber Step Done recordSuccess ruleAnswer getVmId _workDao updateStep ruleAnswer getVmId ruleAnswer getLogSequenceNumber Step Error s_logger debug ruleAnswer toString agentId ruleAnswer getDetails ruleAnswer s_logger debug ruleAnswer getVmId agentId ruleAnswer ruleAnswer getVmId s_logger debug ruleAnswer getVmId affectedVms add ruleAnswer getVmId
InvalidParameterValueException authorizedAccountName securityGroupId protocol startPortOrType endPortOrCode SecurityGroupVO groupVO _securityGroupDao findByAccountAndName authorizedAccount getId group groupVO InvalidParameterValueException group authorizedAccountName domainId domainId groupVO getDomainId PermissionDeniedException groupVO getDomainId authorizedGroups add groupVO Set SecurityGroupVO authorizedGroups2 TreeSet SecurityGroupVO SecurityGroupVOComparator authorizedGroups2 addAll authorizedGroups Integer startPortOrTypeFinal startPortOrType Integer endPortOrCodeFinal endPortOrCode String protocolFinal protocol SecurityGroup securityGroup _securityGroupDao acquireInLockTable securityGroupId
id Account caller CallContext current getCallingAccount SecurityGroupRuleVO rule _securityGroupRuleDao findById id rule
rule s_logger debug id InvalidParameterValueException id SecurityGroup securityGroup _securityGroupDao findById rule getSecurityGroupId _accountMgr checkAccess caller AccessType OperateEntry securityGroup securityGroupId rule getSecurityGroupId SecurityGroupVO groupHandle groupHandle _securityGroupDao acquireInLockTable rule getSecurityGroupId groupHandle s_logger warn rule getSecurityGroupId _securityGroupRuleDao remove id
s_logger warn rule getSecurityGroupId _securityGroupRuleDao remove id s_logger debug id e s_logger warn e CloudRuntimeException e groupHandle _securityGroupDao releaseFromLockTable groupHandle getId ArrayList Long affectedVms ArrayList Long affectedVms addAll _securityGroupVMMapDao listVmIdsBySecurityGroup securityGroupId
SecurityGroupVO name description domainId accountId SecurityGroupVO group _securityGroupDao findByAccountAndName accountId name group group SecurityGroupVO name description domainId accountId group _securityGroupDao persist group
String Map String params Map String String configs _configDao getConfiguration params _numWorkerThreads NumbersUtil parseInt configs get Config SecurityGroupWorkerThreads key WORKER_THREAD_COUNT _timeBetweenCleanups NumbersUtil parseInt configs get Config SecurityGroupWorkCleanupInterval key TIME_BETWEEN_CLEANUPS _globalWorkLockTimeout NumbersUtil parseInt configs get Config SecurityGroupWorkGlobalLockTimeout key VirtualMachine State getStateMachine registerListener _answerListener SecurityGroupListener _agentMgr _workDao _agentMgr registerForHostEvents _answerListener _serverId ManagementServerNode getManagementServerId
work s_logger s_logger debug userVmId ArrayList Long affectedVms ArrayList Long affectedVms add userVmId scheduleRulesetUpdateToHosts affectedVms _timeBetweenCleanups s_logger debug work UserVm vm Long seqnum locked vm _userVMDao acquireInLockTable work getInstanceId
VmRulesetLogVO log _rulesetLogDao findByVmId userVmId log s_logger warn userVmId seqnum log getLogsequence vm vm Map PortAndProto Set String ingressRules generateRulesForVM userVmId SecurityRuleType IngressRule Map PortAndProto Set String egressRules generateRulesForVM userVmId SecurityRuleType EgressRule agentId vm getHostId agentId NicVO nic _nicDao findFirstNicForVM vm getId List String nicSecIps nic nic nicSecIps _nicSecIpDao getSecondaryIpAddressesForNic nic getId
SecurityGroupVO group _securityGroupDao findById groupId group InvalidParameterValueException groupId s_logger debug groupId group InvalidParameterValueException _accountMgr checkAccess caller group SecurityGroupVO SecurityGroupVO SecurityGroupVO group _securityGroupDao lockRow groupId group InvalidParameterValueException groupId group
InvalidParameterValueException _accountMgr checkAccess caller group SecurityGroupVO SecurityGroupVO SecurityGroupVO group _securityGroupDao lockRow groupId group InvalidParameterValueException groupId group s_logger debug groupId group SecurityGroupManager DEFAULT_GROUP_NAME InvalidParameterValueException SecurityGroupManager DEFAULT_GROUP_NAME group SecurityGroupManager DEFAULT_GROUP_NAME InvalidParameterValueException
_accountMgr checkAccess caller group ResourceInUseException ResourceInUseException SecurityGroupVO group _securityGroupDao lockRow groupId group InvalidParameterValueException groupId group InvalidParameterValueException List SecurityGroupRuleVO allowingRules _securityGroupRuleDao listByAllowedSecurityGroupId groupId List SecurityGroupVMMapVO securityGroupVmMap _securityGroupVMMapDao listBySecurityGroup groupId allowingRules ResourceInUseException securityGroupVmMap ResourceInUseException _securityGroupDao expunge groupId
Date before Date System currentTimeMillis numDeleted _workDao deleteFinishedWork before numDeleted
Date before Date System currentTimeMillis _timeBetweenCleanups List SecurityGroupWorkVO unfinished _workDao findUnfinishedWork before unfinished
Account caller CallContext current getCallingAccount InvalidParameterValueException NicVO nic _nicDao findById nicId vmId nic getInstanceId UserVm vm _userVMDao findById vmId vm vm InvalidParameterValueException _accountMgr checkAccess caller vm List SecurityGroupVO vmSgGrps getSecurityGroupsForVm vmId vmSgGrps s_logger debug Network network _networkModel getNetwork nic getNetworkId _networkModel network
Network network _networkModel getNetwork nic getNetworkId _networkModel network s_logger debug network String vmMac nic getMacAddress String vmName vm getInstanceName vmMac vmName InvalidParameterValueException NetworkRulesVmSecondaryIpCommand cmd NetworkRulesVmSecondaryIpCommand vmName vmMac secondaryIp ruleAction s_logger debug Commands cmds cmds Commands cmd _agentMgr send vm getHostId cmds
Set Long workItems TreeSet Long workItems addAll affectedVms workItems removeAll _disabledVms s_logger s_logger debug affectedVms size workItems size _workQueue size Profiler p Profiler p start updated updated _rulesetLogDao createOrUpdate workItems updated workItems size CloudRuntimeException newJobs _workQueue submitWorkForVms workItems _mBean logScheduledDetails workItems p stop
List SecurityGroupWork workItems workItems _workQueue getWork SecurityGroupWork work workItems s_logger s_logger trace work getInstanceId VmRulesetLogVO rulesetLog _rulesetLogDao findByVmId work getInstanceId rulesetLog s_logger warn work getInstanceId work setLogsequenceNumber rulesetLog getLogsequence sendRulesetUpdates work _mBean logUpdateDetails work getInstanceId work getLogsequenceNumber
s_logger trace userVmId vm getState Map PortAndProto Set String ingressRules generateRulesForVM userVmId SecurityRuleType IngressRule Map PortAndProto Set String egressRules generateRulesForVM userVmId SecurityRuleType EgressRule Long agentId vm getHostId agentId NicVO nic _nicDao findFirstNicForVM vm getId List String nicSecIps nic nic nicSecIps _nicSecIpDao getSecondaryIpAddressesForNic nic getId SecurityGroupRulesCmd cmd generateRulesetCmd vm getInstanceName nic getIPv4Address nic getIPv6Address vm getPrivateMacAddress vm getId work getLogsequenceNumber ingressRules egressRules nicSecIps cmd setMsId _serverId s_logger
List String nicSecIps nic nic nicSecIps _nicSecIpDao getSecondaryIpAddressesForNic nic getId SecurityGroupRulesCmd cmd generateRulesetCmd vm getInstanceName nic getIPv4Address nic getIPv6Address vm getPrivateMacAddress vm getId work getLogsequenceNumber ingressRules egressRules nicSecIps cmd setMsId _serverId s_logger s_logger debug vm getInstanceName cmd getIngressRuleSet size cmd getEgressRuleSet size cmd getTotalNumCidrs cmd getSignature Commands cmds Commands cmd _agentMgr send agentId cmds _answerListener s_logger s_logger trace vm getInstanceName _workQueue size
networkId Network network _networkDao findById networkId network getNetworkACLId List NetworkACLItemVO aclItems _networkACLItemDao listByACL network getNetworkACLId aclItems s_logger debug networkId s_logger s_logger debug aclItems size networkId NetworkACLItemVO aclItem aclItems aclItem State aclItem State aclItem setState State Revoke success applyACLItemsToNetwork network getId aclItems s_logger success
gateway networkACLId gateway getNetworkACLId List NetworkACLItemVO aclItems _networkACLItemDao listByACL networkACLId aclItems
Network network _networkDao findById networkId handled foundProvider element Network Provider provider element getProvider isAclProvider _networkModel isProviderSupportServiceInNetwork network getId Service NetworkACL provider isAclProvider foundProvider s_logger debug network getId handled element applyNetworkACLs network rules handled _messageBus publish _name PublishScope LOCAL network foundProvider
VpcOffering defaultVPCOfferingName s_logger debug VpcOffering defaultVPCOfferingName Map Service Set Provider svcProviderMap HashMap Service Set Provider Set Provider defaultProviders HashSet Provider defaultProviders add Provider VPCVirtualRouter Service svc svc Service Set Provider lbProviders HashSet Provider lbProviders add Provider VPCVirtualRouter lbProviders add Provider InternalLbVm svcProviderMap put svc lbProviders svcProviderMap put svc defaultProviders createVpcOffering VpcOffering defaultVPCOfferingName VpcOffering defaultVPCOfferingName svcProviderMap State Enabled VpcOffering
createVpcOffering VpcOffering defaultVPCOfferingName VpcOffering defaultVPCOfferingName svcProviderMap State Enabled VpcOffering defaultVPCNSOfferingName s_logger debug VpcOffering defaultVPCNSOfferingName Map Service Set Provider svcProviderMap HashMap Service Set Provider Set Provider defaultProviders HashSet Provider defaultProviders add Provider VPCVirtualRouter Service svc svc Service Set Provider lbProviders HashSet Provider lbProviders add Provider Netscaler lbProviders add Provider InternalLbVm svcProviderMap put svc lbProviders svcProviderMap put svc defaultProviders createVpcOffering VpcOffering defaultVPCNSOfferingName VpcOffering defaultVPCNSOfferingName svcProviderMap State Enabled
vpcOffId List VpcOfferingDetailsVO detailsVO ArrayList SearchBuilder VpcOfferingDetailsVO sb vpcOfferingDetailsDao createSearchBuilder sb and sb entity getResourceId SearchCriteria Op EQ sb and sb entity getName SearchCriteria Op EQ sb done SearchCriteria VpcOfferingDetailsVO sc sb create sc setParameters String valueOf vpcOffId sc setParameters ApiConstants DOMAIN_ID vpcOfferingDetailsDao remove sc domainId detailsVO add VpcOfferingDetailsVO vpcOffId ApiConstants DOMAIN_ID String valueOf domainId
vpc Vpc State Inactive s_logger debug vpc Vpc State Inactive VpcVO vpcVO _vpcDao findById vpc getId vpcVO setState Vpc State Inactive _vpcDao update vpc getId vpcVO _resourceLimitMgr decrementResourceCount vpc getAccountId ResourceType vpc vpc getId s_logger warn vpc vpc getId s_logger warn vpc
Account caller CallContext current getCallingAccount VpcVO vpcToUpdate _vpcDao findById vpcId vpcToUpdate InvalidParameterValueException vpcId _accountMgr checkAccess caller vpcToUpdate VpcVO vpc _vpcDao createForUpdate vpcId vpcName vpc setName vpcName displayText vpc setDisplayText displayText customId vpc setUuid customId displayVpc vpc setDisplay displayVpc _vpcDao vpcId vpc
ex _accountMgr checkAccess caller vpc DataCenter dc _entityMgr findById DataCenter vpc getZoneId DeployDestination dest DeployDestination dc ReservationContext context ReservationContextImpl callerUser _accountMgr getAccount vpc getAccountId result vpc dest context s_logger warn vpc result ex s_logger warn vpc ex result result
vpc success List Provider providersToImplement getVpcProviders vpc getId providersToImplement vpc
vpcId s_logger debug vpcId success s_logger debug _s2sVpnMgr cleanupVpnConnectionByVpc vpcId s_logger debug _s2sVpnMgr cleanupVpnGatewayByVpc vpcId List IPAddressVO ipsToRelease _ipAddressDao listByAssociatedVpc vpcId
vpcId s_logger debug vpcId success s_logger debug _s2sVpnMgr cleanupVpnConnectionByVpc vpcId s_logger debug _s2sVpnMgr cleanupVpnGatewayByVpc vpcId List IPAddressVO ipsToRelease _ipAddressDao listByAssociatedVpc vpcId s_logger debug vpcId IPAddressVO ipToRelease ipsToRelease ipToRelease ipToRelease setVpcId ipToRelease setAssociatedWithNetworkId _ipAddressDao update ipToRelease getId ipToRelease
s_logger debug _s2sVpnMgr cleanupVpnGatewayByVpc vpcId List IPAddressVO ipsToRelease _ipAddressDao listByAssociatedVpc vpcId s_logger debug vpcId IPAddressVO ipToRelease ipsToRelease ipToRelease ipToRelease setVpcId ipToRelease setAssociatedWithNetworkId _ipAddressDao update ipToRelease getId ipToRelease s_logger debug ipToRelease success success _ipAddrMgr disassociatePublicIpAddress ipToRelease getId callerUserId caller success s_logger warn ipToRelease vpcId success
success success _ipAddrMgr disassociatePublicIpAddress ipToRelease getId callerUserId caller success s_logger warn ipToRelease vpcId success s_logger debug vpcId s_logger warn vpcId vpcId caller s_logger warn vpcId List PrivateGateway gateways getVpcPrivateGateways vpcId gateways PrivateGateway gateways
s_logger warn ipToRelease vpcId s_logger debug vpcId s_logger warn vpcId vpcId s_logger warn vpcId List PrivateGateway gateways getVpcPrivateGateways vpcId gateways PrivateGateway gateway gateways gateway s_logger debug gateway vpcId gateway
success s_logger debug vpcId s_logger warn vpcId vpcId s_logger warn vpcId List PrivateGateway gateways getVpcPrivateGateways vpcId gateways PrivateGateway gateway gateways gateway s_logger debug gateway vpcId gateway success s_logger debug gateway vpcId
forceCleanup cleanUp vpc VpcOfferingVO redundantOffering _vpcOffDao findByUniqueName VpcOffering redundantVPCOfferingName VpcVO entity _vpcDao findById vpcId entity setRedundant entity setVpcOfferingId redundantOffering getId _vpcDao vpc getId entity vpc entity forceCleanup forceCleanup vpc s_logger warn vpc restartRequired
vpc entity vpc entity forceCleanup forceCleanup vpc s_logger warn vpc restartRequired restartVPCNetworks vpcId callerAccount user cleanUp s_logger debug vpc vpcId s_logger warn vpc restartRequired
forceCleanup forceCleanup vpc s_logger warn vpc restartRequired restartVPCNetworks vpcId callerAccount user cleanUp s_logger debug vpc vpcId s_logger warn vpc restartRequired s_logger debug vpc
PhysicalNetwork physNet physicalNetworkId List PhysicalNetwork pNtwks _ntwkModel getPhysicalNtwksSupportingTrafficType vpc getZoneId TrafficType Guest pNtwks pNtwks InvalidParameterValueException physNet pNtwks get physicalNetworkId physNet getId physNet physNet _entityMgr findById PhysicalNetwork physicalNetworkId Long dcId physNet getDataCenterId Long physicalNetworkIdFinal physicalNetworkId PhysicalNetwork physNetFinal physNet VpcGatewayVO gatewayVO gatewayVO VpcGatewayVO
physNet pNtwks get physicalNetworkId physNet getId physNet physNet _entityMgr findById PhysicalNetwork physicalNetworkId Long dcId physNet getDataCenterId Long physicalNetworkIdFinal physicalNetworkId PhysicalNetwork physNetFinal physNet VpcGatewayVO gatewayVO gatewayVO VpcGatewayVO VpcGatewayVO s_logger debug vpc Network privateNtwk String cidr NetUtils ipAndNetMaskToCidr gateway netmask
physNet _entityMgr findById PhysicalNetwork physicalNetworkId Long dcId physNet getDataCenterId Long physicalNetworkIdFinal physicalNetworkId PhysicalNetwork physNetFinal physNet VpcGatewayVO gatewayVO gatewayVO VpcGatewayVO VpcGatewayVO s_logger debug vpc Network privateNtwk broadcastUri String cidr NetUtils ipAndNetMaskToCidr gateway netmask privateNtwk _ntwkDao getPrivateNetwork broadcastUri cidr gatewayOwnerId dcId networkOfferingId vpcId privateNtwk s_logger info vpc broadcastUri
s_logger debug vpc Network privateNtwk broadcastUri String cidr NetUtils ipAndNetMaskToCidr gateway netmask privateNtwk _ntwkDao getPrivateNetwork broadcastUri cidr gatewayOwnerId dcId networkOfferingId vpcId privateNtwk s_logger info vpc broadcastUri String networkName vpc getName privateNtwk _ntwkSvc createPrivateNetwork networkName networkName physicalNetworkIdFinal broadcastUri ipAddress gateway netmask gatewayOwnerId vpcId isSourceNat networkOfferingId bypassVlanOverlapCheck s_logger info vpc broadcastUri DataCenterVO dc _dcDao lockRow physNetFinal getDataCenterId PrivateIpVO privateIp _privateIpDao findByIpAndSourceNetworkId privateNtwk getId ipAddress privateIp
PrivateGateway gatewayId VpcGatewayVO vo _vpcGatewayDao findById gatewayId success List Provider providersToImplement getVpcProviders vo getVpcId PrivateGateway gateway getVpcPrivateGateway gatewayId providersToImplement gateway success success s_logger debug gateway vo VpcGateway State Ready vo setState VpcGateway State Ready _vpcGatewayDao update vo getId vo
success success s_logger debug gateway vo VpcGateway State Ready vo setState VpcGateway State Ready _vpcGatewayDao update vo getId vo s_logger debug gateway VpcGateway State Ready CallContext current setEventDetails gatewayId getVpcPrivateGateway gatewayId s_logger warn gateway success
gatewayId VpcGatewayVO gatewayToBeDeleted _vpcGatewayDao findById gatewayId gatewayToBeDeleted
VpcGatewayVO gatewayToBeDeleted _vpcGatewayDao findById gatewayId gatewayToBeDeleted s_logger debug gatewayId VpcGatewayVO gatewayVO _vpcGatewayDao acquireInLockTable gatewayId gatewayVO gatewayVO VpcGateway ConcurrentOperationException gatewayId routeCount _staticRouteDao countRoutesByGateway gatewayVO getId routeCount CloudRuntimeException gatewayVO routeCount gatewayVO setState VpcGateway State Deleting _vpcGatewayDao update gatewayVO getId gatewayVO
ConcurrentOperationException gatewayId routeCount _staticRouteDao countRoutesByGateway gatewayVO getId routeCount CloudRuntimeException gatewayVO routeCount gatewayVO setState VpcGateway State Deleting _vpcGatewayDao update gatewayVO getId gatewayVO s_logger debug gatewayVO VpcGateway State Deleting List Provider providersToImplement getVpcProviders gatewayVO getVpcId PrivateGateway gateway getVpcPrivateGateway gatewayId providersToImplement
routeCount _staticRouteDao countRoutesByGateway gatewayVO getId routeCount CloudRuntimeException gatewayVO routeCount gatewayVO setState VpcGateway State Deleting _vpcGatewayDao update gatewayVO getId gatewayVO s_logger debug gatewayVO VpcGateway State Deleting List Provider providersToImplement getVpcProviders gatewayVO getVpcId PrivateGateway gateway getVpcPrivateGateway gatewayId providersToImplement gateway s_logger debug gateway s_logger warn gateway
gateway networkId gateway getNetworkId vpcTxCallable setGateway gateway ExecutorService txExecutor Executors newSingleThreadExecutor Future Boolean futureResult txExecutor submit vpcTxCallable deleteNetworkFinal deleteNetworkFinal futureResult get deleteNetworkFinal User callerUser _accountMgr getActiveUser CallContext current getCallingUserId Account owner _accountMgr getAccount Account ACCOUNT_ID_SYSTEM ReservationContext context ReservationContextImpl callerUser owner _ntwkMgr destroyNetwork networkId context
gateway networkId gateway getNetworkId vpcTxCallable setGateway gateway ExecutorService txExecutor Executors newSingleThreadExecutor Future Boolean futureResult txExecutor submit vpcTxCallable deleteNetworkFinal deleteNetworkFinal futureResult get deleteNetworkFinal User callerUser _accountMgr getActiveUser CallContext current getCallingUserId Account owner _accountMgr getAccount Account ACCOUNT_ID_SYSTEM ReservationContext context ReservationContextImpl callerUser owner _ntwkMgr destroyNetwork networkId context s_logger debug networkId
vpcTxCallable setGateway gateway ExecutorService txExecutor Executors newSingleThreadExecutor Future Boolean futureResult txExecutor submit vpcTxCallable deleteNetworkFinal deleteNetworkFinal futureResult get deleteNetworkFinal User callerUser _accountMgr getActiveUser CallContext current getCallingUserId Account owner _accountMgr getAccount Account ACCOUNT_ID_SYSTEM ReservationContext context ReservationContextImpl callerUser owner _ntwkMgr destroyNetwork networkId context s_logger debug networkId e s_logger error networkId e e
Map Long VpcGateway gatewayMap HashMap Long VpcGateway route VpcGateway gateway gatewayMap get route getVpcGatewayId gateway gateway _vpcGatewayDao findById route getVpcGatewayId gatewayMap put gateway getId gateway staticRouteProfiles add StaticRouteProfile route gateway staticRouteProfiles s_logger warn route route _staticRouteDao remove route getId
gatewayMap put gateway getId gateway staticRouteProfiles add StaticRouteProfile route gateway staticRouteProfiles s_logger warn StaticRoute route route StaticRoute State _staticRouteDao remove route getId s_logger debug route route StaticRoute State StaticRouteVO ruleVO _staticRouteDao findById route getId ruleVO setState StaticRoute State Active _staticRouteDao update ruleVO getId ruleVO
vpcId List StaticRouteVO routes _staticRouteDao listByVpcId vpcId
s_logger debug ipId Vpc vpc _vpcDao findById vpcId vpc InvalidParameterValueException _accountMgr checkAccess caller owner vpc s_logger debug ipToAssoc vpc isSourceNatFinal isSrcNatIpRequired vpc getVpcOfferingId getExistingSourceNatInVpc owner getId vpcId IPAddressVO ip _ipAddressDao findById ipId ip setVpcId vpcId ip setSourceNat isSourceNatFinal _ipAddressDao update ipId ip _ipAddrMgr markPublicIpAsAllocated ip
IPAddressVO ip _ipAddressDao findById ipId ip ip ip getVpcId s_logger debug ip networkId vpcId ip getVpcId success success _ipAddrMgr applyIpAssociations _ntwkModel getNetwork networkId ex CloudRuntimeException networkId ipId ex success ip setAssociatedWithNetworkId _ipAddressDao update ipId ip
ip ip getVpcId s_logger debug ip networkId vpcId ip getVpcId success success _ipAddrMgr applyIpAssociations _ntwkModel getNetwork networkId ex CloudRuntimeException networkId ipId ex success ip setAssociatedWithNetworkId _ipAddressDao update ipId ip s_logger debug ip vpcId CloudRuntimeException networkId ipId
s_logger debug vpc _ntwkMgr destroyExpendableRouters _routerDao listByVpcId vpc getId context DeployDestination dest DeployDestination _dcDao findById vpc getZoneId List DomainRouterVO oldRouters _routerDao listByVpcId vpc getId oldRouters vpc setRollingRestart startVpc vpc dest context oldRouters vpc setRollingRestart vpc oldRouters oldRouters Thread sleep NetworkOrchestrationService RVRHandoverTime DomainRouterVO oldRouter oldRouters _routerService stopRouter oldRouter getId
networkId gateway getNetworkId List PrivateIpVO privateIps _privateIpDao listByNetworkId networkId privateIps privateIps gateway
ipId RemoteAccessVpnVO vpn _remoteAccessVpnDao findByPublicIpAddress ipId vpn
s_logger debug ipId _accountMgr checkAccess caller AccessType OperateEntry vpn RemoteAccessVpn State prevState vpn getState vpn setState RemoteAccessVpn State Removed _remoteAccessVpnDao update vpn getId vpn success vpn success vpn setState prevState _remoteAccessVpnDao update vpn getId vpn
vpn setState prevState _remoteAccessVpnDao update vpn getId vpn s_logger debug vpn getId RemoteAccessVpn State Running success success List FirewallRule vpnFwRules _rulesDao listByIpAndPurpose ipId Purpose Vpn applyFirewall List FirewallRuleVO fwRules ArrayList FirewallRuleVO vpnFwRules _rulesDao vpnFwRules getId applyFirewall applyFirewall
vpn setState prevState _remoteAccessVpnDao update vpn getId vpn s_logger debug vpn getId RemoteAccessVpn State Running success success List FirewallRule vpnFwRules _rulesDao listByIpAndPurpose ipId Purpose Vpn applyFirewall List FirewallRuleVO fwRules ArrayList FirewallRuleVO vpnFwRules _rulesDao vpnFwRules getId applyFirewall applyFirewall FirewallRule vpnFwRules
vpnFwRule _firewallMgr revokeRelatedFirewallRule vpnFwRule getId fwRules add _rulesDao findByRelatedId vpnFwRule getId s_logger debug fwRules size s_logger debug ipId success _firewallMgr applyIngressFirewallRules ipId caller success _remoteAccessVpnDao remove vpn getId List VpnUserVO vpnUsers _vpnUsersDao listByAccount vpn getAccountId
vpnOwnerId Account caller CallContext current getCallingAccount Account owner _accountDao findById vpnOwnerId _accountMgr checkAccess caller owner
vpnOwnerId Account caller CallContext current getCallingAccount Account owner _accountDao findById vpnOwnerId _accountMgr checkAccess caller owner s_logger debug owner List RemoteAccessVpnVO vpns _remoteAccessVpnDao findByAccount vpnOwnerId vpns
_accountMgr checkAccess caller owner s_logger debug owner List RemoteAccessVpnVO vpns _remoteAccessVpnDao findByAccount vpnOwnerId vpns s_logger debug owner RemoteAccessVpnVO vpnTemp List VpnUserVO users _vpnUsersDao listByAccount vpnOwnerId VpnUserVO user users user State user setState State Add _vpnUsersDao update user getId user success Boolean finals Boolean users size
user setState State Add _vpnUsersDao update user getId user success Boolean finals Boolean users size element s_logger debug element getName vpn String results element applyVpnUsers vpn users results indexUser results indexUser indexUser users size indexUser
project AccountVO result AccountVO account _accountDao findById project getProjectAccountId
project AccountVO caller callerUserId result AccountVO account _accountDao findById project getProjectAccountId s_logger debug project account getId result result _accountMgr deleteAccount account callerUserId caller result result result
s_logger debug project account getId result result _accountMgr deleteAccount account callerUserId caller result result result s_logger debug project List ProjectAccount projectAccounts _projectAccountDao listByProjectId project getId ProjectAccount projectAccount projectAccounts result result unassignAccountFromProject projectAccount getProjectId projectAccount getAccountId s_logger debug project _projectInvitationDao cleanupInvitations project getId result result
projectId accountId ProjectAccountVO projectAccount _projectAccountDao findByProjectIdAccountId projectId accountId projectAccount
projectId accountId success ProjectAccountVO projectAccount _projectAccountDao findByProjectIdAccountId projectId accountId success _projectAccountDao remove projectAccount getId success
project getState InvalidParameterValueException ex InvalidParameterValueException project getState ex addProxyObject project getUuid ex User user userDao getUserByName username project getDomainId user InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject String valueOf username ex CallContext current setProject project _accountMgr checkAccess caller AccessType ModifyProject _accountMgr getAccount project getProjectAccountId Account userAccount _accountDao findById user getAccountId _projectAccountDao projectId userAccount getAccountId InvalidParameterValueException userAccount getAccountId ProjectAccount projectAccountUser _projectAccountDao findByProjectIdUserId projectId user getAccountId user getId
ProjectVO project getProject projectId project InvalidParameterValueException projectId _accountMgr checkAccess caller AccessType ModifyProject _accountMgr getAccount project getProjectAccountId displayText project setDisplayText displayText _projectDao update projectId project newOwnerName Account futureOwnerAccount _accountMgr getActiveAccountByName newOwnerName project getDomainId futureOwnerAccount InvalidParameterValueException newOwnerName project getDomainId Account currentOwnerAccount getProjectOwner projectId currentOwnerAccount
ex Account account accountName account _accountMgr getActiveAccountByName accountName project getDomainId account InvalidParameterValueException ex InvalidParameterValueException accountName DomainVO domain ApiDBUtils findDomainById project getDomainId String domainUuid String valueOf project getDomainId domain domainUuid domain getUuid ex addProxyObject domainUuid ex CallContext current setProject project _accountMgr checkAccess caller AccessType ModifyProject _accountMgr getAccount project getProjectAccountId ProjectAccount projectAccount _projectAccountDao findByProjectIdAccountId projectId account getId
projectId user ProjectInvitation invite _projectInvitationDao findByUserIdProjectId user getId user getAccountId projectId invite success _projectInvitationDao remove invite getId success
projectId user success ProjectAccountVO projectAccount _projectAccountDao findByProjectIdUserId projectId user getAccountId user getId success _projectAccountDao remove projectAccount getId success
ProjectInvitationVO invite accountId invite _projectInvitationDao findByAccountIdProjectId accountId project getId userId invite _projectInvitationDao findByUserIdProjectId userId accountId project getId email invite _projectInvitationDao findByEmailAndProjectId email project getId invite invite invite _projectInvitationDao invite getId invite expireInvitation invite accountId
accountId invite _projectInvitationDao findByAccountIdProjectId accountId project getId userId invite _projectInvitationDao findByUserIdProjectId userId accountId project getId email invite _projectInvitationDao findByEmailAndProjectId email project getId invite invite getState invite getState _projectInvitationDao invite getId invite getState expireInvitation invite accountId s_logger debug invite getState accountId project userId
userId invite _projectInvitationDao findByUserIdProjectId userId accountId project getId email invite _projectInvitationDao findByEmailAndProjectId email project getId invite invite getState invite getState _projectInvitationDao invite getId invite getState expireInvitation invite accountId s_logger debug invite getState accountId project userId s_logger debug invite getState userId project email
ProjectInvitationVO invite token accountName invite _projectInvitationDao findByAccountIdProjectId accountId projectId ProjectInvitation State Pending invite _projectInvitationDao findByUserIdProjectId user getId user getAccountId projectId ProjectInvitation State Pending invite _projectInvitationDao findPendingByTokenAndProjectId token projectId ProjectInvitation State Pending invite _projectInvitationDao invite getId expireInvitation invite InvalidParameterValueException accountName projectId ProjectInvitationVO inviteFinal invite Long accountIdFinal accountId
invite _projectInvitationDao findPendingByTokenAndProjectId token projectId ProjectInvitation State Pending invite _projectInvitationDao invite expireInvitation invite InvalidParameterValueException accountName projectId ProjectInvitationVO inviteFinal invite Long accountIdFinal accountId String accountNameFinal accountName User finalUser user ProjectInvitationVO finalInvite invite result result
invite accept expireInvitation invite InvalidParameterValueException accountName projectId ProjectInvitationVO inviteFinal invite Long accountIdFinal accountId String accountNameFinal accountName User finalUser user ProjectInvitationVO finalInvite invite result result ProjectInvitation State newState accept ProjectInvitation State Completed ProjectInvitation State Declined s_logger debug inviteFinal newState inviteFinal setState newState
l processDeletHostEventAfter HostVO params eventName l processCancelMaintenaceEventBefore Long params eventName l processCancelMaintenaceEventAfter Long params eventName l processPrepareMaintenaceEventBefore Long params eventName l processPrepareMaintenaceEventAfter Long params eventName
ex HostPodVO pod _podDao findById podId pod InvalidParameterValueException podId _podDao findById podId InvalidParameterValueException podId pod dcId InvalidParameterValueException ex InvalidParameterValueException dcId ex addProxyObject pod getUuid ex addProxyObject zone getUuid ex InvalidParameterValueException InvalidParameterValueException
_dcDao releasePrivateIpAddress host getPrivateIpAddress host getDataCenterId _agentMgr disconnectWithoutInvestigation hostId Status Event Remove _hostDetailsDao deleteDetails hostId _hostGpuGroupsDao deleteGpuEntries hostId _hostTagsDao deleteTags hostId host setGuid Long clusterId host getClusterId host setClusterId _hostDao update host getId host _hostDao remove hostId clusterId List HostVO hosts listAllHostsInCluster clusterId hosts ClusterVO cluster _clusterDao findById clusterId
cluster setGuid _clusterDao update clusterId cluster resourceStateTransitTo host ResourceState Event DeleteHost _nodeId e s_logger debug host getId e _storagePoolHostDao deletePrimaryRecordsForHost hostId List VMInstanceVO vms _vmDao listByHostId hostId VMInstanceVO vm vms vm setState State Stopped vm setHostId _vmDao persist vm pool Long poolId pool getPoolId StoragePoolVO storagePool _storagePoolDao findById poolId
cmd ClusterVO cluster _clusterDao lockRow cmd getId cluster
ClusterVO cluster _clusterDao lockRow cmd getId cluster s_logger s_logger debug cmd getId CloudRuntimeException cmd getId Hypervisor HypervisorType hypervisorType cluster getHypervisorType List HostVO hosts listAllHostsInCluster cmd getId hosts s_logger s_logger debug cmd getId CloudRuntimeException cmd getId List StoragePoolVO storagePools _storagePoolDao listPoolsByCluster cmd getId storagePools s_logger
CloudRuntimeException cmd getId List StoragePoolVO storagePools _storagePoolDao listPoolsByCluster cmd getId storagePools s_logger s_logger debug cmd getId CloudRuntimeException cmd getId remove cmd getId _capacityDao removeBy cluster getId _clusterVSMMapDao removeByClusterId cmd getId DedicatedResourceVO dr _dedicatedDao findByClusterId cluster getId dr _dedicatedDao remove dr getId
String clusterType cmd getClusterType String hypervisor cmd getHypervisor String allocationState cmd getAllocationState String managedstate cmd getManagedstate String name cmd getClusterName doUpdate name cluster HypervisorType InvalidParameterValueException s_logger debug name cluster setName name doUpdate hypervisor hypervisor Hypervisor HypervisorType hypervisorType Hypervisor HypervisorType getType hypervisor hypervisorType
doUpdate hypervisor hypervisor Hypervisor HypervisorType hypervisorType Hypervisor HypervisorType getType hypervisor hypervisorType s_logger error hypervisor InvalidParameterValueException hypervisor cluster setHypervisorType hypervisor doUpdate Cluster ClusterType newClusterType clusterType clusterType newClusterType Cluster ClusterType valueOf clusterType InvalidParameterValueException clusterType
Cluster ClusterType newClusterType clusterType clusterType newClusterType Cluster ClusterType valueOf clusterType InvalidParameterValueException clusterType newClusterType s_logger error clusterType InvalidParameterValueException clusterType cluster setClusterType newClusterType doUpdate Grouping AllocationState newAllocationState
hostId HostVO host _hostDao findById hostId
e String err host getId ResourceState Maintenance s_logger debug err e CloudRuntimeException err e getMessage ActionEventUtils onStartedActionEvent CallContext current getCallingUserId CallContext current getCallingAccountId EventTypes EVENT_MAINTENANCE_PREPARE hostId _agentMgr pullAgentToMaintenance hostId host Host Type Routing List VMInstanceVO vms _vmDao listByHostId hostId vms List HostVO hosts listAllUpAndEnabledHosts Host Type Routing host getClusterId host getPodId host getDataCenterId VMInstanceVO vm vms hosts hosts vm s_logger error _haMgr scheduleStop vm hostId WorkType ForceStop
cmd Long hostId cmd getId HostVO host _hostDao findById hostId host
host hostId host getId
host hostId host getId s_logger info host getName List VMInstanceVO allVmsOnHost _vmDao listByHostId hostId hasMigratingAwayVms CollectionUtils isNotEmpty _vmDao listVmsMigratingFromHost hostId hasPendingMigrationRetries VMInstanceVO allVmsOnHost getId
Object ResourceStateAdapter event Object _resourceStateAdapters Iterator Map Entry String ResourceStateAdapter it _resourceStateAdapters entrySet iterator Object result it Map Entry String ResourceStateAdapter item it next ResourceStateAdapter adapter item getValue String msg event item getKey
s_logger debug msg result adapter createHostVOForConnectedAgent HostVO args StartupCommand args result result adapter createHostVOForDirectConnectAgent HostVO args StartupCommand args ServerResource args Map String String args List String args result result adapter deleteHost HostVO args Boolean args Boolean args result
String pod startup getPod String cluster startup getCluster pod dataCenter pod dataCenter List HostPodVO pods _podDao listAllIncludingRemoved HostPodVO hpv pods hpv startup startup pod hpv getName dataCenter _dcDao findById hpv getDataCenterId getName dcId DataCenterVO dc _dcDao findByName dataCenter dc dcId Long parseLong dataCenter dc _dcDao findById dcId
dcId DataCenterVO dc _dcDao findByName dataCenter dc dcId Long parseLong dataCenter dc _dcDao findById dcId s_logger debug dataCenter dc IllegalArgumentException startup getPrivateIpAddress dataCenter dcId dc getId HostPodVO p _podDao findByName pod dcId p podId Long parseLong pod
host setPrivateIpAddress startup getPrivateIpAddress host setPrivateNetmask startup getPrivateNetmask host setPrivateMacAddress startup getPrivateMacAddress host setPublicIpAddress startup getPublicIpAddress host setPublicMacAddress startup getPublicMacAddress host setPublicNetmask startup getPublicNetmask host setStorageIpAddress startup getStorageIpAddress host setStorageMacAddress startup getStorageMacAddress host setStorageNetmask startup getStorageNetmask host setVersion startup getVersion host setName startup getName host setManagementServerId _nodeId host setStorageUrl startup getIqn host setLastPinged System currentTimeMillis host setHostTags hostTags
host setPublicNetmask startup getPublicNetmask host setStorageIpAddress startup getStorageIpAddress host setStorageMacAddress startup getStorageMacAddress host setStorageNetmask startup getStorageNetmask host setVersion startup getVersion host setName startup getName host setManagementServerId _nodeId host setStorageUrl startup getIqn host setLastPinged System currentTimeMillis host setHostTags hostTags host setDetails details startup getStorageIpAddressDeux host setStorageIpAddressDeux startup getStorageIpAddressDeux host setStorageMacAddressDeux startup getStorageMacAddressDeux host setStorageNetmaskDeux startup getStorageNetmaskDeux
cmds s_logger info StartupCommand cmd cmds cmd cmd setVersion Long toString System currentTimeMillis s_logger Request cmds logD StartupCommand firstCmd cmds host findHostByGuid firstCmd getGuid host host findHostByGuid firstCmd getGuidWithoutResource host host
cmds s_logger info StartupCommand cmd cmds cmd cmd setVersion Long toString System currentTimeMillis s_logger Request cmds logD StartupCommand firstCmd cmds host findHostByGuid firstCmd getGuid host host findHostByGuid firstCmd getGuidWithoutResource host host
host UnableDeleteHostException host CloudRuntimeException host getId s_logger s_logger debug host getId host getGuid StoragePoolVO storagePool _storageMgr findLocalStorageOnHost host getId storagePool storagePool storagePool StoragePool pool _storageSvr preparePrimaryStorageForMaintenance storagePool getId pool s_logger debug UnableDeleteHostException
StoragePoolVO storagePool _storageMgr findLocalStorageOnHost host getId storagePool storagePool storagePool StoragePool pool _storageSvr preparePrimaryStorageForMaintenance storagePool getId pool s_logger debug UnableDeleteHostException e s_logger debug e toString UnableDeleteHostException e toString List VMInstanceVO vmsOnLocalStorage _storageMgr listByStoragePool storagePool getId VMInstanceVO vm vmsOnLocalStorage _vmMgr destroy vm getUuid
e s_logger debug e toString UnableDeleteHostException e toString List VMInstanceVO vmsOnLocalStorage _storageMgr listByStoragePool storagePool getId VMInstanceVO vm vmsOnLocalStorage _vmMgr destroy vm getUuid e String errorMsg vm host getId s_logger debug errorMsg e UnableDeleteHostException errorMsg e getMessage List VMInstanceVO vms _vmDao listByHostId host getId vms
List VMInstanceVO vmsOnLocalStorage _storageMgr listByStoragePool storagePool getId VMInstanceVO vm vmsOnLocalStorage _vmMgr destroy vm getUuid e String errorMsg vm host getId s_logger debug errorMsg e UnableDeleteHostException errorMsg e getMessage List VMInstanceVO vms _vmDao listByHostId host getId vms VMInstanceVO vm vms vm vm s_logger debug vm host getId
VMInstanceVO vm _vmMgr destroy vm getUuid e String errorMsg vm host getId s_logger debug errorMsg e UnableDeleteHostException errorMsg e getMessage List VMInstanceVO vms _vmDao listByHostId host getId vms VMInstanceVO vm vms vm vm s_logger debug vm host getId
ResourceState host getResourceState CloudRuntimeException host getResourceState hostId _haMgr cancelScheduledMigrations host vms_migrating List VMInstanceVO vms _haMgr findTakenMigrationWork VMInstanceVO vm vms vm vm hostId s_logger warn vm hostId vms_migrating handleAgentIfNotConnected host vms_migrating resourceStateTransitTo host ResourceState Event AdminCancelMaintenance _nodeId _agentMgr pullAgentOutMaintenance hostId
hostId HostVO host _hostDao findById hostId host
hostId HostVO host _hostDao findById hostId host
hostId String groupName String vgpuType List HostGpuGroupsVO gpuDeviceList listAvailableGPUDevice hostId groupName vgpuType gpuDeviceList String errorMsg hostId groupName vgpuType
hostId PlannerHostReservationVO reservationEntry _plannerHostReserveDao findByHostId hostId reservationEntry id reservationEntry getId PlannerHostReservationVO hostReservation _plannerHostReserveDao lockRow id hostReservation
PlannerHostReservationVO reservationEntry _plannerHostReserveDao findByHostId hostId reservationEntry id reservationEntry getId PlannerHostReservationVO hostReservation _plannerHostReserveDao lockRow id hostReservation s_logger s_logger debug hostId hostReservation setResourceUsage _plannerHostReserveDao persist hostReservation s_logger
PlannerHostReservationVO hostReservation _plannerHostReserveDao lockRow id hostReservation s_logger s_logger debug hostId hostReservation setResourceUsage _plannerHostReserveDao persist hostReservation s_logger s_logger debug hostId e e
host host String message host getUuid
Boolean Boolean String cluster host Boolean Pair Boolean String capacityCheckBeforeMaintenance performCapacityChecksBeforeHostInMaintenance host cluster capacityCheckBeforeMaintenance String errorMsg host getUuid capacityCheckBeforeMaintenance second
timeout String payload Boolean forced String host Ternary Boolean String Boolean result performStageOnHost host Stage PreFlight timeout payload forced result host
Pair String Host host cluster List HostVO hosts hostDao findByClusterId cluster getId List Host hostsInCluster hosts stream filter x x getId host getId x getClusterId equals cluster getId x getResourceState ResourceState Enabled x getStatus Status Up collect Collectors toList hostsInCluster CloudRuntimeException cluster getUuid cluster getName host getUuid host getName List VMInstanceVO vmsRunning vmInstanceDao listByHostId host getId vmsRunning Pair List String hostTags hostTagsDao gethostTags host getId sucessfullyCheckedVmMigrations VMInstanceVO runningVM vmsRunning canMigrateVm ServiceOfferingVO serviceOffering serviceOfferingDao findById runningVM getServiceOfferingId Host hostsInCluster hostTags hostTagsDao gethostTags getId serviceOffering
Pair List String hostTags hostTagsDao gethostTags host getId sucessfullyCheckedVmMigrations runningVM canMigrateVm ServiceOfferingVO serviceOffering serviceOfferingDao findById runningVM getServiceOfferingId hostInCluster hostTags hostTagsDao gethostTags hostInCluster getId serviceOffering s_logger debug host getUuid hostInCluster getUuid DeployDestination deployDestination DeployDestination host VirtualMachineProfileImpl vmProfile VirtualMachineProfileImpl runningVM affinityChecks affinityProcessor affinityChecks affinityChecks affinityProcessor check vmProfile deployDestination
domainId project getDomainId domainId account getDomainId domainId DomainVO domain _domainDao findById domainId domainId Domain domainResourceLimit findCorrectResourceLimitForDomain domain type currentDomainResourceCount _resourceCountDao getResourceCount domainId ResourceOwnerType Domain type requestedDomainResourceCount currentDomainResourceCount numResources String messageSuffix type domainId toHumanReadableSize domainResourceLimit toHumanReadableSize currentDomainResourceCount toHumanReadableSize numResources s_logger s_logger debug messageSuffix domainResourceLimit requestedDomainResourceCount domainResourceLimit String message messageSuffix ResourceAllocationException e ResourceAllocationException message type
currentResourceCount _resourceCountDao getResourceCount account getId ResourceOwnerType Account type requestedResourceCount currentResourceCount numResources String convertedAccountResourceLimit String valueOf accountResourceLimit String convertedCurrentResourceCount String valueOf currentResourceCount String convertedNumResources String valueOf numResources type type convertedAccountResourceLimit toHumanReadableSize accountResourceLimit convertedCurrentResourceCount toHumanReadableSize currentResourceCount convertedNumResources toHumanReadableSize numResources String messageSuffix type project account getAccountName project getName account getDomainId convertedAccountResourceLimit convertedCurrentResourceCount convertedNumResources s_logger s_logger debug messageSuffix accountResourceLimit requestedResourceCount accountResourceLimit String message messageSuffix ResourceAllocationException e ResourceAllocationException message type
type type convertedDelta toHumanReadableSize delta s_logger debug type accountId increment convertedDelta result List ResourceCountVO rowsToUpdate lockAccountAndOwnerDomainRows accountId type ResourceCountVO rowToUpdate rowsToUpdate rowToUpdate increment delta s_logger trace rowToUpdate result result
String resouce rs1 getString resouce resouce resouce resouce resouce resouce pvdriverversion _configDao getValueAndInitIfNotExist Config XenServerPVdriverVersion key Config XenServerPVdriverVersion getCategory pvdriverversion Config XenServerPVdriverVersion getDescription sql pstmt txn prepareAutoCloseStatement sql rs2 pstmt executeQuery List Long tmpl_ids ArrayList Long rs2 tmpl_ids add rs2 getLong Long tmpl_id tmpl_ids templateDetailsInitIfNotExist tmpl_id pvdriverversion
_configDao getValue String already _configDao getValue already TransactionLegacy txn TransactionLegacy currentTxn String rpassword _mgrService generateRandomPassword String wSql PreparedStatement stmt txn prepareAutoCloseStatement wSql stmt setString DBEncryptionUtil encrypt rpassword stmt executeUpdate s_logger info
privkeyfile File homeDir pubkeyfile File homeDir s_logger s_logger info onWindows isOnWindows onWindows Script runSimpleBashScript privkeyfile privkeyfile privkeyfile privkeyfile String privateKey String publicKey privateKey String Files readAllBytes privkeyfile toPath e s_logger error e
accountExpectedCount accountSupportedResourceTypes size domainExpectedCount domainSupportedResourceTypes size size domainExpectedCount size s_logger debug domain _domainDao lockRow domain getId List ResourceCountVO domainCounts _resourceCountDao listByOwnerId domain getId ResourceOwnerType Domain List String domainCountStr ArrayList String ResourceCountVO domainCount domainCounts domainCountStr add domainCount getType toString domainCountStr size domainExpectedCount domainSupportedResourceTypes domainCountStr toString
resourceType toString ResourceCountVO resourceCountVO ResourceCountVO resourceType domain getId ResourceOwnerType Domain s_logger debug resourceType domain getId _resourceCountDao persist resourceCountVO s_logger debug account _accountDao lockRow account getId List ResourceCountVO accountCounts _resourceCountDao listByOwnerId account getId ResourceOwnerType Account List String accountCountStr ArrayList String ResourceCountVO accountCount accountCounts accountCountStr add accountCount getType toString
s_logger s_logger debug PermissionDeniedException VMInstanceVO vm _vmInstanceDao findById vmId vm InvalidParameterValueException ex InvalidParameterValueException ex vm s_logger s_logger debug vm InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject vm getUuid ex UserVmDetailVO userVmDetailVO _UserVmDetailsDao findDetail vm getId ApiConstants BootType UEFI toString userVmDetailVO
VMInstanceVO vm _vmInstanceDao findById vmId vm InvalidParameterValueException ex InvalidParameterValueException ex vm s_logger s_logger debug vm InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject vm getUuid ex UserVmDetailVO userVmDetailVO _UserVmDetailsDao findDetail vm getId ApiConstants BootType UEFI toString userVmDetailVO s_logger info vm getInstanceName userVmDetailVO userVmDetailVO Ternary Pair List Host Integer List Host Map Host Boolean Pair List Host Integer ArrayList HostVO Integer ArrayList Host HashMap Host Boolean
ex vm s_logger s_logger debug vm InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject vm getUuid ex UserVmDetailVO userVmDetailVO _UserVmDetailsDao findDetail vm getId ApiConstants BootType UEFI toString userVmDetailVO s_logger info vm getInstanceName userVmDetailVO userVmDetailVO Ternary Pair List Host Integer List Host Map Host Boolean Pair List Host Integer ArrayList HostVO Integer ArrayList Host HashMap Host Boolean findDetail vm toString s_logger info vm getInstanceName Ternary Pair List Host Integer List Host Map Host Boolean Pair List Host Integer ArrayList HostVO Integer ArrayList Host HashMap Host Boolean
ex UserVmDetailVO userVmDetailVO _UserVmDetailsDao findDetail vm getId ApiConstants BootType UEFI toString userVmDetailVO s_logger info vm getInstanceName userVmDetailVO userVmDetailVO Ternary Pair List Host Integer List Host Map Host Boolean Pair List Host Integer ArrayList HostVO Integer ArrayList Host HashMap Host Boolean findDetail vm toString s_logger info vm getInstanceName Ternary Pair List Host Integer List Host Map Host Boolean Pair List Host Integer ArrayList HostVO Integer ArrayList Host HashMap Host Boolean vm vm vm vm vm vm vm vm s_logger s_logger debug vm InvalidParameterValueException vm vm InvalidParameterValueException
srcHost getClusterId host getClusterId requiresStorageMotion put host plan DataCenterDeployment srcHost getDataCenterId Long cluster srcHost getClusterId s_logger s_logger debug cluster vm allHostsPair searchForServers startIndex pageSize hostType cluster keyword allHosts allHostsPair first allHosts remove srcHost plan DataCenterDeployment srcHost getDataCenterId srcHost getPodId srcHost getClusterId Pair List Host Integer otherHosts Pair List Host Integer allHosts allHostsPair second List Host suitableHosts ArrayList Host
PermissionDeniedException VolumeVO volume _volumeDao findById volumeId volume InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject volumeId toString ex List StoragePool allPools ArrayList StoragePool List StoragePool suitablePools ArrayList StoragePool volume s_logger info volume Pair List StoragePool List StoragePool allPools suitablePools Long instanceId volume getInstanceId VMInstanceVO vm instanceId vm _vmInstanceDao findById instanceId
VolumeVO volume _volumeDao findById volumeId volume InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject volumeId toString ex List StoragePool allPools ArrayList StoragePool List StoragePool suitablePools ArrayList StoragePool volume s_logger info volume Pair List StoragePool List StoragePool allPools suitablePools Long instanceId volume getInstanceId VMInstanceVO vm instanceId vm _vmInstanceDao findById instanceId vm
InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject volumeId toString ex List StoragePool allPools ArrayList StoragePool List StoragePool suitablePools ArrayList StoragePool volume s_logger info volume Pair List StoragePool List StoragePool allPools suitablePools Long instanceId volume getInstanceId VMInstanceVO vm instanceId vm _vmInstanceDao findById instanceId vm s_logger info volume vm
Long instanceId volume getInstanceId VMInstanceVO vm instanceId vm _vmInstanceDao findById instanceId vm s_logger info volume vm s_logger info volume s_logger info volume storageMotionSupported Long hostId vm getHostId hostId HostVO host _hostDao findById hostId HypervisorCapabilitiesVO capabilities
vm _vmInstanceDao findById instanceId vm s_logger info volume vm s_logger info volume s_logger info volume storageMotionSupported Long hostId vm getHostId hostId HostVO host _hostDao findById hostId HypervisorCapabilitiesVO capabilities host capabilities _hypervisorCapabilitiesDao findByHypervisorTypeAndVersion host getHypervisorType host getHypervisorVersion
vm s_logger info volume vm s_logger info volume s_logger info volume storageMotionSupported Long hostId vm getHostId hostId HostVO host _hostDao findById hostId HypervisorCapabilitiesVO capabilities host capabilities _hypervisorCapabilitiesDao findByHypervisorTypeAndVersion host getHypervisorType host getHypervisorVersion s_logger error vm volume
request s_logger info request
command List HostVO hosts _resourceMgr listAllHostsInCluster command getClusterId HostVO hosts
String String encodedPassword UserVO adminUser _userDao getUser adminUser String msg
String String configs _executor Executors newScheduledThreadPool NamedThreadFactory hostStatsInterval NumbersUtil parseLong configs get ONE_MINUTE_IN_MILLISCONDS hostAndVmStatsInterval NumbersUtil parseLong configs get ONE_MINUTE_IN_MILLISCONDS storageStatsInterval NumbersUtil parseLong configs get ONE_MINUTE_IN_MILLISCONDS volumeStatsInterval NumbersUtil parseLong configs get ONE_MINUTE_IN_MILLISCONDS autoScaleStatsInterval NumbersUtil parseLong configs get ONE_MINUTE_IN_MILLISCONDS String statsUri statsOutputUri value statsUri URI uri URI statsUri externalStatsScheme uri getScheme externalStatsType ExternalStatsProtocol valueOf externalStatsScheme toUpperCase
externalStatsType ExternalStatsProtocol valueOf externalStatsScheme toUpperCase s_logger error externalStatsScheme uri getHost externalStatsHost uri getHost externalStatsPort retrieveExternalStatsPortFromUri uri databaseName configureDatabaseName uri uri getPath externalStatsPrefix uri getPath substring externalStatsPrefix externalStatsPrefix externalStatsPrefix
externalStatsPrefix e s_logger error e hostStatsInterval _executor scheduleWithFixedDelay HostCollector hostStatsInterval TimeUnit MILLISECONDS hostAndVmStatsInterval _executor scheduleWithFixedDelay VmStatsCollector hostAndVmStatsInterval TimeUnit MILLISECONDS storageStatsInterval _executor scheduleWithFixedDelay StorageCollector storageStatsInterval TimeUnit MILLISECONDS autoScaleStatsInterval _executor scheduleWithFixedDelay AutoScaleMonitor autoScaleStatsInterval TimeUnit MILLISECONDS vmDiskStatsInterval value vmDiskStatsInterval value vmDiskStatsIntervalMin value s_logger debug vmDiskStatsInterval value vmDiskStatsIntervalMin value
text text text isEmpty text Cipher cipher Cipher getInstance SecretKeySpec keySpec SecretKeySpec keyIvPair getKeyBytes cipher init Cipher ENCRYPT_MODE keySpec IvParameterSpec keyIvPair getIvBytes encryptedBytes cipher doFinal text getBytes Base64 encodeBase64URLSafeString encryptedBytes e s_logger error e e s_logger error e e
Cipher cipher Cipher getInstance SecretKeySpec keySpec SecretKeySpec keyIvPair getKeyBytes cipher init Cipher ENCRYPT_MODE keySpec IvParameterSpec keyIvPair getIvBytes encryptedBytes cipher doFinal text getBytes Base64 encodeBase64URLSafeString encryptedBytes e s_logger error e e s_logger error e e s_logger error e e
encryptedBytes cipher doFinal text getBytes Base64 encodeBase64URLSafeString encryptedBytes e s_logger error e e s_logger error e e s_logger error e e s_logger error e e
e s_logger error e e s_logger error e e s_logger error e e s_logger error e e s_logger error e
String String encryptedText encryptedText encryptedText isEmpty encryptedText Cipher cipher Cipher getInstance SecretKeySpec keySpec SecretKeySpec keyIvPair getKeyBytes cipher init Cipher DECRYPT_MODE keySpec IvParameterSpec keyIvPair getIvBytes encryptedBytes Base64 decodeBase64 encryptedText String cipher doFinal encryptedBytes e s_logger error e e s_logger error e e
Cipher cipher Cipher getInstance SecretKeySpec keySpec SecretKeySpec keyIvPair getKeyBytes cipher init Cipher DECRYPT_MODE keySpec IvParameterSpec keyIvPair getIvBytes encryptedBytes Base64 decodeBase64 encryptedText String cipher doFinal encryptedBytes e s_logger error e e s_logger error e e s_logger error e e
encryptedBytes Base64 decodeBase64 encryptedText String cipher doFinal encryptedBytes e s_logger error e e s_logger error e e s_logger error e e s_logger error e e
e s_logger error e e s_logger error e e s_logger error e e s_logger error e e s_logger error e
HostVO host _ms getHostBy vm getHostId host s_logger warn vmId sendResponse resp String rootUrl _ms getConsoleAccessUrlRoot vmId rootUrl sendResponse resp w DEFAULT_THUMBNAIL_WIDTH h DEFAULT_THUMBNAIL_HEIGHT String value req getParameter w Integer parseInt value
sendResponse resp String rootUrl _ms getConsoleAccessUrlRoot vmId rootUrl sendResponse resp w DEFAULT_THUMBNAIL_WIDTH h DEFAULT_THUMBNAIL_HEIGHT String value req getParameter w Integer parseInt value s_logger info value value req getParameter
sendResponse resp w DEFAULT_THUMBNAIL_WIDTH h DEFAULT_THUMBNAIL_HEIGHT String value req getParameter w Integer parseInt value s_logger info value value req getParameter h Integer parseInt value s_logger info value
vm sendResponse resp String rootUrl _ms getConsoleAccessUrlRoot vmId rootUrl sendResponse resp String vmName vm getHostName vm UserVm userVm _entityMgr findById UserVm vmId String displayName userVm getDisplayName displayName displayName displayName vmName vmName displayName StringBuffer sb StringBuffer
String String String String String host String tunnelUrl String tunnelSession
ConsoleProxyPasswordBasedEncryptor encryptor ConsoleProxyPasswordBasedEncryptor getEncryptorPassword ConsoleProxyClientParam param ConsoleProxyClientParam param setClientHostAddress parsedHostInfo first param setClientHostPort portInfo second param setClientHostPassword sid param setClientTag tag param setTicket ticket portInfo second param setHypervHost host param setUsername _ms findDetail hostVo getId getValue param setPassword _ms findDetail hostVo getId getValue parsedHostInfo second parsedHostInfo third param setClientTunnelUrl parsedHostInfo second param setClientTunnelSession parsedHostInfo third sb append encryptor encryptObject ConsoleProxyClientParam param
param setClientHostPort port param setClientHostPassword sid param setClientTag tag param setTicket ticket details param setLocale details getValue second param setHypervHost host param setUsername _ms findDetail hostVo getId getValue param setPassword _ms findDetail hostVo getId getValue parsedHostInfo second parsedHostInfo third param setClientTunnelUrl parsedHostInfo second param setClientTunnelSession parsedHostInfo third param sb append encryptor encryptObject ConsoleProxyClientParam param
vmId VirtualMachine vm _vmMgr findById vmId vm
vmId accountObj VirtualMachine vm _vmMgr findById vmId vm s_logger debug vmId _accountMgr isRootAdmin accountObj getId vm _accountMgr checkAccess accountObj vm _accountMgr accountObj getId s_logger s_logger debug vm getAccountId accountObj getId _accountMgr accountObj getId accountObj s_logger
unsignedRequest unsignedRequest paramName URLEncoder encode paramValue replaceAll unsignedRequest unsignedRequest paramName URLEncoder encode paramValue replaceAll signature apiKey s_logger s_logger debug signature apiKey TransactionLegacy txn TransactionLegacy open TransactionLegacy CLOUD_DB txn close User user Pair User Account userAcctPair _accountMgr findUserByApiKey apiKey userAcctPair s_logger debug apiKey
clusterName hosts PrepareOCFS2NodesCommand cmd PrepareOCFS2NodesCommand clusterName marshalNodes hosts h hosts Answer ans _agentMgr easySend h getId cmd ans
String errMsg String format host getId host getDataCenterId host getPodId host getClusterId host hasOcfs2 List StoragePoolHostVO poolRefs _poolHostDao listByHostId host getId StoragePoolHostVO poolRef poolRefs StoragePoolVO pool _poolDao findById poolRef getPoolId pool hasOcfs2 hasOcfs2 host getClusterId s_logger warn errMsg
String Map String params Map String String configs _configDao getConfiguration params _storagePoolAcquisitionWaitSeconds NumbersUtil parseInt configs get
isLocal useLocalStorageForSystemVM isLocal booleanValue useLocalStorageForSystemVM DataStore store String hostAddress pInfo getHost host hostAddress pInfo getHostPath StoragePoolVO pool _storagePoolDao findPoolByHostPath host getDataCenterId host getPodId hostAddress pInfo getHostPath pInfo getUuid pool host pInfo getHostPath pool _storagePoolDao findPoolByHostPath host getDataCenterId host getPodId hostAddress pInfo getUuid pool pool _storagePoolDao findPoolByHostPath host getDataCenterId host getPodId hostAddress pInfo getUuid
hostId String iScsiName storagePool Map String String details HashMap details put DeleteStoragePoolCommand DATASTORE_NAME iScsiName details put DeleteStoragePoolCommand IQN iScsiName details put DeleteStoragePoolCommand STORAGE_HOST storagePool getHostAddress details put DeleteStoragePoolCommand STORAGE_PORT String valueOf storagePool getPort DeleteStoragePoolCommand cmd DeleteStoragePoolCommand cmd setDetails details cmd setRemoveDatastore Answer answer _agentMgr easySend hostId cmd answer answer String errMsg StringUtils isNotBlank answer getDetails answer getDetails
sPool s_logger warn id InvalidParameterValueException id Pair Long Long vlms _volsDao getCountAndTotalByPool id vlms Pair Long Long nonDstrdVlms _volsDao getNonDestroyedCountAndTotalByPool id nonDstrdVlms CloudRuntimeException sPool getName List VolumeVO vols _volsDao listVolumesToBeDestroyed VolumeVO vol vols AsyncCallFuture VolumeApiResult future volService expungeVolumeAsync volFactory getVolume vol getId future get
s_logger warn id InvalidParameterValueException id Pair Long Long vlms _volsDao getCountAndTotalByPool id vlms Pair Long Long nonDstrdVlms _volsDao getNonDestroyedCountAndTotalByPool id nonDstrdVlms CloudRuntimeException sPool getName List VolumeVO vols _volsDao listVolumesToBeDestroyed VolumeVO vol vols AsyncCallFuture VolumeApiResult future volService expungeVolumeAsync volFactory getVolume vol getId future get e s_logger debug vol getId e
CloudRuntimeException sPool getName List VolumeVO vols _volsDao listVolumesToBeDestroyed VolumeVO vol vols AsyncCallFuture VolumeApiResult future volService expungeVolumeAsync volFactory getVolume vol getId future get e s_logger debug vol getId e e s_logger debug vol getId e CloudRuntimeException sPool getName StoragePoolVO lock _storagePoolDao acquireInLockTable sPool getId
storagePool capacityType SearchCriteria CapacityVO capacitySC _capacityDao createSearchCriteria capacitySC addAnd SearchCriteria Op EQ storagePool getId capacitySC addAnd SearchCriteria Op EQ storagePool getDataCenterId capacitySC addAnd SearchCriteria Op EQ capacityType List CapacityVO capacities _capacityDao search capacitySC totalOverProvCapacity storagePool BigDecimal overProvFactor getStorageOverProvisioningFactor storagePool getId totalOverProvCapacity overProvFactor multiply BigDecimal storagePool getCapacityBytes longValue
storagePool capacityType SearchCriteria CapacityVO capacitySC _capacityDao createSearchCriteria capacitySC addAnd SearchCriteria Op EQ storagePool getId capacitySC addAnd SearchCriteria Op EQ storagePool getDataCenterId capacitySC addAnd SearchCriteria Op EQ capacityType List CapacityVO capacities _capacityDao search capacitySC totalOverProvCapacity storagePool getPoolType BigDecimal overProvFactor getStorageOverProvisioningFactor storagePool getId totalOverProvCapacity overProvFactor multiply BigDecimal storagePool getCapacityBytes longValue s_logger debug storagePool getName storagePool getPoolType toString overProvFactor toString
storagePool List StoragePoolHostVO stoargePoolHostVO _storagePoolHostDao listByPoolId storagePool getId stoargePoolHostVO stoargePoolHostVO HostVO host _hostDao findById stoargePoolHostVO get getHostId host capacityState host getResourceState ResourceState Disabled CapacityState Disabled CapacityState Enabled capacities CapacityVO capacity CapacityVO storagePool getId storagePool getDataCenterId storagePool getPodId storagePool getClusterId allocated totalOverProvCapacity capacityType capacity setCapacityState capacityState _capacityDao persist capacity CapacityVO capacity capacities get capacity totalOverProvCapacity allocated capacity capacity capacityState capacity setTotalCapacity totalOverProvCapacity capacity setUsedCapacity allocated
hostIds hostIdsToTryFirst i hostIds add hostIdsToTryFirst i hostIdsToAvoid hostIds removeAll hostIdsToAvoid hostIds hostIds StorageUnavailableException pool getId pool getId Long hostId hostIds List Answer answers ArrayList Answer Command cmdArray cmds toCommands Command cmd cmdArray targetHostId _hvGuruMgr getGuruProcessedCommandTargetHost hostId cmd answers add _agentMgr send targetHostId cmd Pair Long Answer hostId answers toArray Answer answers size
hostIdsToAvoid hostIds removeAll hostIdsToAvoid hostIds hostIds StorageUnavailableException pool getId pool getId Long hostId hostIds List Answer answers ArrayList Answer Command cmdArray cmds toCommands Command cmd cmdArray targetHostId _hvGuruMgr getGuruProcessedCommandTargetHost hostId cmd answers add _agentMgr send targetHostId cmd Pair Long Answer hostId answers toArray Answer answers size e s_logger debug pool hostId e e
GlobalLock scanLock GlobalLock getInternLock scanLock List StoragePoolVO storagePools _storagePoolDao listAll StoragePoolVO pool storagePools List VMTemplateStoragePoolVO unusedTemplatesInPool _tmpltMgr getUnusedTemplatesInPool pool
GlobalLock scanLock GlobalLock getInternLock scanLock List StoragePoolVO storagePools _storagePoolDao listAll StoragePoolVO pool storagePools List VMTemplateStoragePoolVO unusedTemplatesInPool _tmpltMgr getUnusedTemplatesInPool pool s_logger debug unusedTemplatesInPool size pool getName VMTemplateStoragePoolVO unusedTemplatesInPool
List StoragePoolVO storagePools _storagePoolDao listAll StoragePoolVO pool storagePools List VMTemplateStoragePoolVO unusedTemplatesInPool _tmpltMgr getUnusedTemplatesInPool pool s_logger debug unusedTemplatesInPool size pool getName VMTemplateStoragePoolVO templatePoolVO unusedTemplatesInPool templatePoolVO s_logger debug templatePoolVO getTemplateId templatePoolVO getPoolId templatePoolVO templatePoolVO setMarkedForGC _vmTemplatePoolDao update templatePoolVO getId templatePoolVO
s_logger debug templatePoolVO getTemplateId templatePoolVO getPoolId templatePoolVO templatePoolVO setMarkedForGC _vmTemplatePoolDao update templatePoolVO getId templatePoolVO s_logger debug templatePoolVO getTemplateId templatePoolVO getPoolId _tmpltMgr evictTemplateFromStoragePool templatePoolVO e s_logger warn pool e List SnapshotDataStoreVO ssSnapshots _snapshotStoreDao listByState ObjectInDataStoreStateMachine State Destroying SnapshotDataStoreVO ssSnapshotVO ssSnapshots _snapshotService deleteSnapshot snapshotFactory getSnapshot ssSnapshotVO getSnapshotId DataStoreRole Image e
s_logger warn pool e List SnapshotDataStoreVO ssSnapshots _snapshotStoreDao listByState ObjectInDataStoreStateMachine State Destroying SnapshotDataStoreVO ssSnapshotVO ssSnapshots _snapshotService deleteSnapshot snapshotFactory getSnapshot ssSnapshotVO getSnapshotId DataStoreRole Image e s_logger debug ssSnapshotVO getId cleanupSecondaryStorage recurring List VolumeVO vols _volsDao listVolumesToBeDestroyed Date System currentTimeMillis StorageCleanupDelay value VolumeVO vol vols handleManagedStorage vol e s_logger warn vol getUuid e
e s_logger warn vol getUuid e List SnapshotVO snapshots _snapshotDao listAllByStatus Snapshot State Error SnapshotVO snapshotVO snapshots List SnapshotDataStoreVO storeRefs _snapshotStoreDao findBySnapshotId snapshotVO getId SnapshotDataStoreVO ref storeRefs _snapshotStoreDao expunge ref getId _snapshotDao expunge snapshotVO getId e s_logger warn snapshotVO getUuid e List VolumeDataStoreVO volumeDataStores _volumeDataStoreDao listByVolumeState Volume State UploadError Volume State UploadAbandoned VolumeDataStoreVO volumeDataStore volumeDataStores VolumeVO volume _volumeDao findById volumeDataStore getVolumeId volume
List DataStore imageStores _dataStoreMgr getImageStoresByScope ZoneScope DataStore store imageStores storeId store getId List TemplateDataStoreVO destroyedTemplateStoreVOs _templateStoreDao listDestroyed storeId
List DataStore imageStores _dataStoreMgr getImageStoresByScope ZoneScope DataStore store imageStores storeId store getId List TemplateDataStoreVO destroyedTemplateStoreVOs _templateStoreDao listDestroyed storeId s_logger debug destroyedTemplateStoreVOs size store getName TemplateDataStoreVO destroyedTemplateStoreVOs s_logger
List DataStore imageStores _dataStoreMgr getImageStoresByScope ZoneScope DataStore store imageStores storeId store getId List TemplateDataStoreVO destroyedTemplateStoreVOs _templateStoreDao listDestroyed storeId s_logger debug destroyedTemplateStoreVOs size store getName TemplateDataStoreVO destroyedTemplateStoreVO destroyedTemplateStoreVOs s_logger s_logger debug destroyedTemplateStoreVO _templateStoreDao remove destroyedTemplateStoreVO getId e s_logger warn store getName e DataStore store imageStores List SnapshotDataStoreVO destroyedSnapshotStoreVOs _snapshotStoreDao listDestroyed store getId
List TemplateDataStoreVO destroyedTemplateStoreVOs _templateStoreDao listDestroyed storeId s_logger debug destroyedTemplateStoreVOs size store getName TemplateDataStoreVO destroyedTemplateStoreVO destroyedTemplateStoreVOs s_logger s_logger debug destroyedTemplateStoreVO _templateStoreDao remove destroyedTemplateStoreVO getId e s_logger warn store getName e store List SnapshotDataStoreVO destroyedSnapshotStoreVOs _snapshotStoreDao listDestroyed store getId s_logger debug destroyedSnapshotStoreVOs size store getName SnapshotDataStoreVO destroyedSnapshotStoreVO destroyedSnapshotStoreVOs SnapshotInfo snap snapshotFactory getSnapshot destroyedSnapshotStoreVO getSnapshotId store snap
s_logger s_logger debug destroyedTemplateStoreVO _templateStoreDao remove destroyedTemplateStoreVO getId e s_logger warn store getName e store List SnapshotDataStoreVO destroyedSnapshotStoreVOs _snapshotStoreDao listDestroyed store getId s_logger debug destroyedSnapshotStoreVOs size store getName SnapshotDataStoreVO destroyedSnapshotStoreVO destroyedSnapshotStoreVOs SnapshotInfo snap snapshotFactory getSnapshot destroyedSnapshotStoreVO getSnapshotId store snap s_logger debug destroyedSnapshotStoreVO s_logger
e s_logger warn store getName e store List SnapshotDataStoreVO destroyedSnapshotStoreVOs _snapshotStoreDao listDestroyed store getId s_logger debug destroyedSnapshotStoreVOs size store getName SnapshotDataStoreVO destroyedSnapshotStoreVO destroyedSnapshotStoreVOs SnapshotInfo snap snapshotFactory getSnapshot destroyedSnapshotStoreVO getSnapshotId store snap s_logger debug destroyedSnapshotStoreVO s_logger s_logger debug destroyedSnapshotStoreVO _snapshotDao remove destroyedSnapshotStoreVO getSnapshotId SnapshotDataStoreVO snapshotOnPrimary _snapshotStoreDao findDestroyedReferenceBySnapshot destroyedSnapshotStoreVO getSnapshotId DataStoreRole Primary
s_logger debug destroyedSnapshotStoreVOs size store getName SnapshotDataStoreVO destroyedSnapshotStoreVO destroyedSnapshotStoreVOs SnapshotInfo snap snapshotFactory getSnapshot destroyedSnapshotStoreVO getSnapshotId store snap s_logger debug destroyedSnapshotStoreVO s_logger s_logger debug destroyedSnapshotStoreVO _snapshotDao remove destroyedSnapshotStoreVO getSnapshotId SnapshotDataStoreVO snapshotOnPrimary _snapshotStoreDao findDestroyedReferenceBySnapshot destroyedSnapshotStoreVO getSnapshotId DataStoreRole Primary snapshotOnPrimary s_logger s_logger debug snapshotOnPrimary _snapshotStoreDao remove snapshotOnPrimary getId _snapshotStoreDao remove destroyedSnapshotStoreVO getId
primaryStorageId StoragePoolVO primaryStorage primaryStorage _storagePoolDao findById primaryStorageId primaryStorage String msg
cmd Long primaryStorageId cmd getId StoragePoolVO primaryStorage primaryStorage _storagePoolDao findById primaryStorageId primaryStorage String msg
InvalidParameterValueException URI cifsUri URI newUrl String warnMsg UriUtils getCifsUriParametersProblems cifsUri warnMsg InvalidParameterValueException warnMsg InvalidParameterValueException newUrl String oldUrl secHost getStorageUrl URI oldUri oldUri URI UriUtils encodeURIComponent oldUrl oldUri
pool StatsCollector sc StatsCollector getInstance storageUsedThreshold CapacityManager StorageCapacityDisableThreshold valueIn pool getDataCenterId sc totalSize pool getCapacityBytes StorageStats stats sc getStoragePoolStats pool getId stats stats sc getStorageStats pool getId stats usedPercentage stats getByteUsed totalSize s_logger s_logger debug pool getId toHumanReadableSize pool getCapacityBytes toHumanReadableSize stats getByteUsed usedPercentage storageUsedThreshold usedPercentage storageUsedThreshold s_logger
s_logger s_logger debug pool getId StoragePoolVO poolVO _storagePoolDao findById pool getId allocatedSizeWithTemplate _capacityMgr getAllocatedPoolCapacity poolVO totalAskingSize volume VolumeVO volumeVO _volumeDao findById volume getId volumeVO volService updateHypervisorSnapshotReserveForVolume getDiskOfferingVO volumeVO volumeVO getId getHypervisorType volumeVO volumeVO _volumeDao findById volume getId volume getTemplateId VMTemplateVO tmpl _templateDao findByIdIncludingRemoved volume getTemplateId tmpl tmpl allocatedSizeWithTemplate _capacityMgr getAllocatedPoolCapacity poolVO tmpl
pool StoragePoolVO poolVO _storagePoolDao findById pool getId totalOverProvCapacity pool BigDecimal overProvFactor getStorageOverProvisioningFactor pool getId totalOverProvCapacity overProvFactor multiply BigDecimal pool getCapacityBytes longValue
pool StoragePoolVO poolVO _storagePoolDao findById pool getId totalOverProvCapacity pool getPoolType BigDecimal overProvFactor getStorageOverProvisioningFactor pool getId totalOverProvCapacity overProvFactor multiply BigDecimal pool getCapacityBytes longValue s_logger debug poolVO getName pool getPoolType toString overProvFactor toString
pool getPoolType BigDecimal overProvFactor getStorageOverProvisioningFactor pool getId totalOverProvCapacity overProvFactor multiply BigDecimal pool getCapacityBytes longValue s_logger debug poolVO getName pool getPoolType toString overProvFactor toString s_logger debug overProvFactor toHumanReadableSize pool getCapacityBytes totalOverProvCapacity pool getCapacityBytes s_logger debug poolVO getName pool getPoolType toString s_logger debug poolVO getName pool getId toHumanReadableSize totalOverProvCapacity storageAllocatedThreshold CapacityManager StorageAllocatedCapacityDisableThreshold valueIn pool getDataCenterId s_logger s_logger debug pool getId toHumanReadableSize totalOverProvCapacity toHumanReadableSize allocatedSizeWithTemplate toHumanReadableSize totalAskingSize storageAllocatedThreshold usedPercentage allocatedSizeWithTemplate totalAskingSize totalOverProvCapacity usedPercentage storageAllocatedThreshold s_logger
s_logger debug overProvFactor toHumanReadableSize pool getCapacityBytes totalOverProvCapacity pool getCapacityBytes s_logger debug poolVO getName pool getPoolType toString s_logger debug poolVO getName pool getId toHumanReadableSize totalOverProvCapacity storageAllocatedThreshold CapacityManager StorageAllocatedCapacityDisableThreshold valueIn pool getDataCenterId s_logger s_logger debug pool getId toHumanReadableSize totalOverProvCapacity toHumanReadableSize allocatedSizeWithTemplate toHumanReadableSize totalAskingSize storageAllocatedThreshold usedPercentage allocatedSizeWithTemplate totalAskingSize totalOverProvCapacity usedPercentage storageAllocatedThreshold s_logger s_logger debug pool getId usedPercentage storageAllocatedThreshold totalOverProvCapacity allocatedSizeWithTemplate totalAskingSize s_logger
_volumeStoreDao expunge volumeOnImageStore getId th s_logger warn volumeOnImageStore getExtractUrl volumeOnImageStore getVolumeId th volumeId volumeId Volume volume _volumeDao findById volumeId volume volume Volume _volumeDao remove volumeId List TemplateDataStoreVO templatesOnImageStoreList _templateStoreDao listTemplateDownloadUrls TemplateDataStoreVO templateOnImageStore templatesOnImageStoreList downloadUrlCurrentAgeInSecs DateUtil getTimeDifference DateUtil now templateOnImageStore getExtractUrlCreated downloadUrlCurrentAgeInSecs
_accountMgr PermissionDeniedException zoneId url url InvalidParameterValueException UriUtils validateUrl format url s_logger debug url UriUtils checkUrlExistence url _resourceLimitMgr checkResourceLimit _accountMgr getAccount ownerId ResourceType secondary_storage UriUtils getRemoteSize url _resourceLimitMgr checkResourceLimit _accountMgr getAccount ownerId ResourceType secondary_storage ImageFormat valueOf format toUpperCase
cmd getSnapshotId volume createVolumeFromSnapshot volume cmd getSnapshotId cmd getVirtualMachineId volume created cmd getVirtualMachineId attachVolumeToVM cmd getVirtualMachineId volume getId volume getDeviceId ex StringBuilder message StringBuilder message append volume getUuid message append message append cmd getVirtualMachineId message append message append ex getMessage
volume VolumeInfo volOnPrimary volFactory getVolume volume getId DataStoreRole Primary volOnPrimary
volume VolumeInfo volOnSecondary volFactory getVolume volume getId DataStoreRole Image volOnSecondary
Volume volumeId caller VolumeVO volume retrieveAndValidateVolume volumeId caller Long userId caller getAccountId userId userId PermissionDeniedException volume Volume volume Volume InvalidParameterValueException destroyVolumeIfPossible volume volume Volume _volsDao remove volume getId stateTransitTo volume Volume Event DestroyRequested
volume InvalidParameterValueException volume _accountMgr PermissionDeniedException _accountMgr checkAccess caller volume volume Volume InvalidParameterValueException _resourceLimitMgr checkResourceLimit _accountMgr getAccount volume getAccountId ResourceType primary_storage volume isDisplayVolume volume getSize e s_logger error e InvalidParameterValueException e getMessage stateTransitTo volume Volume Event RecoverRequested e
HypervisorType volumeToAttachHyperType _volsDao getHypervisorType volumeToAttach getId VolumeInfo newVolumeOnPrimaryStorage volumeToAttach StoragePoolVO destPrimaryStorage exstingVolumeOfVm exstingVolumeOfVm getState Volume State destPrimaryStorage _storagePoolDao findById exstingVolumeOfVm getPoolId volumeOnSecondary volumeToAttach getState Volume State Uploaded destPrimaryStorage volumeToAttach getState Volume State volumeOnSecondary newVolumeOnPrimaryStorage _volumeMgr createVolumeOnPrimaryStorage vm volumeToAttach rootDiskHyperType destPrimaryStorage e s_logger debug e CloudRuntimeException e newVolumeOnPrimaryStorage volFactory getVolume newVolumeOnPrimaryStorage getId moveVolumeNeeded needMoveVolume exstingVolumeOfVm newVolumeOnPrimaryStorage moveVolumeNeeded
exstingVolumeOfVm exstingVolumeOfVm getState Volume State destPrimaryStorage _storagePoolDao findById exstingVolumeOfVm getPoolId volumeOnSecondary volumeToAttach getState Volume State Uploaded destPrimaryStorage volumeToAttach getState Volume State volumeOnSecondary newVolumeOnPrimaryStorage _volumeMgr createVolumeOnPrimaryStorage vm volumeToAttach rootDiskHyperType destPrimaryStorage e s_logger debug e CloudRuntimeException e newVolumeOnPrimaryStorage volFactory getVolume newVolumeOnPrimaryStorage getId moveVolumeNeeded needMoveVolume exstingVolumeOfVm newVolumeOnPrimaryStorage moveVolumeNeeded PrimaryDataStoreInfo primaryStore PrimaryDataStoreInfo newVolumeOnPrimaryStorage getDataStore primaryStore CloudRuntimeException volumeToAttach getName vm getDisplayName
diskOffering InvalidParameterValueException diskOffering getName List VMSnapshotVO vmSnapshots _vmSnapshotDao findByVm vmId vmSnapshots InvalidParameterValueException vm vm InvalidParameterValueException _accountMgr checkAccess caller volumeToAttach vm volumeToAttach volumeToAttach volumeToAttach InvalidParameterValueException Account owner _accountDao findById volumeToAttach getAccountId volumeToAttach volumeToAttach _resourceLimitMgr checkResourceLimit owner ResourceType primary_storage volumeToAttach getSize
vmId cmmd getVirtualMachineId _accountMgr checkAccess caller volume vmId InvalidParameterValueException UserVmVO vm _userVmDao findById vmId vm vm vm InvalidParameterValueException volume Volume Type ROOT volume Volume Type DATADISK InvalidParameterValueException Volume Type DATADISK toString Volume Type ROOT toString volume Volume Type ROOT validateRootVolumeDetachAttach volume vm List VMSnapshotVO vmSnapshots _vmSnapshotDao findByVm vmId vmSnapshots InvalidParameterValueException vm vm
volume destPool VolumeInfo vol volFactory getVolume volume getId DataStore dataStoreTarget dataStoreMgr getDataStore destPool getId DataStoreRole Primary AsyncCallFuture VolumeApiResult future volService migrateVolume vol dataStoreTarget VolumeApiResult result future get result
String mode cmd getMode Account account CallContext current getCallingAccount _accountMgr account PermissionDeniedException VolumeVO volume _volsDao findById volumeId volume InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject volumeId toString ex _accountMgr checkAccess account volume findById InvalidParameterValueException volume InvalidParameterValueException volume volume
String volumeId zoneId VolumeVO volume _volsDao findById volumeId volume volume InvalidParameterValueException ImageStoreEntity secStore ImageStoreEntity dataStoreMgr getImageStoreWithFreeCapacity zoneId secStore InvalidParameterValueException String format zoneId String value _configDao getValue Config CopyVolumeWait toString NumbersUtil parseInt value Integer parseInt Config CopyVolumeWait getDefaultValue VolumeInfo srcVol volFactory getVolume volumeId AsyncCallFuture VolumeApiResult cvAnswer volService copyVolume srcVol secStore VolumeApiResult cvResult cvResult cvAnswer get
InvalidParameterValueException ImageStoreEntity secStore ImageStoreEntity dataStoreMgr getImageStoreWithFreeCapacity zoneId secStore InvalidParameterValueException String format zoneId String value _configDao getValue Config CopyVolumeWait toString NumbersUtil parseInt value Integer parseInt Config CopyVolumeWait getDefaultValue VolumeInfo srcVol volFactory getVolume volumeId AsyncCallFuture VolumeApiResult cvAnswer volService copyVolume srcVol secStore VolumeApiResult cvResult cvResult cvAnswer get e1 s_logger debug e1 CloudRuntimeException e1 e1
DataTO volTO volFactory getVolume volumeToAttach getId getTO deviceId getDeviceId vm deviceId DiskTO disk storageMgr getDiskWithThrottling volTO volumeToAttach getVolumeType deviceId volumeToAttach getPath vm getServiceOfferingId volumeToAttach getDiskOfferingId AttachCommand cmd AttachCommand disk vm getInstanceName ChapInfo chapInfo volService getChapInfo volFactory getVolume volumeToAttach getId dataStore Map String String details HashMap String String disk setDetails details details put DiskTO MANAGED String valueOf volumeToAttachStoragePool isManaged details put DiskTO STORAGE_HOST volumeToAttachStoragePool getHostAddress details put DiskTO STORAGE_PORT String valueOf volumeToAttachStoragePool getPort details put DiskTO VOLUME_SIZE String valueOf volumeToAttach getSize details put DiskTO IQN volumeToAttach get_iScsiName details put DiskTO MOUNT_POINT volumeToAttach get_iScsiName details put DiskTO PROTOCOL_TYPE volumeToAttach getPoolType volumeToAttach getPoolType toString chapInfo
Account callingAccount context getCallingAccount VMInstanceVO vm _vmInstanceDao findById vmId VmWorkJobVO workJob VmWorkJobVO context getContextId workJob setDispatcher VmWorkConstants VM_WORK_JOB_DISPATCHER workJob setCmd VmWorkAttachVolume getName workJob setAccountId callingAccount getId workJob setUserId callingUser getId workJob setStep VmWorkJobVO Step Starting workJob setVmType VirtualMachine Type Instance workJob setVmInstanceId vm getId workJob setRelated AsyncJobExecutionContext getOriginJobId VmWorkAttachVolume workInfo VmWorkAttachVolume callingUser getId callingAccount getId vm getId VolumeApiServiceImpl VM_WORK_JOB_HANDLER volumeId deviceId workJob setCmdInfo VmWorkSerializer serialize workInfo _jobMgr submitAsyncJob workJob VmWorkConstants VM_WORK_QUEUE vm getId AsyncJobVO jobVo _jobMgr getAsyncJob workJob getId
agent List HypervisorType hypers _resourceMgr listAvailHypervisorInZone agent getId agent getDataCenterId HypervisorType hostHyper agent getHypervisorType hypers hostHyper _imageSrv handleSysTemplateDownload hostHyper agent getDataCenterId _imageSrv associateCrosszoneTemplatesToZone agent getDataCenterId List DataStore imageStores _storeMgr getImageStoresByScope ZoneScope agent getDataCenterId DataStore store imageStores _volumeSrv handleVolumeSync store _imageSrv handleTemplateSync store
List StoragePoolVO zoneStoragePoolsByTags _poolDao findZoneWideStoragePoolsByTags host getDataCenterId List StoragePoolVO zoneStoragePoolsByHypervisor _poolDao findZoneWideStoragePoolsByHypervisor host getDataCenterId scCmd getHypervisorType zoneStoragePoolsByTags retainAll zoneStoragePoolsByHypervisor pools addAll zoneStoragePoolsByTags List StoragePoolVO zoneStoragePoolsByAnyHypervisor _poolDao findZoneWideStoragePoolsByHypervisor host getDataCenterId HypervisorType Any pools addAll zoneStoragePoolsByAnyHypervisor StoragePoolVO pool pools pool pool pool pool ConnectionException pool getId Long hostId host getId
volume InvalidParameterValueException Long instanceId volume getInstanceId instanceId UserVmVO vm _vmDao findById instanceId vm vm InvalidParameterValueException List VMSnapshotVO vmSnapshots _vmSnapshotDao findByVm instanceId vmSnapshots InvalidParameterValueException DataStoreRole dataStoreRole getDataStoreRole snapshot _snapshotStoreDao dataStoreMgr SnapshotInfo snapshotInfo snapshotFactory getSnapshot snapshotId dataStoreRole snapshotInfo CloudRuntimeException snapshotId SnapshotStrategy snapshotStrategy _storageStrategyFactory getSnapshotStrategy snapshot SnapshotOperation REVERT
InvalidParameterValueException volume InvalidParameterValueException _accountMgr checkAccess CallContext current getCallingAccount volume SnapshotInfo snapshot snapshotFactory getSnapshot snapshotId DataStoreRole Primary snapshot s_logger debug CloudRuntimeException postCreateSnapshot volumeId snapshot getId policyId SnapshotVO freshSnapshot _snapshotDao findById snapshot getId freshSnapshot UsageEventUtils publishUsageEvent EventTypes EVENT_SNAPSHOT_CREATE snapshot getAccountId snapshot getDataCenterId snapshotId snapshot getName volume getSize snapshot getClass getName snapshot getUuid _resourceLimitMgr incrementResourceCount snapshotOwner getId ResourceType snapshot
snapshotStrategy s_logger error snapshotId DataStoreRole dataStoreRole getDataStoreRole snapshotCheck _snapshotStoreDao dataStoreMgr SnapshotDataStoreVO snapshotStoreRef _snapshotStoreDao findBySnapshot snapshotId dataStoreRole result snapshotStrategy deleteSnapshot snapshotId result snapshotCheck UsageEventUtils publishUsageEvent EventTypes EVENT_SNAPSHOT_DELETE snapshotCheck getAccountId snapshotCheck getDataCenterId snapshotId snapshotCheck getName snapshotCheck getClass getName snapshotCheck getUuid snapshotCheck snapshotCheck _resourceLimitMgr decrementResourceCount snapshotCheck getAccountId ResourceType snapshot snapshotCheck snapshotStoreRef _resourceLimitMgr decrementResourceCount snapshotCheck getAccountId ResourceType secondary_storage Long snapshotStoreRef getPhysicalSize
volume volume Long volumeId volume getId Long dcId volume getDataCenterId volumeId List DataStore ssHosts dataStoreMgr getImageStoresByScope ZoneScope dcId DataStore ssHost ssHosts String snapshotDir TemplateConstants DEFAULT_SNAPSHOT_ROOT_DIR accountId volumeId DeleteSnapshotsDirCommand cmd DeleteSnapshotsDirCommand ssHost getTO snapshotDir EndPoint ep _epSelector select ssHost Answer answer ep String errMsg
Long dcId volume getDataCenterId volumeId List DataStore ssHosts dataStoreMgr getImageStoresByScope ZoneScope dcId DataStore ssHost ssHosts String snapshotDir TemplateConstants DEFAULT_SNAPSHOT_ROOT_DIR accountId volumeId DeleteSnapshotsDirCommand cmd DeleteSnapshotsDirCommand ssHost getTO snapshotDir EndPoint ep _epSelector select ssHost Answer answer ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd
ssHost String snapshotDir TemplateConstants DEFAULT_SNAPSHOT_ROOT_DIR accountId volumeId DeleteSnapshotsDirCommand cmd DeleteSnapshotsDirCommand ssHost getTO snapshotDir EndPoint ep _epSelector select ssHost Answer answer ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd answer answer s_logger debug volumeId accountId success
ep String errMsg s_logger error errMsg answer Answer cmd errMsg answer ep sendMessage cmd answer answer s_logger debug volumeId accountId success answer s_logger warn volumeId ssHost getUri s_logger error answer getDetails List SnapshotVO snapshots listSnapsforVolume volumeId SnapshotVO snapshots
CreateSnapshotPayload payload CreateSnapshotPayload volume getpayload updateSnapshotPayload volume getPoolId payload Long snapshotId payload getSnapshotId Account snapshotOwner payload getAccount SnapshotInfo snapshot snapshotFactory getSnapshot snapshotId volume getDataStore snapshot addPayload payload SnapshotStrategy snapshotStrategy _storageStrategyFactory getSnapshotStrategy snapshot SnapshotOperation TAKE snapshotStrategy CloudRuntimeException snapshotId SnapshotInfo snapshotOnPrimary snapshotStrategy takeSnapshot snapshot backupSnapToSecondary BackupSnapshotAfterTakingSnapshot value BackupSnapshotAfterTakingSnapshot value backupSnapToSecondary backupSnapshotToSecondary payload getAsyncBackup snapshotStrategy snapshotOnPrimary
DataStoreRole dataStoreRole getDataStoreRole snapshot _snapshotStoreDao dataStoreMgr SnapshotDataStoreVO snapshotStoreRef _snapshotStoreDao findBySnapshot snapshotId dataStoreRole snapshotStoreRef snapshotStoreRef _snapshotStoreDao findBySnapshot snapshotId DataStoreRole Primary snapshotStoreRef CloudRuntimeException UsageEventUtils publishUsageEvent EventTypes EVENT_SNAPSHOT_CREATE snapshot getAccountId snapshot getDataCenterId snapshotId snapshot getName snapshotStoreRef getPhysicalSize volume getSize snapshot getClass getName snapshot getUuid _resourceLimitMgr decrementResourceCount snapshotOwner getId ResourceType secondary_storage Long volume getSize snapshotStoreRef getPhysicalSize e s_logger debug e CloudRuntimeException cre s_logger s_logger debug cre getLocalizedMessage _resourceLimitMgr decrementResourceCount snapshotOwner getId ResourceType snapshot _resourceLimitMgr decrementResourceCount snapshotOwner getId ResourceType secondary_storage Long volume getSize
List SnapshotVO snapshots _snapshotDao listAllByStatus Snapshot State Destroying SnapshotVO snapshots
Date policyId Date currentTimestamp SnapshotPolicyVO policy _snapshotPolicyDao findById policyId Date nextTimestamp policy intervalType policy getInterval IntervalType type DateUtil getIntervalType intervalType String schedule policy getSchedule String timezone policy getTimezone nextTimestamp DateUtil getNextRunTime type schedule timezone currentTimestamp String currentTime DateUtil displayDateInTimezone DateUtil GMT_TIMEZONE currentTimestamp String nextScheduledTime DateUtil displayDateInTimezone DateUtil GMT_TIMEZONE nextTimestamp
String displayTime DateUtil displayDateInTimezone DateUtil GMT_TIMEZONE _currentTimestamp
String displayTime DateUtil displayDateInTimezone DateUtil GMT_TIMEZONE _currentTimestamp s_logger debug displayTime List SnapshotScheduleVO snapshotsToBeExecuted _snapshotScheduleDao getSchedulesToExecute _currentTimestamp
s_logger debug displayTime List SnapshotScheduleVO snapshotsToBeExecuted _snapshotScheduleDao getSchedulesToExecute _currentTimestamp s_logger debug snapshotsToBeExecuted size displayTime SnapshotScheduleVO snapshotToBeExecuted snapshotsToBeExecuted SnapshotScheduleVO tmpSnapshotScheduleVO snapshotScheId snapshotToBeExecuted getId policyId snapshotToBeExecuted getPolicyId volumeId snapshotToBeExecuted getVolumeId VolumeVO volume _volsDao findById volumeId volume Account volAcct _acctDao findById volume getAccountId volAcct volAcct Account s_logger
volumeId snapshotToBeExecuted getVolumeId VolumeVO volume _volsDao findById volumeId volume Account volAcct _acctDao findById volume getAccountId volAcct volAcct Account s_logger s_logger debug volume getUuid findById _snapshotScheduleDao remove snapshotToBeExecuted getId s_logger Date scheduledTimestamp snapshotToBeExecuted getScheduledTimestamp displayTime DateUtil displayDateInTimezone DateUtil GMT_TIMEZONE scheduledTimestamp
uploadVolumeObj secStore volume String url String installPath eventId asyncJobId asyncMgr uploadVolumeObj setUploadState Upload Status NOT_UPLOADED _uploadDao update uploadVolumeObj getId uploadVolumeObj start UploadCommand ucmd UploadCommand url volume getId volume getSize installPath Type VOLUME UploadListener ul UploadListener secStore _timer _uploadDao uploadVolumeObj ucmd volume getAccountId volume getName Type VOLUME eventId asyncJobId asyncMgr _listenerMap put uploadVolumeObj ul EndPoint ep _epSelector select secStore ep String errMsg
DataStore secStore storeMgr getImageStoreWithFreeCapacity dataCenterId secStore s_logger error UploadVO uploadTemplateObj UploadVO secStore getId template getId Date Upload Status NOT_UPLOADED type url Mode FTP_UPLOAD _uploadDao persist uploadTemplateObj vmTemplateHost start UploadCommand ucmd UploadCommand template url vmTemplateHost getInstallPath vmTemplateHost getSize UploadListener ul UploadListener secStore _timer _uploadDao uploadTemplateObj ucmd template getAccountId template getName type eventId asyncJobId asyncMgr _listenerMap put uploadTemplateObj ul EndPoint ep _epSelector select secStore ep String errMsg
template vmTemplateHost String errorString success Type type template getFormat ImageFormat ISO Type ISO Type TEMPLATE DataStore store storeMgr getDataStore vmTemplateHost getDataStoreId DataStoreRole Image EndPoint ep _epSelector select store ep String errMsg
DataStore secStore storeMgr getDataStore ApiDBUtils findUploadById uploadId getDataStoreId DataStoreRole Image EndPoint ep _epSelector select secStore ep errorString secStore getName CloudRuntimeException errorString CreateEntityDownloadURLCommand cmd CreateEntityDownloadURLCommand ImageStoreEntity secStore getMountPoint path uuid Answer ans ep sendMessage cmd ans ans errorString type entityId ans ans getDetails s_logger warn errorString CloudRuntimeException errorString List SecondaryStorageVmVO ssVms _secStorageVmDao getSecStorageVmListInStates SecondaryStorageVm Role templateProcessor dataCenterId State Running ssVms SecondaryStorageVmVO ssVm ssVms get ssVm
Account caller CallContext current getCallingAccount
imageStores imageStores CloudRuntimeException profile getTemplate Set Long zoneSet HashSet Long Collections shuffle imageStores imageStore imageStores Long zoneId imageStore getScope getScopeId zoneId DataCenterVO zone _dcDao findById zoneId zone s_logger warn zoneId imageStore getId zone s_logger info zoneId imageStore getId imageStore
Long zoneId profile getZoneIdList zoneId profile getZoneIdList get List DataStore imageStores storeMgr getImageStoresByScope ZoneScope zoneId imageStores imageStores CloudRuntimeException profile getTemplate List TemplateOrVolumePostUploadCommand payloads LinkedList Set Long zoneSet HashSet Long Collections shuffle imageStores DataStore imageStore imageStores Long zoneId_is imageStore getScope getScopeId zoneId DataCenterVO zone _dcDao findById zoneId_is zone s_logger warn zoneId_is imageStore getId
profile success VMTemplateVO template profile getTemplate Account account _accountDao findByIdIncludingRemoved template getAccountId profile getZoneIdList profile getZoneIdList size CloudRuntimeException Long zoneId profile getZoneIdList zoneId profile getZoneIdList get List DataStore imageStores templateMgr getImageStoreByTemplate template getId zoneId imageStores imageStores size success
Account account _accountDao findByIdIncludingRemoved template getAccountId profile getZoneIdList profile getZoneIdList size CloudRuntimeException Long zoneId profile getZoneIdList zoneId profile getZoneIdList get List DataStore imageStores templateMgr getImageStoreByTemplate template getId zoneId imageStores imageStores size success s_logger info template getName DataStore store imageStores storeId store getId List TemplateDataStoreVO templateStores _tmpltStoreDao listByTemplateStore template getId storeId TemplateDataStoreVO templateStores String errorMsg
String errorMsg s_logger debug template getName store getName CloudRuntimeException errorMsg String eventType template eventType EventTypes EVENT_ISO_DELETE eventType EventTypes EVENT_TEMPLATE_DELETE imageStore Long sZoneId ImageStoreEntity imageStore getDataCenterId sZoneId UsageEventUtils publishUsageEvent eventType template getAccountId sZoneId template getId VirtualMachineTemplate getName template getUuid dataDiskDeletetionResult List VMTemplateVO dataDiskTemplates templateDao listByParentTemplatetId template getId
s_logger debug template getName store getName CloudRuntimeException errorMsg String eventType template eventType EventTypes EVENT_ISO_DELETE eventType EventTypes EVENT_TEMPLATE_DELETE imageStore Long sZoneId ImageStoreEntity imageStore getDataCenterId sZoneId UsageEventUtils publishUsageEvent eventType template getAccountId sZoneId template getId VirtualMachineTemplate getName template getUuid dataDiskDeletetionResult List VMTemplateVO dataDiskTemplates templateDao listByParentTemplatetId template getId dataDiskTemplates dataDiskTemplates s_logger info template getId
dataDiskTemplate s_logger info dataDiskTemplate getId imageStore getName AsyncCallFuture TemplateApiResult future imageService deleteTemplateAsync imageFactory getTemplate dataDiskTemplate getId imageStore TemplateApiResult result future get dataDiskDeletetionResult result isSuccess dataDiskDeletetionResult s_logger warn dataDiskTemplate imageStore getName result getResult List VMTemplateZoneVO templateZones templateZoneDao listByZoneTemplate sZoneId dataDiskTemplate getId templateZones VMTemplateZoneVO templateZone templateZones templateZoneDao remove templateZone getId List DataStore iStores templateMgr getImageStoreByTemplate dataDiskTemplate getId iStores iStores
templateZoneDao remove templateZone getId List DataStore iStores templateMgr getImageStoreByTemplate dataDiskTemplate getId iStores iStores dataDiskTemplate setState VirtualMachineTemplate State Inactive _tmpltDao update dataDiskTemplate getId dataDiskTemplate _resourceLimitMgr recalculateResourceCount dataDiskTemplate getAccountId account getDomainId ResourceType secondary_storage getOrdinal e s_logger debug e CloudRuntimeException e s_logger info template getId imageStore getName AsyncCallFuture TemplateApiResult future imageService deleteTemplateAsync imageFactory getTemplate template getId imageStore TemplateApiResult result future get success result isSuccess
VMTemplateStoragePoolVO VMTemplateVO templ pool VMTemplateVO template _tmpltDao findById templ getId poolId pool getId templateId template getId VMTemplateStoragePoolVO templateStoragePoolRef TemplateDataStoreVO templateStoreRef templateStoragePoolRef _tmpltPoolDao findByPoolTemplate poolId templateId templateStoragePoolRef templateStoragePoolRef setMarkedForGC _tmpltPoolDao update templateStoragePoolRef getId templateStoragePoolRef templateStoragePoolRef
templateStoragePoolRef setMarkedForGC _tmpltPoolDao update templateStoragePoolRef getId templateStoragePoolRef templateStoragePoolRef Status DOWNLOADED s_logger s_logger debug templateId poolId templateStoragePoolRef templateStoreRef _tmplStoreDao findByTemplateZoneDownloadStatus templateId pool getDataCenterId VMTemplateStorageResourceAssoc Status DOWNLOADED templateStoreRef s_logger error List StoragePoolHostVO vos _poolHostDao listByHostStatus poolId com cloud host Status Up vos vos CloudRuntimeException templateId poolId templateStoragePoolRef s_logger
templateStoreRef _tmplStoreDao findByTemplateZoneDownloadStatus templateId pool getDataCenterId VMTemplateStorageResourceAssoc Status DOWNLOADED templateStoreRef s_logger error List StoragePoolHostVO vos _poolHostDao listByHostStatus poolId com cloud host Status Up vos vos CloudRuntimeException templateId poolId s_logger s_logger debug templateId poolId DataStore srcSecStore _dataStoreMgr getDataStore templateStoreRef getDataStoreId DataStoreRole Image TemplateInfo srcTemplate _tmplFactory getTemplate templateId srcSecStore AsyncCallFuture TemplateApiResult future _tmpltSvr prepareTemplateOnPrimary srcTemplate pool TemplateApiResult result future get
s_logger error List StoragePoolHostVO vos _poolHostDao listByHostStatus poolId com cloud host Status Up vos vos CloudRuntimeException templateId poolId s_logger s_logger debug templateId poolId DataStore srcSecStore _dataStoreMgr getDataStore templateStoreRef getDataStoreId DataStoreRole Image TemplateInfo srcTemplate _tmplFactory getTemplate templateId srcSecStore AsyncCallFuture TemplateApiResult future _tmpltSvr prepareTemplateOnPrimary srcTemplate pool TemplateApiResult result future get result s_logger debug result getResult
String store String templatePath String algorithm EndPoint ep _epSelector select store ComputeChecksumCommand cmd ComputeChecksumCommand store getTO templatePath algorithm Answer answer ep String errMsg
String copyEventType template copyEventType EventTypes EVENT_ISO_COPY copyEventType EventTypes EVENT_TEMPLATE_COPY TemplateInfo srcTemplate _tmplFactory getTemplate template getId srcSecStore dstSecStore TemplateDataStoreVO dstTmpltStore _tmplStoreDao findByStoreTemplate dstSecStore getId tmpltId dstTmpltStore dstTmpltStore dstTmpltStore dstTmpltStore _tmplStoreDao removeByTemplateStore tmpltId dstSecStore getId AsyncCallFuture TemplateApiResult future _tmpltSvr copyTemplate srcTemplate dstSecStore TemplateApiResult result future get
dstSecStore TemplateDataStoreVO dstTmpltStore _tmplStoreDao findByStoreTemplate dstSecStore getId tmpltId dstTmpltStore dstTmpltStore dstTmpltStore dstTmpltStore _tmplStoreDao removeByTemplateStore tmpltId dstSecStore getId AsyncCallFuture TemplateApiResult future _tmpltSvr copyTemplate srcTemplate dstSecStore TemplateApiResult result future get result s_logger debug dstSecStore getName result getResult _tmpltDao addTemplateToZone template dstZoneId account getId UsageEventUtils publishUsageEvent copyEventType account getId dstZoneId tmpltId srcTmpltStore getPhysicalSize srcTmpltStore getSize template getClass getName template getUuid
_tmplStoreDao removeByTemplateStore tmpltId dstSecStore getId AsyncCallFuture TemplateApiResult future _tmpltSvr copyTemplate srcTemplate dstSecStore TemplateApiResult result future get result s_logger debug dstSecStore getName result getResult _tmpltDao addTemplateToZone template dstZoneId account getId UsageEventUtils publishUsageEvent copyEventType account getId dstZoneId tmpltId srcTmpltStore getPhysicalSize srcTmpltStore getSize template getClass getName template getUuid List VMTemplateVO dataDiskTemplates _tmpltDao listByParentTemplatetId template getId dataDiskTemplates dataDiskTemplates VMTemplateVO dataDiskTemplate dataDiskTemplates s_logger debug dataDiskTemplates size template getId dstSecStore getName TemplateInfo srcDataDiskTemplate _tmplFactory getTemplate dataDiskTemplate getId srcSecStore
result s_logger debug dstSecStore getName result getResult _tmpltDao addTemplateToZone template dstZoneId account getId UsageEventUtils publishUsageEvent copyEventType account getId dstZoneId tmpltId srcTmpltStore getPhysicalSize srcTmpltStore getSize template getClass getName template getUuid List VMTemplateVO dataDiskTemplates _tmpltDao listByParentTemplatetId template getId dataDiskTemplates dataDiskTemplates VMTemplateVO dataDiskTemplate dataDiskTemplates s_logger debug dataDiskTemplates size template getId dstSecStore getName TemplateInfo srcDataDiskTemplate _tmplFactory getTemplate dataDiskTemplate getId srcSecStore AsyncCallFuture TemplateApiResult dataDiskCopyFuture _tmpltSvr copyTemplate srcDataDiskTemplate dstSecStore TemplateApiResult dataDiskCopyResult dataDiskCopyFuture get dataDiskCopyResult
_tmpltDao addTemplateToZone template dstZoneId account getId UsageEventUtils publishUsageEvent copyEventType account getId dstZoneId tmpltId srcTmpltStore getPhysicalSize srcTmpltStore getSize template getClass getName template getUuid List VMTemplateVO dataDiskTemplates _tmpltDao listByParentTemplatetId template getId dataDiskTemplates dataDiskTemplates VMTemplateVO dataDiskTemplate dataDiskTemplates s_logger debug dataDiskTemplates size template getId dstSecStore getName TemplateInfo srcDataDiskTemplate _tmplFactory getTemplate dataDiskTemplate getId srcSecStore AsyncCallFuture TemplateApiResult dataDiskCopyFuture _tmpltSvr copyTemplate srcDataDiskTemplate dstSecStore TemplateApiResult dataDiskCopyResult dataDiskCopyFuture get dataDiskCopyResult s_logger error srcDataDiskTemplate getId dstSecStore getName dataDiskCopyResult getResult
dataCenterVOs put destZoneId dstZone _accountMgr checkAccess caller AccessType OperateEntry template List String failedZones ArrayList success template template s_logger debug templateId template destZoneId template destZoneId sourceZoneId failedZones add dataCenterVOs get destZoneId getName DataStore srcSecStore sourceZoneId srcSecStore getImageStore sourceZoneId templateId
template template s_logger debug templateId template destZoneId template destZoneId sourceZoneId failedZones add dataCenterVOs get destZoneId getName DataStore srcSecStore sourceZoneId srcSecStore getImageStore sourceZoneId templateId srcSecStore getImageStore templateId srcSecStore InvalidParameterValueException templateId
VMTemplateStoragePoolVO templatePoolVO VMTemplateStoragePoolVO templatePoolRef _tmpltPoolDao acquireInLockTable templatePoolVO getId templatePoolRef
templatePoolRef s_logger debug templatePoolVO getId PrimaryDataStore pool PrimaryDataStore _dataStoreMgr getPrimaryDataStore templatePoolVO getPoolId TemplateInfo template _tmplFactory getTemplate templatePoolRef getTemplateId pool s_logger s_logger debug templatePoolVO pool AsyncCallFuture TemplateApiResult future _tmpltSvr deleteTemplateOnPrimary template pool TemplateApiResult result future get result s_logger debug template getId pool getId templatePoolVO getId
s_logger s_logger debug templatePoolVO pool AsyncCallFuture TemplateApiResult future _tmpltSvr deleteTemplateOnPrimary template pool TemplateApiResult result future get result s_logger debug template getId pool getId templatePoolVO getId s_logger debug template getName pool getName DestroyCommand cmd DestroyCommand pool templatePoolVO Answer answer _storageMgr sendToPool pool cmd answer answer
s_logger debug templatePoolVO pool AsyncCallFuture TemplateApiResult future _tmpltSvr deleteTemplateOnPrimary template pool TemplateApiResult result future get result s_logger debug template getId pool getId templatePoolVO getId s_logger debug template getName pool getName DestroyCommand cmd DestroyCommand pool templatePoolVO Answer answer _storageMgr sendToPool pool cmd answer answer templatePoolVO getId s_logger debug template getName pool getName
pool AsyncCallFuture TemplateApiResult future _tmpltSvr deleteTemplateOnPrimary template pool TemplateApiResult result future get result s_logger debug template getId pool getId templatePoolVO getId s_logger debug template getName pool getName DestroyCommand cmd DestroyCommand pool templatePoolVO Answer answer _storageMgr sendToPool pool cmd answer answer templatePoolVO getId s_logger debug template getName pool getName
templateHostRef VMTemplateVO template _tmpltDao findByIdIncludingRemoved templateHostRef getTemplateId templateId template getId HostVO secondaryStorageHost _hostDao findById templateHostRef getHostId zoneId secondaryStorageHost getDataCenterId DataCenterVO zone _dcDao findById zoneId List VMInstanceVO nonExpungedVms _vmInstanceDao listNonExpungedByZoneAndTemplate zoneId templateId nonExpungedVms
HostVO secondaryStorageHost _hostDao findById templateHostRef getHostId zoneId secondaryStorageHost getDataCenterId DataCenterVO zone _dcDao findById zoneId List VMInstanceVO nonExpungedVms _vmInstanceDao listNonExpungedByZoneAndTemplate zoneId templateId nonExpungedVms s_logger debug template getName zone getName List UserVmVO userVmUsingIso _userVmDao listByIsoId templateId userVmUsingIso s_logger debug template getName zone getName userVmUsingIso size List VolumeVO volumes _volumeDao findByTemplateAndZone templateId zoneId VolumeVO volume volumes List SnapshotVO snapshots _snapshotDao listByVolumeIdVersion volume getId snapshots
templateId List UserVmJoinVO userVmUsingIso _userVmJoinDao listActiveByIsoId templateId userVmUsingIso
mediaType template InvalidParameterValueException accountNames accountNames ArrayList String projectId Project project _projectMgr getProject projectId project InvalidParameterValueException projectId _projectMgr caller project getProjectAccountId InvalidParameterValueException caller projectId accountNames add _accountMgr getAccount project getProjectAccountId getAccountName _accountMgr checkAccess caller AccessType OperateEntry template
SnapshotStrategy snapshotStrategy _storageStrategyFactory getSnapshotStrategy snapshot SnapshotOperation BACKUP snapshotStrategy backupSnapshot snapInfo snapInfo _snapshotFactory getSnapshot snapshotId dataStoreRole snapInfo CloudRuntimeException snapshotId DataStore snapStore snapInfo getDataStore snapStore store snapStore future _tmpltSvr createTemplateFromSnapshotAsync snapInfo tmplInfo store volumeId VolumeInfo volInfo _volFactory getVolume volumeId future _tmpltSvr createTemplateFromVolumeAsync volInfo tmplInfo store CloudRuntimeException CommandResult result
InvalidParameterValueException snapshotId Snapshot State BackedUp hyperType snapshot getHypervisorType _resourceLimitMgr checkResourceLimit templateOwner ResourceType template _resourceLimitMgr checkResourceLimit templateOwner ResourceType secondary_storage Long volume volume getSize snapshot getSize longValue featured featured Boolean FALSE Long guestOSId cmd getOsTypeId GuestOSVO guestOS _guestOSDao findById guestOSId guestOS InvalidParameterValueException guestOSId Long nextTemplateId _tmpltDao getNextInSequence Long String description cmd getDisplayText isExtractable Long sourceTemplateId volume
System out println file getAbsolutePath DOMConfigurator configureAndWatch file getAbsolutePath System out println s_logger error DatabaseConfig config ComponentContext inject DatabaseConfig config doVersionCheck config doConfig System exit ex System out print ex printStackTrace
File configFile File _configFileName SAXParserFactory spfactory SAXParserFactory newInstance SAXParser saxParser spfactory newSAXParser DbConfigXMLHandler handler DbConfigXMLHandler handler setParent saxParser parse configFile handler saveVMTemplate saveRootDomain saveDefaultConfiguations pzc checkAllPodCidrSubnets ex System out print ex
String hypervisor _currentObjectParams get String insertSql1 TransactionLegacy txn TransactionLegacy currentTxn PreparedStatement stmt txn prepareAutoCloseStatement insertSql1 stmt setLong id stmt setString name stmt setLong dataCenterId stmt setLong podId stmt setString hypervisor stmt setString stmt setString stmt executeUpdate ex System out println ex getMessage
stmt setString storageType stmt setLong stmt setLong dataCenterId stmt setLong stmt setLong stmt setString hostAddress stmt setString hostPath stmt setDate Date DateUtil currentGMTTime getTime stmt setLong podId stmt setString Status Up toString stmt setLong clusterId stmt executeUpdate ex System out println ex getMessage
stmt setLong destPhysicalNetworkId stmt setInt vpn stmt setInt dhcp stmt setInt dns stmt setInt gateway stmt setInt firewall stmt setInt sourceNat stmt setInt lb stmt setInt staticNat stmt setInt pf stmt setInt userData stmt setInt securityGroup stmt executeUpdate ex System out println ex getMessage
nspId Long parseLong _currentObjectParams get String uuid UUID randomUUID toString String type _currentObjectParams get String insertSql1 TransactionLegacy txn TransactionLegacy currentTxn PreparedStatement stmt txn prepareAutoCloseStatement insertSql1 stmt setLong id stmt setLong nspId stmt setString uuid stmt setString type stmt setInt stmt executeUpdate ex System out println ex getMessage
String insertNWRateSql String insertMCRateSql TransactionLegacy txn TransactionLegacy currentTxn PreparedStatement stmt stmt txn prepareAutoCloseStatement insertNWRateSql stmt setString _networkThrottlingRate stmt executeUpdate stmt txn prepareAutoCloseStatement insertMCRateSql stmt setString _multicastThrottlingRate stmt executeUpdate
String insertAdminAccount txn TransactionLegacy currentTxn PreparedStatement stmt txn prepareAutoCloseStatement insertAdminAccount stmt setLong id stmt setString username stmt executeUpdate ex s_logger error ex String insertUser txn TransactionLegacy currentTxn PreparedStatement stmt txn prepareAutoCloseStatement insertUser stmt setLong id stmt setString username
List AccountVO accounts _accountDao listAccounts accountName domainId filter accounts userAccount accounts get userAccount accountId userAccount getId InvalidParameterValueException accountName domainId PermissionDeniedException isAdmin isDomainAdmin accountId accountId caller getId caller getId isAdmin
InvalidParameterValueException accountName domainId PermissionDeniedException isAdmin isDomainAdmin accountId accountId caller getId caller getId isAdmin isDomainAdmin caller getId isDomainAdmin s_logger debug accountId Date startDate cmd getStartDate Date endDate cmd getEndDate startDate endDate
jobExecTime String segments jobExecTime split segments String timeZoneStr _configDao getValue Config UsageExecutionTimezone toString timeZoneStr timeZoneStr TimeZone tz TimeZone getTimeZone timeZoneStr Calendar cal Calendar getInstance tz cal setTime Date curTS cal getTimeInMillis cal set Calendar HOUR_OF_DAY Integer parseInt segments cal set Calendar MINUTE Integer parseInt segments cal set Calendar SECOND cal set Calendar MILLISECOND execTS cal getTimeInMillis
account accountId account getId accountId
account accountId account getId accountCleanupNeeded List UserVO users _userDao listByAccount accountId UserVO users _userDao getId
List UserVO users _userDao listByAccount accountId UserVO user users _userDao user s_logger error user account accountCleanupNeeded List org apache cloudstack region gslb GlobalLoadBalancerRuleVO gslbRules _gslbRuleDao listByAccount accountId gslbRules gslbRules _gslbService revokeAllGslbRulesForAccount caller accountId _projectAccountDao removeAccountFromProjects accountId account _messageBus publish _name MESSAGE_REMOVE_ACCOUNT_EVENT PublishScope LOCAL accountId List InstanceGroupVO groups _vmGroupDao listByAccountId accountId InstanceGroupVO groups
s_logger error user account accountCleanupNeeded List org apache cloudstack region gslb GlobalLoadBalancerRuleVO gslbRules _gslbRuleDao listByAccount accountId gslbRules gslbRules _gslbService revokeAllGslbRulesForAccount caller accountId _projectAccountDao removeAccountFromProjects accountId account _messageBus publish _name MESSAGE_REMOVE_ACCOUNT_EVENT PublishScope LOCAL accountId List InstanceGroupVO groups _vmGroupDao listByAccountId accountId InstanceGroupVO group groups group getId s_logger error group getId accountCleanupNeeded success _snapMgr deleteSnapshotDirsForAccount accountId success
success _snapMgr deleteSnapshotDirsForAccount accountId success s_logger debug accountId List VMTemplateVO userTemplates _templateDao listByAccountId accountId allTemplatesDeleted VMTemplateVO template userTemplates template allTemplatesDeleted _tmpltMgr delete callerUserId template getId e s_logger warn template getName e allTemplatesDeleted allTemplatesDeleted s_logger warn accountId accountCleanupNeeded
s_logger debug accountId List VMTemplateVO userTemplates _templateDao listByAccountId accountId allTemplatesDeleted VMTemplateVO template userTemplates template allTemplatesDeleted _tmpltMgr delete callerUserId template getId e s_logger warn template getName e allTemplatesDeleted allTemplatesDeleted s_logger warn accountId accountCleanupNeeded List VMSnapshotVO vmSnapshots _vmSnapshotDao listByAccountId Long valueOf accountId vmSnapshots
s_logger s_logger debug accountId vms size vm vms vm vm _vmMgr destroyVm vm getId e e printStackTrace s_logger warn vm getUuid _vmMgr vm s_logger error vm getId accountCleanupNeeded List VolumeVO volumes _volumeDao findDetachedByAccount accountId VolumeVO volumes
vm vm vm _vmMgr destroyVm vm getId e e printStackTrace s_logger warn vm getUuid _vmMgr vm caller s_logger error vm getId accountCleanupNeeded List VolumeVO volumes _volumeDao findDetachedByAccount accountId VolumeVO volume volumes volumeService deleteVolume volume getId caller
s_logger error vm getId accountCleanupNeeded List VolumeVO volumes _volumeDao findDetachedByAccount accountId VolumeVO volume volumes volumeService deleteVolume volume getId caller ex s_logger warn accountId ex accountCleanupNeeded List RemoteAccessVpnVO remoteAccessVpns _remoteAccessVpnDao findByAccount accountId List VpnUserVO vpnUsers _vpnUser listByAccount accountId VpnUserVO vpnUser vpnUsers _remoteAccessVpnMgr removeVpnUser accountId vpnUser getUsername caller RemoteAccessVpnVO remoteAccessVpns
s_logger warn accountId ex accountCleanupNeeded List RemoteAccessVpnVO remoteAccessVpns _remoteAccessVpnDao findByAccount accountId List VpnUserVO vpnUsers _vpnUser listByAccount accountId VpnUserVO vpnUser vpnUsers _remoteAccessVpnMgr removeVpnUser accountId vpnUser getUsername caller RemoteAccessVpnVO vpn remoteAccessVpns _remoteAccessVpnMgr destroyRemoteAccessVpnForIp vpn getServerAddressId caller ex s_logger warn accountId ex accountCleanupNeeded numRemoved _securityGroupDao removeByAccountId accountId s_logger info numRemoved accountId numAGRemoved _affinityGroupDao removeByAccountId accountId
List RemoteAccessVpnVO remoteAccessVpns _remoteAccessVpnDao findByAccount accountId List VpnUserVO vpnUsers _vpnUser listByAccount accountId VpnUserVO vpnUser vpnUsers _remoteAccessVpnMgr removeVpnUser accountId vpnUser getUsername caller RemoteAccessVpnVO vpn remoteAccessVpns _remoteAccessVpnMgr destroyRemoteAccessVpnForIp vpn getServerAddressId caller ex s_logger warn accountId ex accountCleanupNeeded numRemoved _securityGroupDao removeByAccountId accountId s_logger info numRemoved accountId numAGRemoved _affinityGroupDao removeByAccountId accountId s_logger info numAGRemoved accountId networksDeleted
vpn _remoteAccessVpnMgr destroyRemoteAccessVpnForIp vpn getServerAddressId caller ex s_logger warn accountId ex accountCleanupNeeded numRemoved _securityGroupDao removeByAccountId accountId s_logger info numRemoved accountId numAGRemoved _affinityGroupDao removeByAccountId accountId s_logger info numAGRemoved accountId networksDeleted s_logger debug account getId List NetworkVO networks _networkDao listByOwner accountId networks NetworkVO networks
numAGRemoved _affinityGroupDao removeByAccountId accountId s_logger info numAGRemoved accountId networksDeleted s_logger debug account getId List NetworkVO networks _networkDao listByOwner accountId networks NetworkVO network networks ReservationContext context ReservationContextImpl getActiveUser callerUserId caller network getId context s_logger warn network accountId accountCleanupNeeded networksDeleted s_logger debug network getId accountId vpcsDeleted
network ReservationContext context ReservationContextImpl getActiveUser callerUserId caller network getId context s_logger warn network accountId accountCleanupNeeded networksDeleted s_logger debug network getId accountId vpcsDeleted s_logger debug account getId List Vpc vpcs _vpcMgr getVpcsForAccount account getId Vpc vpc vpcs _vpcMgr vpc caller callerUserId s_logger warn vpc accountId
s_logger warn network accountId accountCleanupNeeded networksDeleted s_logger debug network getId accountId vpcsDeleted s_logger debug account getId List Vpc vpcs _vpcMgr getVpcsForAccount account getId Vpc vpc vpcs _vpcMgr vpc s_logger warn vpc accountId accountCleanupNeeded vpcsDeleted s_logger debug vpc getId accountId
s_logger debug network getId accountId vpcsDeleted s_logger debug account getId List Vpc vpcs _vpcMgr getVpcsForAccount account getId Vpc vpc vpcs _vpcMgr vpc s_logger warn vpc accountId accountCleanupNeeded vpcsDeleted s_logger debug vpc getId accountId vpcsDeleted List IpAddress ipsToRelease _ipAddressDao listByAccount accountId IpAddress ipsToRelease
List IpAddress ipsToRelease _ipAddressDao listByAccount accountId IpAddress ip ipsToRelease s_logger debug ip accountId ip s_logger warn ip accountId accountCleanupNeeded s_logger debug accountId accountId s_logger warn accountId _autoscaleMgr cleanUpAutoScaleResources accountId ex s_logger warn accountId ex accountCleanupNeeded
updateUserCmd UserVO user retrieveAndValidateUser updateUserCmd
account getId PermissionDeniedException userId checkAccess caller AccessType OperateEntry account success user State locked _userAccountDao findById userId user State success doSetUserStatus user getId State locked lockAccount List UserVO allUsersByAccount _userDao listByAccount user getAccountId UserVO allUsersByAccount State lockAccount lockAccount
accountId CallContext ctx CallContext current callerUserId ctx getCallingUserId Account caller ctx getCallingAccount AccountVO account _accountDao findById accountId account account account
Long accountId cmd getId Long domainId cmd getDomainId Long roleId cmd getRoleId String accountName cmd getAccountName String newAccountName cmd getNewName String networkDomain cmd getNetworkDomain Map String String details cmd getDetails success Account account accountId account _accountDao findById accountId account _accountDao findEnabledAccount accountName domainId AccountVO acctForUpdate _accountDao findById account getId account account Account
Account newAccount
StringBuffer unsignedRequestBuffer StringBuffer List String parameterNames ArrayList String paramNameObj requestParameters parameterNames add String paramNameObj Collections sort parameterNames String paramName parameterNames String paramValue String requestParameters get paramName paramName signature paramValue paramName String timestampStr paramValue timestamp Long parseLong timestampStr
Collections sort parameterNames String paramName parameterNames String paramValue String requestParameters get paramName paramName signature paramValue paramName String timestampStr paramValue timestamp Long parseLong timestampStr currentTime System currentTimeMillis currentTime timestamp s_logger s_logger debug currentTime timestamp
String timestampStr paramValue timestamp Long parseLong timestampStr currentTime System currentTimeMillis currentTime timestamp s_logger s_logger debug currentTime timestamp s_logger s_logger debug timestampStr
s_logger s_logger debug timestampStr unsignedRequestBuffer unsignedRequestBuffer append unsignedRequestBuffer append paramName append append URLEncoder encode paramValue signature timestamp s_logger s_logger debug signature timestamp unsignedRequest unsignedRequestBuffer toString toLowerCase replaceAll Mac mac Mac getInstance SecretKeySpec keySpec SecretKeySpec key getBytes
Mac mac Mac getInstance SecretKeySpec keySpec SecretKeySpec key getBytes mac init keySpec mac update unsignedRequest getBytes encryptedBytes mac doFinal String computedSignature String Base64 encodeBase64 encryptedBytes equalSig ConstantTimeComparator compareStrings signature computedSignature equalSig s_logger info signature computedSignature user _userAccountDao getUserAccount username domainId ex s_logger error ex user
String computedSignature String Base64 encodeBase64 encryptedBytes equalSig ConstantTimeComparator compareStrings signature computedSignature equalSig s_logger info signature computedSignature user _userAccountDao getUserAccount username domainId ex s_logger error ex user user s_logger error username domainId user s_logger error username domainId
Pair Boolean ActionOnFailedAuthentication result authenticator authenticate username password domainId requestParameters result authenticated result second actionsOnFailedAuthenticaion add result second updateIncorrectLoginCount actionsOnFailedAuthenticaion contains ActionOnFailedAuthentication INCREMENT_INCORRECT_LOGIN_ATTEMPT_COUNT authenticated Domain domain _domainMgr getDomain domainId String domainName domain domainName domain getName userAccount _userAccountDao getUserAccount username domainId userAccount userAccount
result second actionsOnFailedAuthenticaion add result second updateIncorrectLoginCount actionsOnFailedAuthenticaion contains ActionOnFailedAuthentication INCREMENT_INCORRECT_LOGIN_ATTEMPT_COUNT Domain domain _domainMgr getDomain domainId String domainName domain domainName domain getName userAccount _userAccountDao getUserAccount username domainId userAccount userAccount s_logger s_logger info username domainName CloudAuthenticationException username domainName userAccount getId updateLoginAttempts userAccount getId
s_logger info username domainName CloudAuthenticationException username domainName userAccount getId updateLoginAttempts userAccount getId userAccount s_logger s_logger debug username domainId userAccount s_logger warn username domainId userAccount userAccount getId attemptsMade userAccount getLoginAttempts
Pair User Account userAcct retryLimit KeyGenerator generator KeyGenerator getInstance SecretKey key generator generateKey encodedKey Base64 encodeBase64URLSafeString key getEncoded userAcct _accountDao findUserAccountByApiKey encodedKey retryLimit userAcct retryLimit userAcct updatedUser setApiKey encodedKey _userDao update userId updatedUser encodedKey
retryLimit UserVO userBySecretKey KeyGenerator generator KeyGenerator getInstance SecretKey key generator generateKey encodedKey Base64 encodeBase64URLSafeString key getEncoded userBySecretKey _userDao findUserBySecretKey encodedKey retryLimit userBySecretKey retryLimit userBySecretKey updatedUser setSecretKey encodedKey _userDao update userId updatedUser encodedKey
s_logger debug domain getId Domain State Inactive domain setState Domain State Inactive _domainDao update domain getId domain ownerId domain getAccountId tryCleanupDomain domain ownerId removeDomainWithNoAccountsForCleanupNetworksOrDedicatedResources domain domain getId CloudRuntimeException e CloudRuntimeException e addProxyObject domain getUuid e
_domainDao update domain getId domain ownerId domain getAccountId tryCleanupDomain domain ownerId removeDomainWithNoAccountsForCleanupNetworksOrDedicatedResources domain domain getId CloudRuntimeException e CloudRuntimeException e addProxyObject domain getUuid e s_logger debug domain getId cleanupDomainOfferings domain getId CallContext current putContextParameter Domain domain getUuid
domain hasDedicatedResources List Long networkIds _networkDomainDao listNetworkIdsByDomain domain getId List AccountVO accountsForCleanup _accountDao findCleanupsForRemovedAccounts domain getId List DedicatedResourceVO dedicatedResources _dedicatedDao listByDomainId domain getId dedicatedResources
List DomainVO domains _domainDao search sc SearchCriteria DomainVO sc1 _domainDao createSearchCriteria sc1 addAnd SearchCriteria Op LIKE domainHandle getPath List DomainVO domainsToBeInactivated _domainDao search sc1 DomainVO domain domainsToBeInactivated domain setState Domain State Inactive _domainDao update domain getId domain DomainVO domain domains success success cleanupDomain domain getId domain getAccountId success s_logger warn domain getId SearchCriteria AccountVO sc _accountDao createSearchCriteria sc addAnd SearchCriteria Op EQ domainId List AccountVO accounts _accountDao search sc AccountVO accounts
domain success success cleanupDomain domain getId domain getAccountId success s_logger warn domain getId SearchCriteria AccountVO sc _accountDao createSearchCriteria sc addAnd SearchCriteria Op EQ domainId List AccountVO accounts _accountDao search sc AccountVO account accounts account s_logger debug account domainId deleteAccount _accountMgr deleteAccount account CallContext current getCallingUserId getCaller deleteAccount s_logger warn account getId success success deleteAccount
SearchCriteria AccountVO sc _accountDao createSearchCriteria sc addAnd SearchCriteria Op EQ domainId List AccountVO accounts _accountDao search sc AccountVO account accounts account s_logger debug account domainId deleteAccount _accountMgr deleteAccount account CallContext current getCallingUserId getCaller deleteAccount s_logger warn account getId success success deleteAccount ProjectVO project _projectDao findByProjectAccountId account getId s_logger debug project domainId deleteProject _projectMgr deleteProject getCaller CallContext current getCallingUserId project deleteProject
account account s_logger debug account domainId deleteAccount _accountMgr deleteAccount account CallContext current getCallingUserId getCaller deleteAccount s_logger warn account getId success success deleteAccount ProjectVO project _projectDao findByProjectAccountId account getId s_logger debug project domainId deleteProject _projectMgr deleteProject getCaller CallContext current getCallingUserId project deleteProject s_logger warn project success success deleteProject networksDeleted
s_logger warn account getId success success deleteAccount ProjectVO project _projectDao findByProjectAccountId account getId s_logger debug project domainId deleteProject _projectMgr deleteProject getCaller CallContext current getCallingUserId project deleteProject s_logger warn project success success deleteProject networksDeleted s_logger debug domainId List Long networkIds _networkDomainDao listNetworkIdsByDomain domainId CallContext ctx CallContext current ReservationContext context ReservationContextImpl _accountMgr getActiveUser ctx getCallingUserId ctx getCallingAccount Long networkIds
success success deleteAccount ProjectVO project _projectDao findByProjectAccountId account getId s_logger debug project domainId deleteProject _projectMgr deleteProject getCaller CallContext current getCallingUserId project deleteProject s_logger warn project success success deleteProject networksDeleted s_logger debug domainId List Long networkIds _networkDomainDao listNetworkIdsByDomain domainId CallContext ctx CallContext current ReservationContext context ReservationContextImpl _accountMgr getActiveUser ctx getCallingUserId ctx getCallingAccount Long networkId networkIds s_logger debug networkId domainId
s_logger warn project success success deleteProject networksDeleted s_logger debug domainId List Long networkIds _networkDomainDao listNetworkIdsByDomain domainId CallContext ctx CallContext current ReservationContext context ReservationContextImpl _accountMgr getActiveUser ctx getCallingUserId ctx getCallingAccount Long networkId networkIds s_logger debug networkId domainId networkId context s_logger warn networkId domainId networksDeleted s_logger debug networkId domainId networksDeleted
s_logger debug networkId domainId networkId s_logger warn networkId domainId networksDeleted s_logger debug networkId domainId networksDeleted s_logger debug domainId deleteDomainSuccess List AccountVO accountsForCleanup _accountDao findCleanupsForRemovedAccounts domainId accountsForCleanup List DedicatedResourceVO dedicatedResources _dedicatedDao listByDomainId domainId dedicatedResources dedicatedResources s_logger debug domainId
Network defaultNetwork _networkDao findById defaultNic getNetworkId NicProfile defaultNicProfile NicProfile defaultNic defaultNetwork _networkModel isSecurityGroupSupportedInNetwork defaultNetwork _networkModel getNetworkTag template getHypervisorType defaultNetwork VirtualMachineProfile vmProfile VirtualMachineProfileImpl vmInstance vmProfile setParameter VirtualMachineProfile Param VmPassword password UserDataServiceProvider element _networkMgr getPasswordResetProvider defaultNetwork element CloudRuntimeException Service UserData getName result element savePassword defaultNetwork defaultNicProfile vmProfile result s_logger debug UserVmVO userVm _vmDao findById vmId _vmDao loadDetails userVm encryptAndStorePassword userVm password
element CloudRuntimeException Service UserData getName result element savePassword defaultNetwork defaultNicProfile vmProfile result s_logger debug UserVmVO userVm _vmDao findById vmId _vmDao loadDetails userVm encryptAndStorePassword userVm password vmInstance s_logger debug vmInstance vmId s_logger warn vmInstance
Long vmId Long userId CallContext current getCallingUserId VMInstanceVO vmInstance _vmDao findById vmId VMTemplateVO template _templateDao findByIdIncludingRemoved vmInstance getTemplateId Nic defaultNic _networkModel getDefaultNic vmId defaultNic
s_logger debug UserVmVO userVm _vmDao findById vmId _vmDao loadDetails userVm userVm setDetail VmDetailConstants SSH_PUBLIC_KEY sshPublicKey userVm setPassword password encryptAndStorePassword userVm password _vmDao saveDetails userVm vmInstance s_logger debug vmInstance vmId
status
DataCenterVO dc _dcDao findById vm getDataCenterId dc List Long vmNetworks _vmNetworkMapDao getNetworks vmId List DomainRouterVO routers ArrayList DomainRouterVO vmNetworkId vmNetworks List DomainRouterVO router _routerDao listStopped vmNetworkId routers addAll router DomainRouterVO routerToStart routers s_logger warn routerToStart getInstanceName vm getInstanceName _virtualNetAppliance startRouter routerToStart getId e CloudRuntimeException e ex CloudRuntimeException ex
List String hostNames _vmInstanceDao listDistinctHostNames network getId hostNames vmInstance getHostName String hostName hostNames VMInstanceVO vm _vmInstanceDao findVMByHostName hostName vm getId network getId vm getHostName vmInstance getHostName CloudRuntimeException network vmInstance getHostName NicProfile guestNic cleanUp guestNic _itMgr addVmToNetwork vmInstance network profile saveExtraDhcpOptions guestNic getId cmd getDhcpOptionsMap _networkMgr configureExtraDhcpOptions network guestNic getId cmd getDhcpOptionsMap cleanUp e CloudRuntimeException vmInstance e
InvalidParameterValueException vmInstance getDataCenterId nic InvalidParameterValueException nic vmInstance _accountMgr checkAccess caller AccessType UseEntry network nic vmInstance InvalidParameterValueException vmInstance network nic InvalidParameterValueException vmInstance network nicremoved nicremoved _itMgr removeNicFromVm vmInstance nic e CloudRuntimeException network vmInstance e e
CloudRuntimeException Network oldDefaultNetwork oldDefaultNetwork _networkModel getDefaultNetworkForVm vmId String oldNicIdString Long toString _networkModel getDefaultNic vmId getId oldNetworkOfferingId oldDefaultNetwork oldNetworkOfferingId oldDefaultNetwork getNetworkOfferingId NicVO existingVO _nicDao findById existing id Integer chosenID nic getDeviceId Integer existingID existing getDeviceId Network newdefault nic existingVO newdefault _networkModel getDefaultNetworkForVm vmId newdefault nic setDefaultNic
_accountMgr checkAccess caller vm Account ipOwner _accountDao findByIdIncludingRemoved vm getAccountId s_logger debug DataCenter dc _dcDao findById network getDataCenterId dc InvalidParameterValueException dc network ipaddr _ipAddrMgr allocateGuestIP network ipaddr InvalidParameterValueException nicVO getUuid ipaddr InvalidParameterValueException nicVO getUuid network getId IPAddressVO oldIP _ipAddressDao findByAssociatedVmId vm getId
e addProxyObject network getUuid network getId IPAddressVO oldIP _ipAddressDao findByAssociatedVmId vm getId oldIP oldIP setVmIp nicVO getIPv4Address _ipAddressDao persist oldIP e network Long podId podId vm getPodIdToDeployIn podId InvalidParameterValueException ipaddr _ipAddrMgr allocatePublicIpForGuestNic network podId ipOwner ipaddr
e dc network Long podId dc podId vm getPodIdToDeployIn podId InvalidParameterValueException ipaddr _ipAddrMgr allocatePublicIpForGuestNic network podId ipOwner ipaddr ipaddr InvalidParameterValueException nicVO getUuid IPAddressVO newIp _ipAddressDao findByIpAndDcId dc getId ipaddr Vlan vlan _vlanDao findById newIp getVlanId nicVO setIPv4Gateway vlan getVlanGateway nicVO setIPv4Netmask vlan getVlanNetmask
vmId Account caller CallContext current getCallingAccount VMInstanceVO vmInstance _vmInstanceDao findById vmId vmInstance vmInstance vmInstance
cmd Long vmId cmd getId Account caller CallContext current getCallingAccount Long userId caller getAccountId UserVmVO vm _vmDao findById vmId vm InvalidParameterValueException vmId userId userId PermissionDeniedException vm s_logger s_logger debug vmId InvalidParameterValueException vmId vm s_logger
Long userId caller getAccountId UserVmVO vm _vmDao findById vmId vm InvalidParameterValueException vmId userId userId PermissionDeniedException vm s_logger s_logger debug vmId InvalidParameterValueException vmId vm s_logger s_logger debug vmId InvalidParameterValueException vmId s_logger
InvalidParameterValueException vmId vm s_logger s_logger debug vmId InvalidParameterValueException vmId s_logger s_logger debug vmId Account account _accountDao lockRow vm getAccountId account CloudRuntimeException ServiceOfferingVO serviceOffering _serviceOfferingDao findById vm getId vm getServiceOfferingId resourceLimitCheck account vm isDisplayVm Long serviceOffering getCpu Long serviceOffering getRamSize
vmId success _securityGroupMgr removeInstanceFromGroups vmId removeInstanceFromInstanceGroup vmId vmId
vmId success _securityGroupMgr removeInstanceFromGroups vmId removeInstanceFromInstanceGroup vmId vmId s_logger debug vmId success s_logger warn vmId vmId s_logger debug vmId success s_logger warn vmId vmId
success s_logger warn vmId vmId s_logger debug vmId success s_logger warn vmId vmId s_logger debug vmId success s_logger warn vmId List IPAddressVO ips _ipAddressDao findAllByAssociatedVmId vmId IPAddressVO ips
vmId UserVmVO vm _vmDao findById vmId vm vm
details details InvalidParameterValueException String detailName details detailName InvalidParameterValueException detailName detail detail getName details put detail getName detail getValue String detailName details detailName ApiConstants OVF_PROPERTIES String ovfPropKey detailName replace ApiConstants OVF_PROPERTIES TemplateOVFPropertyVO ovfPropertyVO templateOVFPropertiesDao findByTemplateAndKey vmInstance getTemplateId ovfPropKey
isDynamicallyScalable vm isDynamicallyScalable isVMware vm getHypervisorType HypervisorType VMware isVMware InvalidParameterValueException Network defaultNetwork DataCenterVO zone _dcDao findById vm getDataCenterId zone defaultNetwork _networkModel getExclusiveGuestNetwork zone getId zone NicVO defaultNic _nicDao findDefaultNicForVM vm getId defaultNic defaultNetwork _networkDao findById defaultNic getNetworkId InvalidParameterValueException
NicVO defaultNic _nicDao findDefaultNicForVM vm getId defaultNic defaultNetwork _networkDao findById defaultNic getNetworkId InvalidParameterValueException e s_logger s_logger debug e getMessage e defaultNetwork _networkModel getDefaultNetworkForVm id securityGroupIdList _networkModel defaultNetwork _networkModel vm _securityGroupMgr removeInstanceFromGroups id _securityGroupMgr addInstanceToGroups id securityGroupIdList InvalidParameterValueException List Nic nics _nicDao listByVmId vm getId
vm VMTemplateVO template _templateDao findByIdIncludingRemoved vm getTemplateId List Nic nics _nicDao listByVmId vm getId nics nics
serviceOfferingId vmInstance getServiceOfferingId ServiceOfferingVO offering _serviceOfferingDao findById vmInstance getId serviceOfferingId offering offering offering restoreVMInternal caller vmInstance InvalidParameterValueException serviceOfferingId Boolean enterSetup cmd getBootIntoSetup enterSetup enterSetup vmInstance getHypervisorType InvalidParameterValueException vmInstance getHypervisorType UserVm userVm rebootVirtualMachine CallContext current getCallingUserId vmId enterSetup cmd getBootIntoSetup userVm List NicVO nics _nicDao listByVmId vmId NicVO nic nics Network network _networkModel getNetwork nic getNetworkId
InvalidParameterValueException networkList add _networkDao findById defaultNetwork getId isVmWare template getHypervisorType HypervisorType VMware hypervisor hypervisor HypervisorType VMware securityGroupIdList isVmWare InvalidParameterValueException isVmWare defaultNetwork securityGroupIdList securityGroupIdList securityGroupIdList securityGroupIdList ArrayList Long SecurityGroup defaultGroup _securityGroupMgr getDefaultSecurityGroup owner getId defaultGroup securityGroupIdList add defaultGroup getId
vm setDetail key customParameters get key key ApiConstants vm setDetail key customParameters get key vm setDetail VmDetailConstants DEPLOY_VM userVmOVFPropertiesMap String key userVmOVFPropertiesMap String detailKey ApiConstants OVF_PROPERTIES key String value userVmOVFPropertiesMap get key value value value value value
templateVO String String templateVO getSize String error toHumanReadableSize templateVO getSize
rootDiskSize templateVO vm String String InvalidParameterValueException rootDiskSize templateVO getSize String error toHumanReadableSize templateVO getSize s_logger error error InvalidParameterValueException error rootDiskSize templateVO getSize vm getDetails vm getDetails get VmDetailConstants ROOT_DISK_CONTROLLER s_logger warn vm getDetails get VmDetailConstants ROOT_DISK_CONTROLLER String error vm getDetails get VmDetailConstants ROOT_DISK_CONTROLLER s_logger error error InvalidParameterValueException error s_logger debug toHumanReadableSize templateVO getSize rootDiskSize
vmNetworkStat SearchCriteria NicVO sc_nic _nicDao createSearchCriteria sc_nic addAnd SearchCriteria Op EQ vmNetworkStat getMacAddress NicVO nic _nicDao search sc_nic get List VlanVO vlan _vlanDao listVlansByNetworkId nic getNetworkId vlan vlan vlan get UserStatisticsVO previousvmNetworkStats _userStatsDao findBy userVm getAccountId userVm getDataCenterId nic getNetworkId nic getIPv4Address userVm getId previousvmNetworkStats previousvmNetworkStats UserStatisticsVO userVm getAccountId userVm getDataCenterId nic getIPv4Address userVm getId nic getNetworkId _userStatsDao persist previousvmNetworkStats UserStatisticsVO vmNetworkStat_lock _userStatsDao lock userVm getAccountId userVm getDataCenterId nic getNetworkId nic getIPv4Address userVm getId vmNetworkStat vmNetworkStat s_logger debug
sc_nic addAnd SearchCriteria Op EQ vmNetworkStat getMacAddress NicVO nic _nicDao search sc_nic get List VlanVO vlan _vlanDao listVlansByNetworkId nic getNetworkId vlan vlan vlan get UserStatisticsVO previousvmNetworkStats _userStatsDao findBy userVm getAccountId userVm getDataCenterId nic getNetworkId nic getIPv4Address userVm getId previousvmNetworkStats previousvmNetworkStats UserStatisticsVO userVm getAccountId userVm getDataCenterId nic getIPv4Address userVm getId nic getNetworkId _userStatsDao persist previousvmNetworkStats UserStatisticsVO vmNetworkStat_lock _userStatsDao lock userVm getAccountId userVm getDataCenterId nic getNetworkId nic getIPv4Address userVm getId vmNetworkStat vmNetworkStat s_logger debug vmNetworkStat_lock s_logger warn userVm getAccountId userVm getId nic getId
UserStatisticsVO previousvmNetworkStats _userStatsDao findBy userVm getAccountId userVm getDataCenterId nic getNetworkId nic getIPv4Address userVm getId previousvmNetworkStats previousvmNetworkStats UserStatisticsVO userVm getAccountId userVm getDataCenterId nic getIPv4Address userVm getId nic getNetworkId _userStatsDao persist previousvmNetworkStats UserStatisticsVO vmNetworkStat_lock _userStatsDao lock userVm getAccountId userVm getDataCenterId nic getNetworkId nic getIPv4Address userVm getId vmNetworkStat getBytesSent vmNetworkStat getBytesReceived s_logger debug vmNetworkStat_lock s_logger warn userVm getAccountId userVm getId nic getId previousvmNetworkStats previousvmNetworkStats vmNetworkStat_lock previousvmNetworkStats vmNetworkStat_lock s_logger debug host getName vmNetworkStat getVmName toHumanReadableSize vmNetworkStat getBytesSent toHumanReadableSize vmNetworkStat getBytesReceived vmNetworkStat_lock vmNetworkStat getBytesSent
startVirtualMachine vmId podId clusterId hostId Map Map VirtualMachineProfile Param Object additonalParams deploymentPlannerToUse UserVmVO vm _vmDao findById vmId Pair UserVmVO Map VirtualMachineProfile Param Object vmParamPair vmParamPair startVirtualMachine vmId podId clusterId hostId additonalParams deploymentPlannerToUse vm vmParamPair first UserVmVO tmpVm _vmDao findById vm getId tmpVm
vmParamPair startVirtualMachine vmId podId clusterId hostId additonalParams deploymentPlannerToUse vm vmParamPair first UserVmVO tmpVm _vmDao findById vm getId tmpVm getState s_logger error tmpVm tmpVm getState ConcurrentOperationException vm List VolumeVO vols _volsDao findByInstance tmpVm getId VolumeVO vol vols vol DiskOffering doff _entityMgr findById DiskOffering vol getDiskOfferingId _volService resizeVolumeOnHypervisor vol getId doff getDiskSize tmpVm getHostId vm getInstanceName
nic getBroadcastUri NicProfile nicProfile NicProfile nic network nic getBroadcastUri nic getIsolationUri nicProfile ipChanged returnedIp returnedIp guestNic guestNic setIPv4Address returnedIp ipChanged returnedIp returnedIp guestNic guestNic setIPv4Address returnedIp ipChanged ipChanged _dcDao findById vm getDataCenterId
UserVmVO vm _vmDao findById vmId vm InvalidParameterValueException vmId vm InvalidParameterValueException vm getUuid vm getDisplayName _accountMgr checkAccess callerAccount vm Account owner _accountDao findById vm getAccountId owner InvalidParameterValueException vm vm getAccountId owner Account PermissionDeniedException vm vm getAccountId ServiceOfferingVO offering _serviceOfferingDao findById vm getId vm getServiceOfferingId resourceLimitCheck owner vm isDisplayVm Long offering getCpu Long offering getRamSize vmId vmId vmId
List VmDiskStatsEntry vmDiskStats vmDiskStatsByName get userVm getInstanceName vmDiskStats VmDiskStatsEntry vmDiskStat vmDiskStats SearchCriteria VolumeVO sc_volume _volsDao createSearchCriteria sc_volume addAnd SearchCriteria Op EQ vmDiskStat getPath List VolumeVO volumes _volsDao search sc_volume volumes volumes VolumeVO volume volumes get VmDiskStatisticsVO previousVmDiskStats _vmDiskStatsDao findBy userVm getAccountId userVm getDataCenterId userVm getId volume getId VmDiskStatisticsVO vmDiskStat_lock _vmDiskStatsDao lock userVm getAccountId userVm getDataCenterId userVm getId volume getId vmDiskStat vmDiskStat vmDiskStat vmDiskStat s_logger debug
vmDiskStat SearchCriteria VolumeVO sc_volume _volsDao createSearchCriteria sc_volume addAnd SearchCriteria Op EQ vmDiskStat getPath List VolumeVO volumes _volsDao search sc_volume volumes volumes VolumeVO volume volumes get VmDiskStatisticsVO previousVmDiskStats _vmDiskStatsDao findBy userVm getAccountId userVm getDataCenterId userVm getId volume getId VmDiskStatisticsVO vmDiskStat_lock _vmDiskStatsDao lock userVm getAccountId userVm getDataCenterId userVm getId volume getId vmDiskStat vmDiskStat vmDiskStat vmDiskStat s_logger debug vmDiskStat_lock s_logger warn userVm getAccountId userVm getId volume getId
List VolumeVO volumes _volsDao search sc_volume volumes volumes VolumeVO volume volumes get VmDiskStatisticsVO previousVmDiskStats _vmDiskStatsDao findBy userVm getAccountId userVm getDataCenterId userVm getId volume getId VmDiskStatisticsVO vmDiskStat_lock _vmDiskStatsDao lock userVm getAccountId userVm getDataCenterId userVm getId volume getId vmDiskStat getIORead vmDiskStat getIOWrite vmDiskStat getBytesRead vmDiskStat getBytesWrite s_logger debug vmDiskStat_lock s_logger warn userVm getAccountId userVm getId volume getId previousVmDiskStats previousVmDiskStats vmDiskStat_lock previousVmDiskStats vmDiskStat_lock previousVmDiskStats vmDiskStat_lock previousVmDiskStats vmDiskStat_lock s_logger debug host getName vmDiskStat getVmName vmDiskStat getIORead vmDiskStat getIOWrite vmDiskStat getBytesRead vmDiskStat getBytesWrite
VmDiskStatisticsVO previousVmDiskStats _vmDiskStatsDao findBy userVm getAccountId userVm getDataCenterId userVm getId volume getId VmDiskStatisticsVO vmDiskStat_lock _vmDiskStatsDao lock userVm getAccountId userVm getDataCenterId userVm getId volume getId vmDiskStat getIORead vmDiskStat getIOWrite vmDiskStat getBytesRead vmDiskStat getBytesWrite s_logger debug vmDiskStat_lock s_logger warn userVm getAccountId userVm getId volume getId previousVmDiskStats previousVmDiskStats getCurrentIORead vmDiskStat_lock getCurrentIORead previousVmDiskStats vmDiskStat_lock previousVmDiskStats vmDiskStat_lock previousVmDiskStats vmDiskStat_lock s_logger debug host getName vmDiskStat getVmName vmDiskStat getIORead vmDiskStat getIOWrite vmDiskStat getBytesRead vmDiskStat getBytesWrite vmDiskStat_lock getCurrentIORead vmDiskStat getIORead s_logger s_logger debug host getName vmDiskStat getVmName vmDiskStat getIORead vmDiskStat_lock getCurrentIORead vmDiskStat_lock setNetIORead vmDiskStat_lock getNetIORead vmDiskStat_lock getCurrentIORead
vmDiskStat_lock s_logger warn userVm getAccountId userVm getId volume getId getCurrentIORead vmDiskStat_lock getCurrentIORead getCurrentIOWrite vmDiskStat_lock getCurrentIOWrite vmDiskStat_lock vmDiskStat_lock s_logger debug host getName vmDiskStat getVmName vmDiskStat getIORead vmDiskStat getIOWrite vmDiskStat getBytesRead vmDiskStat getBytesWrite vmDiskStat_lock getCurrentIORead vmDiskStat getIORead s_logger s_logger debug host getName vmDiskStat getVmName vmDiskStat getIORead vmDiskStat_lock getCurrentIORead vmDiskStat_lock setNetIORead vmDiskStat_lock getNetIORead vmDiskStat_lock getCurrentIORead vmDiskStat_lock setCurrentIORead vmDiskStat getIORead vmDiskStat_lock getCurrentIOWrite vmDiskStat getIOWrite s_logger s_logger debug host getName vmDiskStat getVmName vmDiskStat getIOWrite vmDiskStat_lock getCurrentIOWrite vmDiskStat_lock setNetIOWrite vmDiskStat_lock getNetIOWrite vmDiskStat_lock getCurrentIOWrite
String displayName cmd getDisplayName UserVm vm IpAddresses addrs IpAddresses ipAddress ip6Address macAddress Long size cmd getSize String group cmd getGroup String userData cmd getUserData String sshKeyPairName cmd getSSHKeyPairName Boolean displayVm cmd isDisplayVm String keyboard cmd getKeyboard Map Long DiskOffering dataDiskTemplateToDiskOfferingMap cmd getDataDiskTemplateToDiskOfferingMap Map String String userVmOVFProperties cmd getVmOVFProperties cmd InvalidParameterValueException
Boolean displayVm cmd isDisplayVm String keyboard cmd getKeyboard Map Long DiskOffering dataDiskTemplateToDiskOfferingMap cmd getDataDiskTemplateToDiskOfferingMap Map String String userVmOVFProperties cmd getVmOVFProperties zone cmd getNetworkIds InvalidParameterValueException vm createBasicSecurityGroupVirtualMachine zone serviceOffering template getSecurityGroupIdList cmd owner name displayName diskOfferingId size group cmd getHypervisor cmd getHttpMethod userData sshKeyPairName cmd getIpToNetworkMap addrs displayVm keyboard cmd getAffinityGroupIdList cmd getDetails cmd getCustomId cmd getDhcpOptionsMap dataDiskTemplateToDiskOfferingMap userVmOVFProperties zone vm createAdvancedSecurityGroupVirtualMachine zone serviceOffering template cmd getNetworkIds getSecurityGroupIdList cmd owner name displayName diskOfferingId size group cmd getHypervisor cmd getHttpMethod userData sshKeyPairName cmd getIpToNetworkMap addrs displayVm keyboard cmd getAffinityGroupIdList cmd getDetails cmd getCustomId cmd getDhcpOptionsMap dataDiskTemplateToDiskOfferingMap userVmOVFProperties cmd getSecurityGroupIdList cmd getSecurityGroupIdList InvalidParameterValueException
PermissionDeniedException VMInstanceVO vm _vmInstanceDao findById vmId vm InvalidParameterValueException vmId vm s_logger s_logger debug vm InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject vm getUuid ex checkIfHostOfVMIsInPrepareForMaintenanceState vm getHostId vmId vm InvalidParameterValueException vm s_logger
vm s_logger s_logger debug vm InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject vm getUuid ex checkIfHostOfVMIsInPrepareForMaintenanceState vm getHostId vmId vm InvalidParameterValueException vm s_logger s_logger debug vm vm getHypervisorType InvalidParameterValueException vm vm getHypervisorType InvalidParameterValueException
vm s_logger s_logger debug vm InvalidParameterValueException srcHostId vm getHostId destinationHost srcHostId InvalidParameterValueException destinationHost getState destinationHost getResourceState InvalidParameterValueException destinationHost getState destinationHost getResourceState vm HostVO srcHost _hostDao findById srcHostId srcHost srcHost destinationHost srcHost destinationHost InvalidParameterValueException vm destinationHost
offeringId implicitPlannerUsed ServiceOfferingVO offering _serviceOfferingDao findByIdIncludingRemoved offeringId offering
resourceCountIncrement newAccount getAccountId vm isDisplayVm Long offering getCpu Long offering getRamSize UsageEventUtils publishUsageEvent EventTypes EVENT_VM_CREATE vm getAccountId vm getDataCenterId vm getId vm getHostName vm getServiceOfferingId vm getTemplateId vm getHypervisorType toString VirtualMachine getName vm getUuid vm isDisplayVm VirtualMachine vmoi _itMgr findById vm getId VirtualMachineProfileImpl vmOldProfile VirtualMachineProfileImpl vmoi List Long networkIdList cmd getNetworkIds List Long securityGroupIdList cmd getSecurityGroupIdList zone networkIdList networkIdList InvalidParameterValueException _securityGroupMgr removeInstanceFromGroups cmd getVmId _networkMgr cleanupNics vmOldProfile _networkMgr expungeNics vmOldProfile List NetworkVO networkList ArrayList NetworkVO Network defaultNetwork _networkModel getExclusiveGuestNetwork zone getId
InvalidParameterValueException _securityGroupMgr removeInstanceFromGroups cmd getVmId _networkMgr cleanupNics vmOldProfile _networkMgr expungeNics vmOldProfile List NetworkVO networkList ArrayList NetworkVO Network defaultNetwork _networkModel getExclusiveGuestNetwork zone getId defaultNetwork InvalidParameterValueException networkList add _networkDao findById defaultNetwork getId isVmWare template getHypervisorType HypervisorType VMware isVmWare InvalidParameterValueException isVmWare _networkModel defaultNetwork _networkModel
_networkModel checkNetworkPermissions newAccount defaultNetworkOld applicableNetworks add defaultNetworkOld requestedIPv4ForDefaultNic defaultNicOld getIPv4Address requestedIPv6ForDefaultNic defaultNicOld getIPv6Address s_logger debug defaultNetworkOld getName requestedIPv4ForDefaultNic vm getInstanceName s_logger debug _networkMgr cleanupNics vmOldProfile _networkMgr expungeNics vmOldProfile networkId NetworkVO network _networkDao findById networkId network InvalidParameterValueException ex InvalidParameterValueException ex addProxyObject networkId toString
SecurityGroup defaultGroup _securityGroupMgr getDefaultSecurityGroup newAccount getId defaultGroup defaultGroupPresent securityGroupIdList defaultGroup getId defaultGroupPresent defaultGroupPresent securityGroupIdList add defaultGroup getId s_logger s_logger debug newAccount defaultGroup _securityGroupMgr createSecurityGroup SecurityGroupManager DEFAULT_GROUP_NAME SecurityGroupManager DEFAULT_GROUP_DESCRIPTION newAccount getDomainId newAccount getId newAccount getAccountName securityGroupIdList add defaultGroup getId VirtualMachine vmi _itMgr findById vm getId
Set NetworkVO applicableNetworks HashSet NetworkVO NicVO defaultNicOld _nicDao findDefaultNicForVM vm getId defaultNicOld NetworkVO defaultNetworkOld _networkDao findById defaultNicOld getNetworkId defaultNetworkOld defaultNetworkOld defaultNetworkOld _networkModel checkNetworkPermissions newAccount defaultNetworkOld applicableNetworks add defaultNetworkOld s_logger debug _networkMgr cleanupNics vmOldProfile _networkMgr expungeNics vmOldProfile
NicVO defaultNicOld _nicDao findDefaultNicForVM vm getId defaultNicOld NetworkVO defaultNetworkOld _networkDao findById defaultNicOld getNetworkId defaultNetworkOld defaultNetworkOld defaultNetworkOld _networkModel checkNetworkPermissions newAccount defaultNetworkOld applicableNetworks add defaultNetworkOld s_logger debug _networkMgr cleanupNics vmOldProfile _networkMgr expungeNics vmOldProfile networkId NetworkVO network _networkDao findById networkId network
e s_logger debug vm getUuid e CloudRuntimeException ex CloudRuntimeException ex addProxyObject vm getUuid ex Volume newVol newTemplateId newVol volumeMgr allocateDuplicateVolume root vm setIsoId newTemplateId vm setGuestOSId template getGuestOSId vm setTemplateId newTemplateId _vmDao update vmId vm newVol volumeMgr allocateDuplicateVolume root newTemplateId
ex Volume newVol newTemplateId newVol volumeMgr allocateDuplicateVolume root vm setIsoId newTemplateId vm setGuestOSId template getGuestOSId vm setTemplateId newTemplateId _vmDao update vmId vm newVol volumeMgr allocateDuplicateVolume root newTemplateId vm setGuestOSId template getGuestOSId vm setTemplateId newTemplateId _vmDao update vmId vm
_usageEventDao persist usageEvent handleManagedStorage vm root _volsDao attachVolume newVol getId vmId newVol getDeviceId _volsDao detachVolume root getId volumeMgr destroyVolume root vm VolumeInfo volumeInStorage volFactory getVolume root getId volumeInStorage s_logger info root getId AsyncCallFuture VolumeApiResult future _volService expungeVolumeAsync volFactory getVolume root getId future get e s_logger debug root getId e Map VirtualMachineProfile Param Object params
VolumeInfo volumeInStorage volFactory getVolume root getId volumeInStorage s_logger info root getId AsyncCallFuture VolumeApiResult future _volService expungeVolumeAsync volFactory getVolume root getId future get e s_logger debug root getId e Map VirtualMachineProfile Param Object params String password password _mgr generateRandomPassword result resetVMPasswordInternal vmId password result
vm String rootDiskController String existingVmRootDiskController vm getDetail VmDetailConstants ROOT_DISK_CONTROLLER existingVmRootDiskController rootDiskController vm setDetail VmDetailConstants ROOT_DISK_CONTROLLER rootDiskController _vmDao saveDetails vm
List VolumeVO listVolumes type listVolumes _volsDao findByInstanceAndType vmId type type listVolumes _volsDao findByInstanceAndType vmId type listVolumes _volsDao findByInstance vmId s_logger debug listVolumes size type vmId VolumeVO volume listVolumes Long volumeId volume getId s_logger debug volumeId List SnapshotVO ongoingSnapshots _snapshotDao listByStatus volumeId Snapshot State Creating Snapshot State CreatedOnPrimary Snapshot State BackingUp ongoingSnapshotsCount ongoingSnapshots size s_logger debug vmId type ongoingSnapshotsCount ongoingSnapshotsCount
volume Volume detachResult _volumeService detachVolumeViaDestroyVM volume getInstanceId volume getId detachResult
volume deleteResult _volumeService deleteVolume volume getId CallContext current getCallingAccount deleteResult
vm vm s_logger debug vmId vm UnsupportedServiceException List VolumeVO volumes _volsDao findByInstance vm getId checkUnmanagingVMOngoingVolumeSnapshots vm checkUnmanagingVMVolumes vm volumes result _itMgr unmanage vm getUuid result cleanupUnmanageVMResources vm getId unmanageVMFromDB vm getId publishUnmanageVMUsageEvents vm volumes CloudRuntimeException vm getUuid
userVmVo userVmVo State InvalidParameterValueException _accountMgr checkAccess caller userVmVo vmId _vmSnapshotMax CloudRuntimeException _vmSnapshotMax List VolumeVO listVolumes _volumeDao findByInstance vmId VolumeVO volume listVolumes List SnapshotVO activeSnapshots _snapshotDao listByInstanceId volume getInstanceId Snapshot State Creating Snapshot State CreatedOnPrimary Snapshot State BackingUp activeSnapshots CloudRuntimeException userVmVo volume CloudRuntimeException vmId CloudRuntimeException VMSnapshot Type vmSnapshotType VMSnapshot Type Disk
List VolumeVO volumeVos _volumeDao findByInstanceAndType vmId Type ROOT volumeVos volumeVos CloudRuntimeException VolumeVO rootVolume volumeVos get rootVolume getState CloudRuntimeException vmId rootVolume getState VMSnapshotVO vmSnapshot _vmSnapshotDao findById vmSnapshotId vmSnapshot CloudRuntimeException vmSnapshotId VMSnapshotOptions options VMSnapshotOptions quiescevm vmSnapshot setOptions options VMSnapshotStrategy strategy findVMSnapshotStrategy vmSnapshot VMSnapshot snapshot strategy takeVMSnapshot vmSnapshot snapshot
_accountMgr checkAccess caller vmSnapshot List VMSnapshot State validStates Arrays asList VMSnapshot State Ready VMSnapshot State Expunging VMSnapshot State Error VMSnapshot State Allocated validStates vmSnapshot InvalidParameterValueException vmSnapshotId validStates toString vmSnapshot getVmId List VMSnapshotVO expungingSnapshots _vmSnapshotDao listByInstanceId vmSnapshot getVmId VMSnapshot State Expunging expungingSnapshots size expungingSnapshots get getId vmSnapshot getId s_logger debug vmSnapshot getDisplayName InvalidParameterValueException vmSnapshot VMSnapshot State Allocated _vmSnapshotDao remove vmSnapshot getId VMSnapshotStrategy strategy findVMSnapshotStrategy vmSnapshot strategy deleteVMSnapshot vmSnapshot
vmId serviceOfferingId details result result _userVmManager upgradeVirtualMachine vmId serviceOfferingId details result
InvalidParameterValueException Account caller getCaller _accountMgr checkAccess caller vmSnapshotVo userVm userVm InvalidParameterValueException vmSnapshotVo InvalidParameterValueException UserVmVO vm Long hostId userVm vmSnapshotVo _itMgr advanceStart userVm getUuid HashMap VirtualMachineProfile Param Object vm _userVMDao findById userVm getId hostId vm getHostId
InvalidParameterValueException InvalidParameterValueException UserVmVO vm Long hostId userVm _itMgr advanceStart userVm getUuid HashMap VirtualMachineProfile Param Object vm _userVMDao findById userVm getId hostId vm getHostId e s_logger error userVm getInstanceName e getMessage CloudRuntimeException e getMessage userVm
s_logger error userVm getInstanceName e getMessage CloudRuntimeException e getMessage userVm vmSnapshotVo _itMgr advanceStop userVm getUuid e s_logger error userVm getInstanceName e getMessage CloudRuntimeException e getMessage userVm InvalidParameterValueException VMSnapshotStrategy strategy findVMSnapshotStrategy vmSnapshotVo strategy revertVMSnapshot vmSnapshotVo CloudRuntimeException
ControlledEntity ACLType aclType Account owner domainLevel projectId domainId accountName verifyAccessToDomainWideProcessor caller processor DomainVO domain getDomain domainId _accountMgr checkAccess caller domain owner _accountMgr getAccount Account ACCOUNT_ID_SYSTEM aclType ControlledEntity ACLType Domain domainLevel owner _accountMgr finalizeOwner caller accountName domainId projectId aclType ControlledEntity ACLType Account verifyAffinityGroupNameInUse owner getAccountId owner getDomainId affinityGroupName verifyDomainLevelAffinityGroupName domainLevel owner getDomainId affinityGroupName
deleteAffinityGroup Long affinityGroupId account Long projectId Long domainId affinityGroupName AffinityGroupVO group getAffinityGroup affinityGroupId account projectId domainId affinityGroupName Account caller CallContext current getCallingAccount _accountMgr checkAccess caller AccessType OperateEntry group Long affinityGroupIdFinal group getId deleteAffinityGroup affinityGroupIdFinal Pair Class Long params Pair Class Long AffinityGroup affinityGroupIdFinal _messageBus publish _name EntityManager MESSAGE_REMOVE_ENTITY_EVENT PublishScope LOCAL params
affinityGroupId AffinityGroupVO ag _affinityGroupDao findById affinityGroupId ag InvalidParameterValueException affinityGroupId ag _accountMgr checkAccess caller owner ag caller _accountMgr caller ag owner PermissionDeniedException ag _accountMgr checkAccess caller owner ag caller _accountMgr caller ag owner PermissionDeniedException ag
removeAnnotationCmd String uuid removeAnnotationCmd getUuid
List AnnotationVO cmd List AnnotationVO annotations cmd getUuid annotations ArrayList String uuid cmd getUuid toString
List AnnotationVO cmd List AnnotationVO annotations cmd getUuid annotations ArrayList String uuid cmd getUuid toString LOGGER LOGGER debug uuid annotations add annotationDao findByUuid uuid cmd getEntityType cmd getEntityType String type cmd getEntityType LOGGER LOGGER debug type cmd getEntityUuid String uuid cmd getEntityUuid toString LOGGER
validateForZone backup getZoneId VMInstanceVO vm vmInstanceDao findById vmId vm CloudRuntimeException accountManager checkAccess CallContext current getCallingAccount vm vm CloudRuntimeException backup getZoneId vm CloudRuntimeException VMInstanceVO vmFromBackup vmInstanceDao findByIdIncludingRemoved backup getVmId vmFromBackup CloudRuntimeException accountManager checkAccess CallContext current getCallingAccount vmFromBackup Pair String String restoreInfo getRestoreVolumeHostAndDatastore vm String hostIp restoreInfo first
SearchCriteria BackupScheduleVO sc backupScheduleDao createSearchCriteria sc addAnd SearchCriteria Op NNULL List BackupScheduleVO backupSchedules backupScheduleDao search sc BackupScheduleVO backupSchedule backupSchedules Long asyncJobId backupSchedule getAsyncJobId AsyncJobVO asyncJob asyncJobManager getAsyncJob asyncJobId asyncJob nextDateTime backupSchedule String nextScheduledTime DateUtil displayDateInTimezone DateUtil GMT_TIMEZONE nextDateTime
String displayTime DateUtil displayDateInTimezone DateUtil GMT_TIMEZONE currentTimestamp
backupSchedule Long backupScheduleId backupSchedule getId Long vmId backupSchedule getVmId VMInstanceVO vm vmInstanceDao findById vmId vm vm getBackupOfferingId backupScheduleDao remove backupScheduleId BackupOffering offering backupOfferingDao findById vm getBackupOfferingId offering offering vm Account backupAccount accountService getAccount vm getAccountId backupAccount backupAccount Account
backupScheduleDao remove backupScheduleId BackupOffering offering backupOfferingDao findById vm getBackupOfferingId offering offering vm Account backupAccount accountService getAccount vm getAccountId backupAccount backupAccount Account LOG LOG debug vm getUuid LOG Date scheduledTimestamp backupSchedule getScheduledTimestamp displayTime DateUtil displayDateInTimezone DateUtil GMT_TIMEZONE scheduledTimestamp
sshAccessDetails sshAccessDetails cmd setAccessDetail sshAccessDetails CallContext current setEventDetails host getId SetupCertificateAnswer answer SetupCertificateAnswer agentManager send host getId cmd answer CallContext current setEventDetails host getId CallContext current setEventDetails host getId answer getActiveCertificatesMap put host getPrivateIpAddress certificate getClientCertificate sshAccessDetails reconnect reconnect LOG info String format host getId host getName host getPublicIpAddress agentManager reconnect host getId
Answer vmInstance zipFileName DeleteFileInVrCommand cmd DeleteFileInVrCommand zipFileName configureNetworkElementCommand cmd vmInstance Answer fileCleanupAnswer agentManager easySend vmInstance getHostId cmd fileCleanupAnswer
String store String vmSshIp String diagnosticsFile LOGGER info String format diagnosticsFile vmSshIp store getUri success String mountPoint mountManager getMountPoint store getUri imageStoreDetailsUtil getNfsVersion store getId mountPoint
String mountPoint mountManager getMountPoint store getUri imageStoreDetailsUtil getNfsVersion store getId mountPoint LOGGER error store getName Pair store getName String dataDirectoryInSecondaryStore String format mountPoint DIAGNOSTICS_DIRECTORY File dataDirectory File dataDirectoryInSecondaryStore existsInSecondaryStore dataDirectory exists dataDirectory mkdir existsInSecondaryStore File permKey File SshHelper scpFrom vmSshIp permKey dataDirectoryInSecondaryStore diagnosticsFile File fileInSecondaryStore File dataDirectoryInSecondaryStore diagnosticsFile replace success fileInSecondaryStore exists String msg String format vmSshIp dataDirectoryInSecondaryStore
VMInstanceVO vmId VMInstanceVO vmInstance instanceDao findByIdTypes vmId VirtualMachine Type ConsoleProxy VirtualMachine Type DomainRouter VirtualMachine Type SecondaryStorageVm vmInstance String msg String format vmId
CloudRuntimeException templateId Map String String details template getDetails String url template getUrl String checksum template getChecksum Map String String headers getHeadersFromDetails details DataStore store dataStoreManager getDataStore poolId DataStoreRole Primary store CloudRuntimeException poolId PrimaryDataStore primaryDataStore PrimaryDataStore store PrimaryDataStoreTO to PrimaryDataStoreTO primaryDataStore getTO DownloadProtocol protocol getProtocolFromUrl url DirectDownloadCommand cmd getDirectDownloadCommandFromProtocol protocol url templateId to checksum headers cmd setTemplateSize template getSize cmd setIso template getFormat ImageFormat ISO Answer answer sendDirectDownloadCommand cmd template poolId host
Answer poolId host downloaded retry StoragePoolVO storagePoolVO primaryDataStoreDao findById poolId Long hostsToRetry getHostsToRetryOn host storagePoolVO hostIndex Answer answer Long hostToSendDownloadCmd hostsToRetry hostIndex continueRetrying downloaded retry continueRetrying
DirectDownloadCertificateVO certificateVO HypervisorType hypervisorType HypervisorType getType hypervisor hostId hosts getRunningHostsToUploadCertificate zoneId hypervisorType String certificatePem getPretifiedCertificate certificateCer certificateSanity certificatePem certificateVO directDownloadCertificateDao findByAlias alias hypervisorType zoneId certificateVO CloudRuntimeException alias certificateVO DirectDownloadCertificateVO alias certificatePem hypervisorType zoneId directDownloadCertificateDao persist certificateVO HostVO host hostDao findById hostId hosts Collections singletonList host certificateVO directDownloadCertificateDao findByAlias alias hypervisorType zoneId
hosts getRunningHostsToUploadCertificate zoneId hypervisorType String certificatePem getPretifiedCertificate certificateCer certificateSanity certificatePem certificateVO directDownloadCertificateDao findByAlias alias hypervisorType zoneId certificateVO CloudRuntimeException alias certificateVO DirectDownloadCertificateVO alias certificatePem hypervisorType zoneId directDownloadCertificateDao persist certificateVO HostVO host hostDao findById hostId hosts Collections singletonList host certificateVO directDownloadCertificateDao findByAlias alias hypervisorType zoneId certificateVO s_logger info zoneId
HostVO host hostDao findById hostId hosts Collections singletonList host certificateVO directDownloadCertificateDao findByAlias alias hypervisorType zoneId certificateVO s_logger info zoneId s_logger info alias hosts size zoneId hostCount hosts HostVO host hosts certificateVO host String msg alias host getName host getUuid s_logger error msg CloudRuntimeException msg
List DirectDownloadCertificateHostMapVO maps hostId maps directDownloadCertificateHostMapDao listByCertificateId certificateVO getId DirectDownloadCertificateHostMapVO hostMap directDownloadCertificateHostMapDao findByCertificateAndHost certificateVO getId hostId hostMap s_logger info certificateAlias hostId maps Collections singletonList hostMap s_logger info certificateAlias maps size maps DirectDownloadCertificateHostMapVO map maps Long mappingHostId map getHostId certificateAlias mappingHostId String msg mappingHostId
maps directDownloadCertificateHostMapDao listByCertificateId certificateVO getId DirectDownloadCertificateHostMapVO hostMap directDownloadCertificateHostMapDao findByCertificateAndHost certificateVO getId hostId hostMap s_logger info certificateAlias hostId maps Collections singletonList hostMap s_logger info certificateAlias maps size maps DirectDownloadCertificateHostMapVO map maps Long mappingHostId map getHostId certificateAlias mappingHostId String msg mappingHostId s_logger error msg CloudRuntimeException msg
Host host HAConfig haConfig haConfigDao findHAResource host getId HAResource ResourceType Host haConfig haConfig HAConfig
Host host HAConfig haConfig haConfigDao findHAResource host getId HAResource ResourceType Host haConfig haConfig HAConfig
certId certVO _sslCertDao findById certId certVO InvalidParameterValueException certId _accountMgr checkAccess caller SecurityChecker AccessType UseEntry certVO certLbMap _lbCertDao listByCertId certId certResponseList add createCertResponse certVO certLbMap certResponseList lbRuleId LoadBalancer lb _entityMgr findById LoadBalancerVO lbRuleId lb InvalidParameterValueException lbRuleId _accountMgr checkAccess caller SecurityChecker AccessType UseEntry lb LoadBalancerCertMapVO lbCertMapRule lbCertMapRule _lbCertDao findByLbRuleId lbRuleId
privateGW VirtualRouter router privateGW getRouter NicProfile nicProfile privateGW getNicProfile isAddOperation privateGW isAddOperation router PrivateIpVO ipVO privateGW retrivePrivateIP Network network privateGW retrievePrivateNetwork String netmask NetUtils getCidrNetmask network getCidr PrivateIpAddress ip PrivateIpAddress ipVO network getBroadcastUri toString network getGateway netmask nicProfile getMacAddress List PrivateIpAddress privateIps ArrayList PrivateIpAddress privateIps add ip Commands cmds Commands Command OnError Stop _commandSetupHelper createVpcAssociatePrivateIPCommands router privateIps cmds isAddOperation router cmds
List PrivateIpAddress privateIps ArrayList PrivateIpAddress privateIps add ip Commands cmds Commands Command OnError Stop _commandSetupHelper createVpcAssociatePrivateIPCommands router privateIps cmds isAddOperation router cmds s_logger debug ip network s_logger warn ip network s_logger warn isAddOperation network router router
host String hostAlertCache asMap putIfAbsent host getId Long sentCount hostAlertCache asMap get host getId sentCount sentCount concurrentUpdateResult hostAlertCache asMap replace host getId sentCount sentCount concurrentUpdateResult String subject String format host getId host getClusterId host getDataCenterId
Long actionTimeOut timeout actionTimeOut actionTimeOut ActionTimeout valueIn host getClusterId OutOfBandManagementDriverPowerCommand cmd OutOfBandManagementDriverPowerCommand options actionTimeOut powerOperation OutOfBandManagementDriverResponse driverResponse driver execute cmd driverResponse CloudRuntimeException String format powerOperation host getUuid powerOperation transitionPowerState driverResponse toEvent outOfBandManagementConfig driverResponse String errorMessage String format powerOperation host getUuid driverResponse getError driverResponse errorMessage String format powerOperation host getUuid driverResponse getError sendAuthError host errorMessage powerOperation
name name name serviceId ManagementServerNode getManagementServerId poolSize SyncThreadPoolSize value hostAlertCache CacheBuilder newBuilder concurrencyLevel weakKeys maximumSize poolSize expireAfterWrite TimeUnit DAYS build backgroundSyncBlockingExecutor ThreadPoolExecutor poolSize poolSize TimeUnit MILLISECONDS ArrayBlockingQueue Runnable poolSize ThreadPoolExecutor CallerRunsPolicy backgroundPollManager submitTask OutOfBandManagementPowerStatePollTask
method InputStream is method getResponseBodyAsStream XStream xstream XStream DomDriver xstream alias RegionAccount xstream alias RegionUser xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionUser xstream aliasField RegionUser in xstream is RegionAccount in readObject
xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionUser xstream aliasField RegionUser in xstream RegionAccount in readObject e s_logger error e getMessage e
xstream aliasField RegionAccount xstream aliasField RegionAccount xstream aliasField RegionUser xstream aliasField RegionUser in xstream RegionAccount in readObject e s_logger error e getMessage e s_logger error e getMessage e
xstream aliasField RegionUser in xstream RegionAccount in readObject e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage e
RegionDomain region String command params String url buildUrl buildParams command params region HttpClient client HttpClient HttpMethod method GetMethod url client method InputStream is method getResponseBodyAsStream XStream xstream XStream DomDriver xstream alias RegionDomain xstream aliasField RegionDomain xstream aliasField RegionDomain xstream aliasField DomainVO in xstream is RegionDomain in readObject
method InputStream is method getResponseBodyAsStream XStream xstream XStream DomDriver xstream alias RegionDomain xstream aliasField RegionDomain xstream aliasField RegionDomain xstream aliasField DomainVO in xstream is RegionDomain in readObject e s_logger error e getMessage e
xstream alias RegionDomain xstream aliasField RegionDomain xstream aliasField RegionDomain xstream aliasField DomainVO in xstream RegionDomain in readObject e s_logger error e getMessage e s_logger error e getMessage e
xstream aliasField DomainVO in xstream RegionDomain in readObject e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage e
HttpClient client HttpClient HttpMethod method GetMethod url client method InputStream is method getResponseBodyAsStream XStream xstream XStream DomDriver xstream alias UserAccountVO xstream aliasField UserAccountVO in xstream is UserAccountVO in readObject e s_logger error e getMessage e
InputStream is method getResponseBodyAsStream XStream xstream XStream DomDriver xstream alias UserAccountVO xstream aliasField UserAccountVO in xstream is UserAccountVO in readObject e s_logger error e getMessage e s_logger error e getMessage e
xstream aliasField UserAccountVO in xstream UserAccountVO in readObject e s_logger error e getMessage e s_logger error e getMessage e s_logger error e getMessage e
domainName InvalidParameterValueException domainName GlobalLoadBalancerRuleVO gslbRuleWithDomainName _gslbRuleDao findByDomainName domainName gslbRuleWithDomainName InvalidParameterValueException domainName Region region _regionDao findById regionId region InvalidParameterValueException regionId String providerDnsName _globalConfigDao getValue Config CloudDnsName key region Region providerDnsName CloudRuntimeException region getName GlobalLoadBalancerRuleVO newGslbRule GlobalLoadBalancerRuleVO GlobalLoadBalancerRuleVO GlobalLoadBalancerRuleVO newGslbRule GlobalLoadBalancerRuleVO name description domainName algorithm stickyMethod serviceType regionId gslbOwner getId gslbOwner getDomainId GlobalLoadBalancerRule State Staged _gslbRuleDao persist newGslbRule
CallContext ctx CallContext current Account caller ctx getCallingAccount _accountMgr checkAccess caller SecurityChecker AccessType OperateEntry gslbRule algorithm GlobalLoadBalancerRule algorithm InvalidParameterValueException algorithm stickyMethod GlobalLoadBalancerRule stickyMethod InvalidParameterValueException stickyMethod algorithm gslbRule setAlgorithm algorithm stickyMethod gslbRule setPersistence stickyMethod description gslbRule setDescription description gslbRule setState GlobalLoadBalancerRule State Add _gslbRuleDao update gslbRule getId gslbRule
ServerApiException ApiErrorCode INTERNAL_ERROR String format userVm getInstanceName sourceHost serviceOffering LOGGER debug String format vm getUuid VirtualMachineProfile profile VirtualMachineProfileImpl vm template serviceOffering owner DeploymentPlanner ExcludeList excludeList DeploymentPlanner ExcludeList excludeList addHost sourceHost getId DataCenterDeployment plan DataCenterDeployment sourceHost getDataCenterId sourceHost getPodId sourceHost getClusterId DeployDestination dest dest deploymentPlanningManager planDeployment profile plan excludeList e LOGGER warn String format vm getInstanceName e cleanupFailedImportVM vm ServerApiException ApiErrorCode INTERNAL_ERROR String format vm getInstanceName dest
cleanupFailedImportVM vm ServerApiException ApiErrorCode INTERNAL_ERROR String format vm getInstanceName dest LOGGER LOGGER debug dest dest cleanupFailedImportVM vm ServerApiException ApiErrorCode INTERNAL_ERROR String format vm getInstanceName vm VMInstanceVO vmInstanceVO vmDao findById userVm getId vmInstanceVO setHostId dest getHost getId vmInstanceVO setLastHostId dest getHost getId vmDao update vmInstanceVO getId vmInstanceVO
virtualMachineManager migrate vm getUuid sourceHost getId dest vm userVmManager getUserVm vm getId e LOGGER error String format vm getInstanceName e cleanupFailedImportVM vm ServerApiException ApiErrorCode INTERNAL_ERROR String format userVm getInstanceName e getMessage DiskProfile diskProfileStoragePool diskProfileStoragePool diskProfileStoragePool first diskProfileStoragePool DiskProfile profile diskProfileStoragePool first DiskOffering dOffering diskOfferingDao findById profile getDiskOfferingId dOffering VolumeVO volumeVO volumeDao findById profile getVolumeId
volumeVO poolSupportsOfferings storagePoolSupportsDiskOffering diskProfileStoragePool second dOffering poolSupportsOfferings profile poolSupportsOfferings storagePoolSupportsServiceOffering diskProfileStoragePool second serviceOffering poolSupportsOfferings LOGGER debug String format volumeVO getUuid Pair List StoragePool List StoragePool poolsPair managementService listStoragePoolsForMigrationOfVolume profile getVolumeId poolsPair poolsPair second cleanupFailedImportVM vm ServerApiException ApiErrorCode INTERNAL_ERROR String format userVm getInstanceName volumeVO getUuid List StoragePool storagePools poolsPair second StoragePool storagePool storagePools
List StoragePool storagePools poolsPair second StoragePool storagePool storagePools StoragePool pool storagePools second pool pool pool storagePool pool storagePool poolsPair first storagePools poolsPair first StoragePool pool storagePools second pool pool pool storagePool pool storagePool cleanupFailedImportVM vm
UsageEventUtils publishUsageEvent EventTypes EVENT_VM_CREATE userVm getAccountId userVm getAccountId userVm getDataCenterId userVm getHostName serviceOfferingVO getId userVm getTemplateId userVm getHypervisorType toString VirtualMachine getName userVm getUuid userVm getDetails userVm isDisplayVm userVm VirtualMachine UsageEventUtils publishUsageEvent EventTypes EVENT_VM_START userVm getAccountId userVm getDataCenterId userVm getId userVm getHostName serviceOfferingVO getId userVm getTemplateId userVm getHypervisorType toString VirtualMachine getName userVm getUuid userVm isDisplayVm e LOGGER error String format userVm getInstanceName e cleanupFailedImportVM userVm ServerApiException ApiErrorCode INTERNAL_ERROR String format userVm getInstanceName resourceLimitService incrementResourceCount userVm getAccountId Resource ResourceType user_vm userVm isDisplayVm resourceLimitService incrementResourceCount userVm getAccountId Resource ResourceType cpu userVm isDisplayVm Long serviceOfferingVO getCpu resourceLimitService incrementResourceCount userVm getAccountId Resource ResourceType memory userVm isDisplayVm Long serviceOfferingVO getRamSize List VolumeVO volumes volumeDao findByInstance userVm getId VolumeVO volume volumes UsageEventUtils publishUsageEvent EventTypes EVENT_VOLUME_CREATE volume getAccountId volume getDataCenterId volume getId volume getName volume getDiskOfferingId volume getSize Volume getName volume getUuid volume isDisplayVolume
LOGGER error String format userVm getInstanceName e cleanupFailedImportVM userVm ServerApiException ApiErrorCode INTERNAL_ERROR String format userVm getInstanceName resourceLimitService incrementResourceCount userVm getAccountId Resource ResourceType user_vm userVm isDisplayVm resourceLimitService incrementResourceCount userVm getAccountId Resource ResourceType cpu userVm isDisplayVm Long serviceOfferingVO getCpu resourceLimitService incrementResourceCount userVm getAccountId Resource ResourceType memory userVm isDisplayVm Long serviceOfferingVO getRamSize List VolumeVO volumes volumeDao findByInstance userVm getId VolumeVO volume volumes UsageEventUtils publishUsageEvent EventTypes EVENT_VOLUME_CREATE volume getAccountId volume getDataCenterId volume getId volume getName volume getDiskOfferingId volume getSize Volume getName volume getUuid volume isDisplayVolume e LOGGER error String format volume getUuid e resourceLimitService incrementResourceCount userVm getAccountId Resource ResourceType volume volume isDisplayVolume resourceLimitService incrementResourceCount userVm getAccountId Resource ResourceType primary_storage volume isDisplayVolume volume getSize List NicVO nics nicDao listByVmId userVm getId
migrateAllowed host validatedServiceOffering InvalidParameterValueException String format serviceOffering getUuid host getUuid instanceName List UnmanagedInstanceTO Disk unmanagedInstanceDisks unmanagedInstance getDisks unmanagedInstanceDisks ServerApiException ApiErrorCode INTERNAL_ERROR String format instanceName UnmanagedInstanceTO Disk rootDisk unmanagedInstance getDisks get rootDisk rootDisk getController ServerApiException ApiErrorCode INTERNAL_ERROR String format instanceName allDetails put VmDetailConstants ROOT_DISK_CONTROLLER rootDisk getController List UnmanagedInstanceTO Disk dataDisks ArrayList checkUnmanagedDiskAndOfferingForImport rootDisk validatedServiceOffering owner zone cluster migrateAllowed unmanagedInstanceDisks dataDisks addAll unmanagedInstanceDisks dataDisks remove
PowerState PowerOn powerState VirtualMachine PowerState PowerOn userVm userVmManager importVM zone host template instanceName displayName owner caller owner getAccountId userId validatedServiceOffering hostName cluster getHypervisorType allDetails powerState ice LOGGER error String format instanceName ice ServerApiException ApiErrorCode INSUFFICIENT_CAPACITY_ERROR ice getMessage userVm ServerApiException ApiErrorCode INTERNAL_ERROR String format instanceName List Pair DiskProfile StoragePool diskProfileStoragePoolList ArrayList rootDisk rootDisk InvalidParameterValueException String format rootDisk getDiskId Long minIops
ServerApiException ApiErrorCode INTERNAL_ERROR String format instanceName List Pair DiskProfile StoragePool diskProfileStoragePoolList ArrayList rootDisk getCapacity rootDisk getCapacity InvalidParameterValueException String format rootDisk getDiskId Long minIops details minIops Long parseLong details get Long maxIops details maxIops Long parseLong details get diskProfileStoragePoolList add importDisk rootDisk userVm cluster serviceOffering Volume Type ROOT String format userVm getId rootDisk getCapacity Resource ResourceType bytesToGiB minIops maxIops template owner getCapacity getCapacity InvalidParameterValueException String format rootDisk getDiskId
tableLockId networkDao releaseFromLockTable tableLockId
tableLockId vpcDao releaseFromLockTable tableLockId
accountVlanMaps add accountVlanMap when configurationMgr _accountVlanMapDao listAccountVlanMapsByVlan anyLong thenReturn accountVlanMaps when configurationMgr _publicIpAddressDao countIPs anyLong anyLong anyBoolean thenReturn List IPAddressVO ipAddressList ArrayList IPAddressVO IPAddressVO ipAddress IPAddressVO Ip ipAddressList add ipAddress when configurationMgr _publicIpAddressDao listByVlanId anyLong thenReturn ipAddressList when configurationMgr _firewallDao countRulesByIpId anyLong thenReturn when configurationMgr _ipAddrMgr disassociatePublicIpAddress anyLong anyLong any Account thenReturn when configurationMgr _vlanDao releaseFromLockTable anyLong thenReturn when configurationMgr _accountVlanMapDao remove anyLong thenReturn Boolean result configurationMgr releasePublicIpRange releasePublicIpRangesCmd Assert assertTrue result
invalid unsupported networkService createPrivateNetwork e Assert assertEquals e getMessage invalid networkService createPrivateNetwork e Assert assertEquals e getMessage unsupported Assert assertEquals invalid Assert assertEquals unsupported e
networkService createPrivateNetwork e Assert assertEquals e getMessage invalid networkService createPrivateNetwork e Assert assertEquals e getMessage unsupported Assert assertEquals invalid Assert assertEquals unsupported e s_logger error e fail e
Assert assertEquals e getMessage invalid networkService createPrivateNetwork e Assert assertEquals e getMessage unsupported Assert assertEquals invalid Assert assertEquals unsupported e s_logger error e fail e s_logger error e fail
physicalNetwork addIsolationMethod AccountGuestVlanMapVO accountGuestVlanMapVO AccountGuestVlanMapVO when networkService _physicalNetworkDao findById anyLong thenReturn physicalNetwork when networkService _datacneterVnet listAllocatedVnetsInRange anyLong anyLong anyInt anyInt thenReturn when networkService _accountGuestVlanMapDao listAccountGuestVlanMapsByPhysicalNetwork anyLong thenReturn when networkService _accountGuestVlanMapDao persist any AccountGuestVlanMapVO thenReturn accountGuestVlanMapVO when networkService _datacneterVnet update anyLong any DataCenterVnetVO thenReturn List DataCenterVnetVO dataCenterVnetList ArrayList DataCenterVnetVO DataCenterVnetVO dataCenterVnetVO DataCenterVnetVO dataCenterVnetList add dataCenterVnetVO when networkService _datacneterVnet findVnet anyLong anyString thenReturn dataCenterVnetList GuestVlan result networkService dedicateGuestVlanRange dedicateGuestVlanRangesCmd Assert assertNotNull result
element Provider implementedProvider element getProvider implementedProvider implementedProvider
Field nameField _class getDeclaredField nameField setAccessible nameField set createCmd Field descriptionField _class getDeclaredField descriptionField setAccessible descriptionField set createCmd Field serviceDomainField _class getDeclaredField serviceDomainField setAccessible serviceDomainField set createCmd Field serviceTypeField _class getDeclaredField serviceTypeField setAccessible serviceTypeField set createCmd gslbServiceImpl createGlobalLoadBalancerRule createCmd
Field lbRules _class getDeclaredField lbRules setAccessible List Long lbRuleIds ArrayList Long lbRuleIds add Long lbRules set assignCmd lbRuleIds NetworkVO networkVo NetworkVO Field dcID NetworkVO getDeclaredField dcID setAccessible dcID set networkVo Long when gslbServiceImpl _networkDao findById Long thenReturn networkVo IPAddressVO ip IPAddressVO Ip when gslbServiceImpl _ipAddressDao findById Long thenReturn ip gslbServiceImpl assignToGlobalLoadBalancerRule assignCmd
when gslbServiceImpl _lbDao findById Long thenReturn lbRule2 Field lbRules _class getDeclaredField lbRules setAccessible List Long lbRuleIds ArrayList Long lbRuleIds add Long lbRuleIds add Long lbRules set assignCmd lbRuleIds NetworkVO networkVo NetworkVO Field dcID NetworkVO getDeclaredField dcID setAccessible dcID set networkVo Long when gslbServiceImpl _networkDao findById Long thenReturn networkVo gslbServiceImpl assignToGlobalLoadBalancerRule assignCmd
Field gslbRuleId _class getDeclaredField gslbRuleId setAccessible gslbRuleId set deleteCmd Long GlobalLoadBalancerRuleVO gslbRule GlobalLoadBalancerRuleVO GlobalLoadBalancerRule State Active when gslbServiceImpl _gslbRuleDao findById Long thenReturn gslbRule GlobalLoadBalancerLbRuleMapVO gslbLbMap GlobalLoadBalancerLbRuleMapVO gslbLbMap setGslbLoadBalancerId gslbLbMap setLoadBalancerId List GlobalLoadBalancerLbRuleMapVO gslbLbMapList ArrayList GlobalLoadBalancerLbRuleMapVO gslbLbMapList add gslbLbMap when gslbServiceImpl _gslbLbMapDao listByGslbRuleId Long thenReturn gslbLbMapList gslbServiceImpl deleteGlobalLoadBalancerRule deleteCmd Assert assertTrue gslbRule getState GlobalLoadBalancerRule State Revoke
when gslbServiceImpl _accountMgr getAccount anyLong thenReturn account Field gslbRuleId _class getDeclaredField gslbRuleId setAccessible gslbRuleId set deleteCmd Long GlobalLoadBalancerRuleVO gslbRule GlobalLoadBalancerRuleVO GlobalLoadBalancerRule State Active when gslbServiceImpl _gslbRuleDao findById Long thenReturn gslbRule GlobalLoadBalancerLbRuleMapVO gslbLmMap GlobalLoadBalancerLbRuleMapVO List GlobalLoadBalancerLbRuleMapVO gslbLbMapVos ArrayList GlobalLoadBalancerLbRuleMapVO gslbLbMapVos add gslbLmMap when gslbServiceImpl _gslbLbMapDao listByGslbRuleId Long thenReturn gslbLbMapVos gslbServiceImpl deleteGlobalLoadBalancerRule deleteCmd Assert assertTrue gslbRule getState GlobalLoadBalancerRule State Revoke Assert assertTrue gslbLmMap isRevoke
handleEvent Event STREAM_CLOSE Direction IN e s_logger info e getLocalizedMessage handleEvent Event STREAM_CLOSE Direction OUT e s_logger info e getLocalizedMessage sslSocket sslSocket close e s_logger info e getLocalizedMessage socket close e
handleEvent Event STREAM_CLOSE Direction IN e s_logger info e getLocalizedMessage handleEvent Event STREAM_CLOSE Direction OUT e s_logger info e getLocalizedMessage bcoSslSocket bcoSslSocket close e s_logger info e getLocalizedMessage socket close e
SSLSocketFactory sslSocketFactory SSLSocketFactory SSLSocketFactory getDefault SSLSocket sslSocket SSLSocket sslSocketFactory createSocket socket serverSocket getLocalPort sslSocket setEnabledCipherSuites sslSocket getSupportedCipherSuites sslSocket setUseClientMode sslSocket startHandshake is sslSocket getInputStream os sslSocket getOutputStream is close e s_logger info e getLocalizedMessage
s_logger info
s_logger info String key conf getProperty String key String s conf getProperty s httpListenPort Integer parseInt s s_logger info s s conf getProperty s s s_logger info httpListenPort factoryClzName factoryClzName ConsoleProxyBaseServerFactoryImpl getName s conf getProperty s httpCmdListenPort Integer parseInt s
authResult setSuccess authResult setReauthentication reauthentication authResult setHost param getClientHostAddress authResult setPort param getClientHostPort authResult authMethod Object result result authMethod invoke ConsoleProxy context param getClientHostAddress String valueOf param getClientHostPort param getClientTag param getClientHostPassword param getTicket Boolean reauthentication e s_logger error param getClientTag e authResult setSuccess authResult e
authMethod Object result result authMethod invoke ConsoleProxy context param getClientHostAddress String valueOf param getClientHostPort param getClientTag param getClientHostPassword param getTicket Boolean reauthentication e s_logger error param getClientTag e authResult setSuccess authResult e s_logger error param getClientTag e authResult setSuccess authResult result result String authResult Gson fromJson String result ConsoleProxyAuthenticationResult
password setEncryptorPassword password configLog4j Logger setFactory ConsoleProxyLoggerFactory s_logger info
Logger setFactory ConsoleProxyLoggerFactory s_logger info conf key conf s_logger info String key conf getProperty String key ConsoleProxy context context ConsoleProxy ksBits ksBits ConsoleProxy ksPassword ksPassword ClassLoader loader Thread currentThread getContextClassLoader Class contextClazz loader loadClass authMethod contextClazz getDeclaredMethod String String String String String Boolean reportMethod contextClazz getDeclaredMethod String ensureRouteMethod contextClazz getDeclaredMethod String
conf key conf s_logger info String key conf getProperty String key ConsoleProxy context context ConsoleProxy ksBits ksBits ConsoleProxy ksPassword ksPassword ClassLoader loader Thread currentThread getContextClassLoader Class contextClazz loader loadClass authMethod contextClazz getDeclaredMethod String String String String String Boolean reportMethod contextClazz getDeclaredMethod String ensureRouteMethod contextClazz getDeclaredMethod String e s_logger error e e
s_logger info String key conf getProperty String key ConsoleProxy context context ConsoleProxy ksBits ksBits ConsoleProxy ksPassword ksPassword ClassLoader loader Thread currentThread getContextClassLoader Class contextClazz loader loadClass authMethod contextClazz getDeclaredMethod String String String String String Boolean reportMethod contextClazz getDeclaredMethod String ensureRouteMethod contextClazz getDeclaredMethod String e s_logger error e e s_logger error e e
ConsoleProxy context context ConsoleProxy ksBits ksBits ConsoleProxy ksPassword ksPassword ClassLoader loader Thread currentThread getContextClassLoader Class contextClazz loader loadClass authMethod contextClazz getDeclaredMethod String String String String String Boolean reportMethod contextClazz getDeclaredMethod String ensureRouteMethod contextClazz getDeclaredMethod String e s_logger error e e s_logger error e e s_logger error e
e s_logger error e e s_logger error e InputStream confs ConsoleProxy getResourceAsStream Properties props Properties confs File file PropertiesUtil findConfigFile file s_logger info confs FileInputStream file e s_logger info confs
e s_logger error e InputStream confs ConsoleProxy getResourceAsStream Properties props Properties confs File file PropertiesUtil findConfigFile file s_logger info confs FileInputStream file e s_logger info confs props load confs props
ConsoleProxyServerFactory factory getHttpServerFactory factory s_logger error System exit HttpServer server factory createHttpServerInstance httpListenPort server createContext ConsoleProxyThumbnailHandler server createContext ConsoleProxyResourceHandler server createContext ConsoleProxyAjaxHandler server createContext ConsoleProxyAjaxImageHandler server setExecutor ThreadExecutor server start ConsoleProxyNoVNCServer noVNCServer getNoVNCServer noVNCServer start
configLog4j Logger setFactory ConsoleProxyLoggerFactory InputStream confs ConsoleProxy getResourceAsStream Properties conf Properties confs s_logger info conf load confs e s_logger error e toString e confs close
ConsoleProxyClient param ConsoleProxyClient viewer reportLoadChange String clientKey param getClientMapKey connectionMap viewer connectionMap get clientKey viewer viewer viewer getClient param viewer initClient param connectionMap put clientKey viewer
ConsoleProxyClient param String reportLoadChange String clientKey param getClientMapKey connectionMap ConsoleProxyClient viewer connectionMap get clientKey viewer viewer authenticationExternally param viewer getClient param viewer initClient param connectionMap put clientKey viewer
param setUsername username param setPassword password viewer ConsoleProxy getAjaxVncViewer param ajaxSessionIdStr e s_logger warn e getMessage e String content String StringBuffer sb StringBuffer i i content length i sb append content i sendResponse t sb toString viewer InputStream is t getRequestBody handleClientEventBag viewer convertStreamToString is
t s_logger isDebugEnabled s_logger debug t getRequestURI startTick System currentTimeMillis doHandle t s_logger isDebugEnabled s_logger debug t getRequestURI System currentTimeMillis startTick e e e s_logger warn e t sendResponseHeaders e s_logger error System exit e
t Thread currentThread setName Thread currentThread getId t getRemoteAddress
Thread currentThread setName Thread currentThread getId t getRemoteAddress s_logger info t getRequestURI doHandle t e s_logger error e toString e String response t sendResponseHeaders response length OutputStream os t getResponseBody os write response getBytes os close e s_logger error System exit e
t String path t getRequestURI getPath i path indexOf String cmd path substring i
String name param split String value param split map put name value paramTokens String name paramTokens String value paramTokens paramTokens map put name value s_logger isDebugEnabled s_logger debug param map get ConsoleProxyPasswordBasedEncryptor encryptor ConsoleProxyPasswordBasedEncryptor ConsoleProxy getEncryptorPassword ConsoleProxyClientParam param encryptor decryptObject ConsoleProxyClientParam map get guardUserInput map param param
String name paramTokens String value paramTokens paramTokens map put name value s_logger isDebugEnabled s_logger debug param map get ConsoleProxyPasswordBasedEncryptor encryptor ConsoleProxyPasswordBasedEncryptor ConsoleProxy getEncryptorPassword ConsoleProxyClientParam param encryptor decryptObject ConsoleProxyClientParam map get guardUserInput map param param getClientHostAddress s_logger debug param getClientHostAddress map put param getClientHostAddress s_logger error
s_logger isDebugEnabled s_logger debug param map get ConsoleProxyPasswordBasedEncryptor encryptor ConsoleProxyPasswordBasedEncryptor ConsoleProxy getEncryptorPassword ConsoleProxyClientParam param encryptor decryptObject ConsoleProxyClientParam map get guardUserInput map param param getClientHostAddress s_logger debug param getClientHostAddress map put param getClientHostAddress s_logger error param getClientHostPort s_logger debug param getClientHostPort map put String valueOf param getClientHostPort
param setClientParam param client NoVncClient connectionAlive updateFrontEndActivityTime String tunnelUrl param getClientTunnelUrl String tunnelSession param getClientTunnelSession tunnelUrl tunnelUrl tunnelSession tunnelSession URI uri URI tunnelUrl
String tunnelUrl param getClientTunnelUrl String tunnelSession param getClientTunnelSession tunnelUrl tunnelUrl tunnelSession tunnelSession URI uri URI tunnelUrl s_logger info tunnelUrl tunnelSession ConsoleProxy ensureRoute uri getHost client connectTo uri getHost uri getPort uri getPath uri getQuery tunnelSession equalsIgnoreCase uri getScheme s_logger info getClientHostAddress getClientHostPort ConsoleProxy ensureRoute getClientHostAddress client connectTo getClientHostAddress getClientHostPort
String tunnelUrl param getClientTunnelUrl String tunnelSession param getClientTunnelSession tunnelUrl tunnelUrl tunnelSession tunnelSession URI uri URI tunnelUrl s_logger info tunnelUrl tunnelSession ConsoleProxy ensureRoute uri getHost client connectTo uri getHost uri getPort uri getPath uri getQuery tunnelSession equalsIgnoreCase uri getScheme s_logger info getClientHostAddress getClientHostPort ConsoleProxy ensureRoute getClientHostAddress client connectTo getClientHostAddress getClientHostPort e s_logger error e e
tunnelUrl tunnelUrl tunnelSession tunnelSession URI uri URI tunnelUrl s_logger info tunnelUrl tunnelSession ConsoleProxy ensureRoute uri getHost client connectTo uri getHost uri getPort uri getPath uri getQuery tunnelSession equalsIgnoreCase uri getScheme s_logger info getClientHostAddress getClientHostPort ConsoleProxy ensureRoute getClientHostAddress client connectTo getClientHostAddress getClientHostPort e s_logger error e e s_logger error e e
text text text isEmpty text Cipher cipher Cipher getInstance SecretKeySpec keySpec SecretKeySpec keyIvPair getKeyBytes cipher init Cipher ENCRYPT_MODE keySpec IvParameterSpec keyIvPair getIvBytes encryptedBytes cipher doFinal text getBytes Base64 encodeBase64URLSafeString encryptedBytes e s_logger error e e s_logger error e e
Cipher cipher Cipher getInstance SecretKeySpec keySpec SecretKeySpec keyIvPair getKeyBytes cipher init Cipher ENCRYPT_MODE keySpec IvParameterSpec keyIvPair getIvBytes encryptedBytes cipher doFinal text getBytes Base64 encodeBase64URLSafeString encryptedBytes e s_logger error e e s_logger error e e s_logger error e e
encryptedBytes cipher doFinal text getBytes Base64 encodeBase64URLSafeString encryptedBytes e s_logger error e e s_logger error e e s_logger error e e s_logger error e e
e s_logger error e e s_logger error e e s_logger error e e s_logger error e e s_logger error e
String String encryptedText encryptedText encryptedText isEmpty encryptedText Cipher cipher Cipher getInstance SecretKeySpec keySpec SecretKeySpec keyIvPair getKeyBytes cipher init Cipher DECRYPT_MODE keySpec IvParameterSpec keyIvPair getIvBytes encryptedBytes Base64 decodeBase64 encryptedText String cipher doFinal encryptedBytes e s_logger error e e s_logger error e e
Cipher cipher Cipher getInstance SecretKeySpec keySpec SecretKeySpec keyIvPair getKeyBytes cipher init Cipher DECRYPT_MODE keySpec IvParameterSpec keyIvPair getIvBytes encryptedBytes Base64 decodeBase64 encryptedText String cipher doFinal encryptedBytes e s_logger error e e s_logger error e e s_logger error e e
encryptedBytes Base64 decodeBase64 encryptedText String cipher doFinal encryptedBytes e s_logger error e e s_logger error e e s_logger error e e s_logger error e e
e s_logger error e e s_logger error e e s_logger error e e s_logger error e e s_logger error e
pipeline add _socket _client pipeline link _client getId pipeline validate InetSocketAddress address InetSocketAddress host port ConsoleProxy ensureRoute host _workerDone s_logger info _socket connect address e s_logger info e getMessage shutdown _threadStopTime System currentTimeMillis s_logger info
port HttpsServer server HttpsServer create InetSocketAddress port server params InetSocketAddress remote params getClientAddress SSLContext c getSSLContext SSLParameters sslparams c getDefaultSSLParameters params setSSLParameters sslparams params setProtocols SSLUtils getRecommendedProtocols params setCipherSuites SSLUtils getRecommendedCiphers s_logger info port server
SSLServerSocket port SSLServerSocket srvSock SSLServerSocketFactory ssf sslContext getServerSocketFactory srvSock SSLServerSocket ssf createServerSocket port srvSock setEnabledProtocols SSLUtils getRecommendedProtocols srvSock setEnabledCipherSuites SSLUtils getRecommendedCiphers
s_logger isDebugEnabled s_logger debug t getRequestURI startTick System currentTimeMillis doHandle t s_logger isDebugEnabled s_logger debug t getRequestURI System currentTimeMillis startTick String response s_logger error response t getRequestURI t sendResponseHeaders response length OutputStream os t getResponseBody os write response getBytes os close s_logger error System exit
os close e s_logger error System exit e s_logger error e String queries t getRequestURI getQuery Map String String queryMap getQueryMap queries width height String ws queryMap get String hs queryMap get width Integer parseInt ws height Integer parseInt hs
width Integer parseInt ws height Integer parseInt hs ex s_logger debug ws hs ex width Math min width height Math min height BufferedImage img generateTextImage width height ByteArrayOutputStream bos ByteArrayOutputStream javax imageio ImageIO write img bos bs bos toByteArray Headers hds t getResponseHeaders hds set hds set hds set t sendResponseHeaders bs length
param setClientParam param client VncClient String tunnelUrl getClientParam getClientTunnelUrl String tunnelSession getClientParam getClientTunnelSession tunnelUrl tunnelUrl tunnelSession tunnelSession URI uri URI tunnelUrl
String tunnelUrl getClientParam getClientTunnelUrl String tunnelSession getClientParam getClientTunnelSession tunnelUrl tunnelUrl tunnelSession tunnelSession URI uri URI tunnelUrl s_logger info tunnelUrl tunnelSession ConsoleProxy ensureRoute uri getHost client connectTo uri getHost uri getPort uri getPath uri getQuery tunnelSession equalsIgnoreCase uri getScheme getClientHostPassword s_logger info getClientHostAddress getClientHostPort ConsoleProxy ensureRoute getClientHostAddress client connectTo getClientHostAddress getClientHostPort getClientHostPassword
String tunnelUrl getClientParam getClientTunnelUrl String tunnelSession getClientParam getClientTunnelSession tunnelUrl tunnelUrl tunnelSession tunnelSession URI uri URI tunnelUrl s_logger info tunnelUrl tunnelSession ConsoleProxy ensureRoute uri getHost client connectTo uri getHost uri getPort uri getPath uri getQuery tunnelSession equalsIgnoreCase uri getScheme getClientHostPassword s_logger info getClientHostAddress getClientHostPort ConsoleProxy ensureRoute getClientHostAddress client connectTo getClientHostAddress getClientHostPort getClientHostPassword e s_logger error e e
tunnelUrl tunnelUrl tunnelSession tunnelSession URI uri URI tunnelUrl s_logger info tunnelUrl tunnelSession ConsoleProxy ensureRoute uri getHost client connectTo uri getHost uri getPort uri getPath uri getQuery tunnelSession equalsIgnoreCase uri getScheme getClientHostPassword s_logger info getClientHostAddress getClientHostPort ConsoleProxy ensureRoute getClientHostAddress client connectTo getClientHostAddress getClientHostPort getClientHostPassword e s_logger error e e s_logger error e e
factory logger logger factory getLogger clazz
factory logger logger factory getLogger clazz
factory logger logger factory getLogger clazz
factory logger logger factory getLogger clazz
factory logger logger factory getLogger clazz
factory logger logger factory getLogger clazz
SSLContext context context SSLUtils getSSLContext e s_logger error e e s_logger error e context IOException SSLSocket ssl context init trustAllCerts SecureRandom SocketFactory factory SecureSSLSocketFactory context ssl SSLSocket factory createSocket host port ssl setEnabledProtocols SSLUtils getSupportedProtocols ssl getEnabledProtocols IOException e
e s_logger error e e s_logger error e context IOException SSLSocket ssl context init trustAllCerts SecureRandom SocketFactory factory SecureSSLSocketFactory context ssl SSLSocket factory createSocket host port ssl setEnabledProtocols SSLUtils getSupportedProtocols ssl getEnabledProtocols IOException e s_logger error e getMessage e e e
s_logger error e e s_logger error e context IOException SSLSocket ssl context init trustAllCerts SecureRandom SocketFactory factory SecureSSLSocketFactory context ssl SSLSocket factory createSocket host port ssl setEnabledProtocols SSLUtils getSupportedProtocols ssl getEnabledProtocols IOException e s_logger error e getMessage e e e s_logger error e getMessage e
String authType is readInt authType RfbConstants length is readInt buf length is readFully buf String reason String buf RfbConstants CHARSET
args printHelpMessage System exit String host args String port args String password args VncClient host Integer parseInt port password s_logger error port System exit s_logger error host System exit
String host args String port args String password args VncClient host Integer parseInt port password e s_logger error port System exit e s_logger error host System exit e s_logger error e getMessage System exit e
receiver receiver closeConnection is is close e s_logger info e getLocalizedMessage os os close e s_logger info e getLocalizedMessage socket socket close e
String authType is readInt authType RfbConstants length is readInt buf length is readFully buf String reason String buf RfbConstants CHARSET
messageType is readUnsignedByte messageType fburListener frameBufferPacketReceived FramebufferUpdatePacket canvas screen is clientListener serverBell serverCutText is messageType
is ServerCutText clipboardContent ServerCutText is StringSelection contents StringSelection clipboardContent getContent Toolkit getDefaultToolkit getSystemClipboard setContents contents
is is skipBytes length is readInt buf length is readFully buf content String buf RfbConstants CHARSET
List SecondaryStorageVmVO alreadyRunning _secStorageVmDao getSecStorageVmListInStates SecondaryStorageVm Role templateProcessor dataCenterId State Running State Migrating State Starting alreadyRunning s_logger info dataCenterId List SecondaryStorageVmVO stopped _secStorageVmDao getSecStorageVmListInStates SecondaryStorageVm Role templateProcessor dataCenterId State Stopped State Stopping stopped List SecondaryStorageVmVO stopping _secStorageVmDao getSecStorageVmListInStates SecondaryStorageVm Role templateProcessor State Stopping stopping s_logger info Pair AfterScanAction Object AfterScanAction nop expandPool pool SecondaryStorageVm Role templateProcessor alreadyRunning s_logger info Pair AfterScanAction Object AfterScanAction nop alreadyRunning _secStorageVmDao getSecStorageVmListInStates dataCenterId State Running State Migrating State Starting
setupCmd SecStorageSetupCommand ssStore getTO secUrl KeystoreManager Certificates certs _keystoreMgr getCertificates ConsoleProxyManager CERTIFICATE_NAME setupCmd SecStorageSetupCommand ssStore getTO secUrl certs String nfsVersion imageStoreDetailsUtil getNfsVersion ssStore getId setupCmd setNfsVersion nfsVersion String postUploadKey _configDao getValue Config SSVMPSK key setupCmd setPostUploadKey postUploadKey Answer answer _agentMgr easySend ssHostId setupCmd answer answer SecStorageSetupAnswer an SecStorageSetupAnswer answer an get_dir ImageStoreVO svo _imageStoreDao findById ssStore getId svo setParent an get_dir
KeystoreManager Certificates certs _keystoreMgr getCertificates ConsoleProxyManager CERTIFICATE_NAME setupCmd SecStorageSetupCommand ssStore getTO secUrl certs String nfsVersion imageStoreDetailsUtil getNfsVersion ssStore getId setupCmd setNfsVersion nfsVersion String postUploadKey _configDao getValue Config SSVMPSK key setupCmd setPostUploadKey postUploadKey Answer answer _agentMgr easySend ssHostId setupCmd answer answer SecStorageSetupAnswer an SecStorageSetupAnswer answer an get_dir ImageStoreVO svo _imageStoreDao findById ssStore getId svo setParent an get_dir _imageStoreDao update ssStore getId svo
_allowedInternalSites List String allowedCidrs ArrayList String String cidrs _allowedInternalSites split String cidr cidrs cidr cidr cidr allowedCidrs add cidr setupCmd setAllowedInternalSites allowedCidrs toArray String allowedCidrs size String copyPasswd _configDao getValue setupCmd setCopyPassword copyPasswd setupCmd setCopyUserName TemplateConstants DEFAULT_HTTP_AUTH_USER Answer answer _agentMgr easySend ssAHostId setupCmd answer answer s_logger s_logger debug secStorageVm getHostName
thisSecStorageVm s_logger warn ssAHost getName String copyPort _useSSlCopy Integer toString TemplateConstants DEFAULT_TMPLT_COPY_PORT SecStorageFirewallCfgCommand thiscpc SecStorageFirewallCfgCommand thiscpc addPortConfig thisSecStorageVm getPublicIpAddress copyPort TemplateConstants DEFAULT_TMPLT_COPY_INTF QueryBuilder HostVO sc QueryBuilder create HostVO sc and sc entity getType Op EQ Host Type SecondaryStorageVM sc and sc entity getStatus Op IN Status Up Status Connecting List HostVO ssvms sc list HostVO ssvm ssvms ssvm getId Answer answer _agentMgr easySend ssvm getId thiscpc answer answer
String copyPort _useSSlCopy Integer toString TemplateConstants DEFAULT_TMPLT_COPY_PORT SecStorageFirewallCfgCommand thiscpc SecStorageFirewallCfgCommand thiscpc addPortConfig thisSecStorageVm getPublicIpAddress copyPort TemplateConstants DEFAULT_TMPLT_COPY_INTF QueryBuilder HostVO sc QueryBuilder create HostVO sc and sc entity getType Op EQ Host Type SecondaryStorageVM sc and sc entity getStatus Op IN Status Up Status Connecting List HostVO ssvms sc list HostVO ssvm ssvms ssvm getId Answer answer _agentMgr easySend ssvm getId thiscpc answer answer s_logger s_logger debug ssvm getName
s_logger s_logger debug dataCenterId Map String Object context createSecStorageVmInstance dataCenterId role secStorageVmId Long context get secStorageVmId s_logger s_logger trace dataCenterId SecondaryStorageVmVO secStorageVm _secStorageVmDao findById secStorageVmId secStorageVm SubscriptionMgr getInstance notifySubscribers ALERT_SUBJECT SecStorageVmAlertEventArgs SecStorageVmAlertEventArgs SSVM_CREATED dataCenterId secStorageVmId secStorageVm secStorageVm s_logger
secStorageVmFromStoppedPool secStorageVm assignSecStorageVmFromStoppedPool dataCenterId role secStorageVm s_logger s_logger info _allocLock secStorageVm startNew dataCenterId role upload _uploadDao _uploadDao expunge upload getId _allocLock unlock s_logger s_logger info
_allocLock unlock s_logger s_logger info s_logger s_logger info secStorageVm getId secStorageVmFromStoppedPool secStorageVm secStorageVmId secStorageVm getId GlobalLock secStorageVmLock GlobalLock getInternLock getSecStorageVmLockName secStorageVmId secStorageVmLock
s_logger info s_logger s_logger info secStorageVm getId secStorageVmFromStoppedPool secStorageVm secStorageVmId secStorageVm getId GlobalLock secStorageVmLock GlobalLock getInternLock getSecStorageVmLockName secStorageVmId secStorageVmLock secStorageVm startSecStorageVm secStorageVmId secStorageVmLock unlock
s_logger s_logger info secStorageVm getId secStorageVmFromStoppedPool secStorageVm secStorageVmId secStorageVm getId GlobalLock secStorageVmLock GlobalLock getInternLock getSecStorageVmLockName secStorageVmId secStorageVmLock secStorageVm startSecStorageVm secStorageVmId secStorageVmLock unlock s_logger s_logger info secStorageVm getId
ZoneHostInfo zoneHostInfoMap dataCenterId ZoneHostInfo zoneHostInfo zoneHostInfoMap get dataCenterId zoneHostInfo zoneHostInfo ZoneHostInfo VMTemplateVO template _templateDao findSystemVMReadyTemplate dataCenterId HypervisorType Any template
List DataStore stores _dataStoreMgr getImageStoresByScope ZoneScope dataCenterId stores s_logger debug dataCenterId dataCenterId s_logger s_logger debug dataCenterId useLocalStorage Boolean useLocal ConfigurationManagerImpl SystemVMUseLocalStorage valueIn dataCenterId useLocal useLocalStorage useLocal booleanValue List Pair Long Integer l _storagePoolHostDao getDatacenterStoragePoolHostInfo dataCenterId useLocalStorage l l l
_allowedInternalSites _configDao getValue String value configs get _capacityScanInterval NumbersUtil parseLong value DEFAULT_CAPACITY_SCAN_INTERVAL _instance configs get _instance _instance Map String String agentMgrConfigs _configDao getConfiguration params value agentMgrConfigs get _mgmtPort NumbersUtil parseInt value _listener SecondaryStorageListener _agentMgr registerForHostEvents _listener _itMgr registerGuru VirtualMachine Type SecondaryStorageVm String ssvmSrvcOffIdStr configs get Config SecondaryStorageServiceOffering key ssvmSrvcOffIdStr _serviceOffering _offeringDao findByUuid ssvmSrvcOffIdStr
String msg s_logger error msg ConfigurationException msg _loadScanner SystemVmLoadScanner Long _loadScanner initScan STARTUP_DELAY _capacityScanInterval _httpProxy configs get Config SecStorageProxy key _httpProxy valid String errMsg URI uri URI _httpProxy uri errMsg
secStorageVmId SecondaryStorageVmVO secStorageVm _secStorageVmDao findById secStorageVmId secStorageVm String msg secStorageVmId
s_logger s_logger debug msg secStorageVm GlobalLock secStorageVmLock GlobalLock getInternLock getSecStorageVmLockName secStorageVm getId secStorageVmLock _itMgr stop secStorageVm getUuid secStorageVmLock unlock String msg secStorageVm toString
GlobalLock secStorageVmLock GlobalLock getInternLock getSecStorageVmLockName secStorageVm getId secStorageVmLock _itMgr stop secStorageVm getUuid secStorageVmLock unlock String msg secStorageVm toString s_logger debug msg secStorageVmLock releaseRef
secStorageVmId SecondaryStorageVmVO secStorageVm _secStorageVmDao findById secStorageVmId secStorageVm secStorageVm secStorageVm secStorageVm getHostId RebootCommand cmd RebootCommand secStorageVm getInstanceName _itMgr getExecuteInSequence secStorageVm getHypervisorType Answer answer _agentMgr easySend secStorageVm getHostId cmd answer answer s_logger s_logger debug secStorageVm getHostName SubscriptionMgr getInstance notifySubscribers ALERT_SUBJECT SecStorageVmAlertEventArgs SecStorageVmAlertEventArgs SSVM_REBOOTED secStorageVm getDataCenterId secStorageVm getId secStorageVm String msg secStorageVm getHostName s_logger
vmId SecondaryStorageVmVO ssvm _secStorageVmDao findById vmId _itMgr expunge ssvm getUuid _secStorageVmDao remove ssvm getId HostVO host _hostDao findByTypeNameAndZoneId ssvm getDataCenterId ssvm getHostName Host Type SecondaryStorageVM host
profile dest SecondaryStorageVmVO vm _secStorageVmDao findById profile getId Map String String details _vmDetailsDao listDetailsKeyPairs vm getId vm setDetails details DataStore secStore _dataStoreMgr getImageStoreWithFreeCapacity dest getDataCenter getId secStore
String mgmt_cidr _configDao getValue Config ManagementNetwork key mgmt_cidr buf append append mgmt_cidr buf append append dest getPod getGateway buf append append append deviceId nic buf append append append deviceId nic buf append append nic getIPv4Address buf append append nic getIPv4Netmask buf append append nic getIPv4Gateway buf append DataCenterVO dc _dcDao findById profile getVirtualMachine getDataCenterId buf append append dc getInternalDns1
pool dataCenterId pool longValue dataCenterId
pool dataCenterId pool longValue List SecondaryStorageVmVO ssVms _secStorageVmDao getSecStorageVmListInStates SecondaryStorageVm Role templateProcessor dataCenterId State Running State Migrating State Starting State Stopped State Stopping vmSize ssVms ssVms size List DataStore ssStores _dataStoreMgr getImageStoresByScope ZoneScope dataCenterId storeSize ssStores ssStores size storeSize vmSize
String message
String hostname contentLength String String signature hostname contentLength logger info signature
contentLength signature metadata contentLength logger info signature logger info metadata
signature metadata expires logger info signature logger info metadata logger info expires
signature metadata expires hostname logger info signature logger info metadata logger info expires logger info hostname
expires hostname contentLength logger info signature logger info metadata logger info expires logger info hostname logger info contentLength QueryStringDecoder decoderQuery QueryStringDecoder uri Map String List String uriAttributes decoderQuery parameters uuid uriAttributes get get
logger info signature logger info metadata logger info expires logger info hostname logger info contentLength QueryStringDecoder decoderQuery QueryStringDecoder uri Map String List String uriAttributes decoderQuery parameters uuid uriAttributes get get logger info uuid UploadEntity uploadEntity storageResource validatePostUploadRequest signature metadata expires hostname contentLength uuid uploadEntity storageResource createUploadEntity uuid metadata contentLength
decoder HttpPostRequestDecoder factory request e logger error e responseContent append e getMessage writeResponse ctx channel HttpResponseStatus INTERNAL_SERVER_ERROR requestProcessed logger warn responseContent append writeResponse ctx channel HttpResponseStatus BAD_REQUEST requestProcessed decoder
decoder InterfaceHttpData data decoder next data
decoder InterfaceHttpData data decoder next data logger info data getHttpDataType name data data getHttpDataType FileUpload FileUpload fileUpload FileUpload data fileUpload requestProcessed String format ImageStoreUtil checkTemplateFormat fileUpload getFile getAbsolutePath fileUpload getFilename format String errorString format
_parent String params get _parent ConfigurationException _storage StorageLayer params get StorageLayer InstanceConfigKey _storage String value String params get StorageLayer ClassConfigKey value value Class StorageLayer clazz Class StorageLayer Class forName value _storage ComponentContext inject clazz ConfigurationException value _storage _parent s_logger warn _parent
String secondaryStorageUrl nfsImageStore getUrl assert secondaryStorageUrl String templateUrl secondaryStorageUrl File separator srcData getPath Pair String String templateInfo decodeTemplateRelativePathAndNameFromUrl secondaryStorageUrl templateUrl template getName String templateRelativeFolderPath templateInfo first String secondaryMountPoint getRootDir secondaryStorageUrl _nfsVersion s_logger info secondaryMountPoint String srcOVAFileName getTemplateOnSecStorageFilePath secondaryMountPoint templateRelativeFolderPath templateInfo second ImageFormat OVA getFileExtension String ovfFilePath getOVFFilePath srcOVAFileName ovfFilePath Script command Script s_logger command add command add command add srcOVAFileName
result String msg srcOVAFileName s_logger error msg Exception msg command Script s_logger command add command add secondaryMountPoint File separator templateRelativeFolderPath result command execute result s_logger warn secondaryMountPoint File separator templateRelativeFolderPath result Script command Script _timeout s_logger command add ovfFilePath command add ovfFilePath String result command execute result
s_logger error msg Exception msg command Script s_logger command add command add secondaryMountPoint File separator templateRelativeFolderPath result command execute result s_logger warn secondaryMountPoint File separator templateRelativeFolderPath result Script command Script _timeout s_logger command add ovfFilePath command add ovfFilePath String result command execute result String msg result s_logger error msg
command add secondaryMountPoint File separator templateRelativeFolderPath result command execute result s_logger warn secondaryMountPoint File separator templateRelativeFolderPath result Script command Script _timeout s_logger command add ovfFilePath command add ovfFilePath String result command execute result String msg result s_logger error msg s_logger debug ovfFilePath OVFHelper ovfHelper OVFHelper List DatadiskTO disks ovfHelper getOVFVolumeInfo ovfFilePath GetDatadisksAnswer disks
newTmplDir Script command Script _timeout s_logger command add command add newTmplDirAbsolute String result command execute result String msg newTmplDir secondaryStorageUrl result s_logger error msg Exception msg origDisk Script command Script _timeout s_logger command add origDisk command add newTmplDirAbsolute String result command execute result
Exception msg origDisk Script command Script _timeout s_logger command add origDisk command add newTmplDirAbsolute String result command execute result String msg result s_logger error msg Exception msg command Script _timeout s_logger command add ovfFilePath command add newTmplDirAbsolute result command execute result
result command execute result String msg result s_logger error msg Exception msg String newOvfFilePath newTmplDirAbsolute File separator ovfFilePath substring ovfFilePath lastIndexOf File separator OVFHelper ovfHelper OVFHelper ovfHelper rewriteOVFFile ovfFilePath newOvfFilePath diskName postCreatePrivateTemplate newTmplDirAbsolute templateId templateUniqueName physicalSize virtualSize writeMetaOvaForTemplate newTmplDirAbsolute ovfFilePath substring ovfFilePath lastIndexOf File separator diskName templateUniqueName physicalSize diskTemplate setId templateId diskName diskTemplate setPath newTmplDir File separator diskName diskTemplate setPath newTmplDir File separator templateUniqueName
destData destImageStore String storagePath destImageStore getUrl String destPath destData getPath String downloadPath determineStorageTemplatePath storagePath destPath _nfsVersion File downloadDirectory _storage getFile downloadPath downloadDirectory
String storagePath destImageStore getUrl String destPath destData getPath String downloadPath determineStorageTemplatePath storagePath destPath _nfsVersion File downloadDirectory _storage getFile downloadPath downloadDirectory s_logger debug downloadPath downloadDirectory String errMsg downloadPath s_logger error errMsg CopyCmdAnswer errMsg File destFile SwiftUtil getObject swiftTO downloadDirectory srcData getPath postProcessing destFile downloadPath destPath srcData destData
destData destImageStore String storagePath destImageStore getUrl String destPath destData getPath String downloadPath determineStorageTemplatePath storagePath destPath _nfsVersion File downloadDirectory _storage getFile downloadPath downloadDirectory
String downloadPath determineStorageTemplatePath storagePath destPath _nfsVersion File downloadDirectory _storage getFile downloadPath downloadDirectory s_logger debug downloadPath downloadDirectory String errMsg downloadPath s_logger error errMsg CopyCmdAnswer errMsg File destFile File downloadDirectory substringAfterLast srcData getPath S3Utils SEPARATOR S3Utils getFile s3 s3 getBucketName srcData getPath destFile waitForCompletion postProcessing destFile downloadPath destPath srcData destData e String errMsg format e getMessage
FormatInfo info processor process destPath templateUuid TemplateLocation loc TemplateLocation _storage destPath loc create templateUuid loc addFormat info loc save TemplateProp prop loc getTemplateInfo TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath destData getPath File separator templateName newTemplate setFormat ImageFormat VHD newTemplate setSize prop getSize newTemplate setPhysicalSize prop getPhysicalSize newTemplate setName templateUuid CopyCmdAnswer newTemplate e s_logger debug e toString
loc addFormat info loc save TemplateProp prop loc getTemplateInfo TemplateObjectTO newTemplate TemplateObjectTO newTemplate setPath destData getPath File separator templateName newTemplate setFormat ImageFormat VHD newTemplate setSize prop getSize newTemplate setPhysicalSize prop getPhysicalSize newTemplate setName templateUuid CopyCmdAnswer newTemplate e s_logger debug e toString errMsg e toString e s_logger debug e toString
cmd srcData srcDataStore destData destDataStore srcData copySnapshotToTemplateFromNfsToNfsXenserver cmd srcData srcDataStore destData destDataStore srcData File srcFile getFile srcData getPath srcDataStore getUrl _nfsVersion File destFile getFile destData getPath destDataStore getUrl _nfsVersion VolumeObjectTO volumeObjectTO srcData getVolume ImageFormat srcFormat volumeObjectTO srcFormat volumeObjectTO getFormat srcFormat ImageFormat QCOW2 String templateName srcFile getName String fileName templateName srcFormat getFileExtension String destFileFullPath destFile getAbsolutePath File separator fileName
HttpEntity entity response getEntity entity s_logger debug CloudRuntimeException url String nfsMountPath getRootDir nfs getUrl _nfsVersion String filePath nfsMountPath File separator path File directory File filePath directory _storage mkdirs filePath File destFile File filePath File separator name destFile s_logger warn destFile getPath outputStream destFile entity writeTo outputStream
CloudRuntimeException url String nfsMountPath getRootDir nfs getUrl _nfsVersion String filePath nfsMountPath File separator path File directory File filePath directory _storage mkdirs filePath File destFile File filePath File separator name destFile s_logger warn destFile getPath outputStream destFile entity writeTo outputStream e s_logger debug e getMessage e File destFile getAbsolutePath e
String container cmd getId String swiftPath SwiftUtil putObject swiftTO file container virtualSize getVirtualSize file getTemplateFormat file getName size file length String uniqueName cmd getName File uniqDir _storage createUniqDir String metaFileName uniqDir getAbsolutePath File separator _tmpltpp _storage create uniqDir getAbsolutePath _tmpltpp File metaFile swiftWriteMetadataFile metaFileName uniqueName fileName size virtualSize SwiftUtil putObject swiftTO metaFile container _tmpltpp metaFile delete uniqDir delete String md5sum fs file md5sum DigestUtils md5Hex fs
String uniqueName cmd getName File uniqDir _storage createUniqDir String metaFileName uniqDir getAbsolutePath File separator _tmpltpp _storage create uniqDir getAbsolutePath _tmpltpp File metaFile swiftWriteMetadataFile metaFileName uniqueName fileName size virtualSize SwiftUtil putObject swiftTO metaFile container _tmpltpp metaFile delete uniqDir delete String md5sum fs file md5sum DigestUtils md5Hex fs s_logger debug file getAbsoluteFile DownloadAnswer answer DownloadAnswer VMTemplateStorageResourceAssoc Status DOWNLOADED swiftPath swiftPath virtualSize file length md5sum answer
cmd DataTO srcData cmd getSrcTO DataTO destData cmd getDestTO DataStoreTO srcDataStore srcData getDataStore NfsTO srcStore NfsTO srcDataStore DataStoreTO destDataStore destData getDataStore S3TO s3 S3TO destDataStore String templatePath determineStorageTemplatePath srcStore getUrl srcData getPath _nfsVersion
cmd DataStoreTO dstore cmd getDataStore dstore NfsTO NfsTO nfs NfsTO dstore String relativeSnapshotPath cmd getDirectory String parent getRootDir nfs getUrl _nfsVersion relativeSnapshotPath File separator relativeSnapshotPath relativeSnapshotPath substring parent File separator parent File separator String absoluteSnapshotPath parent relativeSnapshotPath File snapshotDir File absoluteSnapshotPath String details snapshotDir details snapshotDir getName
parent File separator String absoluteSnapshotPath parent relativeSnapshotPath File snapshotDir File absoluteSnapshotPath String details snapshotDir details snapshotDir getName s_logger debug details Answer cmd details String lPath absoluteSnapshotPath String result deleteLocalFile lPath result String errMsg lPath result s_logger warn errMsg Answer cmd errMsg snapshotDir
Answer cmd String relativeTemplatePath cmd getTemplatePath DataStoreTO store cmd getStore store NfsTO Answer cmd NfsTO nfsStore NfsTO store String parent getRootDir nfsStore getUrl _nfsVersion relativeTemplatePath File separator relativeTemplatePath relativeTemplatePath substring parent File separator parent File separator String absoluteTemplatePath parent relativeTemplatePath String algorithm cmd getAlgorithm File f File absoluteTemplatePath
NfsTO nfsStore NfsTO store String parent getRootDir nfsStore getUrl _nfsVersion relativeTemplatePath File separator relativeTemplatePath relativeTemplatePath substring parent File separator parent File separator String absoluteTemplatePath parent relativeTemplatePath String algorithm cmd getAlgorithm File f File absoluteTemplatePath s_logger s_logger debug parent relativeTemplatePath String checksum is f checksum DigestHelper digest algorithm is toString s_logger
String prvKey certs getPrivKey String pubCert certs getPrivCert String certChain certs getCertChain String rootCACert certs getRootCACert File prvKeyFile File createTempFile String prvkeyPath prvKeyFile getAbsolutePath prvt_key_file prvKeyFile prvt_key_file write prvKey e s_logger debug e toString File pubCertFile File createTempFile String pubCertFilePath pubCertFile getAbsolutePath pub_cert_file pubCertFile pub_cert_file write pubCert
e s_logger debug e toString File pubCertFile File createTempFile String pubCertFilePath pubCertFile getAbsolutePath pub_cert_file pubCertFile pub_cert_file write pubCert e s_logger debug e toString String certChainFilePath rootCACertFilePath File certChainFile rootCACertFile certChain certChainFile File createTempFile certChainFilePath certChainFile getAbsolutePath cert_chain_out certChainFile cert_chain_out write certChain
pub_cert_file write pubCert e s_logger debug e toString String certChainFilePath rootCACertFilePath File certChainFile rootCACertFile certChain certChainFile File createTempFile certChainFilePath certChainFile getAbsolutePath cert_chain_out certChainFile cert_chain_out write certChain e s_logger debug e toString rootCACertFile File createTempFile rootCACertFilePath rootCACertFile getAbsolutePath
certChainFilePath certChainFile getAbsolutePath cert_chain_out certChainFile cert_chain_out write certChain e s_logger debug e toString rootCACert rootCACertFile File createTempFile rootCACertFilePath rootCACertFile getAbsolutePath root_ca_cert_file rootCACertFile root_ca_cert_file write rootCACert e s_logger debug e toString configureSSL prvkeyPath pubCertFilePath certChainFilePath rootCACertFilePath prvKeyFile delete pubCertFile delete
Answer cmd Answer answer DataStoreTO dStore cmd getDataStore dStore String secUrl cmd getSecUrl URI uri URI secUrl String nfsHostIp getUriHostIp uri addRouteToInternalIpOrCidr _storageGateway _storageIp _storageNetmask nfsHostIp String dir mountUri uri cmd getNfsVersion configCerts cmd getCerts nfsIps add nfsHostIp answer SecStorageSetupAnswer dir e String msg secUrl e toString
b group bossGroup workerGroup b channel NioServerSocketChannel b handler LoggingHandler LogLevel INFO b ch ChannelPipeline pipeline ch pipeline pipeline addLast HttpRequestDecoder pipeline addLast HttpResponseEncoder pipeline addLast HttpContentCompressor pipeline addLast HttpUploadServerHandler storageResource Channel ch b bind PORT sync channel
ch ChannelPipeline pipeline ch pipeline pipeline addLast HttpRequestDecoder pipeline addLast HttpResponseEncoder pipeline addLast HttpContentCompressor pipeline addLast HttpUploadServerHandler storageResource Channel ch b bind PORT sync channel s_logger info String format PORT NO_OF_WORKERS ch closeFuture sync s_logger info
String snapshotPath obj getPath snapshotPath File snapshotPath snapshotPath substring String fullSnapPath parent snapshotPath File snapDir File fullSnapPath snapDir snapDir s_logger debug snapshotPath Answer cmd index snapshotPath lastIndexOf String snapshotName snapshotPath substring index snapshotPath snapshotPath substring index String absoluteSnapshotPath parent snapshotPath File snapshotDir File absoluteSnapshotPath String details snapshotDir
String parent getRootDir nfs getUrl _nfsVersion relativeTemplatePath File separator relativeTemplatePath relativeTemplatePath substring parent File separator parent File separator String absoluteTemplatePath parent relativeTemplatePath File tmpltPath File absoluteTemplatePath File tmpltParent tmpltPath tmpltPath tmpltParent tmpltPath tmpltParent tmpltPath getParentFile String details tmpltParent details tmpltParent getName
parent File separator String absoluteTemplatePath parent relativeTemplatePath File tmpltPath File absoluteTemplatePath File tmpltParent tmpltPath tmpltPath tmpltParent tmpltPath tmpltParent tmpltPath getParentFile String details tmpltParent details tmpltParent getName s_logger debug details Answer cmd details File tmpltFiles tmpltParent listFiles tmpltFiles tmpltFiles
Answer cmd details File tmpltFiles tmpltParent listFiles tmpltFiles tmpltFiles details tmpltParent getName s_logger debug details found File f tmpltFiles found f getName found f f getName s_logger debug File haFiles f listFiles File haFile haFiles haFile delete
details tmpltParent getName s_logger debug details found File f found f getName found f f getName s_logger debug File haFiles f listFiles File haFile haFiles haFile delete f delete Answer cmd f getName relativeTemplatePath
String parent getRootDir nfs getUrl _nfsVersion relativeVolumePath File separator relativeVolumePath relativeVolumePath substring parent File separator parent File separator String absoluteVolumePath parent relativeVolumePath File volPath File absoluteVolumePath File tmpltParent volPath volPath tmpltParent volPath tmpltParent File absoluteVolumePath getParentFile String details tmpltParent details tmpltParent getName
parent File separator String absoluteVolumePath parent relativeVolumePath File volPath File absoluteVolumePath File tmpltParent volPath volPath tmpltParent volPath tmpltParent File absoluteVolumePath getParentFile String details tmpltParent details tmpltParent getName s_logger debug details Answer cmd details File tmpltFiles tmpltParent listFiles tmpltFiles tmpltFiles
Answer cmd details File tmpltFiles tmpltParent listFiles tmpltFiles tmpltFiles details tmpltParent getName s_logger debug details found File f tmpltFiles found f getName found f f getName s_logger debug File haFiles f listFiles File haFile haFiles haFile delete
details tmpltParent getName s_logger debug details found File f found f getName found f f getName s_logger debug File haFiles f listFiles File haFile haFiles haFile delete f delete Answer cmd f getName tmpltParent getPath
s_logger debug localgw eth1ip eth1mask destIpOrCidr destIpOrCidr s_logger debug NetUtils destIpOrCidr NetUtils destIpOrCidr s_logger warn destIpOrCidr inSameSubnet NetUtils destIpOrCidr eth1ip eth1mask inSameSubnet NetUtils sameSubnet eth1ip destIpOrCidr eth1mask s_logger warn eth1ip destIpOrCidr eth1mask inSameSubnet NetUtils isNetworkAWithinNetworkB destIpOrCidr NetUtils ipAndNetMaskToCidr eth1ip eth1mask
s_logger warn eth1ip destIpOrCidr eth1mask inSameSubnet NetUtils isNetworkAWithinNetworkB destIpOrCidr NetUtils ipAndNetMaskToCidr eth1ip eth1mask inSameSubnet s_logger debug destIpOrCidr eth1ip Script command Script s_logger command add command add destIpOrCidr command execute command Script s_logger command add command add destIpOrCidr localgw String result command execute
String uri String String uriHostIp getUriHostIp uri String nfsPath uriHostIp uri getPath String dir UUID nameUUIDFromBytes nfsPath getBytes com cloud utils StringUtils getPreferredCharset toString String localRootPath _parent dir String remoteDevice uri remoteDevice uriHostIp uri getPath
String String String String result
String result s_logger debug remoteDevice localRootPath uri nfsVersion nfsVersion Script command Script _inSystemVM _timeout s_logger String scheme uri getScheme toLowerCase command add scheme scheme command add _inSystemVM command add nfsVersion nfsVersion scheme String extraOpts parseCifsMountOptions uri command add extraOpts String errMsg scheme uri toString
command add command add nfsVersion nfsVersion scheme String extraOpts parseCifsMountOptions uri command add extraOpts String errMsg scheme uri toString s_logger error errMsg CloudRuntimeException errMsg command add remoteDevice command add localRootPath result command execute result String errMsg remoteDevice localRootPath result
scheme String extraOpts parseCifsMountOptions uri command add extraOpts String errMsg scheme uri toString s_logger error errMsg CloudRuntimeException errMsg command add remoteDevice command add localRootPath result command execute result String errMsg remoteDevice localRootPath result s_logger error errMsg File file File localRootPath file
String uri List NameValuePair args URLEncodedUtils parse uri foundUser foundPswd StringBuilder extraOpts StringBuilder NameValuePair nvp args String name nvp getName name foundUser
String uri List NameValuePair args URLEncodedUtils parse uri foundUser foundPswd StringBuilder extraOpts StringBuilder NameValuePair nvp args String name nvp getName name foundUser s_logger debug foundUser name foundPswd s_logger debug extraOpts append name nvp getValue s_logger
foundPswd StringBuilder extraOpts StringBuilder nvp String name nvp getName name foundUser s_logger debug foundUser name foundPswd s_logger debug extraOpts append name nvp getValue s_logger s_logger error extraOpts foundUser foundPswd String errMsg
String localRootPath Script script script Script _inSystemVM _timeout s_logger List String res ArrayList String PathParser parser PathParser localRootPath script execute parser res addAll parser getPaths String res localRootPath
localRootPath uri s_logger debug localRootPath uri toString File file File localRootPath
localRootPath uri s_logger debug localRootPath uri toString File file File localRootPath s_logger debug file getPath file
String localRootPath uri s_logger debug localRootPath uri toString File file File localRootPath s_logger debug file getPath file s_logger debug file getPath _storage mkdir file getPath file String errMsg localRootPath uri toString
String uri String nfsHost uri getHost InetAddress nfsHostAddr InetAddress getByName nfsHost String nfsHostIp nfsHostAddr getHostAddress
dirLocation dirExists File dir File dirLocation dir dir
dirName dirLocation mountPoint dirExists File dir File dirLocation dir dir s_logger debug dirName mountPoint dirExists dir dirLocation dirExists dirLocation dirExists dirExists s_logger info dirName
File accountTemplateDir File rootDir getTemplatePathForAccount accountId accountTemplateDir FileUtils sizeOfDirectory accountTemplateDir accountVolumeDirSize File accountVolumeDir File rootDir getVolumePathForAccount accountId accountVolumeDir accountVolumeDirSize FileUtils sizeOfDirectory accountVolumeDir accountSnapshotDirSize File accountSnapshotDir File rootDir getSnapshotPathForAccount accountId accountSnapshotDir accountSnapshotDirSize FileUtils sizeOfDirectory accountSnapshotDir s_logger debug accountTemplateDirSize accountSnapshotDirSize accountVolumeDirSize accountDirSizeInGB getSizeInGB accountTemplateDirSize accountSnapshotDirSize accountVolumeDirSize defaultMaxAccountSecondaryStorageInGB Integer parseInt cmd getDefaultMaxAccountSecondaryStorage defaultMaxAccountSecondaryStorageInGB accountDirSizeInGB defaultMaxAccountSecondaryStorageInGB
UploadEntity ResourceType resourceType uploadEntity getResourceType String fileSavedTempLocation uploadEntity getInstallPathPrefix filename String dummyFileName uploadEntity getFormat getFileExtension ImageStoreUtil filename String uploadedFileExtension FilenameUtils getExtension filename dummyFileName uploadedFileExtension String formatError ImageStoreUtil checkTemplateFormat fileSavedTempLocation dummyFileName formatError String errorString uploadEntity getFormat formatError s_logger error errorString errorString imgSizeGigs getSizeInGB _storage getSize fileSavedTempLocation maxSize uploadEntity getMaxSizeInGB imgSizeGigs maxSize String errorMessage imgSizeGigs maxSize
LOGGER info jobId status LOGGER info td getDownloadLocalPath toHumanReadableSize td getDownloadedBytes td getDownloadError td getDownloadPercent status LOGGER info jobId status td setResume threadPool execute td threadPool execute td td td setDownloadError String result postRemoteDownload jobId
td S3TemplateDownloader td setDownloadError String result postRemoteDownload jobId result LOGGER error result td setStatus Status UNRECOVERABLE_ERROR td setDownloadError result S3TemplateDownloader td cleanupAfterError td setStatus Status POST_DOWNLOAD_FINISHED td setDownloadError SimpleDateFormat format Date td setDownloadError String result postLocalDownload jobId
String String jobId DownloadJob dnld jobs get jobId TemplateDownloader td dnld getTemplateDownloader String resourcePath dnld getInstallPathPrefix String finalResourcePath dnld getTmpltPath ResourceType resourceType dnld getResourceType File originalTemplate File td getDownloadLocalPath dnld
dnld targetFile ChecksumValue oldValue ChecksumValue dnld getChecksum ChecksumValue newValue newValue computeCheckSum oldValue getAlgorithm targetFile
List String String rootdir List String result ArrayList String Script script Script listVolScr LOGGER script add rootdir PathParser zpp PathParser rootdir script execute zpp script
List String String rootdir List String result ArrayList String Script script Script listTmpltScr LOGGER script add rootdir PathParser zpp PathParser rootdir script execute zpp script
LOGGER warn path _storage cleanup path templateDir e LOGGER warn path e TemplateProp tInfo loc getTemplateInfo tInfo tInfo tInfo getInstallPath Processor processor _processors get OVAProcessor vmdkProcessor OVAProcessor processor vSize vmdkProcessor getTemplateVirtualSize path tInfo getInstallPath substring tInfo getInstallPath lastIndexOf File separator tInfo setSize vSize loc updateVirtualSize vSize loc save
e LOGGER warn path e TemplateProp tInfo loc getTemplateInfo tInfo tInfo tInfo getInstallPath Processor processor _processors get OVAProcessor vmdkProcessor OVAProcessor processor vSize vmdkProcessor getTemplateVirtualSize path tInfo getInstallPath substring tInfo getInstallPath lastIndexOf File separator tInfo setSize vSize loc updateVirtualSize vSize loc save e LOGGER error tInfo getInstallPath e getMessage
LOGGER warn path _storage cleanup path volumeDir e LOGGER warn path e TemplateProp vInfo loc getTemplateInfo vInfo vInfo vInfo getInstallPath Processor processor _processors get OVAProcessor vmdkProcessor OVAProcessor processor vSize vmdkProcessor getTemplateVirtualSize path vInfo getInstallPath substring vInfo getInstallPath lastIndexOf File separator vInfo setSize vSize loc updateVirtualSize vSize loc save
e LOGGER warn path e TemplateProp vInfo loc getTemplateInfo vInfo vInfo vInfo getInstallPath Processor processor _processors get OVAProcessor vmdkProcessor OVAProcessor processor vSize vmdkProcessor getTemplateVirtualSize path vInfo getInstallPath substring vInfo getInstallPath lastIndexOf File separator vInfo setSize vSize loc updateVirtualSize vSize loc save e LOGGER error vInfo getInstallPath e getMessage
String String String String String String installPathPrefix String String UUID uuid UUID randomUUID String jobId uuid toString String completePath parentDir File separator installPathPrefix
UUID uuid UUID randomUUID String jobId uuid toString String completePath parentDir File separator installPathPrefix s_logger debug completePath URI uri uri URI url s_logger error url CloudRuntimeException url TemplateUploader tu uri uri uri tu FtpTemplateUploader completePath url Completion jobId templateSizeInBytes
s_logger debug completePath URI uri uri URI url s_logger error url CloudRuntimeException url TemplateUploader tu uri uri uri tu FtpTemplateUploader completePath url Completion jobId templateSizeInBytes s_logger error url CloudRuntimeException url
isApacheUp checkAndStartApache isApacheUp String errorString
isApacheUp checkAndStartApache isApacheUp String errorString s_logger error errorString CreateEntityDownloadURLAnswer errorString CreateEntityDownloadURLAnswer RESULT_FAILURE String extractDir Script command Script s_logger command add command add command add command add extractDir command add String result command execute result String errorString result
command add command add command add extractDir command add String result command execute result String errorString result s_logger error errorString CreateEntityDownloadURLAnswer errorString CreateEntityDownloadURLAnswer RESULT_FAILURE String uuid cmd getExtractLinkUUID command Script s_logger command add command add cmd getParent File separator cmd getInstallPath extractDir uuid result command execute result
s_logger warn jobId status s_logger warn toHumanReadableSize tu getUploadedBytes tu getUploadError tu getUploadPercent status uj uj cleanup s_logger jobId status tu setResume threadPool execute tu threadPool execute tu tu String result postUpload jobId
String arg iter next arg host iter next arg numThreads Integer parseInt iter next arg numVM Integer parseInt iter next arg zoneId Integer parseInt iter next arg templateId Integer parseInt iter next arg serviceOfferingId Integer parseInt iter next String server host ApiPort String developerServer host DeveloperPort ApiUrl
serviceOfferingId Integer parseInt iter next String server host ApiPort String developerServer host DeveloperPort ApiUrl s_logger info numThreads numVM numThreads String username String singlePrivateIp Random ran Random username Math abs ran nextInt User myUser User username username server developerServer
String username String singlePrivateIp Random ran Random username Math abs ran nextInt User myUser User username username server developerServer myUser launchUser myUser registerUser e s_logger warn e myUser
String username String singlePrivateIp Random ran Random username Math abs ran nextInt User myUser User username username server developerServer myUser launchUser myUser registerUser e s_logger warn e myUser s_logger info myUser getUserName
Random ran Random username Math abs ran nextInt User myUser User username username server developerServer myUser launchUser myUser registerUser e s_logger warn e myUser getUserId s_logger info myUser getUserName VirtualMachine myVM VirtualMachine myUser getUserId myVM deployVM zoneId serviceOfferingId templateId myUser getDeveloperServer myUser getApiKey myUser getSecretKey myUser getVirtualMachines add myVM singlePrivateIp myVM getPrivateIp
username Math abs ran nextInt User myUser User username username server developerServer myUser launchUser myUser registerUser e s_logger warn e myUser getUserId s_logger info myUser getUserName VirtualMachine myVM VirtualMachine myUser getUserId myVM deployVM zoneId serviceOfferingId templateId myUser getDeveloperServer myUser getApiKey myUser getSecretKey myUser getVirtualMachines add myVM singlePrivateIp myVM getPrivateIp singlePrivateIp
NDC push Thread currentThread getName retry s_logger info virtualMachines size retry
s_logger info retry Thread sleep vm s_logger info publicIp retry Connection conn Connection publicIp conn connect s_logger info publicIp isAuthenticated conn authenticateWithPassword isAuthenticated s_logger info Session sess conn openSession String fileName Random ran Random fileName Math abs ran nextInt String copyCommand String vm getPrivateIp fileName
fileName Math abs ran nextInt String copyCommand String vm getPrivateIp fileName s_logger info copyCommand sess execCommand copyCommand Thread sleep sess close sess conn openSession String downloadCommand String s_logger info downloadCommand sess execCommand downloadCommand Thread sleep sess close conn close ex s_logger error ex
String args List String argsList Arrays asList args Iterator String iter argsList iterator String host numThreads iter String arg iter next arg host iter next arg numThreads Integer parseInt iter next arg s_numVM Integer parseInt iter next String server host ApiPort String developerServer host DeveloperPort ApiUrl
String server host ApiPort String developerServer host DeveloperPort ApiUrl s_logger info numThreads s_numVM numThreads String username String singlePrivateIp String singlePublicIp Random ran Random username Math abs ran nextInt User myUser User username username server developerServer myUser launchUser
String username String singlePrivateIp String singlePublicIp Random ran Random username Math abs ran nextInt User myUser User username username server developerServer myUser launchUser myUser registerUser e s_logger warn e myUser getUserId s_logger info myUser getUserName VirtualMachine myVM VirtualMachine myUser getUserId
String singlePublicIp Random ran Random username Math abs ran nextInt User myUser User username username server developerServer myUser launchUser myUser registerUser e s_logger warn e myUser getUserId s_logger info myUser getUserName VirtualMachine myVM VirtualMachine myUser getUserId myVM deployVM ZoneId ServiceOfferingId TemplateId myUser getDeveloperServer myUser getApiKey myUser getSecretKey myUser getVirtualMachines add myVM
myUser launchUser myUser registerUser e s_logger warn e myUser getUserId s_logger info myUser getUserName VirtualMachine myVM VirtualMachine myUser getUserId myVM deployVM ZoneId ServiceOfferingId TemplateId myUser getDeveloperServer myUser getApiKey myUser getSecretKey myUser getVirtualMachines add myVM singlePrivateIp myVM getPrivateIp singlePrivateIp s_logger info singlePrivateIp s_logger info myUser getUserName
e s_logger warn e myUser getUserId s_logger info myUser getUserName VirtualMachine myVM VirtualMachine myUser getUserId myVM deployVM ZoneId ServiceOfferingId TemplateId myUser getDeveloperServer myUser getApiKey myUser getSecretKey myUser getVirtualMachines add myVM singlePrivateIp myVM getPrivateIp singlePrivateIp s_logger info singlePrivateIp s_logger info myUser getUserName myUser retrievePublicIp ZoneId
s_logger info myUser getUserName VirtualMachine myVM VirtualMachine myUser getUserId myVM deployVM ZoneId ServiceOfferingId TemplateId myUser getDeveloperServer myUser getApiKey myUser getSecretKey myUser getVirtualMachines add myVM singlePrivateIp myVM getPrivateIp singlePrivateIp s_logger info singlePrivateIp s_logger info myUser getUserName myUser retrievePublicIp ZoneId singlePublicIp myUser getPublicIp get myUser getPublicIp size singlePublicIp s_logger info singlePublicIp myUser getUserName
myUser String privateIp String publicIp String publicPort String privatePort String encodedPrivateIp URLEncoder encode privateIp String encodedPublicIp URLEncoder encode publicIp String encodedPrivatePort URLEncoder encode privatePort String encodedPublicPort URLEncoder encode publicPort String encodedApiKey URLEncoder encode myUser getApiKey responseCode String requestToSign encodedApiKey encodedPrivateIp encodedPrivatePort encodedPublicIp encodedPublicPort requestToSign requestToSign toLowerCase
myUser String privateIp String publicIp String publicPort String privatePort String encodedPrivateIp URLEncoder encode privateIp String encodedPublicIp URLEncoder encode publicIp String encodedPrivatePort URLEncoder encode privatePort String encodedPublicPort URLEncoder encode publicPort String encodedApiKey URLEncoder encode myUser getApiKey responseCode String requestToSign encodedApiKey encodedPrivateIp encodedPrivatePort encodedPublicIp encodedPublicPort requestToSign requestToSign toLowerCase s_logger info requestToSign String signature TestClientWithAPI signRequest requestToSign myUser getSecretKey String encodedSignature URLEncoder encode signature String url myUser getDeveloperServer encodedPublicIp encodedPublicPort encodedPrivateIp encodedPrivatePort encodedApiKey encodedSignature
String encodedPublicIp URLEncoder encode publicIp String encodedPrivatePort URLEncoder encode privatePort String encodedPublicPort URLEncoder encode publicPort String encodedApiKey URLEncoder encode myUser getApiKey responseCode String requestToSign encodedApiKey encodedPrivateIp encodedPrivatePort encodedPublicIp encodedPublicPort requestToSign requestToSign toLowerCase s_logger info requestToSign String signature TestClientWithAPI signRequest requestToSign myUser getSecretKey String encodedSignature URLEncoder encode signature String url myUser getDeveloperServer encodedPublicIp encodedPublicPort encodedPrivateIp encodedPrivatePort encodedApiKey encodedSignature s_logger info url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
requestToSign requestToSign toLowerCase s_logger info requestToSign String signature TestClientWithAPI signRequest requestToSign myUser getSecretKey String encodedSignature URLEncoder encode signature String url myUser getDeveloperServer encodedPublicIp encodedPublicPort encodedPrivateIp encodedPrivatePort encodedApiKey encodedSignature s_logger info url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode s_logger info responseCode InputStream is method getResponseBodyAsStream Map String String errorInfo TestClientWithAPI getSingleValueFromXML is String
String signature TestClientWithAPI signRequest requestToSign myUser getSecretKey String encodedSignature URLEncoder encode signature String url myUser getDeveloperServer encodedPublicIp encodedPublicPort encodedPrivateIp encodedPrivatePort encodedApiKey encodedSignature s_logger info url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode s_logger info responseCode InputStream is method getResponseBodyAsStream Map String String errorInfo TestClientWithAPI getSingleValueFromXML is String s_logger error errorInfo get errorInfo get
zoneId String encodedApiKey URLEncoder encode apiKey String encodedZoneId URLEncoder encode zoneId String requestToSign encodedApiKey encodedZoneId requestToSign requestToSign toLowerCase String signature TestClientWithAPI signRequest requestToSign secretKey String encodedSignature URLEncoder encode signature String url developerServer encodedApiKey encodedZoneId encodedSignature HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream Map String String values TestClientWithAPI getSingleValueFromXML is String getPublicIp add values get
requestToSign requestToSign toLowerCase String signature TestClientWithAPI signRequest requestToSign secretKey String encodedSignature URLEncoder encode signature String url developerServer encodedApiKey encodedZoneId encodedSignature HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream Map String String values TestClientWithAPI getSingleValueFromXML is String getPublicIp add values get s_logger info values get responseCode InputStream is method getResponseBodyAsStream Map String String errorInfo TestClientWithAPI getSingleValueFromXML is String
String encodedSignature URLEncoder encode signature String url developerServer encodedApiKey encodedZoneId encodedSignature HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream Map String String values TestClientWithAPI getSingleValueFromXML is String getPublicIp add values get s_logger info values get responseCode InputStream is method getResponseBodyAsStream Map String String errorInfo TestClientWithAPI getSingleValueFromXML is String s_logger error errorInfo get errorInfo get
String encodedUsername URLEncoder encode userName String encodedPassword URLEncoder encode password String url server encodedUsername
String encodedUsername URLEncoder encode userName String encodedPassword URLEncoder encode password String url server encodedUsername s_logger info userName url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream Map String String requestKeyValues TestClientWithAPI getSingleValueFromXML is String setApiKey requestKeyValues get setSecretKey requestKeyValues get responseCode InputStream is method getResponseBodyAsStream Map String String errorInfo TestClientWithAPI getSingleValueFromXML is String
String url server encodedUsername s_logger info userName url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream Map String String requestKeyValues TestClientWithAPI getSingleValueFromXML is String setApiKey requestKeyValues get setSecretKey requestKeyValues get responseCode InputStream is method getResponseBodyAsStream Map String String errorInfo TestClientWithAPI getSingleValueFromXML is String s_logger error errorInfo get errorInfo get
zoneId serviceOfferingId templateId String server String apiKey String secretKey String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId String encodedApiKey URLEncoder encode apiKey String requestToSign encodedApiKey encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase String signature TestClientWithAPI signRequest requestToSign secretKey String encodedSignature URLEncoder encode signature String url server encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature
zoneId serviceOfferingId templateId String server String apiKey String secretKey String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId String encodedApiKey URLEncoder encode apiKey String requestToSign encodedApiKey encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase String signature TestClientWithAPI signRequest requestToSign secretKey String encodedSignature URLEncoder encode signature String url server encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature s_logger info url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
String encodedApiKey URLEncoder encode apiKey String requestToSign encodedApiKey encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase String signature TestClientWithAPI signRequest requestToSign secretKey String encodedSignature URLEncoder encode signature String url server encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature s_logger info url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String values TestClientWithAPI getSingleValueFromXML is String linuxVMId Long parseLong values get
String url server encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature s_logger info url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String values TestClientWithAPI getSingleValueFromXML is String linuxVMId Long parseLong values get s_logger info linuxVMId setPrivateIp values get responseCode InputStream is method getResponseBodyAsStream Map String String errorInfo TestClientWithAPI getSingleValueFromXML is String
HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String values TestClientWithAPI getSingleValueFromXML is String linuxVMId Long parseLong values get s_logger info linuxVMId setPrivateIp values get responseCode InputStream is method getResponseBodyAsStream Map String String errorInfo TestClientWithAPI getSingleValueFromXML is String s_logger error errorInfo get errorInfo get
temp temp key value s_logger error key getName command temp String temp commandName Set c urlParam entrySet Iterator it c iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue temp temp key value
String value String me getValue temp temp key value s_logger error key getName command temp s_logger info command String temp host commandName Set c urlParam entrySet Iterator it c iterator it Map Entry me Map Entry it next String key String me getKey
Map Entry me Map Entry it next String key String me getKey String value String me getValue temp temp key URLEncoder encode value s_logger error key getName command temp String apiKey param get String secretKey param get String temp urlParam put apiKey urlParam put commandName Set c urlParam entrySet
s_logger info command s_logger info command Runtime rtime Runtime getRuntime Process child rtime exec command Thread sleep retCode child waitFor retCode responseCode retCode responseCode
Process child rtime exec command Thread sleep retCode child waitFor retCode responseCode retCode responseCode ex s_logger error command ex Statement stmt conn createStatement result stmt executeQuery command responseCode ex
Boolean result Set set setParam entrySet Iterator it set iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue String itemName result next itemName result getString value itemName param put key itemName
Set set setParam entrySet Iterator it set iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue String itemName result next itemName result getString value itemName param put key itemName s_logger error value result
ex s_logger error value ex Set set setParam entrySet Iterator it set iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue NodeList itemName responseBody getElementsByTagName value itemName itemName i i itemName i Element itemNameElement Element itemName item i itemNameElement
itemNameElement param put key itemNameElement getTextContent s_logger error value result Set set setParam entrySet Iterator it set iterator NodeList returnLst responseBody getElementsByTagName listName getTextContent Node requiredNode returnLst item Integer parseInt listId getTextContent requiredNode Node Element fstElmnt Element requiredNode it Map Entry me Map Entry it next
verifyParam result Set set verifyParam entrySet Iterator it set iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue value
Set set verifyParam entrySet Iterator it set iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue value s_logger error key NodeList itemName responseBody getElementsByTagName key itemName itemName Element itemNameElement Element itemName item itemNameElement verifyParam key itemNameElement verifyParam key
Map Entry me Map Entry it next String key String me getKey String value String me getValue value s_logger error key NodeList itemName responseBody getElementsByTagName key itemName itemName Element itemNameElement Element itemName item itemNameElement verifyParam get key itemNameElement getTextContent verifyParam get key s_logger error key verifyParam get key itemNameElement getTextContent result
s_logger error key verifyParam get key itemNameElement getTextContent result s_logger error key result Set set verifyParam entrySet Iterator it set iterator NodeList returnLst responseBody getElementsByTagName listName getTextContent Node requiredNode returnLst item Integer parseInt listId getTextContent requiredNode Node Element fstElmnt Element requiredNode it Map Entry me Map Entry it next String key String me getKey
result Set set verifyParam entrySet Iterator it set iterator NodeList returnLst responseBody getElementsByTagName listName getTextContent Node requiredNode returnLst item Integer parseInt listId getTextContent requiredNode Node Element fstElmnt Element requiredNode it Map Entry me Map Entry it next String key String me getKey String value String me getValue value s_logger error key
Set set verifyParam entrySet Iterator it set iterator NodeList returnLst responseBody getElementsByTagName listName getTextContent Node requiredNode returnLst item Integer parseInt listId getTextContent requiredNode Node Element fstElmnt Element requiredNode it Map Entry me Map Entry it next String key String me getKey String value String me getValue value s_logger error key NodeList itemName fstElmnt getElementsByTagName key
String key String me getKey String value String me getValue value s_logger error key NodeList itemName fstElmnt getElementsByTagName key itemName itemName Element itemNameElement Element itemName item verifyParam get key itemNameElement getTextContent verifyParam get key s_logger error key verifyParam get key itemNameElement getTextContent result s_logger error key result
itemName itemName Element itemNameElement Element itemName item verifyParam get key itemNameElement getTextContent verifyParam get key s_logger error key verifyParam get key itemNameElement getTextContent result s_logger error key result Set set verifyParam entrySet Iterator it set iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue
verifyParam get key itemNameElement getTextContent verifyParam get key s_logger error key verifyParam get key itemNameElement getTextContent result s_logger error key result Set set verifyParam entrySet Iterator it set iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue value s_logger error key
result HashMap String Integer expectedEvents HashMap String Integer HashMap String Integer actualEvents HashMap String Integer String key File file File fileName file Properties pro Properties FileInputStream in FileInputStream file pro load in Enumeration en pro propertyNames en key String en nextElement expectedEvents put key Integer parseInt pro getProperty key String url host account level
actualEvents element get actualEvents put element get actualEvents get element get actualEvents put element get method releaseConnection Iterator iterator expectedEvents keySet iterator Integer expected Integer actual fail iterator expected actual String type iterator next toString expected expectedEvents get type actual actualEvents get type
actualEvents put element get method releaseConnection Iterator iterator expectedEvents keySet iterator Integer expected Integer actual fail iterator expected actual String type iterator next toString expected expectedEvents get type actual actualEvents get type actual s_logger error type level expected fail
HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream ArrayList HashMap String String eventValues UtilsForTest parseMulXML is String i i eventValues i HashMap String String element eventValues get i element get actualEvents element get actualEvents put element get actualEvents get element get actualEvents put element get method releaseConnection
actualEvents put element get method releaseConnection ex s_logger error ex Iterator iterator expectedEvents keySet iterator Integer expected Integer actual fail iterator expected actual String type iterator next toString expected expectedEvents get type actual actualEvents get type
method releaseConnection ex s_logger error ex Iterator iterator expectedEvents keySet iterator Integer expected Integer actual fail iterator expected actual String type iterator next toString expected expectedEvents get type actual actualEvents get type actual s_logger error type level expected
Element jobStatusTag Element returnBody getElementsByTagName item String jobStatus jobStatusTag getTextContent jobStatus Thread sleep s_logger debug method releaseConnection s_logger error code responseCode code
Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api s_logger info getParam get Connection conn Connection getParam get conn connect s_logger info getParam get isAuthenticated conn authenticateWithPassword isAuthenticated s_logger info String restartCommand Session sess conn openSession
Connection conn Connection getParam get conn connect s_logger info getParam get isAuthenticated conn authenticateWithPassword isAuthenticated s_logger info String restartCommand Session sess conn openSession s_logger info restartCommand sess execCommand restartCommand Thread sleep sess close conn close
s_logger info String restartCommand Session sess conn openSession s_logger info restartCommand sess execCommand restartCommand Thread sleep sess close conn close ex s_logger error ex api sendCommand getClient api api api
Session sess conn openSession s_logger info restartCommand sess execCommand restartCommand Thread sleep sess close conn close ex s_logger error ex api sendCommand getClient api api api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl error api api
sess close conn close ex s_logger error ex api sendCommand getClient api api api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl error api api api s_logger error api getName api getUrl
ex s_logger error ex api sendCommand getClient api api api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl error api api api s_logger error api getName api getUrl api s_logger error api getName api getUrl
api sendCommand getClient api api api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl error api api api s_logger error api getName api getUrl api s_logger error api getName api getUrl error api getTestCaseInfo
s_logger error api getTestCaseInfo api getUrl error api api getResponseCode api s_logger error api getName api getUrl api s_logger error api getName api getUrl error api getTestCaseInfo s_logger info api getTestCaseInfo api getUrl api api getResponseCode s_logger error api getName api getResponseCode api getUrl api getRequired api getRequired
NodeList commandLst rootElement getElementsByTagName i i commandLst i verify Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands getElementsByTagName api api api setResponseType ResponseType EMPTY verify api setResponseType ResponseType ERROR api sendCommand getClient verify api ResponseType ERROR api ResponseType EMPTY
Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api api api setResponseType ResponseType EMPTY verify api setResponseType ResponseType ERROR api sendCommand getClient verify api ResponseType ERROR api ResponseType EMPTY s_logger error api getTestCaseInfo api getUrl error verify api ResponseType ERROR api ResponseType EMPTY
ApiCommand api ApiCommand fstElmnt getParam getCommands api api api setResponseType ResponseType EMPTY verify api setResponseType ResponseType ERROR api sendCommand getClient verify api ResponseType ERROR api ResponseType EMPTY s_logger error api getTestCaseInfo api getUrl error verify api ResponseType ERROR api ResponseType EMPTY s_logger info api getTestCaseInfo api ResponseType ERROR api
api setResponseType ResponseType EMPTY verify api setResponseType ResponseType ERROR api sendCommand getClient verify api ResponseType ERROR api ResponseType EMPTY s_logger error api getTestCaseInfo api getUrl error verify api ResponseType ERROR api ResponseType EMPTY s_logger info api getTestCaseInfo api ResponseType ERROR api s_logger error api getTestCaseInfo api getUrl error api ResponseType ERROR api api
api setResponseType ResponseType ERROR api sendCommand getClient api ResponseType ERROR api ResponseType s_logger error api getTestCaseInfo api getUrl error api ResponseType ERROR api ResponseType s_logger info api getTestCaseInfo api ResponseType ERROR api s_logger error api getTestCaseInfo api getUrl error api ResponseType ERROR api api s_logger error api getName api getUrl
api setResponseType ResponseType ERROR api sendCommand getClient api ResponseType ERROR api ResponseType s_logger error api getTestCaseInfo api getUrl error api ResponseType ERROR api ResponseType s_logger info api getTestCaseInfo api ResponseType ERROR api s_logger error api getTestCaseInfo api getUrl error api ResponseType ERROR api api s_logger error api getName api getUrl api getTestCaseInfo
error api api s_logger info api getTestCaseInfo api api getResponseCode s_logger error api getTestCaseInfo api getUrl error api api getResponseCode api s_logger error api getName api getUrl api getTestCaseInfo s_logger info api getTestCaseInfo api api getResponseCode s_logger error api getTestCaseInfo api getResponseCode api getUrl api
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api error
String file iter String arg iter next arg host iter next arg file iter next Deploy deploy Deploy ArrayList String inputFile ArrayList String inputFile add file deploy setInputFile inputFile deploy setTestCaseName deploy getParam put host deploy getParam put deploy setCommands
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode NodeList commandName fstElmnt getElementsByTagName Element commandElmnt Element commandName item NodeList commandNm commandElmnt getChildNodes commandNm item NodeList mysqlList fstElmnt getElementsByTagName j j mysqlList j Element itemVariableElement Element mysqlList item j
i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode NodeList commandName fstElmnt getElementsByTagName Element commandElmnt Element commandName item NodeList commandNm commandElmnt getChildNodes commandNm item NodeList mysqlList fstElmnt getElementsByTagName j j mysqlList j Element itemVariableElement Element mysqlList item j s_logger info itemVariableElement getTextContent Statement st getConn createStatement st executeUpdate itemVariableElement getTextContent
j j mysqlList j Element itemVariableElement Element mysqlList item j s_logger info itemVariableElement getTextContent Statement st getConn createStatement st executeUpdate itemVariableElement getTextContent ex s_logger error ex item NodeList commandList fstElmnt getElementsByTagName Element commandElement Element commandList item NodeList ipList fstElmnt getElementsByTagName j j ipList j Element itemVariableElement Element ipList item j
Statement st getConn createStatement st executeUpdate itemVariableElement getTextContent ex s_logger error ex item NodeList commandList fstElmnt getElementsByTagName Element commandElement Element commandList item NodeList ipList fstElmnt getElementsByTagName j j ipList j Element itemVariableElement Element ipList item j s_logger info itemVariableElement getTextContent Connection conn Connection itemVariableElement getTextContent conn connect
item NodeList commandList fstElmnt getElementsByTagName Element commandElement Element commandList item NodeList ipList fstElmnt getElementsByTagName j j ipList j Element itemVariableElement Element ipList item j s_logger info itemVariableElement getTextContent Connection conn Connection itemVariableElement getTextContent conn connect s_logger info itemVariableElement getTextContent isAuthenticated conn authenticateWithPassword isAuthenticated s_logger info
Session sess conn openSession s_logger info commandElement getTextContent sess execCommand commandElement getTextContent Thread sleep sess close conn close ex s_logger error ex ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl
Session sess conn openSession s_logger info commandElement getTextContent sess execCommand commandElement getTextContent Thread sleep sess close conn close ex s_logger error ex ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error
conn close ex s_logger error ex ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api s_logger info api getTestCaseInfo api getUrl
s_logger error ex ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api s_logger info api getTestCaseInfo api getUrl s_logger error api getTestCaseInfo api getUrl
ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api isEmpty s_logger info api getTestCaseInfo api getUrl s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl
api api s_logger error api getTestCaseInfo api getUrl error api api api api isEmpty s_logger info api getTestCaseInfo api getUrl s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api s_logger error api getName api getUrl
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient getConn api api
Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient getConn api getResponseCode api s_logger error api getName api getResponseCode api getUrl api getResponseCode api error s_logger error api getTestCaseInfo api getResponseCode api getUrl api getResponseCode api error
Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient getConn api getResponseCode api s_logger error api getName api getResponseCode api getUrl api getResponseCode api error s_logger error api getTestCaseInfo api getResponseCode api getUrl api getResponseCode api error s_logger error api getTestCaseInfo api getUrl api getParam
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api
Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api s_logger info api getTestCaseInfo
ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api isEmpty s_logger info api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api getParam
s_logger error api getTestCaseInfo api getUrl error api api api api isEmpty s_logger info api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api s_logger error api getName api getUrl api getTestCaseInfo
api api api api isEmpty s_logger info api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api s_logger error api getName api getUrl api getTestCaseInfo s_logger info api getTestCaseInfo api api
s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api s_logger error api getName api getUrl api getTestCaseInfo s_logger info api getTestCaseInfo api api s_logger error api getTestCaseInfo api getUrl api s_logger info
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api
Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api s_logger info api getTestCaseInfo
ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api s_logger error api getTestCaseInfo api getUrl error api api api api isEmpty s_logger info api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api getParam
s_logger error api getTestCaseInfo api getUrl error api api api api isEmpty s_logger info api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api s_logger error api getName api getUrl api getTestCaseInfo
api api api api isEmpty s_logger info api getTestCaseInfo s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api s_logger error api getName api getUrl api getTestCaseInfo s_logger info api getTestCaseInfo api api
s_logger error api getTestCaseInfo api getUrl api isEmpty s_logger error api getTestCaseInfo api getUrl api s_logger error api getName api getUrl api getTestCaseInfo s_logger info api getTestCaseInfo api api s_logger error api getTestCaseInfo api getUrl api s_logger info
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api api
Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api getResponseCode api s_logger error api getName api getResponseCode api getUrl api getResponseCode error s_logger error api getTestCaseInfo api getResponseCode api getUrl api getParam
Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient api getResponseCode api s_logger error api getName api getResponseCode api getUrl api getResponseCode error s_logger error api getTestCaseInfo api getResponseCode api getUrl api getParam s_logger error api getName api getUrl api
api sendCommand getClient api getResponseCode api s_logger error api getName api getResponseCode api getUrl api getResponseCode error s_logger error api getTestCaseInfo api getResponseCode api getUrl api s_logger error api getName api getUrl api s_logger error api getTestCaseInfo api getUrl error api getTestCaseInfo
s_logger error api getName api getResponseCode api getUrl api getResponseCode error s_logger error api getTestCaseInfo api getResponseCode api getUrl api getParam s_logger error api getName api getUrl api s_logger error api getTestCaseInfo api getUrl error api getTestCaseInfo s_logger info api getTestCaseInfo eventResult ApiCommand verifyEvents getParam get getParam get
Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient ArrayList String port ArrayList String j j j port add Integer toString j String portValue port s_logger info portValue String url getParam get portValue HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method responseCode error
api sendCommand getClient ArrayList String port ArrayList String j j j port add Integer toString j String portValue port s_logger info portValue String url getParam get portValue HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method responseCode error s_logger error portValue url
File asyncCommands param get s_logger info System exit asyncCommands File param get Properties pro Properties FileInputStream in FileInputStream asyncCommands pro load in Enumeration en pro propertyNames en String key String en nextElement commands put key pro getProperty key
component setParam updateParam component setConn s_globalParameters get component setCommands s_inputFile get key component setInputFile s_inputFile get key key component setTestCaseName s_testCaseName s_result set component executeTest s_result get s_logger error key s_failure finalResult s_logger info key
error Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient getConn api api
Element rootElement getInputFile get getDocumentElement NodeList commandLst rootElement getElementsByTagName i i commandLst i Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient getConn api api s_logger error api getTestCaseInfo api getUrl error api api api getParam s_logger error api getName api getUrl api
Node fstNode commandLst item i Element fstElmnt Element fstNode ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient getConn api api s_logger error api getTestCaseInfo api getUrl error api api api getParam s_logger error api getName api getUrl api s_logger error api getTestCaseInfo api getUrl error
ApiCommand api ApiCommand fstElmnt getParam getCommands api sendCommand getClient getConn api api s_logger error api getTestCaseInfo api getUrl error api api api getParam s_logger error api getName api getUrl api s_logger error api getTestCaseInfo api getUrl error s_logger info api getTestCaseInfo api api
api api getResponseCode api s_logger error api getName api getUrl api s_logger error api getTestCaseInfo api getUrl error s_logger info api getTestCaseInfo api api getResponseCode s_logger error api getTestCaseInfo api getResponseCode api getUrl api s_logger info error
iter String arg iter next arg host iter next arg password iter next arg url iter next host host s_logger info System exit password s_logger info System exit
host iter next password iter next url iter next host host s_logger info System exit password s_logger info System exit s_logger info host Connection conn Connection host conn connect
password iter next url iter next host host s_logger info System exit password s_logger info System exit s_logger info host Connection conn Connection host conn connect s_logger info host isAuthenticated conn authenticateWithPassword password
s_logger info s_account get s_logger info s_logger info sleepTime Thread sleep sleepTime success usageIterator eventsAndBillingResponseCode executeEventsAndBilling server developerServer s_logger info eventsAndBillingResponseCode usageIterator
Thread sleep sleepTime success usageIterator numThreads eventsAndBillingResponseCode executeEventsAndBilling server developerServer s_logger info eventsAndBillingResponseCode usageIterator s_logger info usageIterator numThreads usageIterator s_logger info cleanupResponseCode executeCleanup server developerServer username s_logger info cleanupResponseCode success cleanupResponseCode
success usageIterator numThreads eventsAndBillingResponseCode executeEventsAndBilling server developerServer s_logger info eventsAndBillingResponseCode usageIterator s_logger info usageIterator numThreads usageIterator s_logger info cleanupResponseCode executeCleanup server developerServer username s_logger info cleanupResponseCode success cleanupResponseCode
usageIterator s_logger info usageIterator numThreads usageIterator s_logger info cleanupResponseCode executeCleanup server developerServer username s_logger info cleanupResponseCode success cleanupResponseCode s_logger info stopResponseCode executeStop server developerServer username s_logger info stopResponseCode success stopResponseCode
DocumentBuilder docBuilder factory newDocumentBuilder Document doc docBuilder parse is Element rootElement doc getDocumentElement i i tagNames i NodeList targetNodes rootElement getElementsByTagName tagNames i targetNodes s_logger error tagNames i List String valueList ArrayList String j j targetNodes j Node node targetNodes item j valueList add node getTextContent returnValues put tagNames i valueList
NodeList allocatedIpAddrNodes rootElement getElementsByTagName i i allocatedIpAddrNodes i Node allocatedIpAddrNode allocatedIpAddrNodes item i NodeList childNodes allocatedIpAddrNode getChildNodes String ipAddress isSourceNat j j childNodes j Node n childNodes item j n ipAddress n getTextContent n isSourceNat Boolean parseBoolean n getTextContent ipAddress isSourceNat returnValues add ipAddress
NodeList allocatedIpAddrNodes rootElement getElementsByTagName i i allocatedIpAddrNodes i Node allocatedIpAddrNode allocatedIpAddrNodes item i NodeList childNodes allocatedIpAddrNode getChildNodes String ipAddress isSourceNat j j childNodes j Node n childNodes item j n ipAddress n getTextContent n isSourceNat Boolean parseBoolean n getTextContent ipAddress isSourceNat returnValues add ipAddress
String String server String String String url server s_userId get toString
String server String String username String encodedUsername URLEncoder encode username String encryptedPassword createMD5Password username String encodedPassword URLEncoder encode encryptedPassword String url server encodedUsername encodedPassword accountName url server encodedUsername encodedPassword accountName HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method userId responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get
url server encodedUsername encodedPassword accountName HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method userId responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get s_logger info username userIdStr userIdStr userId Long parseLong userIdStr s_userId set userId s_account set userIdValues get userId
HttpMethod method GetMethod url responseCode client executeMethod method userId responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get s_logger info username userIdStr userIdStr userId Long parseLong userIdStr s_userId set userId s_account set userIdValues get userId s_logger error username
InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get s_logger info username userIdStr userIdStr userId Long parseLong userIdStr s_userId set userId s_account set userIdValues get userId s_logger error username s_logger error username responseCode responseCode s_secretKey set executeRegistration server username username
s_logger info username userIdStr userIdStr userId Long parseLong userIdStr s_userId set userId s_account set userIdValues get userId s_logger error username s_logger error username responseCode responseCode s_secretKey set executeRegistration server username username s_secretKey get s_logger error username
s_logger info s_apiKey get String networkAccount accountName networkAccount accountName networkAccount encodedUsername String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey encodedUsername requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedUsername encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method responseCode
String networkAccount accountName networkAccount accountName networkAccount encodedUsername String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey encodedUsername requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedUsername encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream
responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream Map String String values getSingleValueFromXML is String values s_logger info s_logger info responseCode s_logger error responseCode url responseCode String encodedCidr URLEncoder encode url server encodedCidr encodedUsername networkAccount method GetMethod url
InputStream is method getResponseBodyAsStream Map String String values getSingleValueFromXML is String values s_logger info s_logger info responseCode s_logger error responseCode url responseCode String encodedCidr URLEncoder encode url server encodedCidr encodedUsername networkAccount method GetMethod url responseCode client executeMethod method responseCode
get s_logger info s_logger info responseCode s_logger error responseCode url responseCode templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId encodedApiKey URLEncoder encode s_apiKey get requestToSign encodedApiKey encodedUsername encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase
s_logger error responseCode url responseCode templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId encodedApiKey URLEncoder encode s_apiKey get requestToSign encodedApiKey encodedUsername encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedUsername encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method
url developerServer encodedUsername encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get values get s_logger info s_logger info responseCode linuxVMId Long parseLong values get s_logger info linuxVMId s_linuxVmId set values get
Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get values get s_logger info s_logger info responseCode linuxVMId Long parseLong values get s_logger info linuxVMId s_linuxVmId set values get s_linuxIP set values get s_linuxPassword set s_logger error responseCode url responseCode
s_logger info s_logger info responseCode linuxVMId Long parseLong values get s_logger info linuxVMId s_linuxVmId set values get s_linuxIP set values get s_linuxPassword set s_logger error responseCode url responseCode url server diskOfferingId zoneId s_account get s_logger info client HttpClient
s_logger info responseCode linuxVMId Long parseLong values get s_logger info linuxVMId s_linuxVmId set values get s_linuxIP set values get s_linuxPassword set s_logger error responseCode url responseCode url server diskOfferingId zoneId s_account get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method responseCode
s_logger error responseCode url responseCode url server diskOfferingId zoneId s_account get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get s_logger info
url server diskOfferingId zoneId s_account get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get s_logger info s_logger info responseCode String volumeId values get
s_logger error responseCode url responseCode url server s_newVolume get s_linuxVmId get s_logger info s_newVolume get s_linuxVmId get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get s_logger info
url server s_newVolume get s_linuxVmId get s_logger info s_newVolume get s_linuxVmId get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get s_logger info s_logger info responseCode
s_logger info responseCode s_logger error responseCode url responseCode templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId encodedApiKey URLEncoder encode s_apiKey get requestToSign encodedApiKey encodedUsername encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedUsername encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature
s_logger error responseCode url responseCode templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId encodedApiKey URLEncoder encode s_apiKey get requestToSign encodedApiKey encodedUsername encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedUsername encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method
String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId encodedApiKey URLEncoder encode s_apiKey get requestToSign encodedApiKey encodedUsername encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedUsername encodedZoneId encodedServiceOfferingId encodedTemplateId encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String
method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get values get s_logger info s_logger info responseCode linuxVMId Long parseLong values get s_logger info linuxVMId s_linuxVmId1 set values get
responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get values get s_logger info s_logger info responseCode linuxVMId Long parseLong values get s_logger info linuxVMId s_linuxVmId1 set values get s_logger error responseCode url responseCode
String server String String String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId
String server String String String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info userId url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
String server String String String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info userId url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userInfo getSingleValueFromXML is String userInfo get
String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info userId url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userInfo getSingleValueFromXML is String userInfo get s_logger error url
responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userInfo getSingleValueFromXML is String userInfo s_logger error url s_logger error responseCode url responseCode url server userId client HttpClient method GetMethod url responseCode client executeMethod method
Map String String userInfo getSingleValueFromXML is String userInfo s_logger error url s_logger error responseCode url responseCode url server userId client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String
s_logger error url s_logger error responseCode url responseCode url server userId client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get
method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature
Map String String success getSingleValueFromXML is String s_logger info success get s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode
s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream
String encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_linuxVmId get
s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient
InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method
requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url
InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method
Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode
s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream
requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String success get s_logger info
method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String success get s_logger info s_logger info responseCode s_logger info success get s_logger error responseCode url
String server String String url server s_account get
String server String String url server s_account get s_logger info s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
String server String String url server s_account get s_logger info s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String eventDescriptions getMultipleValuesFromXML is String List String descriptionText eventDescriptions get descriptionText s_logger info String descriptionText
s_logger info s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String eventDescriptions getMultipleValuesFromXML is String List String descriptionText eventDescriptions get descriptionText s_logger info String text descriptionText s_logger info text
String server String String String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId
String server String String username String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info username HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info username HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get userIdStr userId userIdStr userId
s_logger info username HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get userIdStr userId userIdStr userId s_logger error url
String userIdStr userIdValues get userIdStr userId userIdStr userId s_logger error url s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature
s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature s_logger info url String vmIds client HttpClient method GetMethod url responseCode client executeMethod method
s_logger info url String vmIds client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String vmIdValues getMultipleValuesFromXML is String vmIdValues List String vmIdList vmIdValues get vmIdList vmIds String vmIdList size vmIdList toArray vmIds String vmIdLogStr
String vmIds client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String vmIdValues getMultipleValuesFromXML is String vmIdValues List String vmIdList vmIdValues get vmIdList vmIds String vmIdList size vmIdList toArray vmIds String vmIdLogStr vmIds vmIds
vmIdList toArray vmIds String vmIdLogStr vmIds vmIds vmIdLogStr vmIds i i vmIds i vmIdLogStr vmIdLogStr vmIds i s_logger info vmIdLogStr s_logger error responseCode url responseCode vmIds String vmId vmIds requestToSign encodedApiKey vmId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get
s_logger info vmIdLogStr s_logger error responseCode url responseCode vmId requestToSign encodedApiKey vmId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer vmId encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info vmId responseCode
conn connect s_logger info s_account get host success isAuthenticated conn authenticateWithPassword isAuthenticated s_logger info SCPClient scp SCPClient conn scp put s_logger info ex s_logger error ex conn
s_logger info s_logger info String result retry retry s_logger info retry s_account get Thread sleep s_logger info host retry s_account get Connection conn Connection host conn connect
password s_logger info String result retry retry s_logger info retry s_account get Thread sleep s_logger info host retry s_account get Connection conn Connection host conn connect s_logger info s_account get host isAuthenticated conn authenticateWithPassword password
retry s_logger info retry s_account get Thread sleep s_logger info host retry s_account get Connection conn Connection host conn connect s_logger info s_account get host isAuthenticated conn authenticateWithPassword password isAuthenticated s_logger info password success String linuxCommand i linuxCommand
Thread sleep s_logger info s_account get reason sshTest s_linuxIP get s_linuxPassword get snapshotTest reason s_logger info s_account get s_logger info s_account get reason sshTest s_linuxIP get s_linuxPassword get snapshotTest s_linuxIP set s_windowsIP set reason s_logger info s_account get s_logger info
reason s_logger info s_account get s_logger info s_account get reason sshTest s_linuxIP get s_linuxPassword get snapshotTest s_linuxIP set s_windowsIP set reason s_logger info s_account get s_logger info s_logger info sleepTime Thread sleep sleepTime
s_logger info s_account get s_logger info s_logger info sleepTime Thread sleep sleepTime success usageIterator eventsAndBillingResponseCode executeEventsAndBilling server developerServer s_logger info eventsAndBillingResponseCode usageIterator
DocumentBuilder docBuilder factory newDocumentBuilder Document doc docBuilder parse is Element rootElement doc getDocumentElement i i tagNames i NodeList targetNodes rootElement getElementsByTagName tagNames i targetNodes s_logger error tagNames i List String valueList ArrayList String j j targetNodes j Node node targetNodes item j valueList add node getTextContent returnValues put tagNames i valueList
NodeList allocatedIpAddrNodes rootElement getElementsByTagName i i allocatedIpAddrNodes i Node allocatedIpAddrNode allocatedIpAddrNodes item i NodeList childNodes allocatedIpAddrNode getChildNodes String ipAddress isSourceNat j j childNodes j Node n childNodes item j n ipAddress n getTextContent n isSourceNat Boolean parseBoolean n getTextContent ipAddress isSourceNat returnValues add ipAddress
String ipAddress String ipAddressId isSourceNat j j childNodes j Node n childNodes item j n ipAddressId n getTextContent n ipAddress n getTextContent n isSourceNat Boolean parseBoolean n getTextContent ipAddress isSourceNat returnValues add ipAddressId returnValues add ipAddress
String String server String String String url server s_userId get toString
String server String String username String String encodedUsername URLEncoder encode username String encryptedPassword createMD5Password username String encodedPassword URLEncoder encode encryptedPassword String url server encodedUsername encodedUsername encodedPassword HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method accountId responseCode InputStream is method getResponseBodyAsStream Map String String accountValues getSingleValueFromXML is String String accountIdStr accountValues get
String url server encodedUsername encodedUsername encodedPassword HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method accountId responseCode InputStream is method getResponseBodyAsStream Map String String accountValues getSingleValueFromXML is String String accountIdStr accountValues get s_logger info username accountIdStr accountIdStr accountId Long parseLong accountIdStr s_accountId set accountId s_account set accountValues get accountId
responseCode client executeMethod method accountId responseCode InputStream is method getResponseBodyAsStream Map String String accountValues getSingleValueFromXML is String String accountIdStr accountValues get s_logger info username accountIdStr accountIdStr accountId Long parseLong accountIdStr s_accountId set accountId s_account set accountValues get accountId s_logger error username
s_logger error username s_logger error username responseCode url url server encodedUsername encodedUsername client HttpClient method GetMethod url responseCode client executeMethod method userId responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get
s_logger error username responseCode url url server encodedUsername encodedUsername client HttpClient method GetMethod url responseCode client executeMethod method userId responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get s_logger info username userIdStr userIdStr userId Long parseLong userIdStr
url server encodedUsername encodedUsername client HttpClient method GetMethod url responseCode client executeMethod method userId responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get s_logger info username userIdStr userIdStr userId Long parseLong userIdStr s_userId set userId userId
method GetMethod url responseCode client executeMethod method userId responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get s_logger info username userIdStr userIdStr userId Long parseLong userIdStr s_userId set userId userId s_logger error username
responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get s_logger info username userIdStr userIdStr userId Long parseLong userIdStr s_userId set userId userId s_logger error username s_logger error username responseCode url s_secretKey set executeRegistration server username username
s_logger error username responseCode url s_secretKey set executeRegistration server username username s_secretKey get s_logger error username s_logger info s_secretKey get s_logger info s_apiKey get url server networkOfferingId encodedUsername zoneId encodedUsername encodedUsername client HttpClient method GetMethod url responseCode client executeMethod method
s_logger error username responseCode url s_secretKey set executeRegistration server username username s_secretKey get s_logger error username s_logger info s_secretKey get s_logger info s_apiKey get url server networkOfferingId encodedUsername zoneId encodedUsername encodedUsername client HttpClient method GetMethod url responseCode client executeMethod method responseCode
s_logger info encodedUsername networkIdStr networkIdStr s_networkId set networkIdStr s_logger error username responseCode url String linuxVMPrivateIP templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId String encodedApiKey URLEncoder encode s_apiKey get String encodedNetworkIds URLEncoder encode s_networkId get String requestToSign encodedApiKey diskOfferingId encodedNetworkIds encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase
s_logger error username responseCode url String linuxVMPrivateIP templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId String encodedApiKey URLEncoder encode s_apiKey get String encodedNetworkIds URLEncoder encode s_networkId get String requestToSign encodedApiKey diskOfferingId encodedNetworkIds encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedZoneId encodedServiceOfferingId diskOfferingId encodedNetworkIds encodedTemplateId encodedApiKey encodedSignature
templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId String encodedApiKey URLEncoder encode s_apiKey get String encodedNetworkIds URLEncoder encode s_networkId get String requestToSign encodedApiKey diskOfferingId encodedNetworkIds encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedZoneId encodedServiceOfferingId diskOfferingId encodedNetworkIds encodedTemplateId encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream
Map String String values getSingleValueFromXML el String values get values get s_logger info url s_logger info responseCode linuxVMId Long parseLong values get s_logger info linuxVMId s_linuxVmId set values get linuxVMPrivateIP values get s_linuxPassword set vmPassword s_logger info s_linuxPassword get s_logger error responseCode url responseCode
s_logger info responseCode linuxVMId Long parseLong values get s_logger info linuxVMId s_linuxVmId set values get linuxVMPrivateIP values get s_linuxPassword set vmPassword s_logger info s_linuxPassword get s_logger error responseCode url responseCode String ipAddr String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey zoneId
s_logger info linuxVMId s_linuxVmId set values get linuxVMPrivateIP values get s_linuxPassword set vmPassword s_logger info s_linuxPassword get s_logger error responseCode url responseCode String ipAddr String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey zoneId requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey zoneId encodedSignature
String ipAddr String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey zoneId requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey zoneId encodedSignature method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream Element associpel queryAsyncJobResult server is Map String String values getSingleValueFromXML associpel String values get values get s_logger info url
String ipAddr String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey zoneId requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey zoneId encodedSignature method GetMethod url responseCode client executeMethod method responseCode InputStream is method getResponseBodyAsStream Element associpel queryAsyncJobResult server is Map String String values getSingleValueFromXML associpel String values get values get s_logger info url
responseCode InputStream is method getResponseBodyAsStream Element associpel queryAsyncJobResult server is Map String String values getSingleValueFromXML associpel String values get values get s_logger info url s_logger info responseCode publicIpId Long parseLong values get s_logger info publicIpId s_publicIpId set values get s_logger error responseCode url responseCode
publicIpId Long parseLong values get s_logger info publicIpId s_publicIpId set values get s_logger error responseCode url responseCode String encodedPublicIpId URLEncoder encode s_publicIpId get requestToSign encodedApiKey encodedPublicIpId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedPublicIpId encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method
s_logger info publicIpId s_publicIpId set values get s_logger error responseCode url responseCode String encodedPublicIpId URLEncoder encode s_publicIpId get requestToSign encodedApiKey encodedPublicIpId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedPublicIpId encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info url
String encodedPublicIpId URLEncoder encode s_publicIpId get requestToSign encodedApiKey encodedPublicIpId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedPublicIpId encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info url s_logger info userId responseCode responseCode InputStream is method getResponseBodyAsStream List String ipAddressValues getIPs is ipAddressValues ipAddressValues
String encodedPublicIpId URLEncoder encode s_publicIpId get requestToSign encodedApiKey encodedPublicIpId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedPublicIpId encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info url s_logger info userId responseCode responseCode InputStream is method getResponseBodyAsStream List String ipAddressValues getIPs is ipAddressValues ipAddressValues
requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedPublicIpId encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info url s_logger info userId responseCode responseCode InputStream is method getResponseBodyAsStream List String ipAddressValues getIPs is ipAddressValues ipAddressValues s_windowsIpId set ipAddressValues get s_windowsIP set ipAddressValues get
InputStream is method getResponseBodyAsStream List String ipAddressValues getIPs is ipAddressValues ipAddressValues s_windowsIpId set ipAddressValues get s_windowsIP set ipAddressValues get s_logger info ipAddressValues get s_logger info ipAddressValues get s_logger error responseCode url responseCode requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature
requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info url s_logger info userId responseCode responseCode InputStream is method getResponseBodyAsStream List String ipAddressValues getIPs is ipAddressValues ipAddressValues s_linuxIpId set ipAddressValues get
method GetMethod url responseCode client executeMethod method s_logger info url s_logger info userId responseCode responseCode InputStream is method getResponseBodyAsStream List String ipAddressValues getIPs is ipAddressValues ipAddressValues s_linuxIpId set ipAddressValues get s_linuxIP set ipAddressValues get s_logger info ipAddressValues get s_logger info ipAddressValues get s_logger error responseCode url responseCode
InputStream is method getResponseBodyAsStream List String ipAddressValues getIPs is ipAddressValues ipAddressValues s_linuxIpId set ipAddressValues get s_linuxIP set ipAddressValues get s_logger info ipAddressValues get s_logger info ipAddressValues get s_logger error responseCode url responseCode String encodedSourceNatPublicIpId URLEncoder encode s_linuxIpId get String encodedVmId URLEncoder encode s_linuxVmId get String encodedIpAddress URLEncoder encode s_linuxIpId get requestToSign encodedApiKey encodedIpAddress encodedVmId requestToSign requestToSign toLowerCase
s_linuxIP set ipAddressValues get s_logger info ipAddressValues get s_logger info ipAddressValues get s_logger error responseCode url responseCode String encodedSourceNatPublicIpId URLEncoder encode s_linuxIpId get String encodedVmId URLEncoder encode s_linuxVmId get String encodedIpAddress URLEncoder encode s_linuxIpId get requestToSign encodedApiKey encodedIpAddress encodedVmId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedIpAddress encodedVmId encodedSignature s_logger info url
String encodedSourceNatPublicIpId URLEncoder encode s_linuxIpId get String encodedVmId URLEncoder encode s_linuxVmId get String encodedIpAddress URLEncoder encode s_linuxIpId get requestToSign encodedApiKey encodedIpAddress encodedVmId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedIpAddress encodedVmId encodedSignature s_logger info url method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String
String encodedSourceNatPublicIpId URLEncoder encode s_linuxIpId get String encodedVmId URLEncoder encode s_linuxVmId get String encodedIpAddress URLEncoder encode s_linuxIpId get requestToSign encodedApiKey encodedIpAddress encodedVmId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedIpAddress encodedVmId encodedSignature s_logger info url method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String
responseCode url server s_linuxVmId get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String success get s_logger error url s_logger info success get s_rootVolume set success get
url server s_linuxVmId get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String success get s_logger error url s_logger info success get s_rootVolume set success get s_logger error responseCode url
s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String success get s_logger error url s_logger info success get s_rootVolume set success get s_logger error responseCode url responseCode String encodedTimeZone URLEncoder encode url server s_rootVolume get encodedTimeZone s_logger info client HttpClient
responseCode String encodedTimeZone URLEncoder encode url server s_rootVolume get encodedTimeZone s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode s_logger error responseCode url responseCode String windowsVMPrivateIP templateId String encodedZoneId URLEncoder encode zoneId
String encodedTimeZone URLEncoder encode url server s_rootVolume get encodedTimeZone s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode s_logger error responseCode url responseCode String windowsVMPrivateIP templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId
client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode s_logger error responseCode url responseCode String windowsVMPrivateIP templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId encodedApiKey URLEncoder encode s_apiKey get String encodedNetworkIds URLEncoder encode s_networkId get
String windowsVMPrivateIP templateId String encodedZoneId URLEncoder encode zoneId String encodedServiceOfferingId URLEncoder encode serviceOfferingId String encodedTemplateId URLEncoder encode templateId encodedApiKey URLEncoder encode s_apiKey get String encodedNetworkIds URLEncoder encode s_networkId get requestToSign encodedApiKey diskOfferingId encodedNetworkIds encodedServiceOfferingId encodedTemplateId encodedZoneId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedZoneId encodedServiceOfferingId diskOfferingId encodedNetworkIds encodedTemplateId encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method
requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedZoneId encodedServiceOfferingId diskOfferingId encodedNetworkIds encodedTemplateId encodedApiKey encodedSignature method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get values get s_logger info url s_logger info responseCode
String server String String String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId
String server String String String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info userId url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
String server String String String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info userId url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userInfo getSingleValueFromXML is String userInfo get
String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info userId url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userInfo getSingleValueFromXML is String userInfo get s_logger error url
responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userInfo getSingleValueFromXML is String userInfo s_logger error url s_logger error responseCode url responseCode url server userId client HttpClient method GetMethod url responseCode client executeMethod method
Map String String userInfo getSingleValueFromXML is String userInfo s_logger error url s_logger error responseCode url responseCode url server userId client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String
s_logger error url s_logger error responseCode url responseCode url server userId client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get
url server userId client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get s_logger error responseCode url responseCode url server s_linuxVmId get s_logger info client HttpClient
method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get s_logger error responseCode url responseCode url server s_linuxVmId get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method
responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get s_logger error responseCode url responseCode url server s_linuxVmId get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream
s_logger info success get s_logger error responseCode url responseCode url server s_linuxVmId get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get s_dataVolume set success get
responseCode url server s_linuxVmId get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get s_dataVolume set success get s_logger error responseCode url responseCode
client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get s_dataVolume set success get s_logger error responseCode url responseCode url server s_dataVolume get s_logger info s_dataVolume get client HttpClient
s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String s_logger info success get s_dataVolume set success get s_logger error responseCode url responseCode url server s_dataVolume get s_logger info s_dataVolume get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode
s_logger info success get s_dataVolume set success get s_logger error responseCode url responseCode url server s_dataVolume get s_logger info s_dataVolume get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input s_logger info
s_logger error responseCode url responseCode url server s_dataVolume get s_logger info s_dataVolume get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input s_logger info s_logger error responseCode url responseCode
s_logger error responseCode url responseCode url server s_dataVolume get s_logger info s_dataVolume get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode s_logger info s_logger error responseCode url responseCode url server diskOfferingId zoneId s_account get
url server s_dataVolume get s_logger info s_dataVolume get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode s_logger info s_logger error responseCode url responseCode url server diskOfferingId zoneId s_account get s_logger info client HttpClient method GetMethod url
s_logger info responseCode responseCode s_logger info s_logger error responseCode url responseCode url server diskOfferingId zoneId s_account get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String
responseCode url server diskOfferingId zoneId s_account get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get s_logger info s_logger info responseCode
method GetMethod url responseCode client executeMethod method responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get s_logger info s_logger info responseCode volumeId Long parseLong values get s_logger info volumeId s_newVolume set values get
Map String String values getSingleValueFromXML el String values get s_logger info s_logger info responseCode volumeId Long parseLong values get s_logger info volumeId s_newVolume set values get s_logger error responseCode url responseCode url server s_newVolume get s_linuxVmId get s_logger info s_newVolume get s_linuxVmId get client HttpClient
s_logger info responseCode volumeId Long parseLong values get s_logger info volumeId s_newVolume set values get s_logger error responseCode url responseCode url server s_newVolume get s_linuxVmId get s_logger info s_newVolume get s_linuxVmId get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode
url server s_newVolume get s_linuxVmId get s_logger info s_newVolume get s_linuxVmId get client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input s_logger info s_logger error responseCode url responseCode url server s_linuxVmId get s_logger info
responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input s_logger info s_logger error responseCode url responseCode url server s_linuxVmId get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream
s_logger info s_logger error responseCode url responseCode url server s_linuxVmId get s_logger info client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String success get s_logger error url
client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String success get s_logger error url s_logger info success get s_rootVolume set success get s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get
InputStream is method getResponseBodyAsStream Map String String success getSingleValueFromXML is String success get s_logger error url s_logger info success get s_rootVolume set success get s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey s_rootVolume get requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer s_rootVolume get encodedApiKey encodedSignature
success get s_logger error url s_logger info success get s_rootVolume set success get s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey s_rootVolume get requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer s_rootVolume get encodedApiKey encodedSignature client HttpClient method GetMethod url
String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey s_rootVolume get requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer s_rootVolume get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get
client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get s_logger info s_logger info responseCode values get s_snapshot set values get
s_logger info responseCode values get s_snapshot set values get s_logger error responseCode url responseCode requestToSign encodedApiKey s_windowsVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_windowsVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method
responseCode requestToSign encodedApiKey s_windowsVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_windowsVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get
requestToSign encodedApiKey s_windowsVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_windowsVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get
InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method
Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode
requestToSign encodedApiKey s_linuxVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get
encodedSignature URLEncoder encode signature url developerServer s_linuxVmId get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_account get s_account get s_snapshot get
method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_account get s_account get s_snapshot get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature
s_logger info success get s_logger error responseCode url responseCode requestToSign encodedApiKey s_account get s_account get s_snapshot get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_account get s_account get s_snapshot get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream
requestToSign encodedApiKey s_account get s_account get s_snapshot get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_account get s_account get s_snapshot get encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values get s_logger info
method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String values getSingleValueFromXML el String values s_logger info s_logger info responseCode s_logger error responseCode url responseCode
Map String String values getSingleValueFromXML el String values get s_logger info s_logger info responseCode s_logger error responseCode url responseCode requestToSign encodedApiKey s_windowsVmId get requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer s_windowsVmId get encodedApiKey encodedSignature client HttpClient
String server String String url server s_account get
String server String String url server s_account get s_logger info s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
String server String String url server s_account get s_logger info s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String eventDescriptions getMultipleValuesFromXML is String List String descriptionText eventDescriptions get descriptionText s_logger info String descriptionText
s_logger info s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String eventDescriptions getMultipleValuesFromXML is String List String descriptionText eventDescriptions get descriptionText s_logger info String text descriptionText s_logger info text
responseCode InputStream is method getResponseBodyAsStream Map String List String eventDescriptions getMultipleValuesFromXML is String List String descriptionText eventDescriptions get descriptionText s_logger info String text descriptionText s_logger info text s_logger error responseCode url responseCode DateFormat dateFormat SimpleDateFormat Date currentDate Date String endDate dateFormat format currentDate
s_logger info String text s_logger info text s_logger error responseCode url responseCode DateFormat dateFormat SimpleDateFormat Date currentDate Date String endDate dateFormat format currentDate s_logger info endDate url server endDate client HttpClient method GetMethod url responseCode client executeMethod method
s_logger error responseCode url responseCode DateFormat dateFormat SimpleDateFormat Date currentDate Date String endDate dateFormat format currentDate s_logger info endDate url server endDate client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String successStr getSingleValueFromXML is String
Date currentDate Date String endDate dateFormat format currentDate s_logger info endDate url server endDate client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String successStr getSingleValueFromXML is String s_logger info successStr get s_logger error responseCode url responseCode
client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String successStr getSingleValueFromXML is String s_logger info successStr get s_logger error responseCode url responseCode Thread sleep ex s_logger error ex
ex s_logger error ex url server endDate s_account get s_logger info url client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String usageRecValues getMultipleValuesFromXML is String usageRecValues usageRecValues List String descriptions usageRecValues get List String usages usageRecValues get descriptions
String server String url server s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
String server String url server s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String requestKeyValues getSingleValueFromXML is String bytesReceived Integer parseInt requestKeyValues get bytesSent Integer parseInt requestKeyValues get bytesReceived bytesSent
String url server s_account get HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String requestKeyValues getSingleValueFromXML is String bytesReceived Integer parseInt requestKeyValues get bytesSent Integer parseInt requestKeyValues get bytesReceived bytesSent s_logger info s_account get toHumanReadableSize bytesReceived toHumanReadableSize bytesSent
HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String requestKeyValues getSingleValueFromXML is String bytesReceived Integer parseInt requestKeyValues get bytesSent Integer parseInt requestKeyValues get bytesReceived bytesSent s_logger info s_account get toHumanReadableSize bytesReceived toHumanReadableSize bytesSent s_logger error s_account get toHumanReadableSize bytesReceived toHumanReadableSize bytesSent
String server String String String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId
String server String String username String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info username HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method
String userId s_userId get toString String encodedUserId URLEncoder encode userId String url server encodedUserId s_logger info username HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get userIdStr userId userIdStr
s_logger info username HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String String userIdValues getSingleValueFromXML is String String userIdStr userIdValues get userIdStr userId userIdStr s_logger error url
String userIdStr userIdValues get userIdStr userId userIdStr s_logger error url s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature
s_logger error url s_logger error responseCode url responseCode String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature s_logger info url String vmIds client HttpClient method GetMethod url
s_logger info url String vmIds client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String vmIdValues getMultipleValuesFromXML is String vmIdValues List String vmIdList vmIdValues get vmIdList vmIds String vmIdList size vmIdList toArray vmIds String vmIdLogStr
String vmIds client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String vmIdValues getMultipleValuesFromXML is String vmIdValues List String vmIdList vmIdValues get vmIdList vmIds String vmIdList size vmIdList toArray vmIds String vmIdLogStr vmIds vmIds
vmIds String vmIdList size vmIdList toArray vmIds String vmIdLogStr vmIds vmIds vmIdLogStr vmIds i i vmIds i vmIdLogStr vmIdLogStr vmIds i s_logger info vmIdLogStr s_logger error responseCode url responseCode requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature
requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature String ipAddresses client HttpClient method GetMethod url responseCode client executeMethod method s_logger info userId responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String ipAddressValues getMultipleValuesFromXML is String ipAddressValues List String ipAddressList ipAddressValues get
InputStream is method getResponseBodyAsStream Map String List String ipAddressValues getMultipleValuesFromXML is String ipAddressValues List String ipAddressList ipAddressValues get ipAddressList ipAddresses String ipAddressList size ipAddressList toArray ipAddresses String ipAddressLogStr ipAddresses ipAddresses ipAddressLogStr ipAddresses i i ipAddresses i ipAddressLogStr ipAddressLogStr ipAddresses i s_logger info ipAddressLogStr
s_logger error responseCode url responseCode requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature String zoneNames client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream
String zoneNames client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String zoneNameValues getMultipleValuesFromXML is String zoneNameValues List String zoneNameList zoneNameValues get zoneNameList zoneNames String zoneNameList size zoneNameList toArray zoneNames String zoneNameLogStr zoneNames zoneNames
zoneNameLogStr zoneNameLogStr zoneNames i zoneNameLogStr s_logger info zoneNameLogStr s_logger error responseCode url responseCode requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature String statNames client HttpClient method GetMethod url responseCode client executeMethod method
requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature String statNames client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String statValues getMultipleValuesFromXML is String statValues List String statList statValues get
statNames String statList size statList toArray statNames String statLogStr statNames zoneNames statLogStr statNames i i statNames i statLogStr statLogStr zoneNames i statLogStr s_logger info statLogStr s_logger error responseCode url responseCode requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get
s_logger error responseCode url responseCode requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature String templateNames client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream
s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String templateNameValues getMultipleValuesFromXML is String templateNameValues List String templateNameList templateNameValues get templateNameList templateNames String templateNameList size templateNameList toArray templateNames String templateNameLogStr templateNames templateNames templateNameLogStr templateNames i i templateNames i templateNameLogStr templateNameLogStr templateNames i templateNameLogStr
templateNames String templateNameList size templateNameList toArray templateNames String templateNameLogStr templateNames templateNames templateNameLogStr templateNames i i templateNames i templateNameLogStr templateNameLogStr templateNames i templateNameLogStr s_logger info templateNameLogStr s_logger error responseCode url responseCode requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get
requestToSign encodedApiKey requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature String serviceOfferingNames client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String serviceOfferingNameValues getMultipleValuesFromXML is String serviceOfferingNameValues List String serviceOfferingNameList serviceOfferingNameValues get
Map String List String serviceOfferingNameValues getMultipleValuesFromXML is String serviceOfferingNameValues List String serviceOfferingNameList serviceOfferingNameValues get serviceOfferingNameList serviceOfferingNames String serviceOfferingNameList size serviceOfferingNameList toArray serviceOfferingNames String serviceOfferingNameLogStr serviceOfferingNames serviceOfferingNames serviceOfferingNameLogStr serviceOfferingNames i i serviceOfferingNames i serviceOfferingNameLogStr serviceOfferingNameLogStr serviceOfferingNames i s_logger info serviceOfferingNameLogStr s_logger error responseCode url responseCode
serviceOfferingNames serviceOfferingNames serviceOfferingNameLogStr serviceOfferingNames i i serviceOfferingNames i serviceOfferingNameLogStr serviceOfferingNameLogStr serviceOfferingNames i s_logger info serviceOfferingNameLogStr s_logger error responseCode url responseCode url server s_account get String eventDescriptions client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode
responseCode url server s_account get String eventDescriptions client HttpClient method GetMethod url responseCode client executeMethod method s_logger info responseCode responseCode InputStream is method getResponseBodyAsStream Map String List String eventNameValues getMultipleValuesFromXML is String eventNameValues List String eventNameList eventNameValues get eventNameList eventDescriptions String eventNameList size eventNameList toArray eventDescriptions
eventNameList eventDescriptions String eventNameList size eventNameList toArray eventDescriptions String eventNameLogStr eventDescriptions eventDescriptions eventNameLogStr eventDescriptions i i eventDescriptions i eventNameLogStr eventNameLogStr eventDescriptions i eventNameLogStr s_logger info eventNameLogStr s_logger error responseCode url responseCode String cmdName destroy
eventNameLogStr s_logger info eventNameLogStr s_logger error responseCode url responseCode String cmdName destroy String vmId requestToSign encodedApiKey cmdName vmId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer cmdName vmId encodedApiKey encodedSignature client HttpClient method GetMethod url
s_logger error responseCode url responseCode String cmdName destroy String vmId requestToSign encodedApiKey cmdName vmId requestToSign requestToSign toLowerCase signature signRequest requestToSign s_secretKey get encodedSignature URLEncoder encode signature url developerServer cmdName vmId encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info cmdName vmId responseCode responseCode
method GetMethod url responseCode client executeMethod method s_logger info cmdName vmId responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info cmdName success get s_logger error cmdName responseCode url responseCode String ipAddresses String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey requestToSign requestToSign toLowerCase
responseCode client executeMethod method s_logger info cmdName vmId responseCode responseCode InputStream input method getResponseBodyAsStream Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info cmdName success get s_logger error cmdName responseCode url responseCode String ipAddresses String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get
Element el queryAsyncJobResult server input Map String String success getSingleValueFromXML el String s_logger info cmdName success get s_logger error cmdName responseCode url responseCode String ipAddresses String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature client HttpClient method GetMethod url
s_logger info cmdName success get s_logger error cmdName responseCode url responseCode String ipAddresses String encodedApiKey URLEncoder encode s_apiKey get String requestToSign encodedApiKey requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info userId responseCode
String requestToSign encodedApiKey requestToSign requestToSign toLowerCase String signature signRequest requestToSign s_secretKey get String encodedSignature URLEncoder encode signature url developerServer encodedApiKey encodedSignature client HttpClient method GetMethod url responseCode client executeMethod method s_logger info userId responseCode responseCode InputStream is method getResponseBodyAsStream List String ipAddressList getNonSourceNatIPs is ipAddresses String ipAddressList size ipAddressList toArray ipAddresses String ipAddrLogStr
responseCode client executeMethod method s_logger info userId responseCode responseCode InputStream is method getResponseBodyAsStream List String ipAddressList getNonSourceNatIPs is ipAddresses String ipAddressList size ipAddressList toArray ipAddresses String ipAddrLogStr ipAddresses ipAddresses ipAddrLogStr ipAddresses i i ipAddresses i ipAddrLogStr ipAddrLogStr ipAddresses i s_logger info ipAddrLogStr s_logger error responseCode url
conn connect s_logger info s_account get host success isAuthenticated conn authenticateWithPassword isAuthenticated s_logger info SCPClient scp SCPClient conn scp put s_logger info ex s_logger error ex conn
s_logger info s_logger info String result retry retry s_logger info retry s_account get Thread sleep s_logger info host retry s_account get Connection conn Connection host conn connect
password s_logger info String result retry retry s_logger info retry s_account get Thread sleep s_logger info host retry s_account get Connection conn Connection host conn connect s_logger info s_account get host isAuthenticated conn authenticateWithPassword password
retry s_logger info retry s_account get Thread sleep s_logger info host retry s_account get Connection conn Connection host conn connect s_logger info s_account get host isAuthenticated conn authenticateWithPassword password isAuthenticated s_logger info password success String linuxCommand i linuxCommand downloadUrl
String arg iter next arg host iter next arg password iter next i host host s_logger info System exit password s_logger info System exit retry retry
password iter next i host host s_logger info System exit password s_logger info System exit retry retry s_logger info retry Thread sleep s_logger info host retry Connection conn Connection host
i host host s_logger info System exit s_logger info System exit retry retry s_logger info retry Thread sleep s_logger info host retry Connection conn Connection host conn connect
selenium select iso_os_type selenium click Thread sleep i i System out println i selenium click i s_logger info e getLocalizedMessage second second second fail selenium isVisible e
selenium type String template_url System getProperty selenium type template_url String template_zone System getProperty selenium select template_zone String template_os_type System getProperty selenium select template_os_type selenium click Thread sleep i i System out println i selenium click i
selenium select template_os_type selenium click Thread sleep i i System out println i selenium click i ex s_logger info ex getLocalizedMessage second second second fail selenium isVisible
selenium type selenium type selenium click Thread sleep assertTrue selenium isTextPresent selenium click selenium click Thread sleep selenium click selenium click second second second fail selenium isVisible
selenium isVisible e s_logger info e getLocalizedMessage Thread sleep assertTrue selenium isTextPresent selenium click Thread sleep selenium click selenium click second second second fail selenium isVisible e
Script myScript Script myScript add command myScript execute begin System currentTimeMillis WgetInt process WgetInt String response myScript execute process end process getEnd response
String begin System currentTimeMillis Runtime getRuntime addShutdownHook ShutdownThread ProxyLoadTemp ConsoleProxy proxyIp BufferedReader consoleInput BufferedReader FileReader eof s_logger info eof String line consoleInput readLine
Runtime getRuntime addShutdownHook ShutdownThread ProxyLoadTemp ConsoleProxy proxyIp BufferedReader consoleInput BufferedReader FileReader eof s_logger info eof String line consoleInput readLine s_logger info line line s_logger info numThreads eof String result
TreeMap String String param TreeMap String String String req host prop getProperty prop getProperty String temp param put prop getProperty param put prop getProperty param put param put param put prop getProperty param put StringTokenizer str1 StringTokenizer url str1 String newEl str1 nextToken StringTokenizer str2 StringTokenizer newEl String name str2 nextToken String value str2 nextToken
FileOutputStream fs FileOutputStream File DataOutputStream out DataOutputStream fs i i i out writeBytes i out writeBytes i i i StringBuilder imagePath StringBuilder Formatter formatter Formatter imagePath formatter format i out writeBytes imagePath toString out flush out close
Iterator String iter argsList iterator iter String arg iter next arg certFileName iter next arg secretKey iter next arg apiKey iter next arg url iter next Properties prop Properties prop load FileInputStream
TreeMap String String param TreeMap String String String req host prop getProperty prop getProperty String temp certFileName cert readCert certFileName param put cert param put apiKey param put prop getProperty param put prop getProperty param put param put prop getProperty StringTokenizer str1 StringTokenizer url str1 String newEl str1 nextToken StringTokenizer str2 StringTokenizer newEl
param put param put prop getProperty StringTokenizer str1 StringTokenizer url str1 String newEl str1 nextToken StringTokenizer str2 StringTokenizer newEl String name str2 nextToken String value str2 nextToken param put name value Set c param entrySet Iterator it c iterator it Map Entry me Map Entry it next String key String me getKey String value String me getValue
String url HttpClient client HttpClient HttpMethod method GetMethod url responseCode client executeMethod method String is method getResponseBodyAsString
port iter next numThreads Integer parseInt iter next sleepTime Long parseLong iter next cleanUp Boolean parseBoolean iter next cleanUp sleepTime repeat Boolean parseBoolean iter next numOfUsers Integer parseInt iter next internet Boolean parseBoolean iter next
numThreads Integer parseInt iter next sleepTime Long parseLong iter next cleanUp Boolean parseBoolean iter next cleanUp sleepTime repeat Boolean parseBoolean iter next numOfUsers Integer parseInt iter next internet Boolean parseBoolean iter next String server host port testUrl s_logger info server numThreads
String server host port testUrl s_logger info server numThreads cleanUp s_logger info sleepTime numOfUsers s_logger info numOfUsers users String numOfUsers Random ran Random i i numOfUsers i users i Math abs ran nextInt i i numThreads i String username
reason sshTest method getResponseHeader getValue reason s_logger info s_logger info reason sshWinTest method getResponseHeader getValue reason s_logger info s_logger info s_logger info sleepTime Thread sleep sleepTime success
s_logger info s_logger info s_logger info sleepTime Thread sleep sleepTime success s_logger info url server username username s_logger info
s_logger info s_logger info s_logger info sleepTime Thread sleep sleepTime success s_logger info url server username username s_logger info url server username username method GetMethod url
s_logger info s_logger info sleepTime Thread sleep sleepTime success s_logger info url server username username s_logger info url server username username method GetMethod url responseCode client executeMethod method
String String String run
Map String String configs _configDao getConfiguration params params mergeConfigs configs params String execTime configs get String aggregationRange configs get String execTimeZone configs get String aggreagationTimeZone configs get String sanityCheckInterval configs get String quotaEnable configs get _runQuota Boolean valueOf quotaEnable quotaEnable usageSnapshotSelection Boolean valueOf configs get sanityCheckInterval _sanityCheckInterval Integer parseInt sanityCheckInterval aggreagationTimeZone aggreagationTimeZone _usageTimezone TimeZone getTimeZone aggreagationTimeZone
params mergeConfigs configs params String execTime configs get String aggregationRange configs get String execTimeZone configs get String aggreagationTimeZone configs get String sanityCheckInterval configs get String quotaEnable configs get _runQuota Boolean valueOf quotaEnable quotaEnable usageSnapshotSelection Boolean valueOf configs get sanityCheckInterval _sanityCheckInterval Integer parseInt sanityCheckInterval aggreagationTimeZone aggreagationTimeZone _usageTimezone TimeZone getTimeZone aggreagationTimeZone s_logger debug aggreagationTimeZone
cal set Calendar MILLISECOND startDate cal getTime getTime cal roll Calendar HOUR_OF_DAY cal add Calendar MILLISECOND endDate cal getTime getTime endDate cal getTime getTime cal add Calendar MINUTE _aggregationDuration startDate cal getTime getTime parse job startDate endDate _quotaManager calculateQuotaUsage e s_logger error e
endDate cal getTime getTime endDate cal getTime getTime cal add Calendar MINUTE _aggregationDuration startDate cal getTime getTime parse job startDate endDate _quotaManager calculateQuotaUsage e s_logger error e _quotaStatement sendStatement e s_logger error e
startDateMillis endDateMillis s_logger s_logger info startDateMillis endDateMillis TransactionLegacy jobUpdateTxn TransactionLegacy open TransactionLegacy USAGE_DB jobUpdateTxn start _usageJobDao updateJobSuccess job getId startDateMillis endDateMillis System currentTimeMillis timeStart success job UsageJobVO JOB_TYPE_RECURRING _usageJobDao createNewJob _hostname _pid UsageJobVO JOB_TYPE_RECURRING jobUpdateTxn commit jobUpdateTxn close Date startDate Date startDateMillis Date endDate Date endDateMillis
hostAggregatedStat setAggBytesSent hostAggregatedStat getAggBytesSent userStat getAggBytesSent hostAggregatedStat setAggBytesReceived hostAggregatedStat getAggBytesReceived userStat getAggBytesReceived aggregatedStats put hostKey hostAggregatedStat startIndex userStats userStats isEmpty numAcctsProcessed usageNetworks clear key aggregatedStats UsageNetworkVO currentNetworkStats networkStats currentNetworkStats networkStats get key createNetworkHelperEntry aggregatedStats get key currentNetworkStats endDateMillis numAcctsProcessed _usageNetworkDao saveUsageNetworks usageNetworks
createVmDiskHelperEntry aggregatedDiskStats get key currentVmDiskStats endDateMillis numAcctsProcessed _usageVmDiskDao saveUsageVmDisks usageVmDisks s_logger s_logger debug numAcctsProcessed usageTxn commit usageTxn start parsed numAcctsProcessed Date currentStartDate startDate Date currentEndDate endDate Date tempDate endDate Calendar aggregateCal Calendar getInstance _usageTimezone tempDate startDate tempDate startDate currentEndDate tempDate
account currentStartDate currentEndDate parsed parsed VMInstanceUsageParser parse account currentStartDate currentEndDate parsed
parsed VMInstanceUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed NetworkUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VmDiskUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VolumeUsageParser parse account currentStartDate currentEndDate s_logger parsed
parsed NetworkUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VmDiskUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VolumeUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed StorageUsageParser parse account currentStartDate currentEndDate s_logger parsed
parsed s_logger debug parsed account getAccountName account getId parsed VmDiskUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VolumeUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed StorageUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed SecurityGroupUsageParser parse account currentStartDate currentEndDate
parsed VmDiskUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VolumeUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed StorageUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed SecurityGroupUsageParser parse account currentStartDate currentEndDate s_logger parsed
parsed VolumeUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed StorageUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed SecurityGroupUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed LoadBalancerUsageParser parse account currentStartDate currentEndDate s_logger parsed
parsed s_logger debug parsed account getAccountName account getId parsed StorageUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed SecurityGroupUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed LoadBalancerUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed PortForwardingUsageParser parse account currentStartDate currentEndDate
parsed StorageUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed SecurityGroupUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed LoadBalancerUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed PortForwardingUsageParser parse account currentStartDate currentEndDate s_logger parsed
parsed SecurityGroupUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed LoadBalancerUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed PortForwardingUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed NetworkOfferingUsageParser parse account currentStartDate currentEndDate s_logger parsed
parsed s_logger debug parsed account getAccountName account getId parsed LoadBalancerUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed PortForwardingUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed NetworkOfferingUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed IPAddressUsageParser parse account currentStartDate currentEndDate
parsed LoadBalancerUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed PortForwardingUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed NetworkOfferingUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed IPAddressUsageParser parse account currentStartDate currentEndDate s_logger parsed
parsed PortForwardingUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed NetworkOfferingUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed IPAddressUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VPNUserUsageParser parse account currentStartDate currentEndDate s_logger parsed
parsed s_logger debug parsed account getAccountName account getId parsed NetworkOfferingUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed IPAddressUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VPNUserUsageParser parse account currentStartDate currentEndDate s_logger parsed s_logger debug parsed account getAccountName account getId parsed VMSnapshotUsageParser parse account currentStartDate currentEndDate
event vmId event getResourceId Long soId event getOfferingId zoneId event getZoneId String vmName event getResourceName event SearchCriteria UsageVMInstanceVO sc _usageInstanceDao createSearchCriteria sc addAnd SearchCriteria Op EQ Long valueOf vmId sc addAnd SearchCriteria Op NULL sc addAnd SearchCriteria Op EQ UsageTypes RUNNING_VM List UsageVMInstanceVO usageInstances _usageInstanceDao search sc usageInstances usageInstances
sc addAnd SearchCriteria Op NULL sc addAnd SearchCriteria Op EQ UsageTypes RUNNING_VM List UsageVMInstanceVO usageInstances _usageInstanceDao search sc usageInstances usageInstances s_logger error vmId UsageVMInstanceVO usageInstance usageInstances usageInstance setEndDate event getCreateDate _usageInstanceDao update usageInstance sc _usageInstanceDao createSearchCriteria sc addAnd SearchCriteria Op EQ Long valueOf vmId sc addAnd SearchCriteria Op NULL sc addAnd SearchCriteria Op EQ UsageTypes ALLOCATED_VM usageInstances _usageInstanceDao search sc usageInstances usageInstances
sc addAnd SearchCriteria Op EQ UsageTypes ALLOCATED_VM usageInstances _usageInstanceDao search sc usageInstances usageInstances s_logger error vmId usageInstances UsageVMInstanceVO usageInstance usageInstances get usageInstance soId usageInstance setEndDate event getCreateDate _usageInstanceDao update usageInstance usageInstance setServiceOfferingId soId usageInstance setStartDate event getCreateDate usageInstance setEndDate populateDynamicComputeOfferingDetailsAndPersist usageInstance event getId Long templateId event getTemplateId String hypervisorType event getResourceType
ex s_logger error vmId ex event SearchCriteria UsageVMInstanceVO sc _usageInstanceDao createSearchCriteria sc addAnd SearchCriteria Op EQ Long valueOf vmId sc addAnd SearchCriteria Op NULL sc addAnd SearchCriteria Op EQ UsageTypes RUNNING_VM List UsageVMInstanceVO usageInstances _usageInstanceDao search sc usageInstances usageInstances s_logger warn vmId UsageVMInstanceVO usageInstance usageInstances usageInstance setEndDate event getCreateDate _usageInstanceDao update usageInstance event
event SearchCriteria UsageVMInstanceVO sc _usageInstanceDao createSearchCriteria sc addAnd SearchCriteria Op EQ Long valueOf vmId sc addAnd SearchCriteria Op NULL sc addAnd SearchCriteria Op EQ UsageTypes ALLOCATED_VM List UsageVMInstanceVO usageInstances _usageInstanceDao search sc usageInstances usageInstances s_logger warn vmId UsageVMInstanceVO usageInstance usageInstances usageInstance setEndDate event getCreateDate _usageInstanceDao update usageInstance Long templateId event getTemplateId String hypervisorType event getResourceType UsageVMInstanceVO usageInstanceNew UsageVMInstanceVO UsageTypes ALLOCATED_VM zoneId event getAccountId vmId vmName soId templateId hypervisorType event getCreateDate
currentAccountedBytesSent currentAccountedBytesReceived
currentAccountedBytesSent usageNetworkStats getAggBytesSent currentAccountedBytesReceived usageNetworkStats getAggBytesReceived bytesSent userStat getAggBytesSent currentAccountedBytesSent bytesReceived userStat getAggBytesReceived currentAccountedBytesReceived bytesSent s_logger warn toHumanReadableSize bytesSent toHumanReadableSize userStat getAggBytesSent toHumanReadableSize currentAccountedBytesSent bytesSent bytesReceived s_logger warn toHumanReadableSize bytesReceived toHumanReadableSize userStat getAggBytesReceived toHumanReadableSize currentAccountedBytesReceived bytesReceived hostId userStat getDeviceId hostId userStat getDeviceId UsageNetworkVO usageNetworkVO UsageNetworkVO userStat getAccountId userStat getDataCenterId hostId userStat getDeviceType userStat getNetworkId bytesSent bytesReceived userStat getAggBytesReceived userStat getAggBytesSent timestamp s_logger
currentAccountedIORead currentAccountedIOWrite currentAccountedBytesRead currentAccountedBytesWrite
ioRead s_logger warn toHumanReadableSize ioRead toHumanReadableSize vmDiskStat getAggIORead toHumanReadableSize currentAccountedIORead ioRead ioWrite s_logger warn toHumanReadableSize ioWrite toHumanReadableSize vmDiskStat getAggIOWrite toHumanReadableSize currentAccountedIOWrite ioWrite bytesRead s_logger warn toHumanReadableSize bytesRead toHumanReadableSize vmDiskStat getAggBytesRead toHumanReadableSize currentAccountedBytesRead bytesRead bytesWrite s_logger warn toHumanReadableSize bytesWrite toHumanReadableSize vmDiskStat getAggBytesWrite toHumanReadableSize currentAccountedBytesWrite bytesWrite vmId vmDiskStat getVmId vmId vmDiskStat getVmId
event String ipAddress event getResourceName event
id event getResourceId sourceNat event getSize isSourceNat sourceNat isSystem event getTemplateId event getTemplateId UsageIPAddressVO ipAddressVO UsageIPAddressVO id event getAccountId acct getDomainId zoneId ipAddress isSourceNat isSystem event getCreateDate _usageIPAddressDao persist ipAddressVO event SearchCriteria UsageIPAddressVO sc _usageIPAddressDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ ipAddress sc addAnd SearchCriteria Op NULL List UsageIPAddressVO ipAddressVOs _usageIPAddressDao search sc ipAddressVOs s_logger warn ipAddress event getAccountId UsageIPAddressVO ipAddressVO ipAddressVOs
event volId event getResourceId event SearchCriteria UsageStorageVO sc _usageStorageDao createSearchCriteria sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op EQ StorageTypes VOLUME List UsageStorageVO volumesVOs _usageStorageDao search sc volumesVOs volumesVOs
sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op EQ StorageTypes VOLUME List UsageStorageVO volumesVOs _usageStorageDao search sc volumesVOs volumesVOs s_logger debug volId volumesVOs get setDeleted event getCreateDate _usageStorageDao update volumesVOs get event event SearchCriteria UsageVolumeVO sc _usageVolumeDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op NULL List UsageVolumeVO volumesVOs _usageVolumeDao search sc volumesVOs
volumesVOs volumesVOs s_logger debug volId volumesVOs get setDeleted event getCreateDate _usageStorageDao update volumesVOs get event event SearchCriteria UsageVolumeVO sc _usageVolumeDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op NULL List UsageVolumeVO volumesVOs _usageVolumeDao search sc volumesVOs s_logger error volId event getAccountId UsageVolumeVO volumesVOs s_logger
_usageStorageDao update volumesVOs get event event SearchCriteria UsageVolumeVO sc _usageVolumeDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op NULL List UsageVolumeVO volumesVOs _usageVolumeDao search sc volumesVOs s_logger error volId event getAccountId UsageVolumeVO volumesVO volumesVOs s_logger s_logger debug volumesVO getId volumesVO getAccountId volumesVO setDeleted event getCreateDate _usageVolumeDao update volumesVO s_logger
s_logger s_logger debug volumesVO getId volumesVO getAccountId volumesVO setDeleted event getCreateDate _usageVolumeDao update volumesVO s_logger s_logger debug volId event getAccountId Account acct _accountDao findByIdIncludingRemoved event getAccountId UsageVolumeVO volumeVO UsageVolumeVO volId event getZoneId event getAccountId acct getDomainId event getOfferingId event getTemplateId event getSize event getCreateDate _usageVolumeDao persist volumeVO event SearchCriteria UsageVolumeVO sc _usageVolumeDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op NULL List UsageVolumeVO volumesVOs _usageVolumeDao search sc
UsageVolumeVO volumeVO UsageVolumeVO volId event getZoneId event getAccountId acct getDomainId event getOfferingId event getTemplateId event getSize event getCreateDate _usageVolumeDao persist volumeVO event SearchCriteria UsageVolumeVO sc _usageVolumeDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op NULL List UsageVolumeVO volumesVOs _usageVolumeDao search sc volumesVOs s_logger warn volId event getAccountId UsageVolumeVO volumesVO volumesVOs s_logger s_logger debug volumesVO getId volumesVO getAccountId volumesVO setDeleted event getCreateDate _usageVolumeDao update volumesVO
event SearchCriteria UsageVolumeVO sc _usageVolumeDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op NULL List UsageVolumeVO volumesVOs _usageVolumeDao search sc volumesVOs s_logger warn volId event getAccountId UsageVolumeVO volumesVO volumesVOs s_logger s_logger debug volumesVO getId volumesVO getAccountId volumesVO setDeleted event getCreateDate _usageVolumeDao update volumesVO event SearchCriteria UsageStorageVO sc _usageStorageDao createSearchCriteria
sc addAnd SearchCriteria Op NULL List UsageVolumeVO volumesVOs _usageVolumeDao search sc volumesVOs s_logger warn volId event getAccountId UsageVolumeVO volumesVO volumesVOs s_logger s_logger debug volumesVO getId volumesVO getAccountId volumesVO setDeleted event getCreateDate _usageVolumeDao update volumesVO event SearchCriteria UsageStorageVO sc _usageStorageDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ volId sc addAnd SearchCriteria Op NULL List UsageStorageVO volumesVOs _usageStorageDao search sc
event templateId zoneId templateSize templateId event getResourceId zoneId event getZoneId event event templateSize event getSize templateSize
templateId zoneId templateSize templateId event getResourceId zoneId event getZoneId event event templateSize event getSize templateSize s_logger error templateId zoneId s_logger error templateId event event s_logger
s_logger debug templateId event getAccountId List UsageStorageVO storageVOs _usageStorageDao listByIdAndZone event getAccountId templateId StorageTypes TEMPLATE zoneId storageVOs s_logger warn templateId event getAccountId zoneId Account acct _accountDao findByIdIncludingRemoved event getAccountId UsageStorageVO storageVO UsageStorageVO templateId zoneId event getAccountId acct getDomainId StorageTypes TEMPLATE event getTemplateId templateSize event getVirtualSize event getCreateDate _usageStorageDao persist storageVO event List UsageStorageVO storageVOs zoneId storageVOs _usageStorageDao listByIdAndZone event getAccountId templateId StorageTypes TEMPLATE zoneId storageVOs _usageStorageDao listById event getAccountId templateId StorageTypes TEMPLATE storageVOs
List UsageStorageVO storageVOs _usageStorageDao listByIdAndZone event getAccountId isoId StorageTypes ISO zoneId storageVOs s_logger warn isoId event getAccountId zoneId Account acct _accountDao findByIdIncludingRemoved event getAccountId UsageStorageVO storageVO UsageStorageVO isoId zoneId event getAccountId acct getDomainId StorageTypes ISO isoSize isoSize event getCreateDate _usageStorageDao persist storageVO event List UsageStorageVO storageVOs zoneId storageVOs _usageStorageDao listByIdAndZone event getAccountId isoId StorageTypes ISO zoneId storageVOs _usageStorageDao listById event getAccountId isoId StorageTypes ISO storageVOs s_logger warn isoId event getAccountId
snapSize event getSize zoneId event getZoneId event s_logger s_logger debug snapId event getAccountId Account acct _accountDao findByIdIncludingRemoved event getAccountId UsageStorageVO storageVO UsageStorageVO snapId zoneId event getAccountId acct getDomainId StorageTypes SNAPSHOT snapSize event getCreateDate _usageStorageDao persist storageVO event List UsageStorageVO storageVOs _usageStorageDao listById event getAccountId snapId StorageTypes SNAPSHOT storageVOs s_logger warn snapId event getAccountId UsageStorageVO storageVO storageVOs s_logger
event zoneId id event getResourceId event
s_logger debug id event getAccountId zoneId event getZoneId Account acct _accountDao findByIdIncludingRemoved event getAccountId UsageLoadBalancerPolicyVO lbVO UsageLoadBalancerPolicyVO id zoneId event getAccountId acct getDomainId event getCreateDate _usageLoadBalancerPolicyDao persist lbVO event SearchCriteria UsageLoadBalancerPolicyVO sc _usageLoadBalancerPolicyDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ id sc addAnd SearchCriteria Op NULL List UsageLoadBalancerPolicyVO lbVOs _usageLoadBalancerPolicyDao search sc lbVOs s_logger warn id event getAccountId UsageLoadBalancerPolicyVO lbVO lbVOs s_logger
event zoneId id event getResourceId event
s_logger debug id event getAccountId zoneId event getZoneId Account acct _accountDao findByIdIncludingRemoved event getAccountId UsagePortForwardingRuleVO pfVO UsagePortForwardingRuleVO id zoneId event getAccountId acct getDomainId event getCreateDate _usagePortForwardingRuleDao persist pfVO event SearchCriteria UsagePortForwardingRuleVO sc _usagePortForwardingRuleDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ id sc addAnd SearchCriteria Op NULL List UsagePortForwardingRuleVO pfVOs _usagePortForwardingRuleDao search sc pfVOs s_logger warn id event getAccountId UsagePortForwardingRuleVO pfVO pfVOs s_logger
event account accountId account getId userId event getResourceId zoneId event getZoneId domainId account getDomainId List UsageVPNUserVO usageVpnUsers findUsageVpnUsers accountId zoneId userId domainId usageVpnUsers
event zoneId vmId event getResourceId sgId event getOfferingId event
zoneId event getZoneId Account acct _accountDao findByIdIncludingRemoved event getAccountId UsageSecurityGroupVO securityGroup UsageSecurityGroupVO zoneId event getAccountId acct getDomainId vmId sgId event getCreateDate _usageSecurityGroupDao persist securityGroup event SearchCriteria UsageSecurityGroupVO sc _usageSecurityGroupDao createSearchCriteria sc addAnd SearchCriteria Op EQ event getAccountId sc addAnd SearchCriteria Op EQ vmId sc addAnd SearchCriteria Op EQ sgId sc addAnd SearchCriteria Op NULL List UsageSecurityGroupVO sgVOs _usageSecurityGroupDao search sc sgVOs s_logger warn sgId vmId event getAccountId UsageSecurityGroupVO sgVOs s_logger
Long zoneId event getZoneId Long accountId event getAccountId physicalsize event getSize event getSize virtualsize event getVirtualSize event getVirtualSize Date created event getCreateDate Account acct _accountDao findByIdIncludingRemoved event getAccountId Long domainId acct getDomainId UsageEventDetailsVO detailVO _usageEventDetailsDao findDetail event getId UsageEventVO DynamicParameters vmSnapshotId name Long vmSnapshotId detailVO String snapId detailVO getValue vmSnapshotId Long valueOf snapId UsageSnapshotOnPrimaryVO vsVO UsageSnapshotOnPrimaryVO vmId zoneId accountId domainId vmId name virtualsize physicalsize created vsVO setVmSnapshotId vmSnapshotId
UsageSnapshotOnPrimaryVO vsVO UsageSnapshotOnPrimaryVO vmId zoneId accountId domainId vmId name virtualsize physicalsize created vsVO setVmSnapshotId vmSnapshotId s_logger s_logger debug vsVO _usageSnapshotOnPrimaryDao persist vsVO event QueryBuilder UsageSnapshotOnPrimaryVO sc QueryBuilder create UsageSnapshotOnPrimaryVO sc and sc entity getAccountId SearchCriteria Op EQ event getAccountId sc and sc entity getId SearchCriteria Op EQ vmId sc and sc entity getName SearchCriteria Op EQ name sc and sc entity getDeleted SearchCriteria Op NULL List UsageSnapshotOnPrimaryVO vmsnaps sc list vmsnaps s_logger warn name vmId event getAccountId UsageSnapshotOnPrimaryVO vmsnaps
String UsageSanityChecker usc UsageSanityChecker String sanityErrors sanityErrors usc runSanityCheck sanityErrors
String key zoneId usageNetwork getHostId key usageNetwork getHostId NetworkInfo networkInfo networkUsageByZone get key bytesSent usageNetwork getBytesSent bytesReceived usageNetwork getBytesReceived networkInfo bytesSent networkInfo getBytesSent bytesReceived networkInfo getBytesRcvd networkUsageByZone put key NetworkInfo zoneId usageNetwork getHostId usageNetwork getHostType usageNetwork getNetworkId bytesSent bytesReceived List UsageVO usageRecords ArrayList UsageVO String key networkUsageByZone NetworkInfo networkInfo networkUsageByZone get key totalBytesSent networkInfo getBytesSent totalBytesReceived networkInfo getBytesRcvd
NetworkInfo networkInfo networkUsageByZone get key totalBytesSent networkInfo getBytesSent totalBytesReceived networkInfo getBytesRcvd totalBytesSent totalBytesReceived s_logger s_logger debug toHumanReadableSize totalBytesSent toHumanReadableSize totalBytesReceived account getId networkInfo getZoneId startDate endDate Long hostId String usageDesc networkInfo getHostId hostId networkInfo getHostId usageDesc networkInfo getHostId UsageVO usageRecord UsageVO networkInfo getZoneId account getId account getDomainId usageDesc totalBytesSent UsageTypes NETWORK_BYTES_SENT Double totalBytesSent hostId networkInfo getHostType networkInfo getNetworkId startDate endDate usageRecords add usageRecord usageDesc networkInfo getHostId
Map String UsageSnapshotOnPrimaryVO unprocessedUsage HashMap String UsageSnapshotOnPrimaryVO UsageSnapshotOnPrimaryVO usageRec s_logger debug usageRec toString String key usageRec getName usageRec usageRec setDeleted Date s_usageSnapshotOnPrimaryDao updateDeleted usageRec unprocessedUsage put key usageRec String key unprocessedUsage UsageSnapshotOnPrimaryVO usageRec unprocessedUsage get key Date created usageRec getCreated created startDate created startDate Date endDateEffective endDate
ioWrite usageVmDisk getIOWrite bytesRead usageVmDisk getBytesRead bytesWrite usageVmDisk getBytesWrite vmDiskInfo ioRead vmDiskInfo getIORead ioWrite vmDiskInfo getIOWrite bytesRead vmDiskInfo getBytesRead bytesWrite vmDiskInfo getBytesWrite vmDiskUsageByZone put key VmDiskInfo zoneId usageVmDisk getVmId usageVmDisk getVolumeId ioRead ioWrite bytesRead bytesWrite List UsageVO usageRecords ArrayList UsageVO key vmDiskUsageByZone VmDiskInfo vmDiskInfo vmDiskUsageByZone get key ioRead vmDiskInfo getIORead ioWrite vmDiskInfo getIOWrite bytesRead vmDiskInfo getBytesRead
volumeId vmDiskInfo getVolumeId usageDesc vmId volumeId UsageVO usageRecord UsageVO vmDiskInfo getZoneId account getId account getDomainId usageDesc ioRead UsageTypes VM_DISK_IO_READ Double ioRead vmId vmDiskInfo getVolumeId startDate endDate usageRecords add usageRecord usageDesc vmDiskInfo vmDiskInfo getVolumeId usageDesc vmId volumeId usageRecord UsageVO vmDiskInfo getZoneId account getId account getDomainId usageDesc ioWrite UsageTypes VM_DISK_BYTES_WRITE Double ioWrite vmId vmDiskInfo getVolumeId startDate endDate usageRecords add usageRecord usageDesc vmDiskInfo vmDiskInfo getVolumeId usageDesc vmId volumeId usageRecord UsageVO vmDiskInfo getZoneId account getId account getDomainId usageDesc bytesRead UsageTypes VM_DISK_BYTES_READ Double bytesRead vmId vmDiskInfo getVolumeId startDate endDate usageRecords add usageRecord usageDesc
jsonContentType jsonContentType resp setContentType jsonContentType resp setContentType JSON_CONTENT_TYPE resp setContentType XML_CONTENT_TYPE responseCode resp setStatus responseCode addSecurityHeaders resp resp getWriter print response ioex s_logger s_logger trace ioex
log4jConfigFileName assert log4jConfigFileName File file PropertiesUtil findConfigFile log4jConfigFileName file
StringBuilder swiftCmdBuilder StringBuilder swiftCmdBuilder append getSwiftContainerCmd swift getSwiftCLIPath container rFilename swiftCmdBuilder append swiftCmdBuilder append rFilename Script command Script logger command add command add swiftCmdBuilder toString OutputInterpreter AllLinesParser parser OutputInterpreter AllLinesParser String result command execute parser result parser getLines parser getLines parser getLines split result String errMsg result
swiftCmdBuilder append swiftCmdBuilder append rFilename Script command Script logger command add command add swiftCmdBuilder toString OutputInterpreter AllLinesParser parser OutputInterpreter AllLinesParser String result command execute parser result parser getLines parser getLines parser getLines split result String errMsg result logger debug errMsg String errMsg
firstIndexOfSeparator swiftPath indexOf File separator String container swiftPath substring firstIndexOfSeparator String srcPath swiftPath substring firstIndexOfSeparator String destFilePath destDirectory destFilePath destDirectory getAbsolutePath File separator srcPath destFilePath destDirectory getAbsolutePath Script command Script logger command add command add getSwiftObjectCmd cfg getSwiftCLIPath container srcPath destFilePath OutputInterpreter AllLinesParser parser OutputInterpreter AllLinesParser String result command execute parser result String errMsg result
destFilePath destDirectory getAbsolutePath Script command Script logger command add command add getSwiftObjectCmd cfg getSwiftCLIPath container srcPath destFilePath OutputInterpreter AllLinesParser parser OutputInterpreter AllLinesParser String result command execute parser result String errMsg result logger debug errMsg CloudRuntimeException swiftPath parser getLines String lines parser getLines split String lines
uri List NameValuePair args URLEncodedUtils parse uri foundUser foundPswd NameValuePair nvp args String name nvp getName name foundUser
DocumentBuilder docBuilder factory newDocumentBuilder Document doc docBuilder parse is Element rootElement doc getDocumentElement i i tagNames i NodeList targetNodes rootElement getElementsByTagName tagNames i targetNodes s_logger error tagNames i List Pair String Integer priorityList ArrayList j j targetNodes j Node node targetNodes item j addPriorityListElementExaminingNode tagNames i node priorityList priorityList sort Comparator comparing x x second returnValues put tagNames i getListOfFirstElements priorityList
String url String user String password Pair String Integer hostAndPort validateUrl url HttpClient httpclient HttpClient MultiThreadedHttpConnectionManager user password httpclient getParams setAuthenticationPreemptive Credentials defaultcreds UsernamePasswordCredentials user password httpclient getState setCredentials AuthScope hostAndPort first hostAndPort second AuthScope ANY_REALM defaultcreds
Pair String Integer hostAndPort validateUrl url HttpClient httpclient HttpClient MultiThreadedHttpConnectionManager user password httpclient getParams setAuthenticationPreemptive Credentials defaultcreds UsernamePasswordCredentials user password httpclient getState setCredentials AuthScope hostAndPort first hostAndPort second AuthScope ANY_REALM defaultcreds s_logger info user password hostAndPort first hostAndPort second GetMethod method GetMethod url statusCode httpclient executeMethod method statusCode s_logger error url method getResponseBodyAsStream
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild configPortProfileDetails doc name type binding mode vlanid vdc espName editConfig appendChild config serialize domImpl doc
Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild configPortProfileDetails doc name type binding mode vlanid vdc espName editConfig appendChild config serialize domImpl doc e s_logger error e getMessage e
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild configPortProfileDetails doc name type binding mode vlanid editConfig appendChild config serialize domImpl doc
Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild configPortProfileDetails doc name type binding mode vlanid editConfig appendChild config serialize domImpl doc e s_logger error e getMessage e
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild configPortProfileDetails doc name mode params editConfig appendChild config serialize domImpl doc
Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild configPortProfileDetails doc name mode params editConfig appendChild config serialize domImpl doc e s_logger error e getMessage e
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild deletePortProfileDetails doc portName editConfig appendChild config serialize domImpl doc
Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild deletePortProfileDetails doc portName editConfig appendChild config serialize domImpl doc e s_logger error e getMessage e
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild policyMapDetails doc name averageRate maxRate burstRate editConfig appendChild config serialize domImpl doc
Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild policyMapDetails doc name averageRate maxRate burstRate editConfig appendChild config serialize domImpl doc e s_logger error e getMessage e
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild deletePolicyMapDetails doc name editConfig appendChild config serialize domImpl doc
Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild deletePolicyMapDetails doc name editConfig appendChild config serialize domImpl doc e s_logger error e getMessage e
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild serviceDetails doc policyMap portProfile attach editConfig appendChild config serialize domImpl doc
Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild serviceDetails doc policyMap portProfile attach editConfig appendChild config serialize domImpl doc e s_logger error e getMessage e
doc getDocumentElement appendChild get Element filter doc createElement filter setAttribute get appendChild filter Element show doc createElement filter appendChild show Element portProfile doc createElement show appendChild portProfile Element nameNode doc createElement portProfile appendChild nameNode Element profileName doc createElement profileName setTextContent name nameNode appendChild profileName serialize domImpl doc
get appendChild filter Element show doc createElement filter appendChild show Element portProfile doc createElement show appendChild portProfile Element nameNode doc createElement portProfile appendChild nameNode Element profileName doc createElement profileName setTextContent name nameNode appendChild profileName serialize domImpl doc e s_logger error e getMessage e
Document doc createDocument domImpl Element get doc createElement doc getDocumentElement appendChild get Element filter doc createElement filter setAttribute get appendChild filter Element show doc createElement filter appendChild show Element policyMap doc createElement show appendChild policyMap Element nameNode doc createElement nameNode setTextContent name policyMap appendChild nameNode serialize domImpl doc
Element filter doc createElement filter setAttribute get appendChild filter Element show doc createElement filter appendChild show Element policyMap doc createElement show appendChild policyMap Element nameNode doc createElement nameNode setTextContent name policyMap appendChild nameNode serialize domImpl doc e s_logger error e getMessage e
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc domImpl createDocument s_namespace Element capabilities doc createElement Element capability doc createElement capability setTextContent capabilities appendChild capability doc getDocumentElement appendChild capabilities serialize domImpl doc e s_logger error e getMessage e
DocumentBuilderFactory docFactory DocumentBuilderFactory newInstance DocumentBuilder docBuilder docFactory newDocumentBuilder DOMImplementation domImpl docBuilder getDOMImplementation Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild configVServiceNodeDetails doc vlanId ipAddr editConfig appendChild config serialize domImpl doc
Document doc createDocument domImpl Element editConfig doc createElement doc getDocumentElement appendChild editConfig Element target doc createElement Element running doc createElement target appendChild running editConfig appendChild target Element config doc createElement config appendChild configVServiceNodeDetails doc vlanId ipAddr editConfig appendChild config serialize domImpl doc e s_logger error vlanId e getMessage e
list NodeList readOnlyList Element list item getElementsByTagName Element readOnly Element readOnlyList item node readOnly node node node String currentNode node getNodeName String value node getTextContent currentNode _policyMap policyMapName value currentNode _policyMap committedRate Integer parseInt value trim currentNode _policyMap burstRate Integer parseInt value trim currentNode _policyMap peakRate Integer parseInt value trim
String value node getTextContent setPortBinding value _portProfile profileName value setProfileConfiguration value setPortType value value _portProfile status _portProfile maxPorts Integer parseInt value trim
assert rpcError getNodeName equalsIgnoreCase node rpcError node node node node getNodeName equalsIgnoreCase _type ErrorType valueOf node getTextContent trim node getNodeName equalsIgnoreCase _tag getErrorTag node getTextContent trim node getNodeName equalsIgnoreCase _severity ErrorSeverity valueOf node getTextContent trim node getNodeName equalsIgnoreCase _path node getTextContent node getNodeName equalsIgnoreCase _message node getTextContent node getNodeName equalsIgnoreCase _info node getTextContent
s_initializeBeans AutowireCapableBeanFactory beanFactory s_appContext getAutowireCapableBeanFactory Map String ComponentMethodInterceptable interceptableComponents getApplicationContext getBeansOfType ComponentMethodInterceptable Map String ComponentMethodInterceptable entry interceptableComponents Object bean getTargetObject entry getValue beanFactory configureBean bean entry getKey Map String ComponentLifecycle lifecycleComponents getApplicationContext getBeansOfType ComponentLifecycle Map String ComponentLifecycle classifiedComponents Map ComponentLifecycle MAX_RUN_LEVELS i i ComponentLifecycle MAX_RUN_LEVELS i classifiedComponents i HashMap String ComponentLifecycle Map String ComponentLifecycle entry lifecycleComponents classifiedComponents entry getValue getRunLevel put entry getKey entry getValue Map String SystemIntegrityChecker integrityCheckers getApplicationContext getBeansOfType SystemIntegrityChecker String SystemIntegrityChecker entry integrityCheckers
Map String entry Object bean getTargetObject entry getValue beanFactory configureBean bean entry getKey Map String ComponentLifecycle lifecycleComponents getApplicationContext getBeansOfType ComponentLifecycle Map String ComponentLifecycle classifiedComponents Map ComponentLifecycle MAX_RUN_LEVELS i i ComponentLifecycle MAX_RUN_LEVELS i classifiedComponents i HashMap String ComponentLifecycle Map String ComponentLifecycle entry lifecycleComponents classifiedComponents entry getValue getRunLevel put entry getKey entry getValue Map String SystemIntegrityChecker integrityCheckers getApplicationContext getBeansOfType SystemIntegrityChecker String SystemIntegrityChecker entry integrityCheckers s_logger info entry getKey entry getValue check
Map String ComponentLifecycle entry classifiedComponents entry getValue getRunLevel put entry getKey entry getValue Map String SystemIntegrityChecker integrityCheckers getApplicationContext getBeansOfType SystemIntegrityChecker String SystemIntegrityChecker entry integrityCheckers s_logger info entry getKey entry getValue check e s_logger error e System exit Map String String avoidMap HashMap String String ComponentLifecycle Map String ComponentLifecycle entry classifiedComponents ComponentLifecycle component entry getValue String implClassName ComponentContext getTargetClass component getName
s_logger info entry getKey entry getValue check e s_logger error e System exit Map String String avoidMap HashMap String String ComponentLifecycle Map String ComponentLifecycle entry ComponentLifecycle component entry getValue String implClassName ComponentContext getTargetClass component getName s_logger info implClassName avoidMap implClassName s_logger info implClassName
Map String String avoidMap HashMap String String ComponentLifecycle Map String ComponentLifecycle entry ComponentLifecycle component entry getValue String implClassName ComponentContext getTargetClass component getName s_logger info implClassName avoidMap implClassName s_logger info implClassName component configure component getName component getConfigParams e s_logger error e RuntimeException implClassName e avoidMap put implClassName implClassName
ComponentLifecycle String ComponentLifecycle entry ComponentLifecycle component entry getValue String implClassName ComponentContext getTargetClass component getName s_logger info implClassName avoidMap implClassName s_logger info implClassName component configure component getName component getConfigParams e s_logger error e RuntimeException implClassName e avoidMap put implClassName implClassName avoidMap clear
s_logger info implClassName component configure component getName component getConfigParams e s_logger error e RuntimeException implClassName e avoidMap put implClassName implClassName avoidMap clear ComponentLifecycle String ComponentLifecycle entry ComponentLifecycle component entry getValue String implClassName ComponentContext getTargetClass component getName s_logger info implClassName avoidMap implClassName
dbProps String encryptionType dbProps getProperty
Collections reverse addrs InterfaceAddress addr InterfaceAddress iaddr addrs InetAddress inet iaddr getAddress inet inet inet inet getAddress addr iaddr addr String result String result addr getAddress getHostAddress mac nic getHardwareAddress result byte2Mac mac
passphrase KeyStoreUtils DEFAULT_KS_PASSPHRASE File confFile PropertiesUtil findConfigFile confFile
peerNetData sslEngine sslEngine HandshakeHolder peerAppData peerNetData sslEngine closeInbound e s_logger warn e sslEngine closeOutbound HandshakeHolder peerAppData peerNetData peerNetData flip SSLEngineResult result result sslEngine unwrap peerNetData peerAppData peerNetData compact
_selector Selector open Task task _clientConnection SocketChannel open s_logger info _host _port InetSocketAddress peerAddr InetSocketAddress _host _port _clientConnection connect peerAddr _clientConnection configureBlocking SSLContext sslContext Link initClientSSLContext SSLEngine sslEngine sslContext createSSLEngine _host _port sslEngine setUseClientMode sslEngine setEnabledProtocols SSLUtils getSupportedProtocols sslEngine getEnabledProtocols sslEngine beginHandshake Link _clientConnection sslEngine
_clientConnection SocketChannel open s_logger info _host _port InetSocketAddress peerAddr InetSocketAddress _host _port _clientConnection connect peerAddr _clientConnection configureBlocking SSLContext sslContext Link initClientSSLContext SSLEngine sslEngine sslContext createSSLEngine _host _port sslEngine setUseClientMode sslEngine setEnabledProtocols SSLUtils getSupportedProtocols sslEngine getEnabledProtocols sslEngine beginHandshake Link _clientConnection sslEngine s_logger error _host _port _selector close IOException _host _port s_logger info
key key SocketChannel channel SocketChannel key channel key cancel channel
request URI uri request getURI String query uri getQuery query query query
method path parameters jsonPayLoad HttpUriRequest httpRequest HttpUriRequestBuilder create path path parameters parameters jsonPayload jsonPayLoad method method build jsonPayLoad
CloseableHttpResponse httpRequest CloseableHttpResponse response client execute httpRequest
pb redirectErrorStream _workDir pb directory File _workDir _process pb start _process _logger warn buildCommandLine command command BufferedReader ir BufferedReader InputStreamReader _process getInputStream _thread Thread currentThread ScheduledFuture String future _timeout future s_executors schedule _timeout TimeUnit MILLISECONDS Task task interpreter interpreter task Task interpreter ir s_executors execute task
String valueOf _process exitValue _logger debug future future cancel Thread interrupted TimedOutLogger log TimedOutLogger _process Task timedoutTask Task log ir timedoutTask run
script s_logger debug script URL url ClassLoader getSystemResource script
script s_logger debug script URL url ClassLoader getSystemResource script s_logger debug url File file url file File url getFile
file File url getFile s_logger debug file getAbsolutePath file getAbsolutePath path s_logger warn script path path replace File separator path File separator url Script getClassLoader getResource path script url Script getClassLoader getResource path File separator script s_logger debug url url file File URI url toString getPath
url Script getClassLoader getResource path script url Script getClassLoader getResource path File separator script s_logger debug url url file File URI url toString getPath s_logger debug file getAbsolutePath file getAbsolutePath s_logger warn url toString path File separator path path substring path lastIndexOf File separator path File separator file File path File separator script
s_logger warn url toString path File separator path path substring path lastIndexOf File separator path File separator file File path File separator script file exists file getAbsolutePath s_logger debug script String search String cp Script getResource Script getSimpleName toExternalForm begin cp indexOf File separator begin begin cp indexOf endBang cp lastIndexOf
String cp Script getResource Script getSimpleName toExternalForm begin cp indexOf File separator begin begin cp indexOf endBang cp lastIndexOf end cp lastIndexOf File separator endBang end end cp lastIndexOf endBang end cp cp substring begin cp cp substring begin end s_logger debug cp search cp s_logger debug File propsFile PropertiesUtil findConfigFile
SshException sshSession execCommand cmd InputStream stdout sshSession getStdout InputStream stderr sshSession getStderr buffer StringBuffer sbStdoutResult StringBuffer StringBuffer sbStdErrResult StringBuffer currentReadBytes stdout stderr SshException stdout stderr conditions sshSession waitForCondition ChannelCondition STDOUT_DATA ChannelCondition STDERR_DATA ChannelCondition EOF ChannelCondition EXIT_STATUS conditions ChannelCondition String msg
String host port String user String String com trilead ssh2 Connection conn com trilead ssh2 SCPClient scpClient conn com trilead ssh2 Connection host port conn connect DEFAULT_CONNECT_TIMEOUT DEFAULT_KEX_TIMEOUT conn user String msg user host
String host port String user String String String String connectTimeoutInMs kexTimeoutInMs com trilead ssh2 Connection conn com trilead ssh2 SCPClient scpClient conn com trilead ssh2 Connection host port conn connect connectTimeoutInMs kexTimeoutInMs conn user String msg user host
String host port String user String String String String connectTimeoutInMs kexTimeoutInMs com trilead ssh2 Connection conn com trilead ssh2 SCPClient scpClient conn com trilead ssh2 Connection host port conn connect connectTimeoutInMs kexTimeoutInMs conn user String msg user host
String String host port String user String String connectTimeoutInMs kexTimeoutInMs com trilead ssh2 Connection conn com trilead ssh2 Session sess conn com trilead ssh2 Connection host port conn connect connectTimeoutInMs kexTimeoutInMs conn user String msg user host
stdout conditions sess waitForCondition ChannelCondition STDOUT_DATA ChannelCondition STDERR_DATA ChannelCondition EOF ChannelCondition EXIT_STATUS waitResultTimeoutInMs throwSshExceptionIfConditionsTimeout conditions conditions ChannelCondition EXIT_STATUS waitResultTimeoutInMs sess conditions currentReadBytes stdout buffer sbResult append String buffer currentReadBytes currentReadBytes buffer sbResult append String buffer currentReadBytes String result sbResult toString result result IOUtils toString stdout StandardCharsets UTF_8
currentReadBytes stdout buffer sbResult append String buffer currentReadBytes currentReadBytes buffer sbResult append String buffer currentReadBytes String result sbResult toString result result IOUtils toString stdout StandardCharsets UTF_8 e s_logger error e getMessage Pair Boolean String result
String msg
String msg
ClientConfiguration configuration ClientConfiguration clientOptions isHttps configuration setProtocol clientOptions isHttps HTTPS HTTP clientOptions getConnectionTimeout configuration setConnectionTimeout clientOptions getConnectionTimeout clientOptions getMaxErrorRetry configuration setMaxErrorRetry clientOptions getMaxErrorRetry clientOptions getSocketTimeout configuration setSocketTimeout clientOptions getSocketTimeout clientOptions getUseTCPKeepAlive configuration setUseTcpKeepAlive clientOptions getUseTCPKeepAlive clientOptions getConnectionTtl configuration setConnectionTTL clientOptions getConnectionTtl clientOptions getSigner configuration setSignerOverride clientOptions getSigner
configuration setProtocol clientOptions isHttps HTTPS HTTP clientOptions getConnectionTimeout configuration setConnectionTimeout clientOptions getConnectionTimeout clientOptions getMaxErrorRetry configuration setMaxErrorRetry clientOptions getMaxErrorRetry clientOptions getSocketTimeout configuration setSocketTimeout clientOptions getSocketTimeout clientOptions getUseTCPKeepAlive configuration setUseTcpKeepAlive clientOptions getUseTCPKeepAlive clientOptions getConnectionTtl configuration setConnectionTTL clientOptions getConnectionTtl clientOptions getSigner configuration setSignerOverride clientOptions getSigner LOGGER debug format configuration getProtocol configuration getSignerOverride configuration getConnectionTimeout configuration getMaxErrorRetry configuration getSocketTimeout clientOptions getUseTCPKeepAlive clientOptions getConnectionTtl AmazonS3Client client AmazonS3Client basicAWSCredentials configuration
StringBuilder sb StringBuilder sb append append tag List XmlObject children ArrayList XmlObject String Object e String key e getKey Object val e getValue val String sb append String format key val toString val XmlObject children add XmlObject val val List children addAll Collection XmlObject val CloudRuntimeException String format key val getClass getName children
file CloudRuntimeException file getAbsolutePath file s_logger debug waitedSeconds intervalSeconds BasicFileAttributes attrs Files readAttributes file toPath BasicFileAttributes modifyIdle System currentTimeMillis attrs lastModifiedTime toMillis accessIdle System currentTimeMillis attrs lastAccessTime toMillis modifyIdle inactiveThresholdMilliseconds accessIdle inactiveThresholdMilliseconds s_logger debug filePath inactiveThresholdMilliseconds
String String path String String command command String output Script runSimpleBashScript command path output output s_logger debug path output output output output s_logger debug path output output s_logger debug path output output
command String output Script runSimpleBashScript command path output output s_logger debug path output output output output s_logger debug path output output s_logger debug path output output s_logger debug path output output
output output s_logger debug path output output output output s_logger debug path output output s_logger debug path output output s_logger debug path output output s_logger debug path output
output output output s_logger debug path output output s_logger debug path output output s_logger debug path output output s_logger debug path output output s_logger debug path output
stdError e getMessage LOG LOG trace e getMessage e retVal stdError LOG LOG trace e getMessage stdError stdOutput CharStreams toString InputStreamReader process getInputStream stdError CharStreams toString InputStreamReader process getErrorStream process destroy LOG LOG trace stdOutput
LOG LOG debug
assertEquals NetUtils getIp6FromRange String ip NetUtils getIp6FromRange assertThat ip anyOf equalTo equalTo
s_logger debug vmMo getName ClusterConfigInfoEx configInfo getClusterConfigInfo configInfo s_logger debug vmMo getName List ClusterDasVmConfigInfo dasVmConfig configInfo getDasVmConfig dasVmConfigIndex dasVmConfigIndex dasVmConfig dasVmConfigIndex ClusterDasVmConfigInfo dasVmConfigInfo dasVmConfig get dasVmConfigIndex dasVmConfigInfo dasVmConfigInfo DasVmPriority dasVmPriority dasVmConfigInfo getRestartPriority dasVmPriority dasVmPriority value ClusterDasVmSettingsRestartPriority CLUSTER_RESTART_PRIORITY value
ClusterDasVmSettings clusterDasVmSettings ClusterDasVmSettings clusterDasVmSettings setRestartPriority priority ClusterDasVmConfigInfo clusterDasVmConfigInfo ClusterDasVmConfigInfo clusterDasVmConfigInfo setKey vmMor clusterDasVmConfigInfo setDasSettings clusterDasVmSettings ClusterDasVmConfigSpec clusterDasVmConfigSpec ClusterDasVmConfigSpec clusterDasVmConfigSpec setOperation StringUtils isNotBlank currentVmRestartPriority ArrayUpdateOperation EDIT ArrayUpdateOperation ADD clusterDasVmConfigSpec setInfo clusterDasVmConfigInfo ClusterConfigSpecEx clusterConfigSpecEx ClusterConfigSpecEx ClusterDasConfigInfo clusterDasConfigInfo ClusterDasConfigInfo clusterConfigSpecEx setDasConfig clusterDasConfigInfo clusterConfigSpecEx getDasVmConfigSpec add clusterDasVmConfigSpec ManagedObjectReference morTask _context getService reconfigureComputeResourceTask _mor clusterConfigSpecEx result _context getVimClient waitForTask morTask result
String String guestOsId VirtualMachineConfigOption vmConfigOption _context getService queryConfigOption getEnvironmentBrowser GuestOsDescriptor guestOsDescriptor String diskController List GuestOsDescriptor guestDescriptors vmConfigOption getGuestOSDescriptor GuestOsDescriptor descriptor guestDescriptors guestOsId guestOsId descriptor guestOsDescriptor descriptor guestOsDescriptor diskController VmwareHelper getRecommendedDiskControllerFromDescriptor guestOsDescriptor s_logger debug guestOsId getHyperHostName diskController diskController String msg guestOsId getHyperHostName
fullPath String searchResult searchFileInSubFolders file getFileName excludeFolders searchResult fullPath searchResult e s_logger info e getClass getName ManagedObjectReference morTask _context getService deleteDatastoreFileTask morFileManager fullPath morDc result _context getVimClient waitForTask morTask result _context waitForTaskProgressDone morTask
String srcFilePath ManagedObjectReference morSrcDc ManagedObjectReference morDestDs String destFilePath ManagedObjectReference morDestDc forceOverwrite String srcDsName getName DatastoreMO destDsMo DatastoreMO _context morDestDs String destDsName destDsMo getName ManagedObjectReference morFileManager _context getServiceContent getFileManager String srcFullPath srcFilePath DatastoreFile isFullDatastorePath srcFullPath srcFullPath String format srcDsName srcFilePath String destFullPath destFilePath DatastoreFile isFullDatastorePath destFullPath destFullPath String format destDsName destFilePath ManagedObjectReference morTask _context getService copyDatastoreFileTask morFileManager srcFullPath morSrcDc destFullPath morDestDc forceOverwrite result _context getVimClient waitForTask morTask result _context waitForTaskProgressDone morTask
String srcFilePath ManagedObjectReference morSrcDc ManagedObjectReference morDestDs String destFilePath ManagedObjectReference morDestDc forceOverwrite String srcDsName getName DatastoreMO destDsMo DatastoreMO _context morDestDs String destDsName destDsMo getName ManagedObjectReference morFileManager _context getServiceContent getFileManager String srcFullPath srcFilePath DatastoreFile isFullDatastorePath srcFullPath srcFullPath String format srcDsName srcFilePath String destFullPath destFilePath DatastoreFile isFullDatastorePath destFullPath destFullPath String format destDsName destFilePath ManagedObjectReference morTask _context getService moveDatastoreFileTask morFileManager srcFullPath morSrcDc destFullPath morDestDc forceOverwrite result _context getVimClient waitForTask morTask result _context waitForTaskProgressDone morTask
fileFullPath DatastoreFile file DatastoreFile fileFullPath DatastoreFile dirFile DatastoreFile file getDatastoreName file getDir HostDatastoreBrowserMO browserMo getHostDatastoreBrowserMO
fileFullPath DatastoreFile file DatastoreFile fileFullPath DatastoreFile dirFile DatastoreFile file getDatastoreName file getDir HostDatastoreBrowserMO browserMo getHostDatastoreBrowserMO s_logger info file getFileName dirFile getPath HostDatastoreBrowserSearchResults results browserMo searchDatastore dirFile getPath file getFileName results List FileInfo info results getFile info info
fileFullPath size DatastoreFile file DatastoreFile fileFullPath DatastoreFile dirFile DatastoreFile file getDatastoreName file getDir HostDatastoreBrowserMO browserMo getHostDatastoreBrowserMO HostDatastoreBrowserSearchSpec searchSpec HostDatastoreBrowserSearchSpec FileQueryFlags fqf FileQueryFlags fqf setFileSize fqf setFileOwner fqf setFileType fqf setModification searchSpec setDetails fqf searchSpec setSearchCaseInsensitive searchSpec getMatchPattern add file getFileName
HostDatastoreBrowserSearchSpec searchSpec HostDatastoreBrowserSearchSpec FileQueryFlags fqf FileQueryFlags fqf setFileSize fqf setFileOwner fqf setFileType fqf setModification searchSpec setDetails fqf searchSpec setSearchCaseInsensitive searchSpec getMatchPattern add file getFileName s_logger debug file getFileName dirFile getPath HostDatastoreBrowserSearchResults result browserMo searchDatastore dirFile getPath searchSpec result List FileInfo info result getFile FileInfo info file getFileName getPath
folderParentDatastorePath folderName HostDatastoreBrowserMO browserMo getHostDatastoreBrowserMO HostDatastoreBrowserSearchResults results browserMo searchDatastore folderParentDatastorePath folderName results List FileInfo info results getFile info info
String String fileName caseInsensitive String excludeFolders String datastorePath getName String rootDirectoryFilePath String format datastorePath fileName String searchExcludedFolders getSearchExcludedFolders excludeFolders rootDirectoryFilePath rootDirectoryFilePath String parentFolderPath String absoluteFileName s_logger info fileName datastorePath HostDatastoreBrowserMO browserMo getHostDatastoreBrowserMO ArrayList HostDatastoreBrowserSearchResults results browserMo searchDatastoreSubFolders getName fileName caseInsensitive results results s_logger warn fileName datastorePath results String msg fileName datastorePath
String parentFolderPath String absoluteFileName s_logger info fileName datastorePath HostDatastoreBrowserMO browserMo getHostDatastoreBrowserMO ArrayList HostDatastoreBrowserSearchResults results browserMo searchDatastoreSubFolders getName fileName caseInsensitive results results s_logger warn fileName datastorePath results String msg fileName datastorePath s_logger error msg CloudException msg HostDatastoreBrowserSearchResults result results List FileInfo info result getFile info info FileInfo info
ManagedObjectReference task _context getService addDVPortgroupTask _mor dvPortGroupSpecArray _context task Exception dvPortGroupSpec getName s_dvPortGroupCacheMap dvSwitchInstance dvPortGroupList s_dvPortGroupCacheMap get dvSwitchInstance dvPortGroupList dvPortGroupList ArrayList String dvPortGroupList add dvPortGroupName dvPortGroupList ArrayList String dvPortGroupList add dvPortGroupName s_dvPortGroupCacheMap put dvSwitchInstance dvPortGroupList
s_logger isTraceEnabled s_logger trace _mor getValue vmfsDatastore poolHostAddress poolHostPort poolPath poolUuid HostDatastoreSystemMO hostDatastoreSystemMo getHostDatastoreSystemMO ManagedObjectReference morDatastore hostDatastoreSystemMo findDatastore poolUuid morDatastore vmfsDatastore morDatastore hostDatastoreSystemMo createNfsDatastore poolHostAddress poolHostPort poolPath poolUuid e s_logger info _mor getValue vmfsDatastore poolHostAddress poolHostPort poolPath poolUuid getExistingDataStoreOnHost vmfsDatastore poolHostAddress poolHostPort poolPath poolUuid hostDatastoreSystemMo Exception e s_logger info _mor getValue vmfsDatastore poolHostAddress poolHostPort poolPath poolUuid e getMessage Exception morDatastore String msg poolHostAddress poolHostPort poolPath poolUuid
e s_logger info _mor getValue vmfsDatastore poolHostAddress poolHostPort poolPath poolUuid getExistingDataStoreOnHost vmfsDatastore poolHostAddress poolHostPort poolPath poolUuid hostDatastoreSystemMo Exception e s_logger info _mor getValue vmfsDatastore poolHostAddress poolHostPort poolPath poolUuid e getMessage Exception morDatastore String msg poolHostAddress poolHostPort poolPath poolUuid s_logger error msg s_logger isTraceEnabled s_logger trace Exception msg morDatastore _context getDatastoreMorByPath poolPath morDatastore String msg poolHostAddress poolHostPort poolPath poolUuid
String uuid s_logger isTraceEnabled s_logger trace _mor getValue uuid HostDatastoreSystemMO hostDatastoreSystemMo getHostDatastoreSystemMO hostDatastoreSystemMo uuid String msg uuid
String portGroupName assert portGroupName String hostPortGroup _mor getValue portGroupName hostPortGroup portGroupName
Map String String context Map String String vsmCredentials context getStockObject String msg vsmCredentials vsmCredentials msg
context String String String Map String String vsmCredentials getValidatedVsmCredentials context String vsmIp vsmCredentials get String vsmUserName vsmCredentials get String vsmPassword vsmCredentials get String msg NetconfHelper netconfClient
context String String String Map String String vsmCredentials getValidatedVsmCredentials context String vsmIp vsmCredentials get String vsmUserName vsmCredentials get String vsmPassword vsmCredentials get String msg NetconfHelper netconfClient s_logger info vsmIp netconfClient NetconfHelper vsmIp vsmUserName vsmPassword
s_logger info vsmIp netconfClient NetconfHelper vsmIp vsmUserName vsmPassword s_logger info vsmIp CloudRuntimeException e msg vsmIp vsmUserName e toString s_logger error msg CloudRuntimeException msg String policyName s_policyNamePrefix averageBandwidth networkRateMbps averageBandwidth networkRateMbps intValue policyName averageBandwidth averageBandwidth
CloudRuntimeException e msg vsmIp vsmUserName e toString s_logger error msg CloudRuntimeException msg String policyName s_policyNamePrefix averageBandwidth networkRateMbps averageBandwidth networkRateMbps intValue policyName averageBandwidth averageBandwidth s_logger debug policyName netconfClient addPolicyMap policyName averageBandwidth peakBandwidth burstSize CloudRuntimeException e msg policyName averageBandwidth peakBandwidth burstSize e toString
averageBandwidth networkRateMbps intValue policyName averageBandwidth averageBandwidth s_logger debug policyName netconfClient addPolicyMap policyName averageBandwidth peakBandwidth burstSize CloudRuntimeException e msg policyName averageBandwidth peakBandwidth burstSize e toString s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg List Pair OperationType String params ArrayList Pair OperationType String
averageBandwidth s_logger debug policyName netconfClient addPolicyMap policyName averageBandwidth peakBandwidth burstSize CloudRuntimeException e msg policyName averageBandwidth peakBandwidth burstSize e toString s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg List Pair OperationType String params ArrayList Pair OperationType String vlanId params add Pair OperationType String OperationType addvlanid vlanId toString
s_logger debug policyName netconfClient addPolicyMap policyName averageBandwidth peakBandwidth burstSize CloudRuntimeException e msg policyName averageBandwidth peakBandwidth burstSize e toString s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg List Pair OperationType String params ArrayList Pair OperationType String vlanId params add Pair OperationType String OperationType addvlanid vlanId toString s_logger info ethPortProfileName vlanId netconfClient updatePortProfile ethPortProfileName SwitchPortMode trunk params
CloudRuntimeException msg List Pair OperationType String params ArrayList Pair OperationType String vlanId params add Pair OperationType String OperationType addvlanid vlanId toString s_logger info ethPortProfileName vlanId netconfClient updatePortProfile ethPortProfileName SwitchPortMode trunk params s_logger info vlanId ethPortProfileName CloudRuntimeException e msg ethPortProfileName vlanId e toString s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg
s_logger info ethPortProfileName vlanId netconfClient updatePortProfile ethPortProfileName SwitchPortMode trunk params s_logger info vlanId ethPortProfileName CloudRuntimeException e msg ethPortProfileName vlanId e toString s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg vlanId s_logger info netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access
s_logger info vlanId ethPortProfileName CloudRuntimeException e msg ethPortProfileName vlanId e toString s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg vlanId s_logger info netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access s_logger info vlanId toString
s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg vlanId s_logger info netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access s_logger info vlanId toString netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access vlanId intValue String tenant vlanId intValue
vlanId s_logger info netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access s_logger info vlanId toString netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access vlanId intValue String tenant vlanId intValue String vdc tenant tenant String esp tenant s_logger info vlanId toString netconfClient addVServiceNode vlanId toString gateway s_logger info vlanId toString
netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access s_logger info vlanId toString netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access vlanId intValue String tenant vlanId intValue String vdc tenant tenant String esp tenant s_logger info vlanId toString netconfClient addVServiceNode vlanId toString gateway s_logger info vlanId toString netconfClient addPortProfile networkName PortProfileType vethernet BindingType portbindingstatic SwitchPortMode access vlanId intValue vdc esp e msg networkName e toString
netconfClient NetconfHelper vsmIp vsmUserName vsmPassword CloudRuntimeException e msg vsmIp vsmUserName e toString s_logger error msg CloudRuntimeException msg PortProfile portProfile netconfClient getPortProfileByName vethPortProfileName averageBandwidth String policyName s_policyNamePrefix networkRateMbps averageBandwidth networkRateMbps intValue policyName averageBandwidth averageBandwidth PolicyMap policyMap netconfClient getPolicyMapByName portProfile inputPolicyMap policyMap averageBandwidth policyMap policyMap
PortProfile portProfile netconfClient getPortProfileByName vethPortProfileName averageBandwidth String policyName s_policyNamePrefix networkRateMbps averageBandwidth networkRateMbps intValue policyName averageBandwidth averageBandwidth PolicyMap policyMap netconfClient getPolicyMapByName portProfile inputPolicyMap policyMap averageBandwidth policyMap policyMap s_logger debug vethPortProfileName netconfClient netconfClient disconnect s_logger debug
averageBandwidth peakBandwidth burstRate burstRate s_logger debug vethPortProfileName netconfClient netconfClient disconnect s_logger debug s_logger info policyName netconfClient addPolicyMap policyName averageBandwidth peakBandwidth burstRate e msg policyName averageBandwidth peakBandwidth burstRate e toString s_logger error msg netconfClient netconfClient disconnect
s_logger debug s_logger info policyName netconfClient addPolicyMap policyName averageBandwidth peakBandwidth burstRate CloudRuntimeException e msg policyName averageBandwidth peakBandwidth burstRate e toString s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg s_logger info policyName vethPortProfileName
CloudRuntimeException e msg policyName vethPortProfileName e toString s_logger error msg netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg vlanId s_logger info ethPortProfileName netconfClient netconfClient disconnect s_logger debug String currentVlan portProfile vlan String newVlan Integer toString vlanId intValue
netconfClient netconfClient disconnect s_logger debug CloudRuntimeException msg vlanId s_logger info ethPortProfileName netconfClient netconfClient disconnect s_logger debug String currentVlan portProfile vlan String newVlan Integer toString vlanId intValue currentVlan newVlan netconfClient netconfClient disconnect
createGCTag secondaryvlanId spvlanid Integer parseInt secondaryvlanId DVSTrafficShapingPolicy shapingPolicy DVSSecurityPolicy secPolicy vcApiVersion getVcenterApiVersion context minVcApiVersionSupportingAutoExpand autoExpandSupported isFeatureSupportedInVcenterApiVersion vcApiVersion minVcApiVersionSupportingAutoExpand dvSwitchName physicalNetwork dvSwitchName s_logger warn dvSwitchName morDvSwitch dataCenterMo getDvSwitchMor dvSwitchName
secPolicy createDVSSecurityPolicy details String pvlanType MapUtils isNotEmpty details details get NetworkOffering Detail pvlanType vid spvlanid setupPVlanPair dvSwitchMo morDvSwitch vid spvlanid pvlanType VMwareDVSPortgroupPolicy portGroupPolicy createPortGroup physicalNetwork networkName vlanId vid spvlanid dataCenterMo shapingPolicy secPolicy portGroupPolicy dvSwitchMo numPorts autoExpandSupported bWaitPortGroupReady ethPortProfileName physicalNetwork ethPortProfileName s_logger warn ethPortProfileName morEthernetPortProfile dataCenterMo getDvPortGroupMor ethPortProfileName morEthernetPortProfile String msg ethPortProfileName
VMwareDVSPortgroupPolicy portGroupPolicy createPortGroup physicalNetwork networkName vlanId vid spvlanid dataCenterMo shapingPolicy secPolicy portGroupPolicy dvSwitchMo numPorts autoExpandSupported bWaitPortGroupReady ethPortProfileName physicalNetwork ethPortProfileName s_logger warn ethPortProfileName morEthernetPortProfile dataCenterMo getDvPortGroupMor ethPortProfileName morEthernetPortProfile String msg ethPortProfileName s_logger error msg Exception msg s_logger info ethPortProfileName
ethPortProfileName physicalNetwork ethPortProfileName s_logger warn ethPortProfileName morEthernetPortProfile dataCenterMo getDvPortGroupMor ethPortProfileName morEthernetPortProfile String msg ethPortProfileName s_logger error msg Exception msg s_logger info ethPortProfileName averageBandwidth networkRateMbps networkRateMbps intValue averageBandwidth networkRateMbps intValue
dvSwitchMo morDvSwitch Integer vid Integer spvlanid String pvlanType s_logger debug String format dvSwitchMo getName vid spvlanid pvlanType Map Integer HypervisorHostHelper PvlanType vlanmap dvSwitchMo retrieveVlanPvlan vid spvlanid morDvSwitch vlanmap vlanmap vid vlanmap get vid HypervisorHostHelper PvlanType String msg vid vlanmap get vid toString
s_logger error msg Exception msg VMwareDVSConfigSpec dvsSpec VMwareDVSConfigSpec vid VMwareDVSPvlanConfigSpec ppvlanConfigSpec createDVPortPvlanConfigSpec vid vid PvlanType promiscuous PvlanOperation add dvsSpec getPvlanConfigSpec add ppvlanConfigSpec vid spvlanid spvlanid PvlanType selectedType StringUtils isNotBlank pvlanType PvlanType fromStr pvlanType PvlanType isolated VMwareDVSPvlanConfigSpec spvlanConfigSpec createDVPortPvlanConfigSpec vid spvlanid selectedType PvlanOperation add dvsSpec getPvlanConfigSpec add spvlanConfigSpec dvsSpec getPvlanConfigSpec String dvsConfigVersion dvSwitchMo getDVSConfigVersion morDvSwitch dvsSpec setConfigVersion dvsConfigVersion dvSwitchMo updateVMWareDVSwitchGetTask morDvSwitch dvsSpec
VMwareDVSConfigSpec dvsSpec VMwareDVSConfigSpec vid VMwareDVSPvlanConfigSpec ppvlanConfigSpec createDVPortPvlanConfigSpec vid vid PvlanType promiscuous PvlanOperation add dvsSpec getPvlanConfigSpec add ppvlanConfigSpec vid spvlanid spvlanid PvlanType selectedType StringUtils isNotBlank pvlanType PvlanType fromStr pvlanType PvlanType isolated VMwareDVSPvlanConfigSpec spvlanConfigSpec createDVPortPvlanConfigSpec vid spvlanid selectedType PvlanOperation add dvsSpec getPvlanConfigSpec add spvlanConfigSpec dvsSpec getPvlanConfigSpec String dvsConfigVersion dvSwitchMo getDVSConfigVersion morDvSwitch dvsSpec setConfigVersion dvsConfigVersion dvSwitchMo updateVMWareDVSwitchGetTask morDvSwitch dvsSpec s_logger info vid spvlanid
networkName vlanRange vid spvlanid shapingPolicy secPolicy portGroupPolicy autoExpandSupported VmwareDistributedVirtualSwitchVlanSpec vlanSpec VmwareDistributedVirtualSwitchPvlanSpec pvlanSpec VMwareDVSPortSetting dvsPortSetting DVPortgroupConfigSpec newDvPortGroupSpec vid spvlanid vlanSpec createDVPortVlanSpec vid vlanRange dvsPortSetting createVmwareDVPortSettingSpec shapingPolicy secPolicy vlanSpec spvlanid pvlanSpec createDVPortPvlanIdSpec spvlanid dvsPortSetting createVmwareDVPortSettingSpec shapingPolicy secPolicy pvlanSpec newDvPortGroupSpec createDvPortGroupSpec networkName dvsPortSetting autoExpandSupported portGroupPolicy newDvPortGroupSpec setPolicy portGroupPolicy networkName
spvlanid pvlanSpec createDVPortPvlanIdSpec spvlanid dvsPortSetting createVmwareDVPortSettingSpec shapingPolicy secPolicy pvlanSpec newDvPortGroupSpec createDvPortGroupSpec networkName dvsPortSetting autoExpandSupported portGroupPolicy newDvPortGroupSpec setPolicy portGroupPolicy networkName s_logger info networkName newDvPortGroupSpec setNumPorts numPorts dvSwitchMo createDVPortGroup newDvPortGroupSpec Exception e String msg networkName physicalNetwork msg VmwareHelper getExceptionMessage e Exception msg
newDvPortGroupSpec createDvPortGroupSpec networkName dvsPortSetting autoExpandSupported portGroupPolicy newDvPortGroupSpec setPolicy portGroupPolicy dataCenterMo networkName s_logger info networkName newDvPortGroupSpec setNumPorts numPorts dvSwitchMo createDVPortGroup newDvPortGroupSpec Exception e String msg networkName physicalNetwork msg VmwareHelper getExceptionMessage e Exception msg s_logger info networkName DVPortgroupConfigInfo currentDvPortgroupInfo dataCenterMo getDvPortGroupSpec networkName
newDvPortGroupSpec String dvPortGroupName newDvPortGroupSpec getName
DVSTrafficShapingPolicy newTrafficShapingPolicyInbound newDvPortGroupSpec getDefaultPortConfig getInShapingPolicy LongPolicy newAverageBandwidthPolicy newTrafficShapingPolicyInbound getAverageBandwidth LongPolicy newBurstSizePolicy newTrafficShapingPolicyInbound getBurstSize LongPolicy newPeakBandwidthPolicy newTrafficShapingPolicyInbound getPeakBandwidth BoolPolicy newIsEnabledPolicy newTrafficShapingPolicyInbound getEnabled Long newAverageBandwidth Long newBurstSize Long newPeakBandwidth Boolean newIsEnabled newAverageBandwidthPolicy newAverageBandwidth newAverageBandwidthPolicy getValue newBurstSizePolicy newBurstSize newBurstSizePolicy getValue newPeakBandwidthPolicy newPeakBandwidth newPeakBandwidthPolicy getValue
VMwareDVSPortSetting currentPortSetting VMwareDVSPortSetting currentDvPortgroupInfo getDefaultPortConfig VMwareDVSPortSetting newPortSetting VMwareDVSPortSetting newDvPortGroupSpec getDefaultPortConfig currentPortSetting newPortSetting currentPortSetting newPortSetting specMatches currentPortSetting newPortSetting currentPortSetting newPortSetting newPortSetting newPortSetting currentPortSetting specMatches currentPortSetting newPortSetting newPortSetting newPortSetting currentPortSetting specMatches currentPortSetting newPortSetting newPortSetting newPortSetting currentPortSetting specMatches VmwareDistributedVirtualSwitchVlanSpec oldVlanSpec currentPortSetting getVlan VmwareDistributedVirtualSwitchVlanSpec newVlanSpec newPortSetting getVlan oldVlanId newVlanId oldVlanSpec newVlanSpec
VMwareDVSPortSetting newPortSetting VMwareDVSPortSetting newDvPortGroupSpec getDefaultPortConfig currentPortSetting newPortSetting currentPortSetting newPortSetting specMatches currentPortSetting newPortSetting currentPortSetting newPortSetting newPortSetting newPortSetting currentPortSetting specMatches currentPortSetting newPortSetting newPortSetting newPortSetting currentPortSetting specMatches currentPortSetting newPortSetting newPortSetting newPortSetting currentPortSetting specMatches VmwareDistributedVirtualSwitchVlanSpec oldVlanSpec currentPortSetting getVlan VmwareDistributedVirtualSwitchVlanSpec newVlanSpec newPortSetting getVlan oldVlanId newVlanId oldVlanSpec VmwareDistributedVirtualSwitchPvlanSpec newVlanSpec VmwareDistributedVirtualSwitchPvlanSpec VmwareDistributedVirtualSwitchPvlanSpec oldpVlanSpec VmwareDistributedVirtualSwitchPvlanSpec oldVlanSpec
NumericRange numericRange NumericRange vlanRangePart String range vlanRangePart split range range range numericRange setStart NumbersUtil parseInt range numericRange setEnd NumbersUtil parseInt range numericRange setStart NumbersUtil parseInt vlanRangePart numericRange setEnd NumbersUtil parseInt vlanRangePart trunkVlanSpec getVlanId add numericRange trunkVlanSpec getVlanId trunkVlanSpec VmwareDistributedVirtualSwitchVlanIdSpec vlanIdSpec VmwareDistributedVirtualSwitchVlanIdSpec
String msg networkName s_logger error msg Exception msg NetworkMO networkMo NetworkMO hostMo getContext morNetwork networkMo setCustomFieldValue CustomFieldConstants CLOUD_GC ManagedObjectReference morParent hostMo getParentMor morParent morParent GlobalLock lock GlobalLock getInternLock morParent getValue lock lock List ManagedObjectReference hosts hostMo getContext getVimClient getDynamicProperty morParent hosts
clusterMO ClusterConfigInfoEx clusterConfigInfo clusterMO clusterMO getClusterConfigInfo String clusterHardwareVersion clusterConfigInfo clusterConfigInfo getDefaultHardwareVersionKey clusterHardwareVersion
host s_logger info url url ManagedObjectReference morHost dcMo findHost host morHost HostMO hostMo HostMO dcMo getContext morHost String managementPortGroupName hostMo getHostType VmwareHostType ESXi managementPortGroupName String dcMo getContext getStockObject managementPortGroupName String dcMo getContext getStockObject VmwareHypervisorHostNetworkSummary summary hostMo getHyperHostNetworkSummary managementPortGroupName summary s_logger warn url url String hostIp summary getHostIp
host String ovfFilePath String vmName dsMo String diskOption morRp morHost assert morRp OvfCreateImportSpecParams importSpecParams OvfCreateImportSpecParams importSpecParams setHostSystem morHost importSpecParams setLocale importSpecParams setEntityName vmName importSpecParams setDeploymentOption importSpecParams setDiskProvisioning diskOption String ovfDescriptor removeOVFNetwork HttpNfcLeaseMO readOvfContent ovfFilePath VmwareContext context host getContext OvfCreateImportSpecResult ovfImportResult context getService createImportSpec context getServiceContent getOvfManager ovfDescriptor morRp dsMo getMor importSpecParams ovfImportResult String msg ovfFilePath vmName diskOption
OvfCreateImportSpecParams importSpecParams OvfCreateImportSpecParams importSpecParams setHostSystem morHost importSpecParams setLocale importSpecParams setEntityName vmName importSpecParams setDeploymentOption importSpecParams setDiskProvisioning diskOption String ovfDescriptor removeOVFNetwork HttpNfcLeaseMO readOvfContent ovfFilePath VmwareContext context host getContext OvfCreateImportSpecResult ovfImportResult context getService createImportSpec context getServiceContent getOvfManager ovfDescriptor morRp dsMo getMor importSpecParams ovfImportResult String msg ovfFilePath vmName diskOption s_logger error msg Exception msg ovfImportResult ovfImportResult
ovfImportResult String msg ovfFilePath vmName diskOption s_logger error msg Exception msg ovfImportResult fault ovfImportResult s_logger error fault getLocalizedMessage CloudException ovfFilePath ovfImportResult fault ovfImportResult s_logger warn fault getLocalizedMessage DatacenterMO dcMo DatacenterMO context host getHyperHostDatacenter ManagedObjectReference morLease context getService importVApp morRp ovfImportResult getImportSpec dcMo getVmFolder morHost morLease String msg ovfFilePath vmName diskOption
progressReporter reportProgress param totalBytes bytesAlreadyWritten ovfFileItem getSize Exception e String erroMsg e getMessage s_logger error erroMsg importSuccess Exception erroMsg e th String errorMsg th getMessage s_logger error errorMsg importSuccess Exception errorMsg th progressReporter close
List String files ArrayList String ManagedObjectReference morRp host getHyperHostOwnerResourcePool assert morRp ManagedObjectReference morHost host getMor String importEntityName UUID randomUUID toString OvfCreateImportSpecParams importSpecParams OvfCreateImportSpecParams importSpecParams setHostSystem morHost importSpecParams setLocale importSpecParams setEntityName importEntityName importSpecParams setDeploymentOption String ovfDescriptor removeOVFNetwork HttpNfcLeaseMO readOvfContent ovfFilePath VmwareContext context host getContext OvfCreateImportSpecResult ovfImportResult context getService createImportSpec context getServiceContent getOvfManager ovfDescriptor morRp dsMo getMor importSpecParams ovfImportResult String msg ovfFilePath
String importEntityName UUID randomUUID toString OvfCreateImportSpecParams importSpecParams OvfCreateImportSpecParams importSpecParams setHostSystem morHost importSpecParams setLocale importSpecParams setEntityName importEntityName importSpecParams setDeploymentOption String ovfDescriptor removeOVFNetwork HttpNfcLeaseMO readOvfContent ovfFilePath VmwareContext context host getContext OvfCreateImportSpecResult ovfImportResult context getService createImportSpec context getServiceContent getOvfManager ovfDescriptor morRp dsMo getMor importSpecParams ovfImportResult String msg ovfFilePath s_logger error msg Exception msg ovfImportResult ovfImportResult
OvfCreateImportSpecResult ovfImportResult context getService createImportSpec context getServiceContent getOvfManager ovfDescriptor morRp dsMo getMor importSpecParams ovfImportResult String msg ovfFilePath s_logger error msg Exception msg ovfImportResult fault ovfImportResult s_logger error fault getLocalizedMessage CloudException ovfFilePath ovfImportResult fault ovfImportResult s_logger warn fault getLocalizedMessage VirtualMachineImportSpec importSpec VirtualMachineImportSpec ovfImportResult getImportSpec importSpec String msg ovfFilePath
vmsdFileContent BufferedReader in in BufferedReader InputStreamReader ByteArrayInputStream vmsdFileContent String line line in
key String format i value _properties getProperty key out write String format key value out newLine numDisks Integer parseInt value j j numDisks j key String format i j value _properties getProperty key out write String format key value out newLine key String format i j value _properties getProperty key out write String format key value out newLine
getResetSafePowerState VirtualMachinePowerState POWERED_ON ManagedObjectReference morTask _context getService powerOnVMTask _mor Boolean flags VirtualMachineMO vmMo s_logger info flags VirtualMachineRuntimeInfo runtimeInfo vmMo getRuntimeInfo VirtualMachineQuestionInfo question runtimeInfo getQuestion question
getResetSafePowerState VirtualMachinePowerState POWERED_ON ManagedObjectReference morTask _context getService powerOnVMTask _mor Boolean flags VirtualMachineMO vmMo s_logger info flags VirtualMachineRuntimeInfo runtimeInfo vmMo getRuntimeInfo VirtualMachineQuestionInfo question runtimeInfo getQuestion question s_logger info question getId
Boolean flags VirtualMachineMO vmMo s_logger info flags VirtualMachineRuntimeInfo runtimeInfo vmMo getRuntimeInfo VirtualMachineQuestionInfo question runtimeInfo getQuestion question s_logger info question getId s_logger info question getText question question s_logger
VirtualMachineMO vmMo s_logger info VirtualMachineRuntimeInfo runtimeInfo vmMo getRuntimeInfo VirtualMachineQuestionInfo question runtimeInfo getQuestion question s_logger info question getId s_logger info question getText question msg question s_logger s_logger info msg getId
s_logger info VirtualMachineRuntimeInfo runtimeInfo vmMo getRuntimeInfo VirtualMachineQuestionInfo question runtimeInfo getQuestion question s_logger info question getId s_logger info question getText question msg question s_logger s_logger info msg getId s_logger info msg getText msg getId
s_logger s_logger info msg getId s_logger info msg getText msg getId s_logger info msg getId vmMo answerVM question getId s_logger isTraceEnabled s_logger trace ChoiceOption choice question getChoice choice info choice s_logger isTraceEnabled s_logger trace info getKey s_logger trace info getLabel
info s_logger s_logger trace info getKey s_logger trace info getLabel e s_logger error e Thread sleep e s_logger debug s_logger info result _context getVimClient waitForTask morTask
getResetSafePowerState VirtualMachinePowerState POWERED_OFF String vmName getName
ManagedObjectReference morTask _context getService createSnapshotTask _mor snapshotName snapshotDescription dumpMemory quiesce result _context getVimClient waitForTask morTask result _context waitForTaskProgressDone morTask ManagedObjectReference morSnapshot startTick System currentTimeMillis System currentTimeMillis startTick morSnapshot getSnapshotMor snapshotName morSnapshot Thread sleep s_logger debug morSnapshot
String String String snapshotDiskFile snapshotDiskFile String mount snapshotDiskFile mount second DatastoreMO dsMo DatastoreMO _context mount first String dsFullPath String format dsMo getName snapshotDiskFile substring mount second length
rSpec setDiskMoveType VirtualMachineRelocateDiskMoveOptions CREATE_NEW_CHILD_DISK_BACKING value rSpec getDisk addAll diskLocator rSpec setDiskMoveType VirtualMachineRelocateDiskMoveOptions CREATE_NEW_CHILD_DISK_BACKING value rSpec setPool morResourcePool VirtualMachineCloneSpec cloneSpec VirtualMachineCloneSpec cloneSpec setPowerOn cloneSpec setTemplate cloneSpec setLocation rSpec cloneSpec setSnapshot morBaseSnapshot ManagedObjectReference morTask _context getService cloneVMTask _mor morFolder cloneName cloneSpec result _context getVimClient waitForTask morTask result _context waitForTaskProgressDone morTask
List NetworkDetails List NetworkDetails networks ArrayList NetworkDetails gcTagKey getCustomFieldKey CustomFieldConstants CLOUD_GC gcTagKey gcTagKey getCustomFieldKey CustomFieldConstants CLOUD_GC_DVP
pfSpecArr add pfSpec List ObjectContent ocs _context getService retrieveProperties _context getPropertyCollector pfSpecArr ocs ocs size ObjectContent oc ocs ArrayOfManagedObjectReference morVms String gcTagValue String name prop oc prop getName equals name prop getVal toString prop getName equals morVms ArrayOfManagedObjectReference prop getVal prop getName CustomFieldStringValue val CustomFieldStringValue prop getVal val gcTagValue val getValue NetworkDetails details NetworkDetails name oc getObj morVms morVms getManagedObjectReference toArray ManagedObjectReference morVms getManagedObjectReference size gcTagValue networks add details
VirtualDeviceConfigSpec deviceConfigSpecArray VirtualDeviceConfigSpec devices length i deviceTernary devices VirtualDeviceConfigSpec deviceConfigSpec VirtualDeviceConfigSpec deviceConfigSpec setDevice deviceTernary first deviceConfigSpec setOperation deviceTernary second deviceConfigSpec setFileOperation deviceTernary third deviceConfigSpecArray i deviceConfigSpec configSpec getDeviceChange addAll Arrays asList deviceConfigSpecArray ManagedObjectReference morTask _context getService reconfigVMTask _mor configSpec result _context getVimClient waitForTask morTask result _context waitForTaskProgressDone morTask
String vmdkFileName String Pair VmdkFileDescriptor vmdkInfo getVmdkFileInfo vmdkFileName VmdkFileDescriptor vmdkFileDescriptor vmdkInfo first isVmfsSparseFile vmdkFileDescriptor isVmfsSparseFile isVmfsSparseFile String currentAdapterType vmdkFileDescriptor getAdapterType currentAdapterType
String vmdkFileName String newAdapterType Pair VmdkFileDescriptor vmdkInfo getVmdkFileInfo vmdkFileName VmdkFileDescriptor vmdkFileDescriptor vmdkInfo first isVmfsSparseFile vmdkFileDescriptor isVmfsSparseFile isVmfsSparseFile String currentAdapterType vmdkFileDescriptor getAdapterType currentAdapterType newAdapterType s_logger info newAdapterType vmdkFileName Pair DatacenterMO String dcInfo getOwnerDatacenter newVmdkContent vmdkFileDescriptor changeVmdkAdapterType vmdkInfo second newAdapterType String vmdkUploadUrl getContext composeDatastoreBrowseUrl dcInfo first getName vmdkFileName getContext uploadResourceContent vmdkUploadUrl newVmdkContent
Pair VmdkFileDescriptor vmdkInfo getVmdkFileInfo vmdkFileName VmdkFileDescriptor vmdkFileDescriptor vmdkInfo first isVmfsSparseFile vmdkFileDescriptor isVmfsSparseFile isVmfsSparseFile String currentAdapterTypeStr vmdkFileDescriptor getAdapterType s_logger s_logger trace currentAdapterTypeStr vmdkFileName VmdkAdapterType currentAdapterType VmdkAdapterType getType currentAdapterTypeStr currentAdapterType VmdkAdapterType VmdkAdapterType newAdapterType VmdkAdapterType lsilogic s_logger debug newAdapterType currentAdapterTypeStr vmdkFileName Pair DatacenterMO String dcInfo getOwnerDatacenter newVmdkContent vmdkFileDescriptor changeVmdkAdapterType vmdkInfo second newAdapterType toString String vmdkUploadUrl getContext composeDatastoreBrowseUrl dcInfo first getName vmdkFileName getContext uploadResourceContent vmdkUploadUrl newVmdkContent
s_logger info VirtualMachineRuntimeInfo runtimeInfo vmMo getRuntimeInfo VirtualMachineQuestionInfo question runtimeInfo getQuestion question s_logger s_logger trace question getId s_logger trace question getText question msg question s_logger s_logger trace msg getId s_logger trace msg getText
s_logger trace question getId s_logger trace question getText question msg question s_logger s_logger trace msg getId s_logger trace msg getText msg getId s_logger info msg getId vmMo answerVM question getId force ANSWER_YES ANSWER_NO question getText String text question getText String msgId String msgText
s_logger s_logger trace msg getId s_logger trace msg getText msg getId s_logger info msg getId vmMo answerVM question getId force ANSWER_YES ANSWER_NO question getText String text question getText String msgId String msgText s_logger s_logger debug text String tokens text split msgId tokens
String String ManagedObjectReference morOvf _context getServiceContent getOvfManager VirtualMachineRuntimeInfo runtimeInfo getRuntimeInfo HostMO hostMo HostMO _context runtimeInfo getHost String hostName hostMo getHostName String vmName getVmName DatacenterMO dcMo DatacenterMO _context hostMo getHyperHostDatacenter runtimeInfo String msg vmName hostName
HttpNfcLeaseInfo leaseInfo leaseMo getLeaseInfo totalBytes leaseInfo getTotalDiskCapacityInKB totalBytesDownloaded List HttpNfcLeaseDeviceUrl deviceUrls leaseInfo getDeviceUrl s_logger info System currentTimeMillis deviceUrls OvfFile ovfFiles OvfFile deviceUrls size i i deviceUrls size i String deviceId deviceUrls get i getKey String deviceUrlStr deviceUrls get i getUrl String orgDiskFileName deviceUrlStr substring deviceUrlStr lastIndexOf String diskFileName String format exportName i VmwareHelper getFileExtension orgDiskFileName String diskUrlStr deviceUrlStr replace hostName diskUrlStr HypervisorHostHelper resolveHostNameInUrl dcMo diskUrlStr String diskLocalPath exportDir File separator diskFileName
ovfFile setSize lengthOfDiskFile ovfFiles i ovfFile OvfCreateDescriptorParams ovfDescParams OvfCreateDescriptorParams ovfDescParams getOvfFiles addAll Arrays asList ovfFiles OvfCreateDescriptorResult ovfCreateDescriptorResult _context getService createDescriptor morOvf getMor ovfDescParams String ovfPath exportDir File separator exportName fileNames add ovfPath OutputStreamWriter out OutputStreamWriter FileOutputStream ovfPath out write ovfCreateDescriptorResult getOvfDescriptor out close s_logger info Script commandSync Script s_logger commandSync execute Script command Script s_logger
ovfDescParams getOvfFiles addAll Arrays asList ovfFiles OvfCreateDescriptorResult ovfCreateDescriptorResult _context getService createDescriptor morOvf getMor ovfDescParams String ovfPath exportDir File separator exportName fileNames add ovfPath OutputStreamWriter out OutputStreamWriter FileOutputStream ovfPath out write ovfCreateDescriptorResult getOvfDescriptor out close s_logger info Script commandSync Script s_logger commandSync execute Script command Script s_logger command setWorkDir exportDir command add exportName command add exportName
String destBaseFileName String destFileName String destParentFileName disk disk String srcVmdkFullDsPath getSnapshotDiskFileDatastorePath vmFileInfo mounts disk getDiskFileName Pair DatastoreMO String srcDsInfo getOwnerDatastore srcVmdkFullDsPath Pair VmdkFileDescriptor vmdkInfo getVmdkFileInfo srcVmdkFullDsPath String srcVmdkBaseFilePath DatastoreFile getCompanionDatastorePath srcVmdkFullDsPath vmdkInfo first getBaseFileName destFileName destName snapshotInfo length i vmdkInfo first destBaseFileName destName snapshotInfo length i destParentFileName destName snapshotInfo length i destBaseFileName destName snapshotInfo length i
disk disk String srcVmdkFullDsPath getSnapshotDiskFileDatastorePath vmFileInfo mounts disk getDiskFileName Pair DatastoreMO String srcDsInfo getOwnerDatastore srcVmdkFullDsPath Pair VmdkFileDescriptor vmdkInfo getVmdkFileInfo srcVmdkFullDsPath String srcVmdkBaseFilePath DatastoreFile getCompanionDatastorePath srcVmdkFullDsPath vmdkInfo first getBaseFileName destFileName destName snapshotInfo length i vmdkInfo first destBaseFileName destName snapshotInfo length i destParentFileName destName snapshotInfo length i destBaseFileName destName snapshotInfo length i destParentFileName s_logger info srcVmdkBaseFilePath destDsDirectory destBaseFileName srcDsInfo first copyDatastoreFile srcVmdkBaseFilePath dcMo getMor morDestDs destDsDirectory destBaseFileName dcMo getMor
DatastoreMO destDsMo String destDsDir followDiskChain VirtualDevice disks getAllDiskDevice DatacenterMO dcMo getOwnerDatacenter first disks VirtualDevice disk disks List Pair String ManagedObjectReference vmdkFiles getDiskDatastorePathChain VirtualDisk disk followDiskChain Pair String ManagedObjectReference fileItem vmdkFiles DatastoreMO srcDsMo DatastoreMO _context fileItem second DatastoreFile srcFile DatastoreFile fileItem first DatastoreFile destFile DatastoreFile destDsMo getName destDsDir srcFile getFileName Pair VmdkFileDescriptor vmdkDescriptor vmdkDescriptor getVmdkFileInfo fileItem first
disk List Pair String ManagedObjectReference vmdkFiles getDiskDatastorePathChain VirtualDisk disk followDiskChain Pair String ManagedObjectReference fileItem vmdkFiles DatastoreMO srcDsMo DatastoreMO _context fileItem second DatastoreFile srcFile DatastoreFile fileItem first DatastoreFile destFile DatastoreFile destDsMo getName destDsDir srcFile getFileName Pair VmdkFileDescriptor vmdkDescriptor vmdkDescriptor getVmdkFileInfo fileItem first s_logger info srcFile getPath destFile getPath srcDsMo copyDatastoreFile fileItem first dcMo getMor destDsMo getMor destFile getPath dcMo getMor vmdkDescriptor String vmdkBaseFileName vmdkDescriptor first getBaseFileName String baseFilePath srcFile getCompanionPath vmdkBaseFileName destFile DatastoreFile destDsMo getName destDsDir vmdkBaseFileName
DatastoreMO destDsMo String destDsDir followDiskChain VirtualDevice disks getAllDiskDevice DatacenterMO dcMo getOwnerDatacenter first disks VirtualDevice disk disks List Pair String ManagedObjectReference vmdkFiles getDiskDatastorePathChain VirtualDisk disk followDiskChain Pair String ManagedObjectReference fileItem vmdkFiles DatastoreMO srcDsMo DatastoreMO _context fileItem second DatastoreFile srcFile DatastoreFile fileItem first DatastoreFile destFile DatastoreFile destDsMo getName destDsDir srcFile getFileName Pair VmdkFileDescriptor vmdkDescriptor vmdkDescriptor getVmdkFileInfo fileItem first
disk List Pair String ManagedObjectReference vmdkFiles getDiskDatastorePathChain VirtualDisk disk followDiskChain Pair String ManagedObjectReference fileItem vmdkFiles DatastoreMO srcDsMo DatastoreMO _context fileItem second DatastoreFile srcFile DatastoreFile fileItem first DatastoreFile destFile DatastoreFile destDsMo getName destDsDir srcFile getFileName Pair VmdkFileDescriptor vmdkDescriptor vmdkDescriptor getVmdkFileInfo fileItem first s_logger info srcFile getPath destFile getPath srcDsMo moveDatastoreFile fileItem first dcMo getMor destDsMo getMor destFile getPath dcMo getMor vmdkDescriptor String vmdkBaseFileName vmdkDescriptor first getBaseFileName String baseFilePath srcFile getCompanionPath vmdkBaseFileName destFile DatastoreFile destDsMo getName destDsDir vmdkBaseFileName
VirtualMachineConfigSpec vmConfig VirtualMachineConfigSpec busNum availableBusNum busNum ParaVirtualSCSIController scsiController ParaVirtualSCSIController scsiController setSharedBus VirtualSCSISharing NO_SHARING scsiController setBusNumber busNum scsiController setKey busNum VmwareHelper MAX_SCSI_CONTROLLER_COUNT VirtualDeviceConfigSpec scsiControllerSpec VirtualDeviceConfigSpec scsiControllerSpec setDevice scsiController scsiControllerSpec setOperation VirtualDeviceConfigSpecOperation ADD vmConfig getDeviceChange add scsiControllerSpec busNum vmConfig Exception getName
virtualHardwareVersion virtualHardwareVersion getVirtualHardwareVersion virtualHardwareVersion
VirtualMachineConfigSpec vmConfig VirtualMachineConfigSpec busNum availableBusNum busNum VirtualLsiLogicController scsiController VirtualLsiLogicController scsiController setSharedBus VirtualSCSISharing NO_SHARING scsiController setBusNumber busNum scsiController setKey busNum VmwareHelper MAX_SCSI_CONTROLLER_COUNT VirtualDeviceConfigSpec scsiControllerSpec VirtualDeviceConfigSpec scsiControllerSpec setDevice scsiController scsiControllerSpec setOperation VirtualDeviceConfigSpecOperation ADD vmConfig getDeviceChange add scsiControllerSpec busNum vmConfig Exception getName
VirtualMachineConfigSpec vmConfig VirtualMachineConfigSpec busNum availableBusNum busNum VirtualLsiLogicController scsiController VirtualLsiLogicController scsiController setSharedBus VirtualSCSISharing NO_SHARING scsiController setBusNumber busNum scsiController setKey busNum VmwareHelper MAX_SCSI_CONTROLLER_COUNT VirtualDeviceConfigSpec scsiControllerSpec VirtualDeviceConfigSpec scsiControllerSpec setDevice scsiController scsiControllerSpec setOperation VirtualDeviceConfigSpecOperation ADD vmConfig getDeviceChange add scsiControllerSpec busNum vmConfig Exception getName
Pair VirtualDisk String String vmdkDatastorePath String zeroLengthString List VirtualDevice devices _context getVimClient getDynamicProperty _mor ArrayList Pair VirtualDisk String partialMatchingDiskDevices ArrayList DatastoreFile dsSrcFile DatastoreFile vmdkDatastorePath String srcBaseName dsSrcFile getFileBaseName String trimmedSrcBaseName VmwareHelper trimSnapshotDeltaPostfix srcBaseName String srcDatastoreName dsSrcFile getDatastoreName dsSrcFile getDatastoreName zeroLengthString
Pair VirtualDisk String String vmdkDatastorePath String zeroLengthString List VirtualDevice devices _context getVimClient getDynamicProperty _mor ArrayList Pair VirtualDisk String partialMatchingDiskDevices ArrayList DatastoreFile dsSrcFile DatastoreFile vmdkDatastorePath String srcBaseName dsSrcFile getFileBaseName String trimmedSrcBaseName VmwareHelper trimSnapshotDeltaPostfix srcBaseName String srcDatastoreName dsSrcFile getDatastoreName dsSrcFile getDatastoreName zeroLengthString s_logger info vmdkDatastorePath srcBaseName devices devices VirtualDevice devices VirtualDisk
List VirtualDevice devices _context getVimClient getDynamicProperty _mor ArrayList Pair VirtualDisk String partialMatchingDiskDevices ArrayList DatastoreFile dsSrcFile DatastoreFile vmdkDatastorePath String srcBaseName dsSrcFile getFileBaseName String trimmedSrcBaseName VmwareHelper trimSnapshotDeltaPostfix srcBaseName String srcDatastoreName dsSrcFile getDatastoreName dsSrcFile getDatastoreName zeroLengthString s_logger info vmdkDatastorePath srcBaseName devices devices VirtualDevice device devices device VirtualDisk s_logger info device getControllerKey device getUnitNumber VirtualDeviceBackingInfo backingInfo device getBacking backingInfo VirtualDiskFlatVer2BackingInfo VirtualDiskFlatVer2BackingInfo diskBackingInfo VirtualDiskFlatVer2BackingInfo backingInfo
device s_logger info device getControllerKey device getUnitNumber VirtualDeviceBackingInfo backingInfo device getBacking backingInfo VirtualDiskFlatVer2BackingInfo VirtualDiskFlatVer2BackingInfo diskBackingInfo VirtualDiskFlatVer2BackingInfo backingInfo s_logger info diskBackingInfo getFileName DatastoreFile dsBackingFile DatastoreFile diskBackingInfo getFileName String backingDatastoreName dsBackingFile getDatastoreName dsBackingFile getDatastoreName zeroLengthString zeroLengthString backingDatastoreName zeroLengthString backingDatastoreName String backingBaseName dsBackingFile getFileBaseName backingBaseName String deviceNumbering getDeviceBusName devices device
String backingBaseName dsBackingFile getFileBaseName backingBaseName srcBaseName String deviceNumbering getDeviceBusName devices device s_logger info diskBackingInfo getFileName deviceNumbering Pair VirtualDisk device deviceNumbering backingBaseName String deviceNumbering getDeviceBusName devices device partialMatchingDiskDevices add Pair VirtualDisk device deviceNumbering diskBackingInfo diskBackingInfo getParent diskBackingInfo s_logger info vmdkDatastorePath srcBaseName partialMatchingDiskDevices partialMatchingDiskDevices VirtualDiskFlatVer2BackingInfo matchingDiskBackingInfo VirtualDiskFlatVer2BackingInfo partialMatchingDiskDevices get first getBacking
String String vmdkDatastorePath List VirtualDevice devices _context getVimClient getDynamicProperty _mor DatastoreFile dsSrcFile DatastoreFile vmdkDatastorePath String srcBaseName dsSrcFile getFileBaseName String trimmedSrcBaseName VmwareHelper trimSnapshotDeltaPostfix srcBaseName
DatastoreFile dsSrcFile DatastoreFile vmdkDatastorePath String srcBaseName dsSrcFile getFileBaseName String trimmedSrcBaseName VmwareHelper trimSnapshotDeltaPostfix srcBaseName s_logger info vmdkDatastorePath srcBaseName s_logger info vmdkDatastorePath trimmedSrcBaseName device device VirtualDisk s_logger info device getControllerKey device getUnitNumber VirtualDeviceBackingInfo backingInfo VirtualDisk device getBacking backingInfo VirtualDiskFlatVer2BackingInfo VirtualDiskFlatVer2BackingInfo diskBackingInfo VirtualDiskFlatVer2BackingInfo backingInfo
s_logger info vmdkDatastorePath trimmedSrcBaseName device device VirtualDisk s_logger info device getControllerKey device getUnitNumber VirtualDeviceBackingInfo backingInfo VirtualDisk device getBacking backingInfo VirtualDiskFlatVer2BackingInfo VirtualDiskFlatVer2BackingInfo diskBackingInfo VirtualDiskFlatVer2BackingInfo backingInfo s_logger info diskBackingInfo getFileName DatastoreFile dsBackingFile DatastoreFile diskBackingInfo getFileName String backingBaseName dsBackingFile getFileBaseName backingBaseName
device VirtualDisk s_logger info device getControllerKey device getUnitNumber VirtualDeviceBackingInfo backingInfo VirtualDisk device getBacking backingInfo VirtualDiskFlatVer2BackingInfo VirtualDiskFlatVer2BackingInfo diskBackingInfo VirtualDiskFlatVer2BackingInfo backingInfo s_logger info diskBackingInfo getFileName DatastoreFile dsBackingFile DatastoreFile diskBackingInfo getFileName String backingBaseName dsBackingFile getFileBaseName backingBaseName String deviceNumbering getDeviceBusName devices device s_logger info diskBackingInfo getFileName deviceNumbering Pair VirtualDisk String VirtualDisk device deviceNumbering
List VirtualDevice devices _context getVimClient getDynamicProperty _mor devices devices VirtualDevice devices
VirtualMachineRuntimeInfo runtimeInfo vmMo getRuntimeInfo VirtualMachineQuestionInfo question runtimeInfo getQuestion question encounterQuestion s_logger s_logger trace question getId s_logger trace question getText question msg question s_logger s_logger trace msg getId s_logger trace msg getText msg getId
s_logger trace question getText question msg question s_logger s_logger trace msg getId s_logger trace msg getText msg getId s_logger info msg getId vmMo answerVM question getId ANSWER_NO question getText String text question getText String msgId String msgText s_logger
s_logger trace msg getId s_logger trace msg getText msg getId s_logger info msg getId vmMo answerVM question getId ANSWER_NO question getText String text question getText String msgId String msgText s_logger s_logger debug text String tokens text split msgId tokens msgText tokens
VirtualMachineConfigSpec vmConfig VirtualMachineConfigSpec busNum availableBusNum busNum VirtualBusLogicController scsiController VirtualBusLogicController scsiController setSharedBus VirtualSCSISharing NO_SHARING scsiController setBusNumber busNum scsiController setKey busNum VmwareHelper MAX_SCSI_CONTROLLER_COUNT VirtualDeviceConfigSpec scsiControllerSpec VirtualDeviceConfigSpec scsiControllerSpec setDevice scsiController scsiControllerSpec setOperation VirtualDeviceConfigSpecOperation ADD vmConfig getDeviceChange add scsiControllerSpec busNum vmConfig Exception getName
vimPort vimService getVimPort Map String Object ctxt BindingProvider vimPort getRequestContext ctxt put BindingProvider ENDPOINT_ADDRESS_PROPERTY url ctxt put BindingProvider SESSION_MAINTAIN_PROPERTY ctxt put vCenterSessionTimeout ctxt put vCenterSessionTimeout ServiceContent serviceContent vimPort retrieveServiceContent svcInstRef SuppressWarnings Map String List String headers Map String List String BindingProvider vimPort getResponseContext get MessageContext HTTP_RESPONSE_HEADERS List String cookies headers get vimPort login serviceContent getSessionManager userName password cookies SuppressWarnings Map String List String responseHeaders Map String List String BindingProvider vimPort getResponseContext get MessageContext HTTP_RESPONSE_HEADERS cookies responseHeaders get cookies String msg url
we s_logger warn we getLocalizedMessage TaskInfo taskInfo TaskInfo getDynamicProperty task taskInfo s_logger warn taskInfo getName taskInfo getKey RuntimeException we getLocalizedMessage s_logger debug taskInfo getName taskInfo getKey getService cancelTask task Object result waitForValues task String String Object Object TaskInfoState SUCCESS TaskInfoState ERROR result result result TaskInfoState SUCCESS s_logger warn taskInfo getName taskInfo getKey retVal result LocalizedMethodFault MethodFault fault LocalizedMethodFault result getFault
spec getPropSet add pSpec spec getObjectSet add oSpec List PropertyFilterSpec specArr ArrayList PropertyFilterSpec specArr add spec ManagedObjectReference propCollector getPropCol List ObjectContent ocary vimPort retrieveProperties propCollector specArr ocary ocary ObjectContent oc ocary ManagedObjectReference mor oc getObj List DynamicProperty propary oc getPropSet mor propary String propval String propary get getVal propval name equalsIgnoreCase propval mor
specArr add spec ManagedObjectReference propCollector getPropCol List ObjectContent ocary vimPort retrieveProperties propCollector specArr ocary ocary ObjectContent oc ocary ManagedObjectReference mor oc getObj List DynamicProperty propary oc getPropSet type type mor propary String propval String propary get getVal propval name equalsIgnoreCase propval mor invalidPropertyException s_logger debug name type invalidPropertyException getMessage invalidPropertyException
String inventoryPath assert inventoryPath String tokens inventoryPath startsWith tokens inventoryPath substring split tokens inventoryPath split tokens tokens
conn connected connected conn connect connected
VmwareContext context assert context getPool assert context getPoolKey String poolKey context getPoolKey intern poolKey Queue VmwareContext ctxQueue _pool get poolKey ctxQueue ctxQueue ConcurrentLinkedQueue _pool put poolKey ctxQueue ctxQueue VmwareContext oldestContext ctxQueue remove oldestContext oldestContext close
Throwable e Class Throwable cls e getClass Method mth cls getDeclaredMethod Class mth Object fault mth invoke e Object fault MethodFault StringWriter writer StringWriter writer append fault getClass getName writer append MethodFault fault getFaultMessage writer append e printStackTrace PrintWriter writer writer toString
