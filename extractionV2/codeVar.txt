File
dir
dirPath
InputStream
inputStream
store
retrieveBlock
key
readBuffer
getStart
getEnd
IOUtils
readFully
getBuffer
length
close
setStatus
CosNInputStream
ReadBuffer
SUCCESS
ERROR
LOG
warn
String
valueOf
retryAction
retryPolicy
shouldRetry
e
retries
Thread
sleep
delayMillis
errMsg
format
toString
String
userName
System
getProperty
command
Process
child
Runtime
getRuntime
exec
waitFor
InputStream
in
getInputStream
StringBuilder
strBuffer
c
append
close
ownerInfoId
toString
key
PATH_DELIMITER
String
errMsg
format
f
IOException
createParent
priorLastKey
PartialListing
listing
store
list
Constants
COS_MAX_LISTING_LENGTH
delete
file
getKey
commonPrefix
getPriorLastKey
String
errMsg
format
f
IOException
createParent
priorLastKey
PartialListing
listing
store
list
key
Constants
COS_MAX_LISTING_LENGTH
delete
file
getKey
commonPrefix
getPriorLastKey
LOG
debug
f
FileMetadata
meta
store
retrieveMetadata
key
newFile
absolutePath
newDirectory
PATH_DELIMITER
PartialListing
listing
list
String
key
pathToKey
absolutePath
FileStatus
fileStatus
getFileStatus
f
PATH_DELIMITER
URI
pathUri
toUri
Set
status
TreeSet
priorLastKey
PartialListing
listing
store
list
Constants
COS_MAX_LISTING_LENGTH
Path
subPath
keyToPath
fileMetadata
getKey
List
Path
paths
ArrayList
add
absolutePath
getParent
FileStatus
fileStatus
getFileStatus
path
FileAlreadyExistsException
String
format
f
LOG
debug
dstParentPath
src
dst
IOException
String
format
FileStatus
dstFileStatus
getFileStatus
FileAlreadyExistsException
getPath
Path
getName
statuses
listStatus
Path
parent
path
getParent
String
parentKey
pathToKey
PartETag
partETag
LOG
info
currentBlockId
blockWritten
store
uploadPart
ByteBufferInputStream
currentBlockBuffer
getByteBuffer
key
uploadId
remaining
List
futurePartETagList
waitForFinishPartUploads
IOException
tmpPartEtagList
LinkedList
add
completeMultipartUpload
BufferPool
getInstance
returnBuffer
ObjectMetadata
objectMetadata
setContentMD5
Base64
encodeAsString
md5Hash
setContentLength
length
PutObjectRequest
putObjectRequest
bucketName
key
inputStream
PutObjectResult
putObjectResult
callCOSClientWithRetry
LOG
debug
prefix
delimiter
maxListingLength
priorLastKey
CosNFileSystem
PATH_DELIMITER
ListObjectsRequest
listObjectsRequest
setBucketName
bucketName
setPrefix
setDelimiter
setMarker
setMaxKeys
ObjectListing
objectListing
callCOSClientWithRetry
String
errMsg
format
e
toString
sdkMethod
cosClient
listObjects
ListObjectsRequest
request
IOException
String
errMsg
format
retryIndex
maxRetryTimes
cse
toString
statusCode
getStatusCode
LOG
info
sleepLeast
sleepBound
String
errMsg
format
retryIndex
maxRetryTimes
sdkMethod
cse
toString
statusCode
getStatusCode
LOG
info
sleepLeast
sleepBound
UploadPartRequest
request
getInputStream
reset
Thread
sleep
ThreadLocalRandom
current
nextLong
Path
seekTestFilePath
testRootDir
fileSize
Unit
MB
ContractTestUtils
generateTestFile
fs
LOG
info
FSDataInputStream
inputStream
open
seekTimes
pos
i
seek
assertTrue
getPos
Path
seekTestFilePath
testRootDir
fileSize
Unit
MB
ContractTestUtils
generateTestFile
fs
LOG
info
FSDataInputStream
inputStream
open
seekTimes
pos
i
seek
assertTrue
getPos
Random
random
Math
abs
nextLong
LOG
info
FSDataInputStream
inputStream
fs
open
seekTestFilePath
seekTimes
pos
fileSize
i
seek
assertTrue
getPos
Random
random
Math
abs
nextLong
bufLen
Path
readTestFilePath
testRootDir
fileSize
Unit
MB
ContractTestUtils
generateTestFile
fs
LOG
info
readTestFilePath
FSDataInputStream
inputStream
fs
open
buf
bufLen
bytesRead
bytes
remaining
fileSize
read
available
assertTrue
unauthorizedResponse
errCode
HttpServletResponse
SC_UNAUTHORIZED
AuthenticationException
authenticationEx
HttpServletRequest
httpRequest
request
httpResponse
response
isHttps
equals
getScheme
newToken
AuthenticationToken
token
getToken
isHttps
equals
httpRequest
getScheme
newToken
AuthenticationToken
token
getToken
LOG
debug
getRequestURL
warn
ex
getMessage
authenticationEx
LOG
warn
ex
getMessage
authenticationEx
token
debug
getRequestURL
httpRequest
authHandler
getClass
authenticate
httpResponse
setMaxInactives
System
currentTimeMillis
getMaxInactiveInterval
setExpires
getValidity
newToken
unauthorizedResponse
LOG
debug
getRequestURL
httpRequest
token
getUserName
AuthenticationToken
authToken
getType
ANONYMOUS
setMaxInactives
System
currentTimeMillis
getMaxInactiveInterval
AuthenticationToken
token
String
serializedJWT
HttpServletRequest
req
request
getJWTFromCookie
loginURL
constructLoginURL
HttpServletRequest
req
request
serializedJWT
getJWTFromCookie
String
loginURL
constructLoginURL
LOG
info
HttpServletResponse
response
sendRedirect
userName
SignedJWT
jwtToken
valid
parse
validateToken
getJWTClaimsSet
getSubject
String
serializedJWT
Cookie
cookies
req
getCookies
ServletException
File
keytabFile
keytab
String
spnegoPrincipals
KerberosUtil
getPrincipalNames
Pattern
compile
principal
KeyTab
keytabInstance
getInstance
serverSubject
getPrivateCredentials
add
env
put
Context
INITIAL_CONTEXT_FACTORY
PROVIDER_URL
providerUrl
ctx
InitialLdapContext
StartTlsResponse
tls
extendedOperation
StartTlsRequest
negotiate
addToEnvironment
SECURITY_AUTHENTICATION
SECURITY_PRINCIPAL
userDN
SECURITY_CREDENTIALS
password
lookup
Hashtable
String
Object
env
put
Context
INITIAL_CONTEXT_FACTORY
PROVIDER_URL
providerUrl
SECURITY_AUTHENTICATION
SECURITY_PRINCIPAL
userDN
SECURITY_CREDENTIALS
password
ctx
InitialDirContext
close
Preconditions
checkNotNull
authHandlerClassName
Preconditions
checkNotNull
authHandlerClassName
logger
debug
Class
klass
Thread
currentThread
getContextClassLoader
loadClass
AuthenticationHandler
authHandler
newInstance
init
config
DeprecatedKeyInfo
keyInfo
getDeprecatedKeyInfo
name
URL
url
getResource
name
URL
url
getResource
name
XMLStreamReader2
reader
getStreamReader
wrapper
quiet
RuntimeException
resource
Properties
toAddTo
properties
List
ParsedItem
items
Parser
parse
loadProperty
item
name
key
value
isFinal
sources
close
overlay
Resource
isParserRestricted
RuntimeException
resource
Properties
toAddTo
properties
List
ParsedItem
items
Parser
reader
wrapper
quiet
parse
loadProperty
item
name
key
value
isFinal
sources
close
overlay
Resource
isParserRestricted
LOG
error
e
String
value
get
name
String
value
get
name
defaultValue
value
getBoolean
name
defaultValue
value
getFloat
name
defaultValue
value
getInt
name
defaultValue
value
getLong
name
defaultValue
LOG
info
req
getServletPath
String
rawParam
params
nextElement
param
StringEscapeUtils
unescapeHtml4
value
req
getParameter
out
println
escapeHtml4
oldConf
getRaw
reconf
reconfigureProperty
conf
Class
Random
klass
getClass
HADOOP_SECURITY_SECURE_RANDOM_IMPL_KEY
OpensslSecureRandom
random
ReflectionUtils
newInstance
FsPermission
perm
loadFromPath
pathToLoad
password
renameOrFail
path
T
ret
OutputStream
os
conn
getOutputStream
writeJson
jsonOutput
disconnect
IOUtils
closeStream
getInputStream
ex
Token
token
creds
getToken
service
URL
url
createURL
DelegationTokenAuthenticatedURL
authUrl
configurator
Token
token
String
doAsUser
getDoAsUser
String
doAsUser
getDoAsUser
DelegationTokenAuthenticatedURL
Token
token
generateDelegationToken
dToken
URL
url
createURL
String
doAsUser
getDoAsUser
DelegationTokenAuthenticatedURL
Token
token
generateDelegationToken
dToken
URL
url
createURL
Credentials
creds
ugi
getCredentials
Token
token
provider
getDelegationToken
renewer
setService
dtService
count
pos
read
retry
retriesLeft
numOfRetries
readChunk
chunkPos
b
off
len
checksum
verifySums
LOGGER
debug
ServiceLoader
FileSystem
serviceLoader
load
Iterator
it
iterator
fs
next
SERVICE_FILE_SYSTEMS
put
getScheme
getClass
LOGGER
debug
ServiceLoader
FileSystem
serviceLoader
load
Iterator
it
iterator
fs
next
SERVICE_FILE_SYSTEMS
put
getScheme
getClass
ClassUtil
findContainingJar
warn
loadFileSystems
LOGGER
debug
scheme
Class
FileSystem
clazz
String
property
conf
getClass
SERVICE_FILE_SYSTEMS
get
LOGGER
debug
scheme
Class
FileSystem
clazz
String
property
conf
getClass
SERVICE_FILE_SYSTEMS
get
UnsupportedFileSystemException
ExecutorService
executor
ProcessBuilder
builder
command
Shell
WINDOWS
Process
process
start
exitCode
Executors
newFixedThreadPool
String
line
builder
command
Shell
WINDOWS
Process
process
start
exitCode
executor
Executors
newFixedThreadPool
String
line
LOG
debug
org
apache
commons
io
IOUtils
copy
getInputStream
NullOutputStream
String
line
LOG
debug
org
apache
commons
io
IOUtils
copy
process
getInputStream
NullOutputStream
e
getMessage
org
apache
commons
io
IOUtils
copy
process
getInputStream
NullOutputStream
LOG
debug
e
getMessage
String
line
getErrorStream
ShellCommandExecutor
shExec
cmd
linkFile
getParentFile
execute
returnVal
ec
getExitCode
LOG
warn
StringUtils
join
getMessage
URI
srcUri
srcFs
getUri
dstUri
destFs
String
srcHost
getHost
dstHost
getPort
InetAddress
getByName
getCanonicalHostName
args
substring
scope
getSpan
addKVAnnotation
exitCode
instance
run
Arrays
copyOfRange
argv
length
close
displayError
cmd
e
printStackTrace
System
err
getLocalizedMessage
printUsage
LOG
debug
protocol
known
Class
FileSystem
impl
getFileSystemClass
conf
String
scheme
schemeFromPath
pathPattern
authority
authorityFromPath
pathPatternString
toUri
getPath
List
flattenedPatterns
GlobExpander
expand
String
scheme
schemeFromPath
pathPattern
authority
authorityFromPath
pathPatternString
toUri
getPath
List
flattenedPatterns
GlobExpander
expand
LOG
debug
ArrayList
FileStatus
results
size
sawWildcard
Path
absPattern
fixRelativePart
flatPattern
isEmpty
CUR_DIR
ArrayList
FileStatus
newCandidates
candidates
size
GlobFilter
globFilter
components
get
componentIdx
String
component
unescapePathComponent
sawWildcard
LOG
debug
candidate
setPath
Path
getPath
children
listStatus
candidate
setPath
Path
getPath
component
FileStatus
children
listStatus
LOG
debug
path
status
getFileStatus
FileStatus
sdst
getFileStatus
dst
String
dstFileList
dstFile
list
Path
existsFilePath
baseTrashPath
getParent
toString
replace
Time
now
trashPath
getName
i
LOG
warn
e
cause
String
orig
Collection
FileStatus
trashRoots
fs
getTrashRoots
Collection
FileStatus
trashRoots
fs
getTrashRoots
now
Time
Path
path
dirs
i
getPath
String
dir
toUri
name
getName
time
getTimeFromCheckpoint
LOG
warn
curVersion
higherVersion
Integer
parseInt
nameParts
length
logInvalidFileNameFormat
cur
lfs
curLfs
LOGGER
warn
mountTableConfigPath
Path
latestVersionMountTable
getPath
FileStatus
srcStatus
srcNode
cloneStatus
setPath
f
Path
tmpPath
getNflyTmpPath
FileUtil
copy
getFs
dstNode
getConf
delete
setTimes
status
getModificationTime
getAccessTime
makeQualified
dstNode
getFs
setTimes
f
srcNode
status
getModificationTime
getAccessTime
srcStatus
setPath
makeQualified
LOG
info
ioe
List
MRNflyNode
mrList
ArrayList
add
openNode
readNodes
toArray
topology
sortByDistance
myNode
length
myUri
theUri
isStaleClient
ctx
LOG
debug
rc
path
zkConnectionState
Code
code
get
monitorActiveStatus
reJoinElectionAfterFailureToBecomeActive
becomeStandby
String
errorMessage
toString
Code
code
get
rc
monitorActiveStatus
reJoinElectionAfterFailureToBecomeActive
becomeStandby
String
errorMessage
toString
path
LOG
debug
Event
EventType
eventType
event
getType
isStaleClient
zk
reJoinElection
String
path
event
getPath
enterNeutralMode
joinElectionInternal
tryFence
forceFence
FailoverFailedException
fromSvc
failed
Throwable
cause
HAServiceProtocolHelper
transitionToActive
toSvc
getProxy
conf
rpcTimeoutToNewActive
createReqInfo
LOG
error
sfe
getMessage
Throwable
cause
HAServiceProtocolHelper
transitionToActive
toSvc
getProxy
conf
rpcTimeoutToNewActive
createReqInfo
LOG
error
sfe
getMessage
failed
ioe
String
msg
LOG
info
i
methods
size
method
toSvcFencingFailed
tryFence
toSvc
arg
error
LOG
info
i
methods
size
method
toSvcFencingFailed
tryFence
toSvc
arg
error
e
LOG
info
processName
host
String
ps1script
BufferedWriter
writer
File
file
createTempFile
deleteOnExit
FileOutputStream
fos
OutputStreamWriter
osw
StandardCharsets
UTF_8
filter
StringUtils
join
cmd
File
file
createTempFile
deleteOnExit
FileOutputStream
fos
OutputStreamWriter
osw
StandardCharsets
UTF_8
writer
BufferedWriter
String
filter
StringUtils
join
processName
cmd
host
LOG
info
write
flush
ps1script
getAbsolutePath
String
cmd
filter
host
LOG
info
writer
write
flush
ps1script
file
getAbsolutePath
error
ioe
close
String
cmd
parseArgs
target
getTransitionTargetHAStatus
args
builder
ProcessBuilder
setConfAsEnvVars
environment
addTargetInfoAsEnvVars
Process
p
start
getOutputStream
close
LOG
warn
e
pid
tryGetPid
port
serviceAddr
getPort
port
serviceAddr
getPort
LOG
info
rc
execCommand
session
InputStreamReader
inputStreamReader
stream
StandardCharsets
UTF_8
BufferedReader
br
String
line
force
interactive
badArg
args
i
formatZK
LOG
error
e
ERR_CODE_NO_PARENT_ZNODE
formatZK
force
interactive
badArg
args
LOG
error
e
ERR_CODE_NO_PARENT_ZNODE
localTarget
checkFencingConfigured
ERR_CODE_NO_FENCER
InetSocketAddress
bindAddr
getRpcAddressToBindTo
LOG
info
localTarget
HAServiceProtocolHelper
transitionToActive
getProxy
conf
FailoverController
getRpcTimeoutToNewActive
createReqInfo
String
msg
LOG
info
localTarget
timeout
FailoverController
getGracefulFenceTimeout
conf
getProxy
transitionToStandby
createReqInfo
LOG
info
target
gracefulWorked
FailoverController
conf
RequestSource
REQUEST_BY_ZKFC
tryGracefulFence
isLog4JLogger
logger
Log4JLogger
LOG
debug
err
httpLog4JLog
org
apache
log4j
Logger
httpLogger
getLogger
Appender
appender
getAppender
appenderName
warn
loggerName
e
ServletHolder
sh
clazz
setName
name
setInitParameters
params
ServletMapping
servletMappings
webAppContext
getServletHandler
getServletMappings
FilterHolder
filterHolder
getFilterHolder
name
classname
parameters
String
userFacingUrls
FilterMapping
fmap
getFilterMapping
defineFilter
webAppContext
FilterHolder
filterHolder
getFilterHolder
name
classname
parameters
String
userFacingUrls
FilterMapping
fmap
getFilterMapping
defineFilter
webAppContext
LOG
info
getDisplayName
ALL_URLS
ServletContextHandler
ctx
e
getKey
listener
close
open
c
close
LOG
error
webAppContext
getDisplayName
e
exception
addMultiException
secretProvider
destroy
clearAttributes
stop
webServer
Compressor
compressor
borrow
compressorPool
codec
getCompressorType
createCompressor
Decompressor
decompressor
borrow
decompressorPool
codec
getDecompressorType
createDecompressor
String
codecName
coderFactory
getCodecName
List
RawErasureCoderFactory
coders
coderMap
get
ArrayList
add
put
checked
reinitCodecInTests
conf
getBoolean
clazz
getLzoCodecClass
Object
result
invokeMethod
method
args
retryCount
RetryCount
get
set
RetryInfo
retryInfo
newRetryInfo
policy
e
counters
proxyDescriptor
idempotentOrAtMostOnce
method
expectFailoverCount
info
failedAtLeastOnce
add
proxyDescriptor
getProxyInfo
toString
hasSuccessfulCall
asyncCallHandler
StringBuilder
b
append
ex
getString
method
getName
failovers
isFailover
delay
LOG
RetryPolicy
multipleLinearRandomRetry
getMultipleLinearRandomRetry
conf
retryPolicyEnabledKey
defaultRetryPolicyEnabled
retryPolicySpecKey
defaultRetryPolicySpec
LOG
debug
totalDecayedCost
totalRawCost
Iterator
Map
Entry
Object
List
AtomicLong
it
callCosts
entrySet
iterator
entry
next
decayedCost
getValue
get
rawCost
currentValue
nextValue
decayFactor
set
totalDecayedCost
totalRawCost
Iterator
Map
Entry
Object
List
AtomicLong
it
callCosts
entrySet
iterator
entry
next
decayedCost
getValue
get
rawCost
currentValue
nextValue
decayFactor
set
LOG
debug
getKey
Map
Entry
Object
List
AtomicLong
entry
it
next
decayedCost
getValue
get
rawCost
totalRawCost
currentValue
nextValue
decayFactor
totalDecayedCost
set
LOG
debug
getKey
remove
totalDecayedCallCost
totalRawCallCost
totalRawCost
rawCost
get
currentValue
decayedCost
nextValue
decayFactor
totalDecayedCost
set
LOG
debug
entry
getKey
it
remove
totalDecayedCallCost
totalRawCallCost
recomputeScheduleCache
updateAverageResponseTime
Map
Object
Integer
scheduleCache
scheduleCacheRef
get
priority
identity
Boolean
backOff
priorityLevel
obj
getPriorityLevel
responseTimes
getAverageResponseTime
LOG
debug
getUserGroupInformation
getUserName
String
user
identityProvider
makeIdentity
schedulable
processingCost
costProvider
getCost
details
addCost
priorityLevel
getPriorityLevel
queueTime
get
Timing
QUEUE
RpcMetrics
TIMEUNIT
processingTime
PROCESSING
decayRpcSchedulerDetailedMetrics
addQueueTime
addProcessingTime
responseTimeCountInCurrWindow
getAndIncrement
responseTimeTotalInCurrWindow
getAndAdd
totalResponseTime
responseTimeTotalInCurrWindow
get
i
responseTimeCount
responseTimeCountInCurrWindow
averageResponseTime
lastAvg
responseTimeAvgInLastWindow
decayed
decayFactor
set
responseTimeCountInLastWindow
HadoopIllegalArgumentException
Closeable
proxy
close
InvocationHandler
handler
Proxy
getInvocationHandler
LOG
error
e
RpcSaslProto
saslResponse
processSaslMessage
saslMessage
rpcMetrics
incrAuthenticationFailures
LOG
debug
StringUtils
stringifyException
e
IOException
tce
getTrueCause
AUDITLOG
warn
AUTH_FAILED_FOR
toString
attemptingUser
getLocalizedMessage
saslServer
getNegotiatedProperty
Sasl
QOP
user
getAuthorizedUgi
getAuthorizationID
saslResponse
processSaslMessage
saslMessage
rpcMetrics
incrAuthenticationFailures
LOG
debug
StringUtils
stringifyException
e
IOException
tce
getTrueCause
AUDITLOG
warn
AUTH_FAILED_FOR
toString
attemptingUser
getLocalizedMessage
saslServer
getNegotiatedProperty
Sasl
QOP
user
getAuthorizedUgi
getAuthorizationID
callId
retry
RpcConstants
INVALID_RETRY_COUNT
RpcWritable
Buffer
buffer
wrap
bb
RpcRequestHeaderProto
header
getMessage
getDefaultInstance
getCallId
getRetryCount
RpcWritable
Buffer
buffer
wrap
bb
RpcRequestHeaderProto
header
getMessage
getDefaultInstance
callId
getCallId
retry
getRetryCount
LOG
debug
checkRpcHeaders
processRpcOutOfBandRequest
FatalRpcServerException
RpcErrorCodeProto
FATAL_INVALID_RPC_HEADER
processRpcRequest
thisIdx
currentQueueIndex
get
nextIdx
numQueues
set
requestsLeft
queueWeights
listBeans
jg
ObjectName
splitStrings
response
String
qry
request
getParameter
close
writer
LOG
error
e
setStatus
HttpServletResponse
SC_INTERNAL_SERVER_ERROR
MBeanInfo
minfo
String
code
Object
attributeinfo
mBeanServer
getMBeanInfo
oname
getClassName
prs
getAttribute
attribute
Object
attributeinfo
minfo
mBeanServer
getMBeanInfo
oname
code
getClassName
String
prs
getAttribute
attribute
LOG
error
e
minfo
mBeanServer
getMBeanInfo
oname
code
getClassName
String
prs
getAttribute
attribute
attributeinfo
LOG
error
e
String
prs
code
mBeanServer
getAttribute
oname
attribute
attributeinfo
LOG
error
e
code
String
mBeanServer
getAttribute
oname
prs
attribute
attributeinfo
LOG
error
e
prs
attribute
attributeinfo
mBeanServer
getAttribute
oname
LOG
error
e
qry
String
attName
attr
getName
Object
value
mBeanServer
getAttribute
oname
LOG
debug
e
String
attName
attr
getName
Object
value
mBeanServer
getAttribute
oname
LOG
debug
e
error
Object
value
mBeanServer
getAttribute
oname
attName
LOG
debug
e
error
Object
value
mBeanServer
getAttribute
oname
attName
LOG
debug
e
error
LOG
debug
attName
oname
e
error
PropertiesConfiguration
pcf
setListDelimiterHandler
DefaultListDelimiterHandler
FileHandler
fh
setFileName
fname
load
Configuration
cf
interpolatedConfiguration
PropertiesConfiguration
pcf
setListDelimiterHandler
DefaultListDelimiterHandler
FileHandler
fh
setFileName
fname
load
Configuration
cf
interpolatedConfiguration
LOG
info
PropertiesConfiguration
pcf
setListDelimiterHandler
DefaultListDelimiterHandler
FileHandler
fh
setFileName
fname
load
Configuration
cf
interpolatedConfiguration
LOG
info
debug
toString
MetricsConfig
mc
prefix
Object
value
getPropertyInternal
key
String
classKey
prefix
isEmpty
concat
clsName
getString
ClassLoader
defaultLoader
getClass
getClassLoader
Object
purls
getProperty
PLUGIN_URLS_KEY
Iterable
String
jars
SPLITTER
split
len
Iterables
size
URL
urls
i
LOG
debug
jar
MetricsConfigException
e
Random
rng
System
nanoTime
queue
consumeAll
refreshQueueSizeGauge
retryDelay
firstRetryDelay
n
retryCount
inError
LOG
info
name
retryWindow
Math
max
minDelay
awhile
nextInt
retryDelay
firstRetryDelay
n
retryCount
inError
LOG
info
name
retryWindow
Math
max
minDelay
awhile
rng
nextInt
error
e
retryBackoff
Thread
sleep
LOG
info
name
retryWindow
Math
max
retryDelay
minDelay
awhile
rng
nextInt
error
e
retryBackoff
Thread
sleep
e2
n
ts
updateJmxCache
AttributeList
ret
Attribute
attr
attrCache
get
key
LOG
warn
prefix
MetricsException
info
Callback
cb
callbacks
preStop
namedCallbacks
values
stopTimer
stopSources
stopSinks
clearConfigs
monitoring
MetricsSourceBuilder
sb
MetricsAnnotations
newSourceBuilder
source
MetricsSource
s
build
MetricsInfo
si
info
String
name2
name
finalDesc
desc
description
finalName
DefaultMetricsSystem
sourceName
monitoring
allSources
put
checkNotNull
config
MetricsConfig
conf
sourceConfigs
get
name
MetricsSourceAdapter
sa
prefix
desc
source
injectedTags
period
subset
SOURCE_KEY
sources
put
start
checkNotNull
config
MetricsConfig
conf
sinkConfigs
get
name
MetricsSinkAdapter
sa
newSink
desc
sink
subset
SINK_KEY
sinks
put
start
startTime
Time
monotonicNow
bufferBuilder
add
sa
name
getMetrics
collector
clear
snapshotStat
MetricsSourceAdapter
sa
entry
getValue
MetricsSinkAdapter
sa
entry
getValue
LOG
debug
System
getProperty
MS_INIT_MODE_KEY
protocolCache
contains
protocol
add
String
name
method
getName
hostName
DNS
getDefaultHost
conf
getString
LOG
error
uhe
toString
metricsServers
Servers
parse
SERVERS_PROPERTY
DEFAULT_PORT
multicastEnabled
getBoolean
MULTICAST_ENABLED_PROPERTY
DEFAULT_MULTICAST_ENABLED
multicastTtl
getInt
MULTICAST_TTL_PROPERTY
DEFAULT_MULTICAST_TTL
gangliaConfMap
HashMap
String
GangliaConf
loadGangliaConf
GangliaConfType
units
tmax
dmax
slope
String
propertyarr
conf
getStringArray
gtype
name
metricNValueArr
metricNValue
split
EQUAL
MBeanServer
mbs
ManagementFactory
getPlatformMBeanServer
Preconditions
checkNotNull
properties
ObjectName
name
getMBeanName
serviceName
nameName
registerMBean
theMbean
excludedScope
Node
node
getNode
scope
excludedNodes
contains
InnerNode
innerNode
numOfDatanodes
getNumOfLeaves
node
getNode
excludedScope
numOfDatanodes
InnerNode
getNumOfLeaves
LOG
debug
scope
availableNodes
countNumOfAvailableNodes
excludedNodes
netlock
readLock
lock
nthValidToReturn
r
nextInt
availableNodes
LOG
debug
Node
ret
parentNode
getLeaf
totalInScopeNodes
excludedScopeNode
lastValidNode
i
LOG
debug
ret
Node
lastValidNode
parentNode
getLeaf
i
excludedScopeNode
nthValidToReturn
node
IllegalArgumentException
NodeBase
getPath
netlock
writeLock
lock
Node
rack
setNetworkLocation
getNetworkLocation
NetworkTopologyWithNodeGroup
DEFAULT_NODEGROUP
nodeGroup
getNode
InnerNodeWithNodeGroup
toString
String
providerNames
conf
getStrings
MAPPING_PROVIDERS_CONFIG_KEY
providerKey
MAPPING_PROVIDER_CONFIG_PREFIX
name
Class
providerClass
getClass
String
keytabName
popOptionWithArgument
ARG_KEYTAB
args
keytab
File
principal
ARG_PRINCIPAL
outf
ARG_OUTPUT
mkl
ARG_KEYLEN
minKeyLength
Integer
parseInt
securityRequired
popOption
ARG_SECURE
nofail
ARG_NOFAIL
jaas
ARG_JAAS
nologin
ARG_NOLOGIN
checkShortName
ARG_VERIFYSHORTNAME
resource
String
identity
File
kt
keytab
getCanonicalFile
println
principal
failif
CAT_KERBEROS
ugi
loginUserFromKeytabAndReturnUGI
getPath
dumpUGI
validateUGI
title
setShouldRenewImmediatelyForTests
reloginFromKeytab
warn
CAT_UGI
DirContext
c
getDirContext
NamingEnumeration
SearchResult
results
search
userbaseDN
userSearchFilter
Object
user
SEARCH_CONTROLS
LOG
debug
user
Collections
emptySet
SearchResult
result
results
nextElement
Set
String
groups
Attribute
groupDNAttr
getAttributes
get
memberOfAttr
NamingException
toString
LinkedHashSet
NamingEnumeration
groupEnumeration
getAll
groupDN
next
add
getRelativeDistinguishedName
Set
String
groups
Collections
emptySet
Attribute
groupDNAttr
result
getAttributes
get
memberOfAttr
NamingException
toString
LinkedHashSet
NamingEnumeration
groupEnumeration
getAll
groupDN
next
add
getRelativeDistinguishedName
LOG
info
e
lookupGroup
c
goUpHierarchy
String
previousLdapUrl
currentLdapUrl
ldapUrls
next
BindUserInfo
oldBindUser
currentBindUser
bindUsers
next
conf
String
urls
getStrings
LDAP_URL_KEY
LDAP_URL_DEFAULT
RuntimeException
ldapUrls
Iterators
cycle
currentLdapUrl
next
useSsl
getBoolean
LDAP_USE_SSL_KEY
LDAP_USE_SSL_DEFAULT
loadSslConf
initializeBindUsers
baseDN
getTrimmed
BASE_DN_KEY
BASE_DN_DEFAULT
userbaseDN
USER_BASE_DN_KEY
LOG
debug
groupbaseDN
GROUP_BASE_DN_KEY
StringBuffer
newProviderPath
String
providers
providerPath
split
Path
path
unnestUri
URI
provider
Class
FileSystem
clazz
scheme
toUri
getScheme
getFileSystemClass
config
append
AuthMethod
authMethod
valueOf
authType
getMethod
switchToSimple
saslClient
createSaslClient
selectedAuthType
List
String
serverAuthMethods
ArrayList
add
AccessControlException
Token
token
getServerToken
authType
LOG
debug
saslCallback
SaslClientCallbackHandler
String
serverPrincipal
getServerPrincipal
saslCallback
SaslClientCallbackHandler
token
LOG
debug
String
serverPrincipal
getServerPrincipal
authType
protocol
getCanonicalName
mechanism
method
getMechanismName
TokenInfo
tokenInfo
SecurityUtil
getTokenInfo
protocol
conf
KerberosInfo
krbInfo
SecurityUtil
getKerberosInfo
protocol
conf
LOG
debug
protocol
krbInfo
String
serverKey
serverPrincipal
IllegalArgumentException
getCanonicalName
KerberosPrincipal
authType
getProtocol
getServerId
KRB_NT_SRV_HST
getName
serverKeyPattern
conf
get
Pattern
pattern
GlobPattern
compile
format
confPrincipal
SecurityUtil
getServerPrincipal
serverAddr
getAddress
AccessControlException
ugi
getUserName
callback
SaslGssCallbackHandler
SaslServer
saslServer
saslFactory
createSaslServer
mechanism
protocol
serverId
saslProperties
nc
NameCallback
callback
pc
PasswordCallback
UnsupportedCallbackException
TokenIdentifier
tokenIdentifier
getIdentifier
getDefaultName
secretManager
password
getPassword
UserGroupInformation
user
getUser
connection
attemptingUser
Text
service
buildTokenService
addr
token
setService
LOG
debug
mapName
nameId
Integer
key
staticMapping
get
parseId
String
value
prevValue
map
reportDuplicateEntry
prevKey
inverse
put
updated
Integer
key
staticMapping
get
parseId
nameId
String
value
prevValue
map
reportDuplicateEntry
prevKey
inverse
put
updated
LOG
debug
mapName
size
init
staticMapping
lmTime
staticMappingFile
lastModified
UserGroupInformation
realUser
doSubjectLogin
subject
loginUser
String
proxyUser
System
getenv
HADOOP_PROXY_USER
getProperty
createProxyUser
Collection
tokenFileLocations
LinkedHashSet
addAll
getTrimmedStringCollection
HADOOP_TOKEN_FILES
conf
get
HADOOP_TOKEN_FILE_LOCATION
File
tokenFile
tokenFileLocation
String
proxyUser
System
getenv
HADOOP_PROXY_USER
getProperty
loginUser
realUser
createProxyUser
Collection
tokenFileLocations
LinkedHashSet
addAll
getTrimmedStringCollection
HADOOP_TOKEN_FILES
conf
get
HADOOP_TOKEN_FILE_LOCATION
File
tokenFile
tokenFileLocation
LOG
debug
getCanonicalPath
Credentials
cred
readTokenStorageFile
proxyUser
System
getProperty
HADOOP_PROXY_USER
loginUser
realUser
createProxyUser
Collection
String
tokenFileLocations
LinkedHashSet
addAll
getTrimmedStringCollection
HADOOP_TOKEN_FILES
conf
get
getenv
HADOOP_TOKEN_FILE_LOCATION
File
tokenFile
tokenFileLocation
LOG
debug
getCanonicalPath
Credentials
cred
readTokenStorageFile
numberOfTokens
addCredentials
LOG
info
tokenFile
getCanonicalPath
Collection
String
tokensBase64
LinkedHashSet
addAll
getTrimmedStringCollection
System
getProperty
HADOOP_TOKENS
conf
get
getenv
HADOOP_TOKEN
numTokenBase64
Token
TokenIdentifier
token
decodeFromUrlString
tokenBase64
Credentials
cred
addToken
getService
loginUser
addCredentials
Collection
String
tokensBase64
LinkedHashSet
addAll
getTrimmedStringCollection
System
getProperty
HADOOP_TOKENS
conf
get
getenv
HADOOP_TOKEN
numTokenBase64
Token
TokenIdentifier
token
decodeFromUrlString
tokenBase64
Credentials
cred
addToken
getService
loginUser
addCredentials
Collection
String
tokensBase64
LinkedHashSet
addAll
getTrimmedStringCollection
System
getProperty
HADOOP_TOKENS
conf
get
getenv
HADOOP_TOKEN
numTokenBase64
Token
TokenIdentifier
token
decodeFromUrlString
tokenBase64
Credentials
cred
addToken
getService
loginUser
addCredentials
tokensBase64
addAll
getTrimmedStringCollection
conf
get
HADOOP_TOKENS
System
getenv
HADOOP_TOKEN
numTokenBase64
Token
TokenIdentifier
token
decodeFromUrlString
tokenBase64
Credentials
cred
addToken
getService
loginUser
addCredentials
LOG
error
ioe
getMessage
log
debug
caption
ugi
path
ProviderUtils
unnestUri
keystoreUri
initFileSystem
uri
file
File
URI
getPath
toString
initFileSystem
uri
file
File
URI
getPath
toString
LOG
debug
HttpServletRequest
lowerCaseRequest
toLowerCase
request
String
doAsUser
getParameter
DO_AS
String
clientKey
krbInfo
clientPrincipal
SecurityUtil
getServerPrincipal
conf
get
addr
AuthorizationException
user
protocol
initCause
e
cause
AUDITLOG
warn
AUTHZ_FAILED_FOR
hostAddress
getHostAddress
LOG
debug
originsList
String
accessControlRequestMethod
req
getHeader
ACCESS_CONTROL_REQUEST_METHOD
accessControlRequestHeaders
ACCESS_CONTROL_REQUEST_HEADERS
ArrayList
String
preferredSuites
String
keystoreType
conf
get
resolvePropertyName
mode
SSL_KEYSTORE_TYPE_TPL_KEY
DEFAULT_KEYSTORE_TYPE
KeyStore
keystore
getInstance
keystoreKeyPassword
locationProperty
SSL_KEYSTORE_LOCATION_TPL_KEY
keystoreLocation
GeneralSecurityException
passwordProperty
SSL_KEYSTORE_PASSWORD_TPL_KEY
keystorePassword
getPassword
keyPasswordProperty
SSL_KEYSTORE_KEYPASSWORD_TPL_KEY
GeneralSecurityException
locationProperty
String
passwordProperty
resolvePropertyName
mode
SSL_KEYSTORE_PASSWORD_TPL_KEY
keystorePassword
getPassword
conf
keyPasswordProperty
SSL_KEYSTORE_KEYPASSWORD_TPL_KEY
keystoreKeyPassword
LOG
debug
toString
keystoreLocation
InputStream
is
Files
newInputStream
Paths
get
keystore
load
toCharArray
close
is
close
LOG
debug
mode
toString
keystoreLocation
keystore
load
KeyManagerFactory
keyMgrFactory
getInstance
SSLFactory
SSLCERTIFICATE
init
keystoreKeyPassword
toCharArray
keyManagers
getKeyManagers
String
truststoreType
conf
get
resolvePropertyName
SSL_TRUSTSTORE_TYPE_TPL_KEY
DEFAULT_KEYSTORE_TYPE
locationProperty
SSL_TRUSTSTORE_LOCATION_TPL_KEY
truststoreLocation
passwordProperty
SSL_TRUSTSTORE_PASSWORD_TPL_KEY
truststorePassword
getPassword
LOG
debug
mode
toString
keystoreLocation
keystore
load
KeyManagerFactory
keyMgrFactory
getInstance
SSLFactory
SSLCERTIFICATE
init
keystoreKeyPassword
toCharArray
keyManagers
getKeyManagers
String
truststoreType
conf
get
resolvePropertyName
SSL_TRUSTSTORE_TYPE_TPL_KEY
DEFAULT_KEYSTORE_TYPE
locationProperty
SSL_TRUSTSTORE_LOCATION_TPL_KEY
truststoreLocation
passwordProperty
SSL_TRUSTSTORE_PASSWORD_TPL_KEY
truststorePassword
getPassword
truststoreReloadInterval
getLong
SSL_TRUSTSTORE_RELOAD_INTERVAL_TPL_KEY
DEFAULT_SSL_TRUSTSTORE_RELOAD_INTERVAL
keystore
load
KeyManagerFactory
keyMgrFactory
getInstance
SSLFactory
SSLCERTIFICATE
init
keystoreKeyPassword
toCharArray
keyManagers
getKeyManagers
String
truststoreType
conf
get
resolvePropertyName
mode
SSL_TRUSTSTORE_TYPE_TPL_KEY
DEFAULT_KEYSTORE_TYPE
locationProperty
SSL_TRUSTSTORE_LOCATION_TPL_KEY
truststoreLocation
passwordProperty
SSL_TRUSTSTORE_PASSWORD_TPL_KEY
truststorePassword
getPassword
truststoreReloadInterval
getLong
SSL_TRUSTSTORE_RELOAD_INTERVAL_TPL_KEY
DEFAULT_SSL_TRUSTSTORE_RELOAD_INTERVAL
LOG
debug
toString
X509TrustManager
trustManager
KeyStore
ks
getInstance
type
InputStream
in
Files
newInputStream
file
toPath
load
password
toCharArray
lastLoaded
lastModified
String
cipherSuites
sslEngine
getEnabledCipherSuites
ArrayList
defaultEnabledCipherSuites
Arrays
asList
Iterator
iterator
excludeCiphers
cipherName
next
remove
Token
token
Credentials
creds
tokenFile
exists
readTokenStorageFile
conf
ServiceLoader
DtFetcher
loader
load
Iterator
iterator
fetcher
next
LOG
debug
e
String
message
service
DtFetcher
fetcher
iterator
next
LOG
debug
e
String
message
service
error
IllegalArgumentException
token
addDelegationTokens
conf
creds
renewer
stripPrefix
url
alias
LOG
debug
e
String
message
service
error
IllegalArgumentException
token
fetcher
addDelegationTokens
conf
creds
renewer
stripPrefix
url
alias
IOException
Token
aliasedToken
copyToken
setService
Credentials
newCreds
creds
readTokenStorageFile
tokenFile
conf
token
cancel
Credentials
creds
readTokenStorageFile
tokenFile
conf
result
token
renew
sequenceNum
now
Time
incrementDelegationTokenSeqNum
identifier
setIssueDate
setMaxDate
tokenMaxLifetime
setMasterKeyId
currentKey
getKeyId
setSequenceNumber
ByteArrayInputStream
buf
token
getIdentifier
DataInputStream
in
TokenIdent
id
createIdentifier
readFields
ByteArrayInputStream
buf
token
getIdentifier
DataInputStream
in
TokenIdent
id
createIdentifier
readFields
logExpireToken
ident
IOException
e
CuratorFramework
nullNsFw
zkClient
usingNamespace
EnsurePath
ensureNs
newNamespaceAwareEnsurePath
getNamespace
ensure
getZookeeperClient
listenerThreadPool
Executors
newSingleThreadExecutor
delTokSeqCounter
SharedCount
ZK_DTSM_SEQNUM_ROOT
start
currentSeqNum
incrSharedCount
seqNumBatchSize
String
cacheName
isTokenCache
String
cacheName
isTokenCache
LOG
info
List
ChildData
children
tokenCache
getCurrentData
keyCache
count
processTokenAddOrUpdate
child
getData
processKeyAddOrUpdate
LOG
info
cacheName
List
ChildData
children
tokenCache
getCurrentData
keyCache
count
processTokenAddOrUpdate
child
getData
processKeyAddOrUpdate
getPath
count
processTokenAddOrUpdate
child
getData
processKeyAddOrUpdate
LOG
info
getPath
debug
e
syncTokenOwnerStats
warn
cacheName
stopThreads
tokenCache
close
LOG
error
e
delTokSeqCounter
keyIdSeqCounter
LOG
error
e
delTokSeqCounter
close
keyIdSeqCounter
keyCache
delTokSeqCounter
close
LOG
error
e
keyIdSeqCounter
keyCache
currentSeqNum
incrSharedCount
delTokSeqCounter
seqNumBatchSize
currentMaxSeqNum
data
zkClient
getData
forPath
nodePath
ByteArrayInputStream
bin
DataInputStream
din
createIdentifier
readFields
renewDate
readLong
pwdLen
readInt
password
numRead
read
DelegationTokenInformation
tokenInfo
String
nodeCreatePath
getNodePath
ZK_DTSM_MASTER_KEY_ROOT
DELEGATION_KEY_PREFIX
key
getKeyId
ByteArrayOutputStream
os
DataOutputStream
fsOut
String
nodeCreatePath
getNodePath
ZK_DTSM_MASTER_KEY_ROOT
DELEGATION_KEY_PREFIX
key
getKeyId
ByteArrayOutputStream
os
DataOutputStream
fsOut
LOG
debug
write
zkClient
setData
forPath
toByteArray
setVersion
create
withMode
CreateMode
PERSISTENT
ByteArrayOutputStream
os
DataOutputStream
fsOut
LOG
debug
key
getKeyId
write
zkClient
setData
forPath
nodeCreatePath
toByteArray
setVersion
create
withMode
CreateMode
PERSISTENT
String
nodeRemovePath
getNodePath
ZK_DTSM_MASTER_KEY_ROOT
DELEGATION_KEY_PREFIX
key
getKeyId
String
nodeRemovePath
getNodePath
ZK_DTSM_TOKENS_ROOT
DELEGATION_TOKEN_PREFIX
ident
getSequenceNumber
DelegationTokenInformation
dtInfo
getTokenInfoFromZK
String
nodeRemovePath
getNodePath
ZK_DTSM_TOKENS_ROOT
DELEGATION_TOKEN_PREFIX
ident
getSequenceNumber
DelegationTokenInformation
dtInfo
getTokenInfoFromZK
LOG
info
debug
zkClient
delete
guaranteed
forPath
String
nodeCreatePath
getNodePath
ZK_DTSM_TOKENS_ROOT
DELEGATION_TOKEN_PREFIX
ident
getSequenceNumber
write
tokenOut
writeLong
info
getRenewDate
writeInt
getPassword
length
Preconditions
checkNotNull
url
token
Map
String
extraParams
HashMap
org
apache
hadoop
security
Token
TokenIdentifier
dToken
Preconditions
checkNotNull
url
token
Map
String
extraParams
HashMap
org
apache
hadoop
security
Token
TokenIdentifier
dToken
LOG
debug
doAs
Credentials
creds
UserGroupInformation
getCurrentUser
getCredentials
InetSocketAddress
serviceAddr
url
getHost
getPort
Text
service
SecurityUtil
buildTokenService
org
apache
hadoop
security
token
Token
TokenIdentifier
dToken
creds
getToken
AuthenticationToken
authToken
request
getUserPrincipal
ugi
UserGroupInformation
getAttribute
DelegationTokenAuthenticationHandler
DELEGATION_TOKEN_UGI_ATTRIBUTE
String
realUser
getName
createRemoteUser
handlerAuthMethod
doAsUser
getDoAs
createProxyUser
ProxyUsers
authorize
getRemoteAddr
HttpExceptionUtils
createServletExceptionResponse
response
HttpServletResponse
SC_FORBIDDEN
ex
requestCompleted
AuthenticationToken
token
String
delegationParam
getDelegationToken
request
String
delegationParam
getDelegationToken
request
LOG
debug
Token
AbstractDelegationTokenIdentifier
dt
decodeFromUrlString
UserGroupInformation
ugi
tokenManager
verifyToken
shortName
getShortUserName
token
AuthenticationToken
getUserName
getType
setExpires
setAttribute
DELEGATION_TOKEN_UGI_ATTRIBUTE
HttpExceptionUtils
createServletExceptionResponse
response
HttpServletResponse
SC_FORBIDDEN
AuthenticationException
ex
UserGroupInformation
getCurrentUser
checkTGTAndReloginFromKeytab
List
Service
services
getServices
List
Service
services
getServices
numOfServicesToStop
serviceList
size
Exception
firstException
List
Service
services
getServices
service
get
i
LOG
debug
getName
args
size
LOG
error
thread
toString
exception
System
err
println
ExitUtil
haltOnOutOfMemory
OutOfMemoryError
ExitException
ee
ServiceLauncher
convertToExitException
terminate
status
signalCount
incrementAndGet
InterruptData
data
s
getName
getNumber
exitCode
exitException
getExitCode
List
String
toCreate
getConfigurationsToCreate
loaded
Class
loadClass
getClassLoader
classname
Object
instance
getConstructor
newInstance
ExitUtil
ExitException
EXIT_SERVICE_CREATION_FAILURE
LOG
debug
e
ExitUtil
ExitException
exitException
exitCode
coreServiceLaunch
conf
instance
processedArgs
addShutdownHook
execute
Throwable
failure
service
getFailureCause
Service
STATE
failureState
getFailureState
Throwable
failure
service
getFailureCause
Service
STATE
failureState
getFailureState
LOG
debug
String
name
getServiceName
exitException
ServiceLaunchException
exitCode
ee
LOG
debug
name
launchableService
LaunchableService
service
warn
Configuration
newconf
bindArgs
configuration
processedArgs
init
exitCode
start
EXIT_SUCCESS
String
text
message
argString
append
arg
LOG
debug
String
argArray
args
toArray
size
GenericOptionsParser
parser
createGenericOptionsParser
conf
ServiceLaunchException
EXIT_COMMAND_ARGUMENT_ERROR
E_PARSE_FAILED
CommandLine
line
getCommandLine
List
remainingArgs
Arrays
asList
getRemainingArgs
filenames
getOptionValues
ARG_CONF
verifyConfigurationFilesExist
File
file
filename
usage
String
hostPort
StringUtils
popOptionWithArgument
args
System
err
println
servicePrincipal
SpanReceiver
receivers
TracerPool
getGlobalTracerPool
getReceivers
removeAndCloseReceiver
receiver
URL
url
findResource
name
LOG
debug
name
Class
c
findLoadedClass
ClassNotFoundException
ex
findClass
e
toString
parent
loadClass
BlockingQueue
Runnable
workQueue
LinkedBlockingQueue
waitingTasks
activeTasks
status
ee
getExitCode
String
msg
getMessage
status
ee
getExitCode
String
msg
getMessage
LOG
debug
status
ee
getExitCode
String
msg
getMessage
status
ee
getExitCode
String
msg
getMessage
LOG
debug
File
file
fileName
List
String
lines
ArrayList
line
add
LOG
debug
size
toArray
DocumentBuilder
db
builder
newDocumentBuilder
dom
parse
fileInputStream
Element
doc
getDocumentElement
NodeList
nodes
getElementsByTagName
Node
node
item
i
e
String
v
readFirstTagValue
hosts
StringUtils
getTrimmedStrings
str
Integer
timeout
parseInt
map
put
host
dom
db
parse
fileInputStream
Element
doc
getDocumentElement
NodeList
nodes
getElementsByTagName
Node
node
item
i
e
String
v
readFirstTagValue
hosts
StringUtils
getTrimmedStrings
str
Integer
timeout
parseInt
map
put
host
LOG
info
type
filename
LOG
info
includesFile
HadoopIllegalArgumentException
percentage
maxMemory
String
vmBit
System
getProperty
percentDivisor
percentMemory
e1
Math
log
e2
equals
exponent
c
LOG
info
mapName
HadoopIllegalArgumentException
percentage
maxMemory
String
vmBit
System
getProperty
percentDivisor
percentMemory
e1
Math
log
e2
equals
exponent
c
LOG
info
mapName
HadoopIllegalArgumentException
percentage
maxMemory
String
vmBit
System
getProperty
percentDivisor
percentMemory
e1
Math
log
e2
equals
exponent
c
LOG
info
mapName
StringUtils
TraditionalBinaryPrefix
long2String
ShellCommandExecutor
shexec
setsidSupported
String
args
execute
LOG
debug
EXECUTOR
shutdown
shutdownTimeout
getShutdownTimeout
conf
IllegalStateException
registered
StringBuilder
bld
append
String
SIGNALS
separator
Handler
signalName
LOG
debug
e
String
hostname
NetUtils
getHostname
classname
clazz
getSimpleName
executorService
shutdown
logger
debug
timeout
unit
shutdownNow
error
e
warn
getMessage
LOG
info
CLITestData
td
testsFromConfigFile
get
i
testResult
getTestResult
LOG
info
CLITestData
td
testsFromConfigFile
get
i
testResult
getTestResult
getTestDesc
ArrayList
CLICommand
testCommands
getTestCommands
LOG
info
CLITestData
td
testsFromConfigFile
get
i
testResult
getTestResult
getTestDesc
ArrayList
CLICommand
testCommands
getTestCommands
expandCommand
cmd
getCmd
cleanupCommands
getCleanupCommands
LOG
info
i
td
getTestDesc
ArrayList
CLICommand
testCommands
getTestCommands
expandCommand
cmd
getCmd
cleanupCommands
getCleanupCommands
ComparatorData
compdata
getComparatorData
resultBoolean
cd
getTestResult
LOG
info
i
td
getTestDesc
ArrayList
CLICommand
testCommands
getTestCommands
expandCommand
cmd
getCmd
cleanupCommands
getCleanupCommands
ComparatorData
compdata
getComparatorData
resultBoolean
cd
getTestResult
getComparatorType
LOG
info
td
getTestDesc
ArrayList
CLICommand
testCommands
getTestCommands
expandCommand
cmd
getCmd
cleanupCommands
getCleanupCommands
ComparatorData
compdata
getComparatorData
resultBoolean
cd
getTestResult
getComparatorType
LOG
info
ArrayList
CLICommand
testCommands
td
getTestCommands
expandCommand
cmd
getCmd
cleanupCommands
getCleanupCommands
ComparatorData
compdata
getComparatorData
resultBoolean
cd
getTestResult
getComparatorType
getExpectedOutput
overallResults
totalPass
totalFail
totalComparators
CLITestData
td
testsFromConfigFile
get
i
getComparatorData
size
resultBoolean
getTestResult
LOG
info
testMode
totalPass
totalFail
totalComparators
CLITestData
td
testsFromConfigFile
get
i
getComparatorData
size
resultBoolean
getTestResult
overallResults
LOG
info
testMode
totalComparators
CLITestData
td
testsFromConfigFile
get
i
getComparatorData
size
resultBoolean
getTestResult
totalPass
totalFail
overallResults
LOG
info
testMode
LOG
info
totalPass
totalFail
totalComparators
i
foundTests
resultBoolean
testsFromConfigFile
get
getTestResult
getTestDesc
fields
HashMap
String
retVal
propRegex
Pattern
p
compile
value
LOG_CONFIG
debug
value
endsWith
skipPrefix
Matcher
m
p
matcher
Configuration
conf
setAllowNullValueProperties
addResource
filename
HashMap
String
retVal
Iterator
Map
Entry
kvItr
iterator
entry
next
key
getKey
LOG_XML
debug
Configuration
conf
setAllowNullValueProperties
addResource
filename
HashMap
String
retVal
Iterator
Map
Entry
kvItr
iterator
entry
next
key
getKey
LOG_XML
debug
Iterator
Map
Entry
String
kvItr
conf
iterator
entry
next
key
getKey
LOG_XML
debug
retVal
put
shValue
f
get
retVal
put
getName
Integer
toString
iValue
lValue
Long
fValue
Float
dValue
Double
retVal
put
f
getName
Integer
toString
shValue
iValue
get
lValue
Long
fValue
Float
dValue
Double
bValue
assertNotNull
xmlFilename
configurationClasses
missingXmlSize
configurationFieldsMissingInXmlFile
size
assertNotNull
xmlFilename
configurationClasses
missingXmlSize
configurationFieldsMissingInXmlFile
size
LOG
info
c
toString
configurationMemberVariables
StringBuilder
xmlErrorMsg
append
sb
append
assertNotNull
xmlFilename
configurationClasses
missingConfigSize
xmlFieldsMissingInConfiguration
size
assertNotNull
xmlFilename
configurationClasses
missingConfigSize
xmlFieldsMissingInConfiguration
size
LOG
info
xmlKeyValueMap
StringBuilder
configErrorMsg
append
Arrays
stream
forEach
c
defaultConfigName
defaultNameCheck3
defaultConfigValue
defaultValueCheck3
xmlPropertiesWithEmptyValue
add
xmlProperty
HashMap
String
xmlEntry
put
xmlDefaultValue
configEntry
mismatchingXmlConfig
xmlPropertiesMatchingConfigDefault
HashMap
String
xmlEntry
put
xmlProperty
xmlDefaultValue
configEntry
defaultConfigName
defaultConfigValue
mismatchingXmlConfig
xmlPropertiesMatchingConfigDefault
configPropertiesWithNoDefaultConfig
add
configProperty
LOG
info
xmlFilename
size
mismatchingXmlConfig
put
xmlEntry
configEntry
xmlPropertiesMatchingConfigDefault
xmlProperty
defaultConfigName
configPropertiesWithNoDefaultConfig
add
configProperty
LOG
info
xmlFilename
size
key
value
configPropertiesWithNoDefaultConfig
add
configProperty
LOG
info
xmlFilename
mismatchingXmlConfig
size
key
value
RandomDatum
key
generator
getKey
value
getValue
write
data
LOG
info
count
DataOutputBuffer
encryptedDataBuffer
CryptoOutputStream
out
encCodec
bufferSize
iv
getData
getLength
flush
close
CryptoCodec
decCodec
ReflectionUtils
newInstance
conf
getClassByName
decCodecClass
size
valueQueue
getSize
queueName
Path
testRoot
fileContextTestHelper
getAbsoluteTestRootPath
fc
Path
p
pathString
makeQualified
fs
getUri
getTestBaseDir
Iterator
LongStatistic
iter
storageStatistics
getLongStatistics
longStat
next
assertNotNull
expectedStat
getStatisticsValue
getName
expectedStat
getStatisticsValue
key
storageStat
storageStatistics
getLong
errors
MustNotImplement
getMethod
m
getName
getParameterTypes
FilterFileSystem
getDeclaredMethod
LOG
error
Modifier
isStatic
m
getModifiers
isPrivate
isFinal
DontCheck
getMethod
getName
getParameterTypes
exitCode
shell
run
args
shell
setConf
conf
String
args
res
run
System
out
println
ByteArrayOutputStream
bytes
PrintStream
oldErr
err
setErr
results
toString
exitCode
shell
run
args
errors
MustNotImplement
getMethod
m
getName
getParameterTypes
HarFileSystem
getDeclaredMethod
LOG
error
assumeNotWindows
Configuration
conf
set
CommonConfigurationKeys
FS_PERMISSIONS_UMASK_KEY
LocalFileSystem
localfs
FileSystem
getLocal
String
filename
Path
f
writeFile
List
groups
getGroups
assumeNotWindows
LocalFileSystem
localfs
FileSystem
getLocal
Configuration
conf
getConf
set
CommonConfigurationKeys
FS_PERMISSIONS_UMASK_KEY
String
testFilename
Path
path
testDir
RawLocalFileSystem
rfs
Configuration
conf
initialize
getUri
createNewFile
File
file
pathToFile
defaultBlockSize
getDefaultBlockSize
DeprecatedRawLocalFileStatus
fsNIO
loadPermissionInfoByNativeIO
fsnonNIO
loadPermissionInfoByNonNativeIO
assertEquals
getOwner
getGroup
getPermission
ContractTestUtils
NanoTimer
timer2
Assertions
assertThat
digest
file
describedAs
isEqualTo
origDigest
end
MessageDigest
digest1
DigestUtils
getMd5Digest
update
payload1
UploadHandle
upload1
startUpload
file
Map
Integer
PartHandle
partHandles1
HashMap
size2
size1
partId2
payload2
generatePayload
partId1
digest2
upload2
Assume
assumeTrue
concurrent
skipIfUnsupported
TEST_ROOT_TESTS_ENABLED
Path
root
assertIsDirectory
deleted
getFileSystem
delete
skipIfUnsupported
TEST_ROOT_TESTS_ENABLED
Path
root
assertIsDirectory
FileSystem
fs
getFileSystem
AtomicInteger
iterations
FileStatus
originalChildren
listChildren
deleted
deleteChildren
children
fail
String
format
incrementAndGet
dumpStats
delete
skipIfUnsupported
TEST_ROOT_TESTS_ENABLED
Path
root
assertIsDirectory
file
ContractTestUtils
touch
getFileSystem
deleted
delete
Thread
currentThread
setName
LOG
debug
contract
createContract
createConfiguration
init
assumeEnabled
fileSystem
getTestFileSystem
assertNotNull
URI
fsURI
getUri
LOG
debug
path
recursive
FileStatus
children
listChildren
fileSystem
TreeScanResults
dirsAndFiles
FileStatus
statuses
fs
listStatus
path
barrier
DFSClientThread
threads
numOfThreads
i
start
Thread
sleep
totalTime
shouldRun
durations
currentIndex
ViewFileSystem
viewfs
fsView
MountPoint
mountPoints
getMountPoints
Path
actualMountLinkTarget
fsView
getLinkTarget
mountTargetSymLinkPath
assertEquals
expectedMountLinkTarget
String
relativeFileName
targetFileName
link2FileName
relTargetFile
targetTestRoot
relativeSymLink
fsTarget
createSymlink
mountTargetRelativeSymLinkPath
mountTargetRootPath
expectedMountRelLinkTarget
makeQualified
actualMountRelLinkTarget
fail
fsTarget
createSymlink
relTargetFile
relativeSymLink
Path
mountTargetRelativeSymLinkPath
mountTargetRootPath
link2FileName
expectedMountRelLinkTarget
makeQualified
targetTestRoot
relativeFileName
actualMountRelLinkTarget
fsView
getLinkTarget
assertEquals
fail
LOG
info
e
assertThat
getMessage
containsString
targetFileName
fsView
getLinkTarget
Path
fail
LOG
info
e
assertThat
getMessage
containsString
makeQualified
mountTargetRootPath
targetFileName
Stat
stat
data
zks
getZKDatabase
getData
DummyZKFC
LOCK_ZNODE
assertArrayEquals
Ints
toByteArray
svcs
get
idx
index
session
getEphemeralOwner
errOutBytes
reset
outBytes
LOG
info
Joiner
on
join
args
ret
tool
run
errOutput
String
toByteArray
Charsets
UTF_8
output
cluster
start
st
Time
now
runFor
STRESS_RUNTIME_SECS
i
from
to
cluster
start
st
Time
now
runFor
STRESS_RUNTIME_SECS
Random
r
getTestContext
checkException
targetIdx
nextInt
ActiveStandbyElector
target
getElector
sessId
getZKSessionIdForTests
Configuration
conf
setInt
HttpServer2
HTTP_MAX_THREADS_KEY
MAX_THREADS
server
createTestServer
addServlet
EchoServlet
EchoMapServlet
HtmlContentServlet
LongHeaderServlet
addJerseyResourcePackage
JerseyResource
getPackage
getName
start
baseUrl
getServerURL
LOG
info
String
js
readOutput
URL
baseUrl
Map
Object
m
parse
server
createTestServer
conf
addJerseyResourcePackage
JerseyResource
getPackage
getName
start
baseUrl
getServerURL
turnOnSSLDebugLogging
storeHttpsCipherSuites
Configuration
conf
setInt
HttpServer2
HTTP_MAX_THREADS_KEY
File
base
BASEDIR
FileUtil
fullyDelete
mkdirs
keystoreDir
getAbsolutePath
sslConfDir
KeyStoreTestUtil
getClasspathDir
TestSSLHttpServer
setupSSLConfig
EXCLUDED_CIPHERS
sslConf
getSslConfig
clientSslFactory
SSLFactory
Mode
CLIENT
init
setupServer
baseUrl
URL
NetUtils
getHostPortString
server
getConnectorAddress
String
cipherSuites
System
getProperty
HTTPS_CIPHER_SUITES_KEY
HttpsURLConnection
conn
url
openConnection
SSLSocketFactory
sslSocketFactory
clientSslFactory
createSSLSocketFactory
HttpsURLConnection
conn
url
openConnection
SSLSocketFactory
sslSocketFactory
clientSslFactory
createSSLSocketFactory
Configuration
conf
MapFile
delete
fs
file
RandomDatum
v
RandomDatum
v
LOG
debug
data
length
ArrayFile
Reader
reader
fs
file
conf
get
i
RuntimeException
Path
fpath
FileSystem
fs
count
Integer
parseInt
args
i
create
check
file
FileSystem
fs
count
Integer
parseInt
args
i
create
check
file
fpath
Path
getFileSystem
conf
count
Integer
parseInt
args
i
create
check
file
fpath
Path
fs
getFileSystem
conf
LOG
info
count
Integer
parseInt
args
i
create
check
file
fpath
Path
fs
getFileSystem
conf
LOG
info
conf
set
LOG
info
Integer
testInt
valueOf
DefaultStringifier
stringifier
String
str
toString
claimedInt
fromString
count
megabytes
factor
Path
file
GenericTestUtils
getTempPath
recordCompressedFile
blockCompressedFile
seed
Random
nextInt
fs
delete
file
RandomDatum
key
generator
getKey
value
getValue
rawKey
reset
reader
nextRaw
rawValue
next
k
getCurrentValue
v
equals
RuntimeException
i
RandomDatum
value
generator
getValue
rawKey
reset
reader
nextRaw
rawValue
next
k
getCurrentValue
v
equals
key
RuntimeException
i
LOG
info
rawKey
reset
reader
nextRaw
rawValue
next
k
getCurrentValue
v
equals
key
RuntimeException
i
value
LOG
info
rawKey
reset
reader
nextRaw
rawValue
next
k
getCurrentValue
v
equals
key
RuntimeException
i
value
LOG
info
getLength
rawKey
reset
reader
nextRaw
rawValue
next
k
getCurrentValue
v
equals
key
RuntimeException
i
value
LOG
info
getLength
reader
nextRaw
rawKey
rawValue
next
k
getCurrentValue
v
equals
key
RuntimeException
i
value
LOG
info
getLength
reader
next
k
getCurrentValue
v
equals
key
RuntimeException
i
value
LOG
info
getLength
reader
next
k
getCurrentValue
v
equals
key
RuntimeException
i
value
LOG
info
getLength
reader
next
k
getCurrentValue
v
equals
key
RuntimeException
i
value
LOG
info
getLength
reader
next
k
getCurrentValue
v
equals
key
RuntimeException
i
value
LOG
info
getLength
reader
getCurrentValue
v
next
k
equals
key
RuntimeException
i
value
LOG
info
getLength
fs
delete
Path
file
SequenceFile
Sorter
sorter
newSorter
fast
megabytes
factor
fs
delete
Path
file
SequenceFile
Sorter
sorter
newSorter
fast
megabytes
factor
LOG
debug
count
sort
suffix
RandomDatum
value
generator
getValue
map
put
key
LOG
debug
count
k
v
Iterator
Map
Entry
iterator
entrySet
SequenceFile
Reader
reader
fs
file
suffix
conf
entry
next
getKey
equals
RuntimeException
i
close
Path
file
GenericTestUtils
getTempPath
sortedFile
recordCompressedFile
blockCompressedFile
FileSystem
fs
getLocal
conf
SequenceFile
Metadata
theMetadata
set
Text
seed
Random
nextInt
writeMetadataTest
count
CompressionType
NONE
aMetadata
readMetadata
Path
sortedFile
GenericTestUtils
getTempPath
recordCompressedFile
blockCompressedFile
FileSystem
fs
getLocal
conf
SequenceFile
Metadata
theMetadata
set
Text
seed
Random
nextInt
writeMetadataTest
count
file
CompressionType
NONE
aMetadata
readMetadata
LOG
info
toString
theMetadata
set
Text
seed
Random
nextInt
writeMetadataTest
fs
count
file
CompressionType
NONE
SequenceFile
Metadata
aMetadata
readMetadata
LOG
info
toString
RuntimeException
recordCompressedFile
RECORD
codec
theMetadata
set
Text
seed
Random
nextInt
writeMetadataTest
fs
count
file
CompressionType
NONE
SequenceFile
Metadata
aMetadata
readMetadata
LOG
info
toString
RuntimeException
recordCompressedFile
RECORD
codec
writeMetadataTest
fs
count
seed
file
CompressionType
NONE
theMetadata
SequenceFile
Metadata
aMetadata
readMetadata
LOG
info
toString
RuntimeException
recordCompressedFile
RECORD
codec
blockCompressedFile
BLOCK
SequenceFile
Metadata
aMetadata
readMetadata
fs
file
LOG
info
theMetadata
toString
RuntimeException
writeMetadataTest
count
seed
recordCompressedFile
CompressionType
RECORD
codec
blockCompressedFile
BLOCK
writeMetadataTest
fs
count
seed
recordCompressedFile
CompressionType
RECORD
codec
theMetadata
aMetadata
readMetadata
LOG
info
toString
RuntimeException
blockCompressedFile
BLOCK
sortMetadataTest
file
sortedFile
writeMetadataTest
fs
count
seed
recordCompressedFile
CompressionType
RECORD
codec
theMetadata
aMetadata
readMetadata
LOG
info
toString
RuntimeException
blockCompressedFile
BLOCK
sortMetadataTest
file
sortedFile
fs
delete
file
fs
delete
sortedFile
rwonly
create
check
fast
merge
compressType
args
i
compressionCodec
create
check
fast
merge
compressType
args
i
compressionCodec
file
Path
TestSequenceFile
test
create
check
fast
merge
compressType
args
i
compressionCodec
file
Path
TestSequenceFile
test
fs
getFileSystem
conf
check
fast
merge
compressType
args
i
compressionCodec
file
Path
TestSequenceFile
test
fs
getFileSystem
conf
LOG
info
count
check
fast
merge
compressType
args
i
compressionCodec
file
Path
TestSequenceFile
test
fs
getFileSystem
conf
LOG
info
count
check
fast
merge
compressType
args
i
compressionCodec
file
Path
TestSequenceFile
test
fs
getFileSystem
conf
LOG
info
count
megabytes
fast
merge
compressType
args
i
compressionCodec
file
Path
TestSequenceFile
test
fs
getFileSystem
conf
LOG
info
count
megabytes
factor
MapFile
delete
fs
file
RandomDatum
v
sample
Math
sqrt
data
length
Random
random
count
Integer
parseInt
args
i
create
check
compress
file
fpath
Path
count
Integer
parseInt
args
i
create
check
compress
file
fpath
Path
fs
getFileSystem
conf
count
Integer
parseInt
args
i
create
check
compress
file
fpath
Path
fs
getFileSystem
conf
LOG
info
count
Integer
parseInt
args
i
create
check
compress
file
fpath
Path
fs
getFileSystem
conf
LOG
info
count
Integer
parseInt
args
i
create
check
compress
file
fpath
Path
fs
getFileSystem
conf
LOG
info
DataOutputBuffer
buf
DataInputBuffer
inbuf
WritableUtils
writeVInt
val
DataOutputBuffer
buf
DataInputBuffer
inbuf
WritableUtils
writeVInt
val
LOG
debug
BytesWritable
printer
set
getData
getLength
DEFLBYTES
Configuration
conf
Random
rand
seed
nextLong
FileSystem
fs
get
conf
FileSystem
fs
get
conf
LOG
info
records
clazz
getSimpleName
Path
path
GenericTestUtils
getTempPath
type
Random
r
seed
nextLong
setSeed
Random
r
seed
nextLong
setSeed
deflateFilter
write
data
getData
getLength
finish
flush
LOG
info
DataInputBuffer
deCompressedDataBuffer
reset
compressedDataBuffer
CompressionInputStream
inflateFilter
codec
createInputStream
DataInputStream
inflateIn
BufferedInputStream
RandomDatum
k1
v1
readFields
originalIn
k2
v2
Random
r
seed
nextLong
BYTE_SIZE
bytes
BytesGenerator
get
SnappyCompressor
compressor
setInput
length
assertTrue
getBytesRead
assertEquals
getBytesWritten
maxSize
compressed
cSize
compress
BYTE_SIZE
bytes
BytesGenerator
get
SnappyCompressor
compressor
setInput
length
assertTrue
getBytesRead
assertEquals
getBytesWritten
maxSize
compressed
cSize
compress
LOG
info
FileOutputStream
fos
File
TEST_DIR
NativeIO
POSIX
Stat
stat
getFstat
getFD
close
NativeIO
POSIX
Stat
stat
getStat
testFilePath
String
owner
getOwner
group
getGroup
mode
getMode
expectedOwner
System
getProperty
assertEquals
assertNotNull
assertTrue
isEmpty
StatUtils
Permission
expected
getPermissionFromProcess
permission
FsPermission
getFsPermission
NativeIO
POSIX
Stat
stat
getStat
testFilePath
String
owner
getOwner
group
getGroup
mode
getMode
expectedOwner
System
getProperty
assertEquals
assertNotNull
assertTrue
isEmpty
StatUtils
Permission
expected
getPermissionFromProcess
permission
FsPermission
getFsPermission
LOG
info
assumeNotWindows
LOG
info
FileDescriptor
fd
NativeIO
POSIX
open
File
TEST_DIR
getAbsolutePath
O_WRONLY
O_CREAT
assertNotNull
assertTrue
valid
FileOutputStream
fos
write
getBytes
close
assertFalse
O_EXCL
fail
assumeTrue
NativeIO
POSIX
isPmdkAvailable
String
filePath
length
volumnSize
Pmem
mapBlock
fail
LOG
info
e
getMessage
assumeNotWindows
assumeTrue
NativeIO
POSIX
isPmdkAvailable
String
filePath
length
volumnSize
fileNumber
assumeNotWindows
assumeTrue
NativeIO
POSIX
isPmdkAvailable
String
filePath
length
volumnSize
fileNumber
LOG
info
path
i
assumeTrue
NativeIO
POSIX
isPmdkAvailable
String
filePath
length
volumnSize
fileNumber
LOG
info
path
i
Pmem
mapBlock
fail
assumeNotWindows
assumeTrue
NativeIO
POSIX
isPmdkAvailable
String
filePath
length
volumeSize
String
msg
StringUtils
stringifyException
t
assertTrue
substring
contains
SocketFactory
spyFactory
spy
NetUtils
getDefaultSocketFactory
conf
MockSocket
Server
server
TestServer
Client
client
LongWritable
start
InetSocketAddress
address
getConnectAddress
call
RANDOM
nextLong
fail
CountDownLatch
callFinishedLatch
clients
TestServerQueue
server
readers
callQ
handlers
conf
CallQueueManager
Call
spy
Whitebox
getInternalState
setInternalState
InetSocketAddress
addr
NetUtils
getConnectAddress
start
Client
setConnectTimeout
Thread
threads
client
LongWritable
call
currentThread
getId
callFinishedLatch
countDown
client
stop
threads
i
start
server
firstCallLatch
await
verify
spy
timeout
times
put
any
getNumOpenConnections
initialClients
server
getNumOpenConnections
initialClients
fail
LOG
info
assertEquals
callQ
getCallQueueLen
threads
i
start
Thread
sleep
CountDownLatch
allCallLatch
clients
AtomicBoolean
error
TestServer
server
Thread
threads
first
countDown
firstCallBarrier
await
callBarrier
Configuration
conf
TestProtoBufRpcServerHandoffServer
serverImpl
BlockingService
blockingService
TestProtobufRpcHandoffProto
newReflectiveBlockingService
RPC
setProtocolEngine
TestProtoBufRpcServerHandoffProtocol
ProtobufRpcEngine2
Server
server
Builder
setProtocol
setInstance
setVerbose
setNumHandlers
build
start
InetSocketAddress
address
getListenerAddress
serverStartTime
System
currentTimeMillis
RPC
Server
server
Builder
conf
setProtocol
TestProtoBufRpcServerHandoffProtocol
setInstance
blockingService
setVerbose
setNumHandlers
build
start
InetSocketAddress
address
getListenerAddress
serverStartTime
System
currentTimeMillis
LOG
info
client
getProxy
ExecutorService
executorService
Executors
newFixedThreadPool
CompletionService
ClientInvocationCallable
completionService
ExecutorCompletionService
submit
submitTime
Future
future1
take
future2
callable1
get
callable2
server
start
InetSocketAddress
address
getListenerAddress
serverStartTime
System
currentTimeMillis
LOG
info
TestProtoBufRpcServerHandoffProtocol
client
RPC
getProxy
conf
ExecutorService
executorService
Executors
newFixedThreadPool
CompletionService
ClientInvocationCallable
completionService
ExecutorCompletionService
submit
submitTime
Future
future1
take
future2
callable1
get
callable2
toString
echoRequest2
TestProtos
EchoRequestProto2
newBuilder
addAllMessage
Collections
String
emptyList
build
echoResponse2
proxy
echo2
assertTrue
Arrays
equals
getMessageList
toArray
AddRequestProto
addRequest
setParam1
setParam2
AddResponseProto
addResponse
add
assertThat
getResult
isEqualTo
Integer
integers
AddRequestProto2
addRequest2
addAllParams
asList
add2
caught
error
newEmptyRequest
Server
server
TestRpcService
proxy
Configuration
serverConf
conf
SecurityUtil
setAuthenticationMethod
AuthenticationMethod
KERBEROS
UserGroupInformation
setConfiguration
setupTestServer
succeeded
getClient
addr
echo
newEchoRequest
assertTrue
e
getCause
RemoteException
re
assertTrue
re
unwrapRemoteException
AccessControlException
succeeded
stop
server
proxy
conf
setInt
CommonConfigurationKeys
IPC_SERVER_RPC_READ_THREADS_KEY
UserGroupInformation
setConfiguration
serverConf
setupTestServer
getClient
addr
echo
newEchoRequest
verify
spy
timeout
times
i
addInternal
any
eq
proxy
sleep
newSleepRequest
RemoteException
re
e
getCause
IOException
unwrapExeption
unwrapRemoteException
succeeded
lastException
executorService
shutdown
stop
server
verify
spy
timeout
times
i
addInternal
any
eq
Thread
sleep
proxy
newSleepRequest
RemoteException
re
e
getCause
IOException
unwrapExeption
unwrapRemoteException
succeeded
lastException
executorService
shutdown
stop
server
beginRawCallVolume
MetricsAsserts
getLongCounter
rb1
beginUniqueCaller
getIntCounter
TestRpcService
proxy
getClient
addr
conf
sleep
newSleepRequest
MetricsRecordBuilder
rb2
getMetrics
ns
decayedCallVolume1
rawCallVolume1
uniqueCaller1
callVolumePriority0
getLongGauge
callVolumePriority1
avgRespTimePriority0
getDoubleGauge
avgRespTimePriority1
beginUniqueCaller
MetricsAsserts
getIntCounter
rb1
TestRpcService
proxy
getClient
addr
conf
sleep
newSleepRequest
MetricsRecordBuilder
rb2
getMetrics
ns
decayedCallVolume1
getLongCounter
rawCallVolume1
uniqueCaller1
callVolumePriority0
getLongGauge
callVolumePriority1
avgRespTimePriority0
getDoubleGauge
avgRespTimePriority1
LOG
info
TestRpcService
proxy
getClient
addr
conf
sleep
newSleepRequest
MetricsRecordBuilder
rb2
getMetrics
ns
decayedCallVolume1
MetricsAsserts
getLongCounter
rawCallVolume1
uniqueCaller1
getIntCounter
callVolumePriority0
getLongGauge
callVolumePriority1
avgRespTimePriority0
getDoubleGauge
avgRespTimePriority1
LOG
info
proxy
sleep
newSleepRequest
MetricsRecordBuilder
rb2
getMetrics
ns
decayedCallVolume1
MetricsAsserts
getLongCounter
rawCallVolume1
uniqueCaller1
getIntCounter
callVolumePriority0
getLongGauge
callVolumePriority1
avgRespTimePriority0
getDoubleGauge
avgRespTimePriority1
LOG
info
proxy
sleep
newSleepRequest
MetricsRecordBuilder
rb2
getMetrics
ns
decayedCallVolume1
MetricsAsserts
getLongCounter
rawCallVolume1
uniqueCaller1
getIntCounter
callVolumePriority0
getLongGauge
callVolumePriority1
avgRespTimePriority0
getDoubleGauge
avgRespTimePriority1
LOG
info
proxy
sleep
newSleepRequest
MetricsRecordBuilder
rb2
getMetrics
ns
decayedCallVolume1
MetricsAsserts
getLongCounter
rawCallVolume1
uniqueCaller1
getIntCounter
callVolumePriority0
getLongGauge
callVolumePriority1
avgRespTimePriority0
getDoubleGauge
avgRespTimePriority1
LOG
info
MetricsRecordBuilder
rb2
getMetrics
ns
decayedCallVolume1
MetricsAsserts
getLongCounter
rawCallVolume1
uniqueCaller1
getIntCounter
callVolumePriority0
getLongGauge
callVolumePriority1
avgRespTimePriority0
getDoubleGauge
avgRespTimePriority1
LOG
info
proxy
getClient
addr
c
sleep
newSleepRequest
fail
assertTrue
e
getCause
SocketTimeoutException
LOG
info
Configuration
conf
setBoolean
CommonConfigurationKeys
IPC_CLIENT_PING_KEY
setInt
IPC_CLIENT_RPC_TIMEOUT_KEY
Configuration
c
conf
setBoolean
CommonConfigurationKeys
IPC_CLIENT_PING_KEY
setInt
IPC_CLIENT_RPC_TIMEOUT_KEY
proxy
getClient
addr
sleep
newSleepRequest
fail
assertTrue
e
getCause
SocketTimeoutException
LOG
info
LOG
info
e
Configuration
c
conf
setInt
CommonConfigurationKeys
IPC_CLIENT_RPC_TIMEOUT_KEY
proxy
getClient
addr
sleep
newSleepRequest
fail
setBoolean
IPC_CLIENT_PING_KEY
IPC_PING_INTERVAL_KEY
proxy
sleep
newSleepRequest
LOG
info
e
fail
Configuration
c
conf
setBoolean
CommonConfigurationKeys
IPC_CLIENT_PING_KEY
setInt
IPC_PING_INTERVAL_KEY
IPC_CLIENT_RPC_TIMEOUT_KEY
getClient
addr
RpcStatusProto
FATAL
RPC
Builder
builder
newServerBuilder
conf
setQueueSizePerHandler
setNumHandlers
setVerbose
server
setupTestServer
Whitebox
setInternalState
FakeRequestClass
MutableCounterLong
authMetric
getInternalState
getRpcMetrics
proxy
getClient
addr
isDisconnected
Connection
lastConn
expectedAuths
String
reqName
i
Thread
sleep
stop
server
proxy
assertEquals
numClients
res
size
f
get
fail
ServiceException
se
e
getCause
assertTrue
IOException
String
expect
count
getAndIncrement
answer
convert
proxy
echoPostponed
newEchoRequest
assertEquals
futures
i
get
TimeUnit
MILLISECONDS
Assert
fail
sendPostponed
newEmptyRequest
UserGroupInformation
setConfiguration
clientConf
clientUgi
createRemoteUser
setAuthenticationMethod
clientAuth
InetSocketAddress
addr
NetUtils
getConnectAddress
server
TestTokenIdentifier
tokenId
Text
getUserName
Token
token
SecurityUtil
setTokenService
StringWriter
writer
Logger
logger
createLogger
String
filename
getTestFilename
ConfigBuilder
add
save
MetricsConfig
mc
create
MutableRatesWithAggregation
rates
n
opCount
opTotalTime
i
add
Thread
threads
CountDownLatch
firstAddsFinished
length
firstSnapshotsFinished
secondAddsFinished
secondSnapshotsFinished
seed
Random
nextLong
MetricsCache
cache
assertNull
get
Arrays
asList
makeTag
MetricsRecord
mr
makeRecord
makeMetric
update
Record
cr
tags
InetAddress
localhost
getLocalIPAddr
String
s
DNS
reverseDns
InetAddress
localhost
getByName
assertNotNull
assertNotNull
e
IOException
wrapped
NetUtils
wrapException
DEST_PORT
LOCAL_PORT
out
write
byteWithHighBit
doIO
TIMEOUT
in
read
readBytes
assertTrue
Arrays
equals
writeBytes
assertEquals
SocketInputStream
setTimeout
fail
StaticMapping
mapping
newInstance
addNodeToRack
List
String
queryList
createQueryList
resolved
resolve
assertEquals
size
get
NetworkTopology
DEFAULT_RACK
Map
switchMap
getSwitchMap
topology
dumpTopology
Configuration
conf
set
StaticMapping
KEY_HADOOP_CONFIGURED_NODE_MAPPING
mapping
setConf
assertSingleSwitch
List
String
l1
ArrayList
add
resolved
resolve
assertEquals
size
get
NetworkTopology
DEFAULT_RACK
Map
switchMap
getSwitchMap
topology
dumpTopology
StaticMapping
staticMapping
newInstance
assertSingleSwitch
CachedDNSToSwitchMapping
cachedMap
StaticMapping
staticMapping
newInstance
assertMultiSwitch
CachedDNSToSwitchMapping
cachedMap
DomainSocket
pair
socketpair
handled
incrementAndGet
lock
pairs
add
unlock
LOG
error
e
toString
RuntimeException
Random
random
lock
idx
nextInt
pairs
size
DomainSocket
pair
remove
DomainSocket
pair
socketpair
handled
incrementAndGet
lock
pairs
add
unlock
TimeUnit
MILLISECONDS
sleep
LOG
error
e
toString
RuntimeException
Random
random
lock
idx
nextInt
pairs
size
DomainSocket
pair
remove
close
ArrayList
String
ipList
Enumeration
NetworkInterface
netInterfaceList
getNetworkInterfaces
inf
nextElement
InetAddress
addrList
getInetAddresses
addr
add
getHostAddress
StringBuilder
builder
append
ip
getLocalHost
getCanonicalHostName
GenericTestUtils
setRootLogLevel
Level
DEBUG
Configuration
conf
set
CommonConfigurationKeys
HADOOP_SECURITY_GROUP_MAPPING
Groups
groups
String
username
System
getProperty
List
groupList
getGroups
GenericTestUtils
setRootLogLevel
Level
DEBUG
Configuration
conf
set
CommonConfigurationKeys
HADOOP_SECURITY_GROUP_MAPPING
Groups
groups
String
username
System
getProperty
List
groupList
getGroups
LOG
info
GenericTestUtils
setRootLogLevel
Level
DEBUG
Configuration
conf
set
CommonConfigurationKeys
HADOOP_SECURITY_GROUP_MAPPING
Groups
groups
String
username
System
getProperty
List
groupList
getGroups
LOG
info
GenericTestUtils
setRootLogLevel
Level
DEBUG
Configuration
conf
set
CommonConfigurationKeys
HADOOP_SECURITY_GROUP_MAPPING
Groups
groups
String
username
System
getProperty
List
groupList
getGroups
conf
setLong
CommonConfigurationKeys
HADOOP_SECURITY_GROUPS_NEGATIVE_CACHE_SECS
Groups
groups
cacheGroupsAdd
Arrays
asList
myGroups
refresh
FakeGroupMapping
clearBlackList
addToBlackList
assertTrue
getGroups
size
TESTLOG
error
toString
fail
ex
exec
conf
args
File
f
kdiag
ARG_KEYLEN
KEYLEN
ARG_KEYTAB
keytab
getAbsolutePath
ARG_PRINCIPAL
ARG_OUTPUT
ex
exec
conf
args
finLatch
await
e
printStackTrace
ldapServer
start
LdapGroupsMapping
mapping
String
ldapUrl
serverSock
getLocalPort
Configuration
conf
getBaseConf
setInt
CONNECTION_TIMEOUT
connectionTimeoutMs
setConf
doGetGroups
fail
clientSock
getOutputStream
write
AUTHENTICATE_SUCCESS_MSG
finLatch
await
e
printStackTrace
ldapServer
start
LdapGroupsMapping
mapping
String
ldapUrl
serverSock
getLocalPort
Configuration
conf
getBaseConf
setInt
READ_TIMEOUT
readTimeoutMs
setConf
doGetGroups
fail
RetryPolicy
rp
RetryPolicies
exponentialBackoffRetry
Long
SIZE
TimeUnit
MILLISECONDS
lastRetry
UserGroupInformation
getNextTgtRenewalTime
endTime
currentTime
assertWithinBounds
metrics
getRenewalFailures
value
reloginIntervalMs
incr
String
str
assertWithinBounds
UserGroupInformation
metrics
getRenewalFailures
value
lastRetry
reloginIntervalMs
currentTime
incr
getNextTgtRenewalTime
endTime
rp
String
str
LOG
info
assertEquals
shift
numFailures
lower
now
reloginIntervalMs
upper
String
str
lastRetry
SSLEngine
serverSSLEngine
serverSSLFactory
createSSLEngine
clientSSLEngine
clientSSLFactory
setEnabledCipherSuites
StringUtils
getTrimmedStrings
excludeCiphers
SSLSession
session
getSession
appBufferMax
getApplicationBufferSize
netBufferMax
getPacketBufferSize
ByteBuffer
clientOut
wrap
getBytes
clientIn
allocate
serverOut
serverIn
cTOs
allocateDirect
sTOc
dataDone
SSLEngine
clientSSLEngine
clientSSLFactory
createSSLEngine
setEnabledCipherSuites
StringUtils
getTrimmedStrings
excludeCiphers
SSLSession
session
getSession
appBufferMax
getApplicationBufferSize
netBufferMax
getPacketBufferSize
ByteBuffer
clientOut
wrap
getBytes
clientIn
allocate
serverOut
serverIn
cTOs
allocateDirect
sTOc
dataDone
LOG
info
appBufferMax
session
getApplicationBufferSize
netBufferMax
getPacketBufferSize
ByteBuffer
clientOut
wrap
getBytes
clientIn
allocate
serverOut
serverIn
cTOs
allocateDirect
sTOc
dataDone
LOG
info
clientSSLEngine
serverSSLEngine
flip
netBufferMax
session
getPacketBufferSize
ByteBuffer
clientOut
wrap
getBytes
clientIn
allocate
appBufferMax
serverOut
serverIn
cTOs
allocateDirect
sTOc
dataDone
LOG
info
clientSSLEngine
serverSSLEngine
flip
unwrap
LOG
debug
expected
Assert
assertEquals
STATE
NOTINITED
getServiceState
Preconditions
checkArgument
timeoutMillis
checkNotNull
timeoutHandler
endTime
Time
now
Throwable
ex
running
iterations
e
e
LOG
debug
iterations
ex
running
Time
now
endTime
sleeptime
retry
call
Thread
sleep
Throwable
evaluate
timeoutHandler
timeoutMillis
Logger
log
LoggerFactory
getLogger
TestGenericTestUtils
LogCapturer
logCapturer
captureLogs
String
infoMessage
Logger
log
LoggerFactory
getLogger
TestGenericTestUtils
LogCapturer
logCapturer
captureLogs
String
infoMessage
info
assertTrue
getOutput
endsWith
format
clearOutput
isEmpty
stopCapturing
Logger
logger
LoggerFactory
getLogger
TestGenericTestUtils
LogCapturer
logCapturer
captureLogs
String
infoMessage
Logger
logger
LoggerFactory
getLogger
TestGenericTestUtils
LogCapturer
logCapturer
captureLogs
String
infoMessage
info
assertTrue
getOutput
endsWith
format
clearOutput
isEmpty
stopCapturing
ByteArrayOutputStream
baos
PrintStream
out
FindClass
setOutputStreams
System
err
run
SUCCESS
A_PRINTRESOURCE
LOG4J_PROPERTIES
flush
String
body
toString
IdentityHashStore
Key
Integer
store
NUM_KEYS
LOG
trace
KMSWebApp
getAdminCallsMeter
mark
UserGroupInformation
user
HttpUserGroupInformation
get
String
name
jsonKey
KMSRESTConstants
NAME_FIELD
checkNotEmpty
assertAccess
KMSACLs
Type
CREATE
KMSOp
CREATE_KEY
cipher
CIPHER_FIELD
material
MATERIAL_FIELD
length
containsKey
LENGTH_FIELD
Integer
description
DESCRIPTION_FIELD
LOG
trace
KMSWebApp
getAdminCallsMeter
mark
UserGroupInformation
user
HttpUserGroupInformation
get
assertAccess
KMSACLs
Type
DELETE
KMSOp
DELETE_KEY
name
checkNotEmpty
KMSWebApp
getAdminCallsMeter
mark
UserGroupInformation
user
HttpUserGroupInformation
get
assertAccess
KMSACLs
Type
DELETE
KMSOp
DELETE_KEY
name
checkNotEmpty
LOG
debug
provider
deleteKey
flush
kmsAudit
ok
trace
Response
build
LOG
trace
KMSWebApp
getAdminCallsMeter
mark
UserGroupInformation
user
HttpUserGroupInformation
get
assertAccess
KMSACLs
Type
ROLLOVER
KMSOp
ROLL_NEW_VERSION
name
checkNotEmpty
assertAccess
KMSACLs
Type
SET_KEY_MATERIAL
user
KMSOp
ROLL_NEW_VERSION
name
KeyVersion
keyVersion
material
provider
rollNewVersion
Base64
decodeBase64
flush
kmsAudit
ok
getVersionName
removeKeyMaterial
Map
json
KMSUtil
toJSON
LOG
trace
Response
type
MediaType
APPLICATION_JSON
entity
build
LOG
trace
KMSWebApp
getAdminCallsMeter
mark
checkNotEmpty
name
UserGroupInformation
user
HttpUserGroupInformation
get
assertAccess
KMSACLs
Type
ROLLOVER
KMSOp
INVALIDATE_CACHE
KMSWebApp
getAdminCallsMeter
mark
checkNotEmpty
name
UserGroupInformation
user
HttpUserGroupInformation
get
assertAccess
KMSACLs
Type
ROLLOVER
KMSOp
INVALIDATE_CACHE
LOG
debug
provider
invalidateCache
flush
kmsAudit
ok
trace
Response
build
LOG
trace
KMSWebApp
getAdminCallsMeter
mark
UserGroupInformation
user
HttpUserGroupInformation
get
String
keyNames
keyNamesList
toArray
size
assertAccess
KMSACLs
Type
GET_METADATA
KMSOp
GET_KEYS_METADATA
provider
getKeysMetadata
Object
json
KMSServerJSONUtils
toJSON
keysMeta
kmsAudit
ok
Response
type
MediaType
APPLICATION_JSON
entity
build
LOG
trace
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
name
KMSWebApp
getAdminCallsMeter
mark
assertAccess
KMSACLs
Type
GET_METADATA
KMSOp
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
name
KMSWebApp
getAdminCallsMeter
mark
assertAccess
KMSACLs
Type
GET_METADATA
KMSOp
debug
provider
getMetadata
Object
json
KMSServerJSONUtils
toJSON
metadata
kmsAudit
ok
Response
type
MediaType
APPLICATION_JSON
entity
build
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
name
KMSWebApp
getKeyCallsMeter
mark
assertAccess
KMSACLs
Type
GET
KMSOp
GET_CURRENT_KEY
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
name
KMSWebApp
getKeyCallsMeter
mark
assertAccess
KMSACLs
Type
GET
KMSOp
GET_CURRENT_KEY
debug
provider
getCurrentKey
Object
json
KMSUtil
toJSON
keyVersion
kmsAudit
ok
Response
type
MediaType
APPLICATION_JSON
entity
build
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
versionName
KMSWebApp
getKeyCallsMeter
mark
assertAccess
KMSACLs
Type
GET
KMSOp
GET_KEY_VERSION
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
versionName
KMSWebApp
getKeyCallsMeter
mark
assertAccess
KMSACLs
Type
GET
KMSOp
GET_KEY_VERSION
LOG
debug
provider
getKeyVersion
kmsAudit
ok
keyVersion
getName
Object
json
KMSUtil
toJSON
trace
Response
type
MediaType
APPLICATION_JSON
entity
build
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
name
checkNotNull
edekOp
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
name
checkNotNull
edekOp
debug
Object
retJSON
assertAccess
KMSACLs
Type
GENERATE_EEK
KMSOp
List
EncryptedKeyVersion
retEdeks
LinkedList
LOG
debug
name
edekOp
Object
retJSON
assertAccess
KMSACLs
Type
GENERATE_EEK
user
KMSOp
List
EncryptedKeyVersion
retEdeks
LinkedList
numKeys
add
provider
generateEncryptedKey
LOG
error
e
IOException
kmsAudit
ok
user
KMSOp
GENERATE_EEK
name
retJSON
ArrayList
add
KMSUtil
toJSON
edek
StringBuilder
append
KMSRESTConstants
EEK_OP
EEK_GENERATE
IOException
e
kmsAudit
ok
user
KMSOp
GENERATE_EEK
name
retJSON
ArrayList
add
KMSUtil
toJSON
edek
StringBuilder
error
append
KMSRESTConstants
EEK_OP
EEK_GENERATE
EEK_DECRYPT
LOG
toString
IllegalArgumentException
assertAccess
KMSACLs
Type
GENERATE_EEK
user
KMSOp
REENCRYPT_EEK_BATCH
name
LOG
debug
jsonPayload
size
List
EncryptedKeyVersion
ekvs
KMSUtil
parseJSONEncKeyVersions
Preconditions
checkArgument
equals
ekv
getEncryptionKeyName
provider
reencryptEncryptedKeys
retJSON
ArrayList
add
toJSON
kmsAudit
ok
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
name
KMSWebApp
getKeyCallsMeter
mark
assertAccess
KMSACLs
Type
GET
KMSOp
GET_KEY_VERSIONS
LOG
trace
UserGroupInformation
user
HttpUserGroupInformation
get
checkNotEmpty
name
KMSWebApp
getKeyCallsMeter
mark
assertAccess
KMSACLs
Type
GET
KMSOp
GET_KEY_VERSIONS
debug
provider
getKeyVersions
Object
json
KMSServerJSONUtils
toJSON
ret
kmsAudit
ok
Response
type
MediaType
APPLICATION_JSON
entity
build
Map
Type
AccessControlList
tempAcls
HashMap
tempBlacklist
String
aclStr
conf
get
aclType
getAclConfigKey
ACL_DEFAULT
put
blacklistStr
getBlacklistConfigKey
String
aclStr
keyAcl
getValue
keyName
k
substring
keyNameStarts
keyNameEnds
keyOp
KeyOpType
aclType
valueOf
LOG
warn
HashMap
AccessControlList
aclMap
tempKeyAcls
get
put
access
acls
get
type
isUserAllowed
ugi
access
acls
get
type
isUserAllowed
ugi
LOG
debug
getShortUserName
toString
getAclString
AccessControlList
blacklist
blacklistedAcls
isUserInList
Map
KeyOpType
AccessControlList
keyAcl
keyAcls
get
keyName
AccessControlList
acl
keyAcl
get
opType
kmsConf
KMSConfiguration
getKMSConf
UserGroupInformation
setConfiguration
LOG
info
System
getProperty
IllegalStateException
KeyProvider
keyProvider
KeyProviderFactory
get
URI
providerString
kmsConf
Preconditions
checkNotNull
String
format
KMSConfiguration
KEY_PROVIDER_URI
keyTimeOutMillis
getLong
KEY_CACHE_TIMEOUT_KEY
KEY_CACHE_TIMEOUT_DEFAULT
currKeyTimeOutMillis
CURR_KEY_CACHE_TIMEOUT_KEY
CURR_KEY_CACHE_TIMEOUT_DEFAULT
CachingKeyProvider
LOG
info
keyProviderCryptoExtension
KeyProviderCryptoExtension
createKeyProviderCryptoExtension
EagerKeyGeneratorKeyProviderCryptoExtension
KeyAuthorizationKeyProvider
kmsAcls
defaultBitlength
getInt
DEFAULT_BITLENGTH_NAME
DEFAULT_BITLENGTH
printUsage
String
type
args
get
runAll
OperationStatsBase
OP_ALL_NAME
equals
List
ops
ArrayList
opStat
EncryptKeyStats
add
DecryptKeyStats
File
confDir
getTestDir
conf
createBaseKMSConf
set
KeyAuthorizationKeyProvider
KEY_ACL
specialKey
writeConf
Configuration
URI
uri
createKMSUri
getKMSUrl
KeyProvider
kp
createProvider
Assert
assertTrue
getKeys
isEmpty
assertEquals
getKeysMetadata
length
Options
options
setCipher
setBitLength
setDescription
EncryptedKeyVersion
ek1
kpCE
generateEncryptedKey
currKv
getName
Assert
fail
ex
toString
KeyProvider
kp
createProvider
uri
conf
KeyProviderCryptoExtension
createKeyProviderCryptoExtension
reencryptEncryptedKey
encKv
List
ekvs
ArrayList
add
reencryptEncryptedKeys
KeyProviderCryptoExtension
kpCE
createKeyProviderCryptoExtension
kp
reencryptEncryptedKey
encKv
List
EncryptedKeyVersion
ekvs
ArrayList
add
reencryptEncryptedKeys
KeyProvider
createProvider
uri
conf
decryptEncryptedKey
KeyProviderCryptoExtension
kpCE
createKeyProviderCryptoExtension
kp
decryptEncryptedKey
encKv
Assert
fail
ex
getMessage
KeyProvider
createProvider
uri
conf
getKeys
Configuration
clientConf
URI
uri
createKMSUri
getKMSUrl
set
KeyProviderFactory
KEY_PROVIDER_PATH
toString
KeyProvider
kp
createProvider
unset
HADOOP_SECURITY_KEY_PROVIDER_PATH
KeyProviderDelegationTokenExtension
kpdte
createKeyProviderDelegationTokenExtension
Credentials
credentials
Token
tokens
addDelegationTokens
Text
tokenService
getTokenService
Assert
assertEquals
getAllTokens
size
KMSDelegationToken
TOKEN_KIND
getToken
getKind
LOG
info
uri
token
renew
clientConf
Assert
fail
DelegationTokenIdentifier
identifier
decodeIdentifier
GenericTestUtils
assertExceptionContains
e
UserGroupInformation
otherUgi
loginUserFromKeytab
keytab
getAbsolutePath
getLoginUser
createUserForTesting
String
setLoginUser
Assert
fail
DelegationTokenIdentifier
identifier
token
decodeIdentifier
GenericTestUtils
assertExceptionContains
e
UserGroupInformation
otherUgi
loginUserFromKeytab
keytab
getAbsolutePath
getLoginUser
createUserForTesting
String
setLoginUser
renewed
DelegationTokenIdentifier
identifier
token
decodeIdentifier
GenericTestUtils
assertExceptionContains
e
UserGroupInformation
otherUgi
loginUserFromKeytab
keytab
getAbsolutePath
getLoginUser
createUserForTesting
String
setLoginUser
renewed
GenericTestUtils
assertExceptionContains
identifier
e
UserGroupInformation
otherUgi
loginUserFromKeytab
keytab
getAbsolutePath
getLoginUser
createUserForTesting
String
setLoginUser
renewed
LOG
info
token
otherUgi
UserGroupInformation
getLoginUser
createUserForTesting
String
setLoginUser
renewed
LOG
info
token
uri
tokenLife
renew
clientConf
getKind
otherUgi
UserGroupInformation
createUserForTesting
String
setLoginUser
renewed
LOG
info
token
uri
tokenLife
renew
clientConf
getKind
Thread
sleep
newTokenLife
UserGroupInformation
setLoginUser
otherUgi
renewed
LOG
info
token
uri
tokenLife
renew
clientConf
getKind
Thread
sleep
newTokenLife
Token
token
UserGroupInformation
getCurrentUser
getCredentials
getToken
tokenService
Assert
assertNotNull
job1Token
add
ByteArrayInputStream
buf
getIdentifier
DataInputStream
dis
DelegationTokenIdentifier
id
getKind
readFields
close
maxTime
getMaxDate
Thread
sleep
assertTrue
Time
now
kp
getKeys
fail
String
lbUri
generateLoadBalancingKeyProviderUriString
LoadBalancingKMSClientProvider
lbkp
createHAProvider
URI
create
uris
conf
unset
HADOOP_SECURITY_KEY_PROVIDER_PATH
KeyProviderDelegationTokenExtension
kpdte
createKeyProviderDelegationTokenExtension
addDelegationTokens
credentials
nonKerberosUgi
addCredentials
i
key
i
String
key
LOG
info
provider
createKey
KeyProvider
Options
conf
Collection
Token
TokenIdentifier
tokens
credentials
getAllTokens
assertEquals
size
token
iterator
next
KMSDelegationToken
TOKEN_KIND
getKind
String
key
i
LOG
info
provider
createKey
KeyProvider
Options
conf
Collection
Token
TokenIdentifier
tokens
credentials
getAllTokens
assertEquals
size
token
iterator
next
KMSDelegationToken
TOKEN_KIND
getKind
tokenLife
renew
LOG
info
provider
key
createKey
KeyProvider
Options
conf
Collection
Token
TokenIdentifier
tokens
credentials
getAllTokens
assertEquals
size
token
iterator
next
KMSDelegationToken
TOKEN_KIND
getKind
tokenLife
renew
Thread
sleep
newTokenLife
Collection
Token
TokenIdentifier
tokens
credentials
getAllTokens
assertEquals
size
token
iterator
next
KMSDelegationToken
TOKEN_KIND
getKind
LOG
info
tokenLife
renew
conf
Thread
sleep
newTokenLife
assertTrue
Credentials
newCredentials
KeyProviderDelegationTokenExtension
kpdte
createKeyProviderDelegationTokenExtension
lbkp
addDelegationTokens
KMSClientProvider
kp1
getProviders
URL
urls
getKMSHAUrl
Collection
Token
TokenIdentifier
tokens
getAllTokens
assertEquals
size
token
iterator
next
Configuration
conf
File
confDir
getTestDir
createBaseKMSConf
String
processName
set
KMSConfiguration
METRICS_PROCESS_NAME_KEY
writeConf
URL
jmxUrl
getKMSUrl
simpleKdc
createPrincipals
principals
String
parts
line
split
host
AccessPrivilege
privilege
READ_ONLY
option
trim
READ_WRITE
String
option
parts
trim
privilege
AccessPrivilege
READ_WRITE
LOG
debug
host
AnonymousMatch
String
option
parts
trim
privilege
AccessPrivilege
READ_WRITE
LOG
debug
host
AnonymousMatch
CIDRMatch
SubnetUtils
getInfo
LOG
debug
host
privilege
AnonymousMatch
CIDRMatch
SubnetUtils
getInfo
String
pair
split
LOG
debug
host
privilege
AnonymousMatch
CIDRMatch
SubnetUtils
getInfo
String
pair
split
RegexMatch
factory
NioServerSocketChannelFactory
Executors
newCachedThreadPool
workerCount
server
ServerBootstrap
Channels
pipeline
RpcUtil
constructRpcFrameDecoder
STAGE_RPC_MESSAGE_PARSER
rpcProgram
STAGE_RPC_TCP_RESPONSE
setOption
ch
bind
InetSocketAddress
port
socketAddr
getLocalAddress
boundPort
getPort
DatagramChannelFactory
f
NioDatagramChannelFactory
Executors
newCachedThreadPool
workerCount
server
ConnectionlessBootstrap
setPipeline
Channels
pipeline
RpcUtil
STAGE_RPC_MESSAGE_PARSER
rpcProgram
STAGE_RPC_UDP_RESPONSE
setOption
SEND_BUFFER_SIZE
RECEIVE_BUFFER_SIZE
ch
bind
InetSocketAddress
port
socketAddr
getLocalAddress
boundPort
getPort
HashedWheelTimer
timer
IdleStateHandler
idleStateHandler
idleTimeMilliSeconds
TimeUnit
MILLISECONDS
Channels
pipeline
RpcUtil
constructRpcFrameDecoder
STAGE_RPC_MESSAGE_PARSER
handler
STAGE_RPC_TCP_RESPONSE
tcpServer
setOption
udpServer
ConnectionlessBootstrap
NioDatagramChannelFactory
Executors
newCachedThreadPool
setPipeline
STAGE_RPC_UDP_RESPONSE
tcpChannel
bind
tcpAddress
udpChannel
udpAddress
allChannels
add
PortmapMapping
mapping
PortmapRequest
in
String
key
PortmapMapping
mapping
PortmapRequest
in
String
key
XDR
in
info
data
toByteBuffer
asReadOnlyBuffer
State
READING
out
nullOp
xid
set
unset
dump
getport
String
pathArg
argsList
isEmpty
get
Map
String
ServiceRecord
results
HashMap
stats
size
path
join
parentpath
stat
serviceRecord
operations
resolve
put
LOG
debug
registryRoot
conf
getTrimmed
KEY_REGISTRY_ZK_ROOT
DEFAULT_ZK_REGISTRY_ROOT
addService
registrySecurity
Configuration
conf
getConfig
createEnsembleProvider
sessionTimeout
getInt
KEY_REGISTRY_ZK_SESSION_TIMEOUT
DEFAULT_ZK_SESSION_TIMEOUT
connectionTimeout
KEY_REGISTRY_ZK_CONNECTION_TIMEOUT
DEFAULT_ZK_CONNECTION_TIMEOUT
retryTimes
KEY_REGISTRY_ZK_RETRY_TIMES
DEFAULT_ZK_RETRY_TIMES
retryInterval
KEY_REGISTRY_ZK_RETRY_INTERVAL
DEFAULT_ZK_RETRY_INTERVAL
retryCeiling
KEY_REGISTRY_ZK_RETRY_CEILING
DEFAULT_ZK_RETRY_CEILING
LOG
info
connectionDescription
CuratorFramework
framework
CuratorFrameworkFactory
Builder
builder
ensembleProvider
connectionTimeoutMs
sessionTimeoutMs
retryPolicy
BoundedExponentialBackoffRetry
registrySecurity
applySecurityEnvironment
securityConnectionDiagnostics
buildSecurityDiagnostics
checkServiceLive
String
fullpath
createFullPath
path
Stat
stat
checkServiceLive
String
fullpath
createFullPath
path
List
ACL
acls
checkServiceLive
path
createFullPath
NoPathPermissionsException
RegistrySecurity
AclListInfo
aclInfo
acls
LOG
debug
mode
CreateBuilder
createBuilder
curator
create
withMode
withACL
creatingParentsIfNeeded
forPath
Preconditions
checkArgument
data
checkServiceLive
String
fullpath
createFullPath
path
Preconditions
checkArgument
data
checkServiceLive
path
createFullPath
checkServiceLive
String
fullpath
createFullPath
path
checkServiceLive
String
fullpath
createFullPath
path
checkServiceLive
String
fullpath
createFullPath
path
Preconditions
checkArgument
record
validatePath
path
RegistryTypeUtils
validateServiceRecord
validatePath
path
Stat
stat
zkStat
String
name
RegistryPathUtils
lastPathEntry
RegistryPathStatus
status
getCtime
getDataLength
getNumChildren
secureRegistry
getConfig
getBoolean
KEY_REGISTRY_SECURE
DEFAULT_REGISTRY_SECURE
systemACLs
clear
addSystemACL
ALL_READ_ACCESS
kerberosRealm
get
KEY_REGISTRY_KERBEROS_REALM
getDefaultRealmInJVM
String
system
getOrFail
KEY_REGISTRY_SYSTEM_ACCOUNTS
DEFAULT_REGISTRY_SYSTEM_ACCOUNTS
usesRealm
contains
addAll
buildACLs
ZooDefs
Perms
ALL
String
user
getConfig
get
KEY_REGISTRY_USER_ACCOUNTS
DEFAULT_REGISTRY_USER_ACCOUNTS
List
ACL
userACLs
buildACLs
kerberosRealm
ZooDefs
Perms
ALL
self
createSaslACLFromCurrentUser
add
LOG
info
System
lineSeparator
IOException
UserGroupInformation
currentUser
getCurrentUser
jaasClientEntry
getOrFail
KEY_REGISTRY_CLIENT_JAAS_CONTEXT
DEFAULT_REGISTRY_CLIENT_JAAS_CONTEXT
jaasClientIdentity
getShortUserName
UserGroupInformation
currentUser
getCurrentUser
jaasClientEntry
getOrFail
KEY_REGISTRY_CLIENT_JAAS_CONTEXT
DEFAULT_REGISTRY_CLIENT_JAAS_CONTEXT
jaasClientIdentity
getShortUserName
LOG
debug
String
pass
KEY_REGISTRY_CLIENT_AUTHENTICATION_PASSWORD
ServiceStateException
E_NO_USER_DETERMINED_FOR_ACLS
digest
id
ACL
acl
ZooDefs
Perms
ALL
toDigestId
userACLs
add
digestAuthUser
digestAuthPassword
String
path
jaasFile
getAbsolutePath
builder
authorization
SCHEME_DIGEST
digestAuthData
IOException
LOG
info
jaasClientEntry
principal
keytab
JaasConfiguration
jconf
javax
security
auth
login
Configuration
setConfiguration
setSystemPropertyIfUnset
ZKClientConfig
ENABLE_CLIENT_SASL_KEY
LOGIN_CONTEXT_NAME_KEY
UserGroupInformation
currentUser
getCurrentUser
UserGroupInformation
currentUser
getCurrentUser
LOG
info
realUser
getRealUser
username
kerberosRealm
SocketException
Enumeration
NetworkInterface
net
getNetworkInterfaces
n
nextElement
InetAddress
ee
getInetAddresses
i
list
add
ResolverConfig
refresh
ExtendedResolver
resolver
ResolverConfig
refresh
ExtendedResolver
resolver
LOG
error
e
InetAddress
address
SimpleResolver
check
getAddress
deleteResolver
RRset
rrset
zone
findExactMatch
record
getName
getType
Calendar
cal
getInstance
Date
inception
getTime
add
YEAR
expiration
RRSIGRecord
rrsigRecord
DNSSEC
sign
dnsKeyRecs
get
getOrigin
privateKey
ByteBuffer
buf
allocate
ch
read
flip
messageLength
getMessgeLength
in
get
Message
query
response
input
clear
remoteAddress
channel
receive
LOG
debug
e
Message
query
response
position
in
flip
get
Message
query
response
position
input
in
flip
get
LOG
info
remoteAddress
getQuestion
generateReply
formErrorMessage
output
clear
Name
name
query
getQuestion
getName
id
getHeader
getID
String
queryName
getLabelString
qualifiedName
concatenate
fromString
domainName
CNAMERecord
cname
sr
getCNAME
RRset
rrset
zone
findExactMatch
getName
Type
CNAME
addRRset
name
response
Section
ANSWER
flags
getHeader
setFlag
Flags
AA
rcode
addAnswer
getTarget
type
dclass
iterations
setRcode
Rcode
NXDOMAIN
addNXT
LOG
warn
e
parsedRange
Integer
parseInt
range
LOG
error
e
String
msg
format
IllegalArgumentException
ipCount
SubnetUtils
subnetUtils
subnet
mask
setInclusiveHostCount
getInfo
getAddressCountLong
setupSecurity
FileTxnSnapLog
ftxn
dataDir
ZooKeeperServer
zkServer
tickTime
LOG
info
factory
ServerCnxnFactory
createFactory
configure
getAddress
port
startup
String
connectString
getConnectionString
setupSecurity
FileTxnSnapLog
ftxn
dataDir
ZooKeeperServer
zkServer
tickTime
LOG
info
factory
ServerCnxnFactory
createFactory
configure
getAddress
port
startup
String
connectString
getConnectionString
StringWriter
sw
PrintWriter
pw
dumpConf
flush
serviceInit
conf
RegistrySecurity
registrySecurity
getRegistrySecurity
ACL
sasl
createSaslACLFromCurrentUser
ZooDefs
Perms
ALL
addSystemACL
List
ACL
systemACLs
getRegistrySecurity
getSystemACLs
childEntries
RegistryUtils
statChildren
path
entries
values
RegistryPathStatus
registryPathStatus
stat
ServiceRecord
serviceRecord
resolve
toDelete
selector
shouldSelect
assertNotNull
loginContext
Subject
subject
getSubject
log
info
String
persistence
PersistencePolicies
PERMANENT
ServiceRecord
record
createRecord
set
RegistryTypeUtils
validateServiceRecord
mkPath
CreateMode
PERSISTENT
CuratorEventCatcher
events
curatorService
zkDelete
CuratorEvent
taken
take
kdcConf
MiniKdc
createConf
setProperty
DEBUG
kdc
kdcWorkDir
start
keytab_zk
createKeytab
ZOOKEEPER
keytab_alice
ALICE
keytab_bob
BOB
zkServerPrincipal
Shell
WINDOWS
ZOOKEEPER_1270001
ZOOKEEPER_LOCALHOST
StringBuilder
jaas
append
registrySecurity
createJAASEntry
ZOOKEEPER_CLIENT_CONTEXT
ZOOKEEPER_SERVER_CONTEXT
ALICE_CLIENT_CONTEXT
ALICE_LOCALHOST
BOB_CLIENT_CONTEXT
BOB_LOCALHOST
jaasFile
File
FileUtils
write
toString
Charset
defaultCharset
String
realm
RegistrySecurity
getDefaultRealmInJVM
UserGroupInformation
user
getCurrentUser
ACL
acl
registrySecurity
createACLForUser
ZooDefs
Perms
ALL
assertFalse
RegistrySecurity
ALL_READWRITE_ACCESS
equals
LoginContext
client
login
ALICE_LOCALHOST
ALICE_CLIENT_CONTEXT
keytab_alice
logLoginDetails
String
confFilename
System
getProperty
Environment
JAAS_CONF_KEY
assertNotNull
config
FileUtils
readFileToString
File
Charset
defaultCharset
File
krb5conf
getKdc
getKrb5conf
String
krbConfig
FileUtils
readFileToString
Charset
defaultCharset
String
defaultRealm
KerberosUtil
getDefaultRealm
assertNotEmpty
assertTrue
KerberosName
hasRulesBeenSet
String
rules
getRules
assertEquals
kerberosRule
UserGroupInformation
ugi
loginUGI
ZOOKEEPER
keytab_zk
RegistrySecurity
UgiInfo
ugiInfo
System
setProperty
startSecureZK
CuratorService
curator
LoginContext
login
ZOOKEEPER_LOCALHOST
ZOOKEEPER_CLIENT_CONTEXT
keytab_zk
logLoginDetails
ZOOKEEPER
RegistrySecurity
setZKSaslClientProperties
startCuratorServiceInstance
Configuration
clientConf
set
KEY_REGISTRY_ZK_ROOT
setBoolean
KEY_REGISTRY_SECURE
secure
describe
LOG
CuratorService
curatorService
name
secureZK
init
start
System
setProperty
CuratorService
curator
LoginContext
login
ZOOKEEPER_LOCALHOST
ZOOKEEPER_CLIENT_CONTEXT
keytab_zk
logLoginDetails
ZOOKEEPER
RegistrySecurity
setZKSaslClientProperties
startCuratorServiceInstance
System
setProperty
CuratorService
curator
LoginContext
login
ZOOKEEPER_LOCALHOST
ZOOKEEPER_CLIENT_CONTEXT
keytab_zk
logLoginDetails
ZOOKEEPER
RegistrySecurity
setZKSaslClientProperties
startCuratorServiceInstance
LOG
info
toString
addToTeardown
zkMkPath
CreateMode
PERSISTENT
WorldReadWriteACL
ZKPathDumper
pathDumper
dumpPath
inodeId
DFSOutputStream
out
filesBeingWritten
keySet
iterator
next
remove
abort
close
FileEncryptionInfo
feInfo
dfsos
getFileEncryptionInfo
HdfsKMSUtil
getCryptoProtocolVersion
CryptoCodec
codec
getCryptoCodec
conf
KeyVersion
decrypted
FileEncryptionInfo
feInfo
dfsos
getFileEncryptionInfo
HdfsKMSUtil
getCryptoProtocolVersion
CryptoCodec
codec
getCryptoCodec
conf
KeyVersion
decrypted
LOG
debug
getSrc
Integer
toHexString
hashCode
decryptEncryptedDataEncryptionKey
getKeyProvider
checkOpen
FsPermission
masked
applyUMask
permission
CreateFlag
validateForAppend
flag
LastBlockWithStatus
blkWithStatus
callAppend
src
EnumSetWritable
HdfsFileStatus
status
getFileStatus
num
HEDGED_READ_THREAD_POOL
AtomicInteger
threadIndex
Thread
t
newThread
r
setName
getAndIncrement
LOG
info
HEDGED_READ_METRIC
incHedgedReadOpsInCurThread
rejectedExecution
runnable
e
allowCoreThreadTimeOut
LOG
debug
lastReadTxid
namenode
getCurrentEditLogTxid
EventBatchList
el
getEditsFromTxid
syncTxid
getSyncTxid
it
getBatches
iterator
formerLastReadTxid
getLastTxid
MissingEventsException
getFirstTxid
EventBatch
next
nextWaitMin
INITIAL_WAIT_MS
sleepTime
rng
nextInt
sleeptime
conf
getBlockWriteLocateFollowingInitialDelayMs
maxSleepTime
getBlockWriteLocateFollowingMaxDelayMs
localstart
Time
monotonicNow
dfsClient
namenode
addBlock
src
clientName
prevBlock
excludedNodes
fileId
favoredNodes
allocFlags
IOException
ue
e
unwrapRemoteException
FileNotFoundException
AccessControlException
NSQuotaExceededException
DSQuotaExceededException
QuotaByStorageTypeExceededException
UnresolvedPathException
retries
expectedNum
healthyStreamers
size
socketTimeout
dfsClient
getConf
getSocketTimeout
remaingTime
Long
MAX_VALUE
waitInterval
start
Time
monotonicNow
coordinator
wait
DFSUtilClient
toInterruptedIOException
e
success
Socket
sock
socketFactory
createSocket
String
dnAddr
dn
getXferAddr
connectToDnViaHostname
DfsClientConf
conf
client
getConf
String
dnAddr
first
getXferAddr
isConnectToDnViaHostname
LOG
debug
seqno
begin
Time
monotonicNow
checkClosed
dataQueue
wait
InterruptedIOException
span
addTimelineAnnotation
firstWait
dataQueue
wait
Thread
currentThread
interrupt
Span
Tracer
getCurrentSpan
checkClosed
queuePacket
packet
packet
addTraceParent
Tracer
getCurrentSpanId
dataQueue
addLast
lastQueuedSeqno
getSeqno
LOG
debug
type
DatanodeInfo
datanodeInfo
LOG
debug
probe
getDatanodeInfo
success
getType
probeInProg
remove
getDatanodeUuid
Set
DatanodeInfo
datanodeInfos
clearAndGetDetectedDeadNodes
Set
DatanodeInfo
datanodeInfos
clearAndGetDetectedDeadNodes
LOG
debug
datanodeInfo
Text
haService
HAUtilClient
buildTokenServiceForLogicalUri
haUri
HdfsConstants
HDFS_URI_SCHEME
Token
DelegationTokenIdentifier
haToken
tokenSelector
selectToken
ugi
getTokens
specificToken
privateClone
buildTokenService
singleNNAddr
alias
buildTokenServicePrefixForLogicalUri
getService
addToken
String
providerUriStr
conf
getTrimmed
CommonConfigurationKeysPublic
HADOOP_SECURITY_KEY_PROVIDER_PATH
Class
FailoverProxyProvider
T
failoverProxyProviderClass
AbstractNNFailoverProxyProvider
providerNN
getFailoverProxyProviderClass
conf
nameNodeUri
Constructor
ctor
getConstructor
Configuration
URI
HAProxyFactory
provider
newInstance
xface
proxyFactory
WrappedFailoverProxyProvider
String
message
Configuration
conf
setBoolean
String
format
scheme
HdfsClientConfigKeys
Retry
POLICY_ENABLED_KEY
setInt
CommonConfigurationKeysPublic
IPC_CLIENT_CONNECT_MAX_RETRIES_KEY
DistributedFileSystem
fs
FileSystem
get
uri
safemode
setSafeMode
SafeModeAction
SAFEMODE_GET
LOG
debug
close
ShortCircuitCache
cache
clientContext
getShortCircuitCache
block
getBlockId
MutableBoolean
usedPeer
slot
allocShmSlot
datanode
peer
ExtendedBlockId
getBlockPoolId
clientName
LOG
trace
getDomainSocket
curPeer
nextDomainPeer
DomainPeer
ShortCircuitReplicaInfo
info
requestFileDescriptors
getPeerCache
put
freeSlot
sock
getOutputStream
write
replica
ShortCircuitReplica
key
fis
cache
Time
monotonicNow
slot
ShortCircuitReplicaInfo
LOG
warn
e
IOUtilsClient
cleanupWithLogger
DFSClient
datanode
resp
getMessage
clientContext
getDomainSocketFactory
disableShortCircuitForPath
pathInfo
getPath
fileName
LOG
trace
pathInfo
getPath
BlockReaderPeer
curPeer
nextDomainPeer
fromCache
remainingCacheTries
DomainPeer
peer
BlockReader
blockReader
getRemoteBlockReader
IOUtilsClient
cleanupWithLogger
ioe
BlockReader
blockReader
BlockReaderPeer
curPeer
Peer
peer
nextTcpPeer
fromCache
remainingCacheTries
getRemoteBlockReader
LOG
trace
ioe
ShortCircuitConf
scConf
conf
getShortCircuitConf
LocalDatanodeInfo
localDatanodeInfo
getLocalDatanodeInfo
node
getIpcPort
BlockLocalPathInfo
pathinfo
getBlockLocalPathInfo
blk
userGroupInformation
UserGroupInformation
getCurrentUser
getBlockPathInfo
configuration
getSocketTimeout
token
isConnectToDnViaHostname
storageType
FileInputStream
dataIn
checksumIn
BlockReaderLocalLegacy
localBlockReader
skipChecksumCheck
isSkipShortCircuitChecksums
isTransient
File
blkfile
getBlockPath
LocalDatanodeInfo
localDatanodeInfo
getLocalDatanodeInfo
node
getIpcPort
BlockLocalPathInfo
pathinfo
ClientDatanodeProtocol
proxy
getDatanodeProxy
ugi
conf
timeout
connectToDnViaHostname
getBlockLocalPathInfo
blk
token
id
currentId
id
currentId
LOG
debug
clientsString
LeaseRenewer
run
e
Factory
INSTANCE
remove
List
DFSClient
copies
ArrayList
dfsclients
left
getClientName
compareTo
right
String
previousName
LOG
debug
c
elapsed
Time
monotonicNow
lastRenewed
renew
LOG
warn
clientsString
elapsed
ie
List
DFSClient
dfsclientsCopy
DFSClientFaultInjector
get
delayWhenRenewLeaseTimeout
ArrayList
dfsclients
clear
emptyTime
Factory
INSTANCE
remove
LeaseRenewer
dfsClient
closeAllFilesBeingWritten
DFSClientFaultInjector
get
delayWhenRenewLeaseTimeout
dfsclientsCopy
ArrayList
dfsclients
clear
emptyTime
Factory
INSTANCE
remove
LeaseRenewer
dfsClient
closeAllFilesBeingWritten
LOG
warn
clientsString
elapsed
ie
ZoneReencryptionStatus
zs
zoneStatuses
get
zoneId
Preconditions
checkNotNull
ZoneReencryptionStatus
zs
zoneStatuses
get
zoneId
Preconditions
checkNotNull
ZoneReencryptionStatus
zs
zoneStatuses
get
zoneId
Preconditions
checkNotNull
String
qops
conf
get
DFS_DATA_TRANSFER_PROTECTION_KEY
localTrusted
trustedChannelResolver
isTrusted
remoteTrusted
addr
LOG
debug
addr
datanodeId
getEncryptedStreams
underlyingOut
underlyingIn
encryptionKey
accessToken
secretKey
getSaslStreams
String
dnAddr
datanodeid
getIpcAddr
connectToDnViaHostname
InetSocketAddress
addr
NetUtils
createSocketAddr
String
configKey
IPFAILOVER_CONFIG_PREFIX
nameServiceID
virtualIP
conf
get
String
feature
PerformanceAdvisory
LOG
debug
HadoopIllegalArgumentException
HdfsClientConfigKeys
DFS_DOMAIN_SOCKET_PATH_KEY
warn
DomainSocket
getLoadingFailureReason
Waitable
ShortCircuitReplicaInfo
newWaitable
lock
info
LOG
trace
key
waitable
replicaInfoMap
get
fetch
info
waitable
await
LOG
key
Thread
currentThread
interrupt
RetriableException
getInvalidTokenException
ShortCircuitReplica
replica
getReplica
warn
LOG
trace
key
info
creator
createShortCircuitReplicaInfo
warn
e
ShortCircuitReplicaInfo
lock
getReplica
startCacheCleanerThreadIfNeeded
Waitable
waitableInMap
replicaInfoMap
get
newWaitable
remove
cacheCleaner
CacheCleaner
rateMs
getRateInMs
ScheduledFuture
future
cleanerExecutor
scheduleAtFixedRate
TimeUnit
MILLISECONDS
setFuture
purge
ShortCircuitReplica
evictable
get
eldestKey
Object
evictableMmapped
firstKey
lock
unlock
releaserExecutor
shutdown
cleanerExecutor
LOG
error
shutdownNow
Thread
currentThread
interrupt
lock
unlock
releaserExecutor
shutdown
cleanerExecutor
LOG
error
shutdownNow
Thread
currentThread
interrupt
e
StringBuilder
b
DEBUG_MESSAGE
get
Future
BlockReadStats
future
readService
poll
timeoutMillis
TimeUnit
MILLISECONDS
take
stats
get
StripingChunkReadResult
futures
remove
SUCCESSFUL
TIMEOUT
LOG
debug
e
FAILED
Token
token
fs
getDelegationToken
setDelegationToken
addRenewAction
Token
token
selectDelegationToken
ugi
Token
token
tokenSelector
selectToken
Text
getCanonicalServiceName
ugi
getTokens
replaced
Token
token
getDelegationToken
numThreads
ExecutorService
threadPool
newFixedThreadPool
CountDownLatch
allReady
startBlocker
allDone
AtomicReference
Throwable
childError
countDown
await
incrementOpsCountByRandomNumbers
runners
i
Runner
countThreshold
countLimit
pool
bam
threads
start
num
List
Exception
exceptions
ArrayList
LOG
info
j
ThreadLocalRandom
current
nextInt
length
recycle
e
printStackTrace
add
LOG
info
i
sleepMs
randomRecycler
start
join
Assert
assertTrue
exceptions
isEmpty
assertNull
counters
get
URI
redirectURL
createOpenRedirectionURL
uriInfo
String
js
JsonUtil
toJsonString
response
Response
ok
type
MediaType
APPLICATION_JSON
build
FSOperations
FSOpen
command
path
FileSystem
fs
createFileSystem
user
InputStream
is
UserGroupInformation
ugi
createProxyUser
getShortUserName
getLoginUser
execute
command
execute
fs
LOG
info
ie
Thread
currentThread
interrupt
Long
offset
params
get
OffsetParam
NAME
len
LenParam
AUDIT_LOG
Object
path
InputStreamEntity
entity
is
response
Response
ok
type
MediaType
APPLICATION_OCTET_STREAM
build
FSOperations
FSFileStatus
LOG
info
ie
Thread
currentThread
interrupt
Long
offset
params
get
OffsetParam
NAME
len
LenParam
AUDIT_LOG
Object
path
InputStreamEntity
entity
is
response
Response
ok
type
MediaType
APPLICATION_OCTET_STREAM
build
FSOperations
FSFileStatus
command
Map
json
fsExecute
user
APPLICATION_JSON
AUDIT_LOG
info
path
filter
response
Response
ok
json
type
MediaType
APPLICATION_JSON
build
enforceRootPath
op
value
FSOperations
FSHomeDir
command
JSONObject
fsExecute
user
Groups
groups
HttpFSServerWebApp
get
Set
String
userGroups
getGroupsSet
getShortUserName
FSOperations
FSHomeDir
command
JSONObject
json
fsExecute
user
AUDIT_LOG
info
response
Response
ok
type
MediaType
APPLICATION_JSON
build
enforceRootPath
op
value
path
Groups
groups
HttpFSServerWebApp
get
Set
String
userGroups
getGroupsSet
getShortUserName
AccessControlException
Instrumentation
instrumentation
Map
snapshot
getSnapshot
enforceRootPath
op
value
path
Groups
groups
HttpFSServerWebApp
get
Set
String
userGroups
getGroupsSet
user
getShortUserName
AccessControlException
Instrumentation
instrumentation
Map
snapshot
getSnapshot
response
Response
ok
build
FSOperations
FSContentSummary
command
json
fsExecute
AUDIT_LOG
info
type
MediaType
APPLICATION_JSON
AUDIT_LOG
info
path
response
Response
ok
json
type
MediaType
APPLICATION_JSON
build
FSOperations
FSQuotaUsage
command
Map
fsExecute
user
FSFileChecksum
Boolean
noRedirect
params
get
NoRedirectParam
NAME
URI
redirectURL
createOpenRedirectionURL
uriInfo
response
Response
ok
json
type
MediaType
APPLICATION_JSON
build
FSOperations
FSFileChecksum
command
path
Boolean
noRedirect
params
get
NoRedirectParam
NAME
AUDIT_LOG
info
URI
redirectURL
createOpenRedirectionURL
uriInfo
String
js
JsonUtil
toJsonString
Map
fsExecute
user
AUDIT_LOG
info
path
URI
redirectURL
createOpenRedirectionURL
uriInfo
String
js
JsonUtil
toJsonString
response
Response
ok
type
MediaType
APPLICATION_JSON
build
Map
json
fsExecute
user
command
status
Status
BAD_REQUEST
FSOperations
FSAclStatus
response
Response
status
Status
BAD_REQUEST
build
FSOperations
FSAclStatus
command
path
Map
json
fsExecute
user
AUDIT_LOG
info
ok
type
MediaType
APPLICATION_JSON
List
String
xattrNames
params
getValues
XAttrNameParam
NAME
XAttrCodec
encoding
get
XAttrEncodingParam
FSGetXAttrs
SuppressWarnings
FSOperations
FSAclStatus
command
path
Map
json
fsExecute
user
AUDIT_LOG
info
response
Response
ok
type
MediaType
APPLICATION_JSON
build
List
String
xattrNames
params
getValues
XAttrNameParam
NAME
XAttrCodec
encoding
get
XAttrEncodingParam
FSGetXAttrs
SuppressWarnings
List
String
xattrNames
params
getValues
XAttrNameParam
NAME
XAttrCodec
encoding
get
XAttrEncodingParam
FSOperations
FSGetXAttrs
command
path
SuppressWarnings
Map
json
fsExecute
user
AUDIT_LOG
info
response
Response
ok
type
MediaType
APPLICATION_JSON
build
FSListXAttrs
AUDIT_LOG
info
path
response
Response
ok
json
type
MediaType
APPLICATION_JSON
build
FSOperations
FSListXAttrs
command
SuppressWarnings
Map
fsExecute
user
String
startAfter
params
get
HttpFSParametersProvider
StartAfterParam
NAME
token
HttpFSUtils
EMPTY_BYTES
getBytes
Charsets
UTF_8
FSListStatusBatch
response
Response
ok
json
type
MediaType
APPLICATION_JSON
build
String
startAfter
params
get
HttpFSParametersProvider
StartAfterParam
NAME
token
HttpFSUtils
EMPTY_BYTES
getBytes
Charsets
UTF_8
FSOperations
FSListStatusBatch
command
path
SuppressWarnings
Map
fsExecute
user
AUDIT_LOG
info
FSTrashRoot
JSONObject
response
Response
ok
json
type
MediaType
APPLICATION_JSON
build
FSOperations
FSGetStoragePolicy
command
path
JSONObject
fsExecute
user
AUDIT_LOG
info
String
oldSnapshotName
params
get
OldSnapshotNameParam
NAME
snapshotName
SnapshotNameParam
FSGetSnapshotDiff
js
UserGroupInformation
user
HttpUserGroupInformation
get
Response
response
path
makeAbsolute
MDC
put
HttpFSFileSystem
OP_PARAM
op
value
name
request
getRemoteAddr
Boolean
recursive
params
RecursiveParam
NAME
path
makeAbsolute
MDC
put
HttpFSFileSystem
OP_PARAM
op
value
name
request
getRemoteAddr
Boolean
recursive
params
get
RecursiveParam
NAME
AUDIT_LOG
info
FSOperations
FSDelete
command
JSONObject
json
fsExecute
user
response
Response
ok
type
MediaType
APPLICATION_JSON
build
String
snapshotName
SnapshotNameParam
FSDeleteSnapshot
Response
response
path
makeAbsolute
MDC
put
HttpFSFileSystem
OP_PARAM
op
value
name
request
getRemoteAddr
Boolean
hasData
params
get
DataParam
NAME
URI
redirectURL
createUploadRedirectionURL
uriInfo
Operation
APPEND
noRedirect
NoRedirectParam
String
js
JsonUtil
toJsonString
ok
type
MediaType
APPLICATION_JSON
build
FSOperations
FSAppend
command
is
fsExecute
user
String
js
JsonUtil
toJsonString
redirectURL
response
Response
ok
type
MediaType
APPLICATION_JSON
build
FSOperations
FSAppend
command
is
path
fsExecute
user
AUDIT_LOG
info
temporaryRedirect
System
out
println
sources
params
get
SourcesParam
NAME
FSConcat
split
response
Response
temporaryRedirect
redirectURL
build
System
out
println
String
sources
params
get
SourcesParam
NAME
FSOperations
FSConcat
command
path
split
fsExecute
user
AUDIT_LOG
info
ok
Long
newLength
NewLengthParam
FSTruncate
System
out
println
String
sources
params
get
SourcesParam
NAME
FSOperations
FSConcat
command
path
split
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
Long
newLength
NewLengthParam
FSTruncate
JSONObject
json
type
MediaType
APPLICATION_JSON
System
out
println
response
Response
ok
build
Long
newLength
params
get
NewLengthParam
NAME
FSOperations
FSTruncate
command
path
JSONObject
json
fsExecute
user
AUDIT_LOG
info
type
MediaType
APPLICATION_JSON
FSUnsetStoragePolicy
Short
permission
params
get
PermissionParam
NAME
unmaskedPermission
UnmaskedPermissionParam
Boolean
override
OverwriteParam
replication
ReplicationParam
Long
blockSize
BlockSizeParam
FSOperations
FSCreate
command
is
path
fsExecute
user
AUDIT_LOG
info
Object
String
js
JsonUtil
toJsonString
uriInfo
getAbsolutePath
response
Response
created
type
MediaType
APPLICATION_JSON
entity
build
temporaryRedirect
redirectURL
FSAllowSnapshot
fsExecute
user
command
AUDIT_LOG
info
Object
path
permission
override
replication
blockSize
unmaskedPermission
String
js
JsonUtil
toJsonString
uriInfo
getAbsolutePath
response
Response
created
type
MediaType
APPLICATION_JSON
entity
build
temporaryRedirect
redirectURL
FSOperations
FSAllowSnapshot
ok
FSDisallowSnapshot
FSOperations
FSAllowSnapshot
command
path
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
FSDisallowSnapshot
String
snapshotName
params
get
SnapshotNameParam
NAME
FSOperations
FSDisallowSnapshot
command
path
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
String
snapshotName
params
get
SnapshotNameParam
NAME
FSCreateSnapshot
json
type
MediaType
APPLICATION_JSON
xattrName
XAttrNameParam
String
snapshotName
params
get
SnapshotNameParam
NAME
FSOperations
FSCreateSnapshot
command
path
json
fsExecute
user
AUDIT_LOG
info
response
Response
ok
type
MediaType
APPLICATION_JSON
build
xattrName
XAttrNameParam
xattrValue
XAttrValueParam
EnumSet
XAttrSetFlag
flag
XAttrSetFlagParam
FSSetXAttr
String
xattrName
params
get
XAttrNameParam
NAME
xattrValue
XAttrValueParam
EnumSet
XAttrSetFlag
flag
XAttrSetFlagParam
FSOperations
FSSetXAttr
command
path
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
oldSnapshotName
OldSnapshotNameParam
snapshotName
SnapshotNameParam
FSRenameSnapshot
response
Response
ok
build
String
oldSnapshotName
params
get
OldSnapshotNameParam
NAME
snapshotName
SnapshotNameParam
FSOperations
FSRenameSnapshot
command
path
fsExecute
user
AUDIT_LOG
info
xattrName
XAttrNameParam
FSRemoveXAttr
fsExecute
user
command
AUDIT_LOG
info
path
oldSnapshotName
snapshotName
response
Response
ok
build
String
xattrName
params
get
XAttrNameParam
NAME
FSOperations
FSRemoveXAttr
Short
permission
PermissionParam
unmaskedPermission
UnmaskedPermissionParam
FSMkdirs
fsExecute
user
command
AUDIT_LOG
info
path
xattrName
response
Response
ok
build
Short
permission
params
get
PermissionParam
NAME
unmaskedPermission
UnmaskedPermissionParam
FSOperations
FSMkdirs
JSONObject
json
type
MediaType
APPLICATION_JSON
String
toPath
DestinationParam
FSRename
Short
unmaskedPermission
params
get
UnmaskedPermissionParam
NAME
FSOperations
FSMkdirs
command
path
permission
JSONObject
json
fsExecute
user
AUDIT_LOG
info
response
Response
ok
type
MediaType
APPLICATION_JSON
build
String
toPath
DestinationParam
FSRename
owner
OwnerParam
String
toPath
params
get
DestinationParam
NAME
FSOperations
FSRename
command
path
JSONObject
json
fsExecute
user
AUDIT_LOG
info
response
Response
ok
type
MediaType
APPLICATION_JSON
build
owner
OwnerParam
group
GroupParam
FSSetOwner
String
owner
params
get
OwnerParam
NAME
group
GroupParam
FSOperations
FSSetOwner
command
path
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
Short
permission
PermissionParam
FSSetPermission
Short
permission
params
get
PermissionParam
NAME
FSOperations
FSSetPermission
command
path
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
replication
ReplicationParam
FSSetReplication
JSONObject
json
AUDIT_LOG
info
path
permission
response
Response
ok
build
Short
replication
params
get
ReplicationParam
NAME
FSOperations
FSSetReplication
command
JSONObject
json
fsExecute
user
Long
modifiedTime
ModifiedTimeParam
accessTime
AccessTimeParam
FSSetTimes
JSONObject
json
fsExecute
user
command
AUDIT_LOG
info
path
replication
response
Response
ok
build
Long
modifiedTime
params
get
ModifiedTimeParam
NAME
accessTime
AccessTimeParam
FSOperations
FSSetTimes
String
aclSpec
AclPermissionParam
FSSetAcl
Long
accessTime
params
get
AccessTimeParam
NAME
FSOperations
FSSetTimes
command
path
modifiedTime
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
String
aclSpec
AclPermissionParam
FSSetAcl
FSRemoveAcl
String
aclSpec
params
get
AclPermissionParam
NAME
FSOperations
FSSetAcl
command
path
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
FSRemoveAcl
FSOperations
FSRemoveAcl
command
path
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
String
aclSpec
params
get
AclPermissionParam
NAME
FSModifyAclEntries
String
aclSpec
params
get
AclPermissionParam
NAME
FSOperations
FSModifyAclEntries
command
path
fsExecute
user
AUDIT_LOG
info
response
Response
ok
build
FSRemoveAclEntries
AUDIT_LOG
info
path
aclSpec
response
Response
ok
build
String
params
get
AclPermissionParam
NAME
FSOperations
FSRemoveAclEntries
command
fsExecute
user
FSRemoveDefaultAcl
IllegalStateException
status
Status
BOOTING
verifyDir
homeDir
tempDir
Properties
serverInfo
InputStream
is
getResource
name
load
close
RuntimeException
initLog
log
info
IllegalStateException
status
Status
BOOTING
verifyDir
homeDir
tempDir
Properties
serverInfo
InputStream
is
getResource
name
load
close
RuntimeException
initLog
log
info
status
Status
BOOTING
verifyDir
homeDir
tempDir
Properties
serverInfo
InputStream
is
getResource
name
load
close
RuntimeException
initLog
log
info
getProperty
status
Status
BOOTING
verifyDir
homeDir
tempDir
Properties
serverInfo
InputStream
is
getResource
name
load
close
RuntimeException
initLog
log
info
getProperty
verifyDir
homeDir
tempDir
Properties
serverInfo
InputStream
is
getResource
name
load
close
RuntimeException
initLog
log
info
getProperty
verifyDir
tempDir
Properties
serverInfo
InputStream
is
getResource
name
load
close
RuntimeException
initLog
log
info
getProperty
defaultConf
Configuration
ConfigurationUtils
load
inputStream
ServerException
ERROR
S03
defaultConfig
ex
getMessage
siteConf
File
siteFile
file
name
log
warn
S05
getAbsolutePath
ServerException
ERROR
S05
siteFile
getAbsolutePath
log
debug
inputStream
Files
newInputStream
toPath
siteConf
Configuration
ConfigurationUtils
load
S06
ex
getMessage
config
copy
injectDefaults
defaultConf
ConfigRedactor
redactor
inputStream
Files
newInputStream
siteFile
toPath
siteConf
Configuration
ConfigurationUtils
load
ServerException
ERROR
S06
ex
getMessage
config
copy
injectDefaults
defaultConf
ConfigRedactor
redactor
String
value
System
getProperty
name
set
redacted
redact
log
info
Service
service
klass
newInstance
Map
Class
Service
map
LinkedHashMap
classes
getConfig
getClasses
getPrefixedName
CONF_SERVICES
classesExt
CONF_SERVICES_EXT
List
list
ArrayList
loadServices
List
Service
list
ArrayList
services
values
Collections
reverse
ensureOperational
Check
notNull
klass
IllegalStateException
Service
newService
newInstance
oldService
services
get
getInterface
destroy
log
error
Object
ex
getMessage
init
put
Check
notNull
callable
LOG
debug
Object
delay
interval
unit
String
instrName
getClass
getSimpleName
Instrumentation
instr
getServer
get
Runtime
r
getRuntime
String
cp
System
getProperty
buildTestDir
fuseCmd
libHdfs
arch
jvm
lp
FileSystem
fs
get
config
String
exportsPath
getStrings
NfsConfigKeys
DFS_NFS_EXPORT_POINT_KEY
DFS_NFS_EXPORT_POINT_DEFAULT
URI
exportURI
Nfs3Utils
getResolvedURI
exportPath
MountResponse
writeMNTResponse
Nfs3Status
NFS3ERR_ACCES
out
xid
String
path
xdr
readString
LOG
debug
client
host
getHostName
URI
exportURI
exports
get
info
NFS3ERR_NOENT
DFSClient
dfsClient
config
LOG
debug
host
path
URI
exportURI
exports
get
info
MountResponse
writeMNTResponse
Nfs3Status
NFS3ERR_NOENT
out
xid
DFSClient
dfsClient
config
error
e
FileHandle
handle
LOG
info
path
MountResponse
writeMNTResponse
Nfs3Status
NFS3ERR_NOENT
out
xid
DFSClient
dfsClient
exportURI
config
error
e
FileHandle
handle
HdfsFileStatus
exFileStatus
getFileInfo
getPath
getFileId
Nfs3Utils
getNamenodeId
String
path
xdr
readString
FileSystem
fs
get
config
String
exportsPath
getStrings
NfsConfigKeys
DFS_NFS_EXPORT_POINT_KEY
DFS_NFS_EXPORT_POINT_DEFAULT
URI
exportURI
Nfs3Utils
getResolvedURI
exportPath
namenodeId
getNamenodeId
value
namenodeUriMap
Preconditions
checkNotNull
effectiveUser
realUser
checkTGTAndReloginFromKeytab
UserGroupInformation
ugi
createProxyUser
newValue
nonSequentialWriteInMemory
addAndGet
count
offset
request
getOffset
count
getCount
smallerCount
cachedOffset
offset
request
getOffset
count
getCount
cachedOffset
nextOffset
get
originalCount
WriteCtx
INVALID_ORIGINAL_COUNT
LOG
warn
String
format
offset
count
cachedOffset
alterWriteRequest
request
originalCount
getOffset
getCount
nextOffset
DataState
dataState
WriteCtx
NO_DUMP
ALLOW_DUMP
writeCtx
getHandle
getStableHow
getData
channel
xid
alterWriteRequest
request
cachedOffset
originalCount
count
offset
getOffset
getCount
LOG
warn
nextOffset
DataState
dataState
WriteCtx
NO_DUMP
ALLOW_DUMP
writeCtx
getHandle
getStableHow
getData
channel
xid
debug
updateNonSequentialWriteInMemory
oldWriteCtx
checkRepeatedWriteRequest
WRITE3Response
response
readbuffer
count
readCount
FSDataInputStream
fis
fos
hsync
EnumSet
of
SyncFlag
UPDATE_LENGTH
LOG
info
path
e
toString
Nfs3Status
NFS3ERR_IO
wccData
stableHow
Nfs3Constant
WRITE_COMMIT_VERF
dfsClient
createWrappedInputStream
open
read
offset
FSDataInputStream
fis
fos
hsync
EnumSet
of
SyncFlag
UPDATE_LENGTH
LOG
info
path
e
toString
WRITE3Response
Nfs3Status
NFS3ERR_IO
wccData
stableHow
Nfs3Constant
WRITE_COMMIT_VERF
dfsClient
createWrappedInputStream
open
readCount
read
offset
readbuffer
count
error
LOG
error
count
readCount
WRITE3Response
Nfs3Status
NFS3ERR_IO
wccData
stableHow
Nfs3Constant
WRITE_COMMIT_VERF
info
path
e
IOUtils
cleanupWithLogger
fis
Comparator
comparator
response
NFS3ERR_INVAL
Nfs3FileAttributes
postOpAttr
Preconditions
checkState
channel
preOpAttr
updateLastAccessTime
commitOffset
COMMIT_STATUS
ret
checkCommitInternal
xid
fromRead
LOG
debug
name
fos
hsync
EnumSet
of
SyncFlag
UPDATE_LENGTH
COMMIT_FINISHED
COMMIT_ERROR
LOG
debug
latestAttr
getFileId
processCommits
nextOffset
get
asyncStatus
Entry
OffsetRange
WriteCtx
lastEntry
pendingWrites
range
getKey
toWrite
getValue
trace
getMin
offset
OffsetRange
range
lastEntry
getKey
WriteCtx
toWrite
getValue
LOG
trace
getMin
nextOffset
offset
get
debug
processCommits
asyncStatus
pendingWrites
remove
warn
trimWriteRequest
offset
nextOffset
get
LOG
debug
processCommits
asyncStatus
range
pendingWrites
remove
warn
trimWriteRequest
toWrite
addAndGet
getCount
processCommits
nextOffset
get
asyncStatus
LOG
debug
range
pendingWrites
remove
warn
offset
trimWriteRequest
toWrite
addAndGet
getCount
WriteCtx
toWrite
offerNextToWrite
doSingleWrite
updateLastAccessTime
LOG
debug
latestAttr
getFileId
asyncStatus
Preconditions
checkState
offset
flushedOffset
getFlushedOffset
Entry
Long
CommitCtx
entry
pendingCommits
firstEntry
status
Nfs3Status
NFS3ERR_IO
fos
hsync
EnumSet
of
SyncFlag
UPDATE_LENGTH
NFS3_OK
LOG
error
latestAttr
getFileId
cce
status
Nfs3Status
NFS3ERR_IO
fos
hsync
EnumSet
of
SyncFlag
UPDATE_LENGTH
NFS3_OK
LOG
error
latestAttr
getFileId
cce
e
Nfs3Utils
getFileAttr
client
getFileIdPath
iug
fos
hsync
EnumSet
of
SyncFlag
UPDATE_LENGTH
status
Nfs3Status
NFS3_OK
LOG
error
latestAttr
getFileId
cce
NFS3ERR_IO
e
Nfs3Utils
getFileAttr
client
getFileIdPath
iug
LOG
error
e
status
Nfs3Status
NFS3ERR_IO
latestAttr
Nfs3Utils
getFileAttr
client
getFileIdPath
getFileId
iug
offset
getSize
WccData
wccData
getWccAttr
pendingCommits
remove
entry
getKey
CommitCtx
commit
getValue
Channel
channel
writeCtx
getChannel
xid
getXid
offset
getOffset
count
getCount
WriteStableHow
stableHow
getStableHow
FileHandle
handle
getHandle
FileHandle
handle
writeCtx
getHandle
LOG
debug
dumpFileHandle
offset
count
stableHow
name
writeData
fos
RpcProgramNfs3
metrics
incrBytesWritten
getCount
flushedOffset
getFlushedOffset
IOException
setDataState
WriteCtx
DataState
NO_DUMP
updateNonSequentialWriteInMemory
writeCtx
writeData
fos
RpcProgramNfs3
metrics
incrBytesWritten
getCount
flushedOffset
getFlushedOffset
IOException
offset
count
setDataState
WriteCtx
DataState
NO_DUMP
updateNonSequentialWriteInMemory
LOG
debug
handle
dumpFileHandle
nonSequentialWriteInMemory
get
writeCtx
setDataState
WriteCtx
DataState
NO_DUMP
updateNonSequentialWriteInMemory
count
LOG
debug
handle
dumpFileHandle
offset
nonSequentialWriteInMemory
get
info
fos
hsync
Preconditions
checkState
stableHow
WriteStableHow
FILE_SYNC
LOG
info
writeCtx
fos
hsync
Preconditions
checkState
stableHow
WriteStableHow
FILE_SYNC
EnumSet
of
SyncFlag
UPDATE_LENGTH
error
e
WccAttr
preOpAttr
latestAttr
getWccAttr
WccData
fileWcc
warn
getOriginalCount
count
Preconditions
checkState
stableHow
WriteStableHow
FILE_SYNC
fos
hsync
EnumSet
of
SyncFlag
UPDATE_LENGTH
LOG
error
writeCtx
e
WccAttr
preOpAttr
latestAttr
getWccAttr
WccData
fileWcc
warn
getOriginalCount
count
WRITE3Response
response
Nfs3Status
NFS3_OK
Nfs3Constant
WRITE_COMMIT_VERF
RpcProgramNfs3
metrics
addWrite
Nfs3Utils
getElapsedTime
startTime
writeChannel
channel
serialize
XDR
xid
VerifierNone
processCommits
getOffset
getCount
activeState
dumpThread
interrupt
join
fos
close
LOG
info
latestAttr
getFileId
e
toString
pendingWrites
size
WccAttr
preOpAttr
getWccAttr
OffsetRange
key
firstKey
fos
close
LOG
info
latestAttr
getFileId
e
toString
pendingWrites
size
WccAttr
preOpAttr
getWccAttr
OffsetRange
key
firstKey
nextOffset
get
WriteCtx
writeCtx
remove
WccData
fileWcc
WRITE3Response
response
Nfs3Status
NFS3ERR_IO
getStableHow
Nfs3Constant
WRITE_COMMIT_VERF
Nfs3Utils
writeChannel
getChannel
serialize
XDR
getXid
VerifierNone
LOG
info
pendingWrites
size
WccAttr
preOpAttr
latestAttr
getWccAttr
OffsetRange
key
firstKey
nextOffset
get
WriteCtx
writeCtx
remove
WccData
fileWcc
WRITE3Response
response
Nfs3Status
NFS3ERR_IO
getStableHow
Nfs3Constant
WRITE_COMMIT_VERF
Nfs3Utils
writeChannel
getChannel
serialize
XDR
getXid
VerifierNone
dumpOut
close
error
dumpFilePath
e
LOG
debug
ctx
pairs
idlest
warn
idleTime
Time
monotonicNow
getValue
getLastAccessTime
Iterator
Entry
FileHandle
OpenFileCtx
it
openFileMap
entrySet
iterator
LOG
trace
size
pairs
next
handle
getKey
ctx
getValue
ctx2
get
remove
File
dumpDir
writeDumpDir
GETATTR3Response
response
Nfs3Status
NFS3_OK
setStatus
NFS3ERR_ACCES
GETATTR3Request
request
deserialize
xdr
LOG
error
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
namenodeId
handle
getNamenodeId
LOG
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
Nfs3FileAttributes
attrs
writeManager
getFileAttr
iug
warn
r
IOException
io
unwrapRemoteException
GETATTR3Response
NFS3ERR_ACCES
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
Nfs3FileAttributes
attrs
writeManager
getFileAttr
dfsClient
handle
iug
LOG
warn
r
IOException
io
unwrapRemoteException
GETATTR3Response
NFS3ERR_ACCES
NFS3ERR_IO
info
getFileId
e
EnumSet
SetAttrField
updateFields
newAttr
getUpdateFields
request
SETATTR3Request
deserialize
xdr
LOG
error
response
setStatus
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
NFS3ERR_SERVERFAULT
FileHandle
handle
request
getHandle
namenodeId
getNamenodeId
LOG
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
error
getFileId
NFS3ERR_INVAL
String
fileIdPath
Nfs3Utils
getFileIdPath
Nfs3FileAttributes
preOpAttr
LOG
info
handle
getFileId
response
setStatus
Nfs3Status
NFS3ERR_STALE
WccAttr
preOpWcc
Nfs3Utils
getWccAttr
preOpAttr
WccData
wccData
SETATTR3Response
NFS3ERR_NOT_SYNC
NFS3ERR_ACCES
setattrInternal
dfsClient
fileIdPath
request
getAttr
Nfs3FileAttributes
postOpAttr
getFileAttr
iug
NFS3_OK
LOOKUP3Response
response
Nfs3Status
NFS3_OK
setStatus
NFS3ERR_ACCES
LOOKUP3Request
request
deserialize
xdr
LOG
error
NFS3ERR_INVAL
FileHandle
dirHandle
getHandle
String
fileName
getName
namenodeId
getNamenodeId
LOG
error
LOOKUP3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
dirHandle
request
getHandle
String
fileName
getName
namenodeId
getNamenodeId
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
dirFileIdPath
Nfs3Utils
getFileIdPath
Nfs3FileAttributes
postOpObjAttr
writeManager
getFileAttr
FileHandle
dirHandle
request
getHandle
String
fileName
getName
namenodeId
getNamenodeId
LOG
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
dirFileIdPath
Nfs3Utils
getFileIdPath
Nfs3FileAttributes
postOpObjAttr
writeManager
getFileAttr
getFileId
postOpDirAttr
iug
response
setStatus
Nfs3Status
NFS3ERR_ACCES
ACCESS3Request
request
deserialize
xdr
LOG
error
ACCESS3Response
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
NFS3ERR_SERVERFAULT
request
ACCESS3Request
deserialize
xdr
LOG
error
ACCESS3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
debug
dumpFileHandle
remoteAddress
Nfs3FileAttributes
attrs
writeManager
getFileAttr
iug
LOG
error
READLINK3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
request
getHandle
namenodeId
getNamenodeId
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
String
fileIdPath
Nfs3Utils
getFileIdPath
target
getLinkTarget
Nfs3FileAttributes
postOpAttr
getFileAttr
iug
READLINK3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
request
getHandle
namenodeId
getNamenodeId
LOG
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
String
fileIdPath
Nfs3Utils
getFileIdPath
target
getLinkTarget
Nfs3FileAttributes
postOpAttr
getFileAttr
iug
info
getFileId
namenodeId
handle
getNamenodeId
LOG
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
String
fileIdPath
Nfs3Utils
getFileIdPath
target
getLinkTarget
Nfs3FileAttributes
postOpAttr
getFileAttr
iug
info
getFileId
READLINK3Response
NFS3ERR_STALE
String
userName
securityHandler
getUser
response
setStatus
Nfs3Status
NFS3ERR_ACCES
READ3Request
request
deserialize
xdr
LOG
error
READ3Response
NFS3ERR_INVAL
offset
getOffset
count
getCount
FileHandle
handle
getHandle
namenodeId
getNamenodeId
READ3Response
Nfs3Status
NFS3ERR_INVAL
offset
request
getOffset
count
getCount
FileHandle
handle
getHandle
namenodeId
getNamenodeId
LOG
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
userName
response
setStatus
NFS3ERR_SERVERFAULT
Nfs3FileAttributes
attrs
eof
count
request
getCount
FileHandle
handle
getHandle
namenodeId
getNamenodeId
LOG
debug
dumpFileHandle
offset
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
userName
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
Nfs3FileAttributes
attrs
eof
Nfs3Utils
getFileAttr
getFileIdPath
iug
READ3Response
Nfs3Status
NFS3ERR_ACCES
ret
writeManager
commitBeforeRead
dfsClient
handle
offset
count
LOG
warn
rtmax
config
getInt
NfsConfigKeys
DFS_NFS_MAX_READ_TRANSFER_SIZE_KEY
DFS_NFS_MAX_READ_TRANSFER_SIZE_DEFAULT
buffSize
Math
min
readbuffer
readCount
FSDataInputStream
fis
clientCache
getDfsInputStream
userName
Nfs3Utils
getFileIdPath
namenodeId
read
request
WRITE3Request
deserialize
xdr
LOG
error
WRITE3Response
Nfs3Status
NFS3ERR_INVAL
offset
getOffset
count
getCount
WriteStableHow
stableHow
getStableHow
data
getData
array
FileHandle
handle
getHandle
namenodeId
getNamenodeId
WriteStableHow
stableHow
request
getStableHow
data
getData
array
LOG
error
WRITE3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
debug
dumpFileHandle
offset
count
getValue
xid
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
Nfs3FileAttributes
preOpAttr
FileHandle
handle
request
getHandle
namenodeId
getNamenodeId
LOG
debug
dumpFileHandle
offset
count
stableHow
getValue
xid
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
Nfs3FileAttributes
preOpAttr
writeManager
getFileAttr
iug
error
getFileId
WRITE3Response
NFS3ERR_STALE
namenodeId
handle
getNamenodeId
LOG
debug
dumpFileHandle
offset
count
stableHow
getValue
xid
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
Nfs3FileAttributes
preOpAttr
writeManager
getFileAttr
iug
error
getFileId
WRITE3Response
NFS3ERR_STALE
NFS3ERR_ACCES
WccData
Nfs3Utils
getWccAttr
Nfs3Constant
WRITE_COMMIT_VERF
request
CREATE3Request
deserialize
xdr
LOG
error
CREATE3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
dirHandle
getHandle
String
fileName
getName
namenodeId
getNamenodeId
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
createMode
getMode
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
namenodeId
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
createMode
request
getMode
LOG
error
fileName
dirHandle
getFileId
CREATE3Response
NFS3ERR_INVAL
HdfsDataOutputStream
fos
String
dirFileIdPath
Nfs3Utils
getFileIdPath
Nfs3FileAttributes
preOpDirAttr
postOpObjAttr
FileHandle
fileHandle
WccData
dirWcc
CREATE3Response
Nfs3Status
NFS3ERR_ACCES
preOpDirAttr
WccData
Nfs3Utils
getWccAttr
String
fileIdPath
getFileIdPath
dirHandle
fileName
SetAttr3
setAttr3
request
getObjAttr
assert
FsPermission
permission
getUpdateFields
contains
SetAttrField
MODE
getMode
getDefault
applyUMask
umask
EnumSet
CreateFlag
flag
createMode
Nfs3Constant
CREATE_EXCLUSIVE
of
CREATE
OVERWRITE
fos
dfsClient
createWrappedOutputStream
create
replication
blockSize
bufferSize
add
GID
setGid
securityHandler
getGid
setattrInternal
postOpObjAttr
getFileAttr
iug
dirWcc
createWccData
dirFileIdPath
OpenFileCtx
openFileCtx
writeDumpDir
getFileId
aixCompatMode
config
MKDIR3Response
response
Nfs3Status
NFS3_OK
MKDIR3Request
request
deserialize
xdr
LOG
error
NFS3ERR_INVAL
FileHandle
dirHandle
getHandle
String
fileName
getName
namenodeId
getNamenodeId
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
setStatus
NFS3ERR_SERVERFAULT
request
MKDIR3Request
deserialize
xdr
LOG
error
MKDIR3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
dirHandle
getHandle
String
fileName
getName
namenodeId
getNamenodeId
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
namenodeId
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
LOG
debug
dirHandle
dumpFileHandle
fileName
remoteAddress
error
MKDIR3Response
NFS3ERR_INVAL
String
dirFileIdPath
Nfs3Utils
getFileIdPath
Nfs3FileAttributes
preOpDirAttr
postOpDirAttr
postOpObjAttr
FileHandle
objFileHandle
MKDIR3Response
Nfs3Status
NFS3ERR_ACCES
preOpDirAttr
WccData
Nfs3Utils
getWccAttr
String
fileIdPath
dirFileIdPath
fileName
SetAttr3
setAttr3
request
getObjAttr
FsPermission
permission
getUpdateFields
contains
SetAttrField
MODE
getMode
getDefault
applyUMask
umask
dirWcc
createWccData
dfsClient
iug
NFS3ERR_IO
add
GID
setGid
securityHandler
getGid
setattrInternal
postOpObjAttr
getFileAttr
objFileHandle
FileHandle
getFileId
namenodeId
NFS3_OK
REMOVE3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
dirHandle
request
getHandle
namenodeId
getNamenodeId
String
fileName
getName
LOG
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
dirFileIdPath
Nfs3Utils
getFileIdPath
Nfs3FileAttributes
preOpDirAttr
postOpDirAttr
getFileAttr
iug
WccData
errWcc
Nfs3Utils
getWccAttr
preOpDirAttr
REMOVE3Response
Nfs3Status
NFS3ERR_ACCES
String
fileIdPath
dirFileIdPath
fileName
HdfsFileStatus
fstat
getFileStatus
dfsClient
NFS3ERR_NOENT
NFS3ERR_ISDIR
result
delete
dirWcc
createWccData
iug
NFS3_OK
RMDIR3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
dirHandle
request
getHandle
String
fileName
getName
namenodeId
getNamenodeId
LOG
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
dirFileIdPath
Nfs3Utils
getFileIdPath
Nfs3FileAttributes
preOpDirAttr
postOpDirAttr
getFileAttr
iug
RMDIR3Response
Nfs3Status
NFS3ERR_ACCES
errWcc
String
fileIdPath
dirFileIdPath
fileName
HdfsFileStatus
fstat
Nfs3Utils
getFileStatus
dfsClient
NFS3ERR_NOENT
NFS3ERR_NOTDIR
NFS3ERR_NOTEMPTY
result
delete
WccData
dirWcc
createWccData
getWccAttr
preOpDirAttr
iug
NFS3_OK
RENAME3Response
response
Nfs3Status
NFS3_OK
RENAME3Request
request
deserialize
xdr
LOG
error
NFS3ERR_INVAL
FileHandle
fromHandle
getFromDirHandle
fromNamenodeId
getNamenodeId
String
fromName
getFromName
toHandle
getToDirHandle
toNamenodeId
toName
getToName
LOG
debug
fromHandle
dumpFileHandle
fromName
toHandle
toName
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
fromNamenodeId
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
NFS3ERR_INVAL
String
fromDirFileIdPath
Nfs3Utils
getFileIdPath
toDirFileIdPath
Nfs3FileAttributes
fromPreOpAttr
toPreOpAttr
WccData
fromDirWcc
toDirWcc
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
NFS3ERR_INVAL
String
fromDirFileIdPath
Nfs3Utils
getFileIdPath
fromHandle
toDirFileIdPath
toHandle
Nfs3FileAttributes
fromPreOpAttr
toPreOpAttr
WccData
fromDirWcc
toDirWcc
getFileAttr
dfsClient
iug
LOG
info
getFileId
toPreOpAttr
Nfs3Utils
getFileAttr
dfsClient
toDirFileIdPath
iug
LOG
info
toHandle
getFileId
RENAME3Response
Nfs3Status
NFS3ERR_STALE
WccData
fromWcc
getWccAttr
fromPreOpAttr
toWcc
NFS3ERR_ACCES
String
src
fromDirFileIdPath
fromName
dst
toName
rename
Options
Rename
NONE
fromDirWcc
createWccData
toDirWcc
NFS3_OK
response
setStatus
Nfs3Status
NFS3ERR_ACCES
SYMLINK3Request
request
deserialize
xdr
LOG
error
NFS3ERR_INVAL
FileHandle
dirHandle
getHandle
String
name
getName
symData
getSymData
linkDirIdPath
Nfs3Utils
getFileIdPath
namenodeId
getNamenodeId
linkIdPath
READDIR3Response
response
Nfs3Status
NFS3_OK
setStatus
NFS3ERR_ACCES
READDIR3Request
request
deserialize
xdr
LOG
error
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
cookie
getCookie
response
READDIR3Request
request
deserialize
xdr
LOG
error
READDIR3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
cookie
getCookie
count
getCount
request
READDIR3Request
deserialize
xdr
LOG
error
READDIR3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
cookie
getCookie
count
getCount
info
NFS3_OK
count
request
getCount
LOG
info
READDIR3Response
Nfs3Status
NFS3_OK
debug
handle
dumpFileHandle
cookie
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
namenodeId
response
setStatus
NFS3ERR_SERVERFAULT
HdfsFileStatus
dirStatus
DirectoryListing
dlisting
Nfs3FileAttributes
postOpAttr
dotdotFileId
LOG
info
count
READDIR3Response
Nfs3Status
NFS3_OK
debug
handle
dumpFileHandle
cookie
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
namenodeId
response
setStatus
NFS3ERR_SERVERFAULT
HdfsFileStatus
dirStatus
DirectoryListing
dlisting
Nfs3FileAttributes
postOpAttr
dotdotFileId
String
dirFileIdPath
Nfs3Utils
getFileIdPath
getFileInfo
response
setStatus
Nfs3Status
NFS3ERR_SERVERFAULT
HdfsFileStatus
dirStatus
DirectoryListing
dlisting
Nfs3FileAttributes
postOpAttr
dotdotFileId
String
dirFileIdPath
Nfs3Utils
getFileIdPath
handle
dfsClient
getFileInfo
LOG
info
getFileId
READDIR3Response
NFS3ERR_STALE
error
READDIRPLUS3Response
Nfs3Status
NFS3ERR_ACCES
READDIRPLUS3Request
request
deserialize
xdr
LOG
error
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
cookie
getCookie
dirCount
getDirCount
request
READDIRPLUS3Request
deserialize
xdr
LOG
error
READDIRPLUS3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
getHandle
namenodeId
getNamenodeId
cookie
getCookie
dirCount
getDirCount
info
maxCount
getMaxCount
LOG
error
READDIRPLUS3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
request
getHandle
namenodeId
getNamenodeId
cookie
getCookie
dirCount
getDirCount
info
maxCount
getMaxCount
READDIRPLUS3Response
Nfs3Status
NFS3ERR_INVAL
maxCount
request
getMaxCount
LOG
info
debug
handle
dumpFileHandle
cookie
dirCount
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
namenodeId
NFS3ERR_SERVERFAULT
HdfsFileStatus
dirStatus
DirectoryListing
dlisting
Nfs3FileAttributes
postOpDirAttr
dotdotFileId
dotdotStatus
LOG
info
maxCount
READDIRPLUS3Response
Nfs3Status
NFS3ERR_INVAL
debug
handle
dumpFileHandle
cookie
dirCount
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
namenodeId
NFS3ERR_SERVERFAULT
HdfsFileStatus
dirStatus
DirectoryListing
dlisting
Nfs3FileAttributes
postOpDirAttr
dotdotFileId
dotdotStatus
String
dirFileIdPath
Nfs3Utils
getFileIdPath
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
namenodeId
READDIRPLUS3Response
Nfs3Status
NFS3ERR_SERVERFAULT
HdfsFileStatus
dirStatus
DirectoryListing
dlisting
Nfs3FileAttributes
postOpDirAttr
dotdotFileId
dotdotStatus
String
dirFileIdPath
Nfs3Utils
getFileIdPath
handle
getFileInfo
LOG
info
getFileId
NFS3ERR_STALE
LOG
error
handle
getFileId
READDIRPLUS3Response
Nfs3Status
NFS3ERR_NOTDIR
cookieVerf
request
getCookieVerf
warn
dirStatus
getModificationTime
NFS3ERR_BAD_COOKIE
Nfs3Utils
getFileAttr
dfsClient
dirFileIdPath
iug
String
dotdotFileIdPath
dotdotStatus
getFileInfo
IOException
dotdotFileId
startAfter
HdfsFileStatus
EMPTY_NAME
String
inodeIdPath
Nfs3Utils
getFileIdPath
cookie
getBytes
Charset
forName
dlisting
listPaths
dfsClient
dirFileIdPath
postOpDirAttr
getFileAttr
iug
LOG
info
handle
getFileId
READDIRPLUS3Response
Nfs3Status
NFS3ERR_STALE
warn
e
status
mapErrorStatus
READDIRPLUS3Response
Nfs3Status
NFS3ERR_STALE
LOG
warn
e
status
mapErrorStatus
HdfsFileStatus
fstatus
dlisting
getPartialListing
n
Math
min
length
dirCount
eof
hasMore
EntryPlus3
entries
postOpDirAttr
getFileId
FileHandle
namenodeId
dotdotFileId
Nfs3Utils
getNfs3FileAttrFromFileStatus
dotdotStatus
iug
fileId
i
LOG
error
FSSTAT3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
request
getHandle
namenodeId
getNamenodeId
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
FsStatus
fsStatus
getDiskStatus
totalBytes
getCapacity
freeBytes
getRemaining
LOG
error
FSINFO3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
request
getHandle
namenodeId
getNamenodeId
debug
remoteAddress
dumpFileHandle
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
rtmax
config
getInt
NfsConfigKeys
DFS_NFS_MAX_READ_TRANSFER_SIZE_KEY
DFS_NFS_MAX_READ_TRANSFER_SIZE_DEFAULT
wtmax
DFS_NFS_MAX_WRITE_TRANSFER_SIZE_KEY
DFS_NFS_MAX_WRITE_TRANSFER_SIZE_DEFAULT
dtperf
DFS_NFS_MAX_READDIR_TRANSFER_SIZE_KEY
DFS_NFS_MAX_READDIR_TRANSFER_SIZE_DEFAULT
PATHCONF3Response
response
Nfs3Status
NFS3_OK
setStatus
NFS3ERR_ACCES
PATHCONF3Request
request
deserialize
xdr
LOG
error
NFS3ERR_INVAL
FileHandle
handle
getHandle
Nfs3FileAttributes
attrs
namenodeId
getNamenodeId
request
PATHCONF3Request
deserialize
xdr
LOG
error
PATHCONF3Response
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
getHandle
Nfs3FileAttributes
attrs
namenodeId
getNamenodeId
debug
dumpFileHandle
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
response
setStatus
NFS3ERR_SERVERFAULT
Nfs3Utils
getFileAttr
getFileIdPath
iug
LOG
error
response
setStatus
Nfs3Status
NFS3ERR_INVAL
FileHandle
handle
request
getHandle
namenodeId
getNamenodeId
debug
dumpFileHandle
getOffset
getCount
remoteAddress
DFSClient
dfsClient
clientCache
getDfsClient
securityHandler
getUser
NFS3ERR_SERVERFAULT
String
fileIdPath
Nfs3Utils
getFileIdPath
Nfs3FileAttributes
preOpAttr
getFileAttr
iug
String
fileIdPath
Nfs3Utils
getFileIdPath
handle
Nfs3FileAttributes
preOpAttr
getFileAttr
dfsClient
iug
LOG
info
getFileId
COMMIT3Response
Nfs3Status
NFS3ERR_STALE
NFS3ERR_ACCES
WccData
getWccAttr
Nfs3Constant
WRITE_COMMIT_VERF
commitOffset
request
getCount
getOffset
writeManager
handleCommit
channel
xid
namenodeId
warn
e
postOpAttr
RpcCall
rpcCall
info
header
NFSPROC3
nfsproc3
fromValue
getProcedure
xid
getXid
data
readableBytes
readBytes
XDR
xdr
out
InetAddress
client
InetSocketAddress
remoteAddress
getAddress
Credentials
credentials
getCredential
Credentials
credentials
rpcCall
getCredential
LOG
info
getFlavor
XDR
reply
RpcDeniedReply
rdr
xid
RpcReply
ReplyState
MSG_ACCEPTED
RejectState
AUTH_ERROR
VerifierNone
write
ChannelBuffer
buf
ChannelBuffers
wrappedBuffer
asReadOnlyWrap
buffer
RpcResponse
rsp
remoteAddress
RpcUtil
sendRpcResponse
ctx
RpcCallCache
CacheEntry
entry
rpcCallCache
checkOrAddToCache
client
XDR
reply
RpcDeniedReply
rdr
xid
RpcReply
ReplyState
MSG_ACCEPTED
RejectState
AUTH_ERROR
VerifierNone
write
ChannelBuffer
buf
ChannelBuffers
wrappedBuffer
asReadOnlyWrap
buffer
RpcResponse
rsp
info
remoteAddress
RpcUtil
sendRpcResponse
ctx
RpcCallCache
CacheEntry
entry
rpcCallCache
checkOrAddToCache
client
LOG
getResponse
startTime
System
nanoTime
NFS3Response
response
nullProcedure
getattr
xdr
info
metrics
addGetattr
Nfs3Utils
getElapsedTime
setattr
addSetattr
lookup
addLookup
access
NFS3Response
response
nullProcedure
getattr
xdr
info
metrics
addGetattr
Nfs3Utils
getElapsedTime
startTime
setattr
addSetattr
lookup
addLookup
access
addAccess
response
getattr
xdr
info
metrics
addGetattr
Nfs3Utils
getElapsedTime
startTime
setattr
addSetattr
lookup
addLookup
access
addAccess
readlink
addReadlink
Preconditions
checkState
delta
count
OpenFileCtx
openFileCtx
fileContextCache
get
fileHandle
LOG
info
dumpFileHandle
String
fileIdPath
Nfs3Utils
getFileIdPath
getFileId
HdfsDataOutputStream
fos
Nfs3FileAttributes
latestAttr
bufferSize
config
getInt
CommonConfigurationKeysPublic
IO_FILE_BUFFER_SIZE_KEY
IO_FILE_BUFFER_SIZE_DEFAULT
dfsClient
append
EnumSet
of
CreateFlag
APPEND
getFileAttr
iug
IOException
io
e
unwrapRemoteException
warn
request
LOG
warn
fileIdPath
request
e
error
fos
close
WccData
fileWcc
Nfs3Utils
getWccAttr
preOpAttr
WRITE3Response
response
Nfs3Status
NFS3ERR_IO
count
getStableHow
Nfs3Constant
WRITE_COMMIT_VERF
writeChannel
channel
serialize
XDR
xid
VerifierNone
String
writeDumpDir
config
get
NfsConfigKeys
DFS_NFS_FILE_DUMP_DIR_KEY
DFS_NFS_FILE_DUMP_DIR_DEFAULT
openFileCtx
OpenFileCtx
latestAttr
fileHandle
getFileId
dfsClient
iug
aixCompatMode
info
LOG
error
fileIdPath
e
fos
close
WccData
fileWcc
Nfs3Utils
getWccAttr
preOpAttr
WRITE3Response
response
Nfs3Status
NFS3ERR_IO
count
request
getStableHow
Nfs3Constant
WRITE_COMMIT_VERF
writeChannel
channel
serialize
XDR
xid
VerifierNone
String
writeDumpDir
config
get
NfsConfigKeys
DFS_NFS_FILE_DUMP_DIR_KEY
DFS_NFS_FILE_DUMP_DIR_DEFAULT
openFileCtx
OpenFileCtx
latestAttr
fileHandle
getFileId
dfsClient
iug
aixCompatMode
info
handle
dumpFileHandle
status
OpenFileCtx
openFileCtx
fileContextCache
get
fileHandle
startTime
System
nanoTime
status
OpenFileCtx
openFileCtx
fileContextCache
get
fileHandle
RuntimeException
ret
name
Nfs3FileAttributes
postOpAttr
getFileAttr
dfsClient
FileHandle
preOpAttr
getFileId
namenodeId
iug
conf
configuration
server
rpcServer
store
stateStore
metrics
FederationRPCMetrics
create
ThreadFactory
threadFactory
ThreadFactoryBuilder
setNameFormat
build
executor
Executors
newFixedThreadPool
StandardMBean
bean
FederationRPCMBean
registeredBean
MBeans
register
innerinfo
put
node
getAdminState
toString
getNonDfsUsed
getCapacity
getSoftwareVersion
getDfsUsed
getRemaining
getBlockPoolUsed
getBlockPoolUsedPercent
info
getHostName
getXferPort
Collections
unmodifiableMap
LOG
error
type
innerinfo
put
node
getCapacity
getSoftwareVersion
getDfsUsed
getRemaining
getBlockPoolUsed
getBlockPoolUsedPercent
info
getHostName
getXferPort
Collections
unmodifiableMap
LOG
error
type
List
MembershipState
namenodes
getActiveNamenodeRegistrations
namenodesOrder
ArrayList
Collections
sort
NAME_COMPARATOR
Map
String
Object
innerInfo
HashMap
map
getJson
namenode
putAll
dateModified
getDateModified
lastHeartbeat
getSecondsSince
put
MembershipStats
stats
getStats
used
getTotalSpace
getAvailableSpace
info
getNamenodeKey
unmodifiableMap
totalDfsUsed
usages
live
length
i
dn
getDfsUsedPercent
Arrays
sort
median
max
min
dev
Math
sqrt
MembershipState
partial
newInstance
String
rpcAddress
address
getHostName
getPort
setRpcAddress
setNameserviceId
nsId
GetNamenodeRegistrationsRequest
request
MembershipStore
membership
getMembershipStore
GetNamenodeRegistrationsResponse
response
getNamenodeRegistrations
List
records
getNamenodeMemberships
record
get
UpdateNamenodeRegistrationRequest
updateRequest
getNameserviceId
getNamenodeId
ACTIVE
updateNamenodeRegistration
cacheNS
remove
cacheBP
clear
List
FederationNamenodeContext
ret
cacheBP
get
bpId
MembershipState
partial
newInstance
setBlockPoolId
GetNamenodeRegistrationsRequest
request
result
getRecentRegistrationForQuery
MembershipStore
membershipStore
getMembershipStore
GetNamenodeRegistrationsResponse
response
getNamenodeRegistrations
request
List
MembershipState
memberships
getNamenodeMemberships
Iterator
iterator
membership
next
remove
priorityList
ArrayList
addAll
Collections
sort
NamenodePriorityComparator
ConcurrentMap
String
PathLocation
map
locationCache
asMap
Set
Entry
entries
entrySet
Iterator
it
iterator
entry
next
key
getKey
loc
getValue
src
getSourcePath
LOG
debug
remove
dest
getDefaultLocation
getDest
writeLock
lock
Map
String
MountTable
newEntries
ConcurrentHashMap
srcPath
entry
getSourcePath
put
Set
oldEntries
TreeSet
Collections
reverseOrder
add
tree
remove
invalidateLocationCache
newEntries
put
srcPath
entry
Set
String
oldEntries
TreeSet
Collections
reverseOrder
getSourcePath
add
tree
remove
invalidateLocationCache
LOG
info
String
srcPath
entry
getSourcePath
oldEntries
add
tree
remove
invalidateLocationCache
LOG
info
put
MountTable
existingEntry
get
tree
remove
srcPath
invalidateLocationCache
LOG
info
String
entry
getSourcePath
put
MountTable
existingEntry
get
String
srcPath
entry
getSourcePath
PathLocation
mountTableResult
getDestinationForPath
path
PathLocation
mountTableResult
getDestinationForPath
path
LOG
error
getClass
getSimpleName
DestinationOrder
order
getDestinationOrder
OrderedResolver
orderedResolver
orderedResolvers
get
String
firstNamespace
getFirstNamespace
debug
String
srcPath
loc
getSourcePath
trimmedPath
trimPathToChild
path
String
finalPath
extractTempFileName
path
Set
namespaces
loc
getNamespaces
ConsistentHashRing
locator
getHashResolver
hashedSubcluster
getLocation
srcPath
getSourcePath
String
localSubcluster
clientAddr
getClientAddr
Map
subclusterInfo
getSubclusterMapping
get
rpcServer
getDatanodeStorageReportMap
DatanodeReportType
ALL
LOG
error
e
String
nsId
entry
getKey
DatanodeStorageReport
dns
getValue
DatanodeInfo
dnInfo
dn
getDatanodeInfo
ipAddr
getIpAddr
ret
put
Map
String
ret
HashMap
GetNamenodeRegistrationsRequest
request
newInstance
GetNamenodeRegistrationsResponse
response
membershipStore
getNamenodeRegistrations
List
MembershipState
nns
getNamenodeMemberships
nsId
nn
getNameserviceId
rpcAddress
getRpcAddress
hostname
HostAndPort
fromString
getHost
put
localIp
InetAddress
addr
getByName
ipAddr
getHostAddress
Set
String
namespaces
loc
getNamespaces
readLock
unlock
writeLock
lock
pool
pools
get
connectionId
ConnectionPool
conf
nnAddress
ugi
minSize
maxSize
minActiveRatio
protocol
put
ConnectionContext
conn
getConnection
LOG
error
creatorQueueMaxSize
timeSinceLastActive
TimeUnit
MILLISECONDS
toSeconds
Time
now
getLastActiveTime
String
msg
proto
getName
URL
jmxURL
scheme
host
port
beanQuery
LOG
debug
URLConnection
conn
connectionFactory
openConnection
UserGroupInformation
isSecurityEnabled
setConnectTimeout
setReadTimeout
InputStream
in
getInputStream
InputStreamReader
isr
reader
BufferedReader
StringBuilder
sb
String
line
append
jmxOutput
toString
JSONObject
json
ret
getJSONArray
URLConnection
conn
connectionFactory
openConnection
jmxURL
UserGroupInformation
isSecurityEnabled
setConnectTimeout
setReadTimeout
InputStream
in
getInputStream
InputStreamReader
isr
reader
BufferedReader
StringBuilder
sb
String
line
append
jmxOutput
toString
JSONObject
json
ret
getJSONArray
LOG
error
beanQuery
webAddress
e
conn
setReadTimeout
InputStream
in
getInputStream
InputStreamReader
isr
reader
BufferedReader
StringBuilder
sb
String
line
append
jmxOutput
toString
JSONObject
json
ret
getJSONArray
LOG
error
beanQuery
webAddress
e
getMessage
sb
append
line
String
jmxOutput
toString
JSONObject
json
ret
getJSONArray
LOG
error
beanQuery
webAddress
e
getMessage
reader
close
nnDesc
namenodeId
localTarget
rpcAddress
getRpcAddress
conf
nameserviceId
LOG
info
serviceAddress
DFSUtil
getNamenodeServiceAddr
error
lifelineAddress
getNamenodeLifelineAddr
webAddress
getNamenodeWebAddr
NamenodeStatusReport
report
getNamenodeStatusReport
LOG
error
getNamenodeDesc
debug
getState
warn
info
NamenodeStatusReport
report
nameserviceId
namenodeId
rpcAddress
serviceAddress
lifelineAddress
scheme
webAddress
LOG
debug
serviceAddress
URI
serviceURI
NamenodeProtocol
nn
NameNodeProxies
createProxy
conf
getProxy
NamespaceInfo
info
versionRequest
report
setNamespaceInfo
ClientProtocol
client
isSafeMode
setSafeMode
SafeModeAction
SAFEMODE_GET
ClientProtocol
client
NameNodeProxies
createProxy
conf
serviceURI
getProxy
isSafeMode
setSafeMode
SafeModeAction
SAFEMODE_GET
report
LOG
error
getNamenodeDesc
e
updateJMXParameters
webAddress
localTargetHAProtocol
localTarget
HAServiceStatus
status
getServiceStatus
setHAServiceState
getState
report
setSafeMode
isSafeMode
LOG
error
getNamenodeDesc
e
updateJMXParameters
webAddress
localTargetHAProtocol
localTarget
getProxy
conf
HAServiceStatus
status
getServiceStatus
setHAServiceState
getState
LOG
error
getNamenodeDesc
e
updateJMXParameters
webAddress
report
localTargetHAProtocol
localTarget
getProxy
conf
HAServiceStatus
status
getServiceStatus
setHAServiceState
getState
getMessage
RemoteLocation
loc
entry
getKey
QuotaUsage
usage
getValue
nsCount
getFileAndDirectoryCount
ssCount
getSpaceConsumed
eachByStorageType
t
typeCount
ordinal
getTypeConsumed
hasQuotaUnset
nsQuota
getQuota
ssQuota
getSpaceQuota
typeQuota
getTypeQuota
NamenodeHeartbeatService
localHeartbeatService
createLocalNamenodeHeartbeatService
String
nnDesc
getNamenodeDesc
ret
put
Collection
namenodes
conf
getTrimmedStringCollection
RBFConfigKeys
DFS_ROUTER_MONITOR_NAMENODE
namenodeSplit
namenode
split
nsId
nnId
String
nsId
DFSUtil
getNamenodeNameServiceId
conf
nnId
HAUtil
getNameNodeId
checkSuperuserPrivilege
String
nsId
request
getNameServiceId
success
getDisabledNameserviceStore
disableNameservice
checkSuperuserPrivilege
String
nsId
request
getNameServiceId
DisabledNameserviceStore
store
getDisabledNameserviceStore
Set
disabled
getDisabledNameservices
success
enableNameservice
rpcServer
checkOperation
NameNode
OperationCategory
WRITE
index
src
lastIndexOf
Path
SEPARATOR
String
parent
substring
rpcServer
checkOperation
NameNode
OperationCategory
WRITE
index
src
lastIndexOf
Path
SEPARATOR
String
parent
substring
LOG
debug
FsPermission
parentPermissions
getParentPermission
masked
success
mkdirs
createParent
rpcServer
checkOperation
NameNode
OperationCategory
READ
List
RemoteResult
RemoteLocation
DirectoryListing
listings
getListingInt
src
startAfter
needLocation
TreeMap
String
HdfsFileStatus
nnListing
totalRemainingEntries
remainingEntries
namenodeListingExists
lastName
IOException
ioe
result
getException
location
getLocation
notFoundException
FileNotFoundException
ioe
summaries
add
result
getResult
List
String
children
subclusterResolver
getMountPoints
path
Path
childPath
child
ContentSummary
mountSummary
getContentSummary
toString
MountTableResolver
mountTable
subclusterResolver
MountTable
entry
getMountPoint
mName
permission
getMode
owner
getOwnerName
group
getGroupName
RemoteMethod
method
Class
String
RemoteParam
HdfsFileStatus
fInfo
getFileInfoAll
getDestinations
mountStatusTimeOut
getPermission
getOwner
getGroup
childrenNum
getChildrenNum
flags
DFSUtil
getFlags
isEncrypted
isErasureCoded
isSnapshotEnabled
hasAcl
permission
fInfo
getPermission
owner
getOwner
group
getGroup
childrenNum
getChildrenNum
flags
DFSUtil
getFlags
isEncrypted
isErasureCoded
isSnapshotEnabled
hasAcl
LOG
error
e
getMessage
UserGroupInformation
ugi
RouterRpcServer
getRemoteUser
getUserName
getPrimaryGroupName
String
msg
group
fInfo
getGroup
childrenNum
getChildrenNum
flags
DFSUtil
getFlags
isEncrypted
isErasureCoded
isSnapshotEnabled
hasAcl
LOG
error
e
getMessage
UserGroupInformation
ugi
RouterRpcServer
getRemoteUser
owner
getUserName
getPrimaryGroupName
String
msg
srcPath
Path
SEPARATOR
child
path
Long
modTime
MountTable
entry
mountTable
getMountPoint
List
entries
getMounts
eachEntry
getDateModified
startTime
Time
monotonicNow
String
warnMsg
LOG
warn
out
println
msg
UserGroupInformation
getCurrentUser
remoteAddress
Date
LOG
error
RouterStore
routerStore
router
getRouterStateManager
RouterState
record
newInstance
routerId
getStartTime
getRouterState
StateStoreVersion
stateStoreVersion
getStateStoreVersion
MembershipStore
MountTableStore
setStateStoreVersion
String
hostPort
StateStoreUtils
getHostPortString
getAdminServerAddress
setAdminAddress
RouterHeartbeatRequest
request
RouterHeartbeatResponse
response
routerHeartbeat
warn
RouterStore
routerStore
router
getRouterStateManager
RouterState
record
newInstance
routerId
getStartTime
getRouterState
StateStoreVersion
stateStoreVersion
getStateStoreVersion
MembershipStore
MountTableStore
setStateStoreVersion
String
hostPort
StateStoreUtils
getHostPortString
getAdminServerAddress
setAdminAddress
RouterHeartbeatRequest
request
RouterHeartbeatResponse
response
routerHeartbeat
LOG
warn
debug
ssQuota
oldQuota
getSpaceQuota
typeQuota
StorageType
values
length
Quota
eachByStorageType
t
ordinal
getTypeQuota
QuotaUsage
currentQuotaUsage
HdfsFileStatus
ret
rpcServer
getFileInfo
src
zeroConsume
RouterQuotaUsage
Builder
fileAndDirectoryCount
quota
nsQuota
spaceConsumed
spaceQuota
typeConsumed
build
quotaModule
getQuotaModule
Map
RemoteLocation
usageMap
getEachQuotaUsage
aggregateQuota
remoteQuotaUsage
putAll
QuotaUsage
gQuota
rpcServer
getQuotaModule
getGlobalQuota
location
getSrc
setQuotaInternal
Arrays
asList
getQuota
getSpaceQuota
ioes
put
namenode
ioe
rpcMonitor
proxyOpFailureStandby
failover
proxyOpFailureCommunicate
proxyOpComplete
RemoteException
re
unwrapRemoteException
getCleanException
rpcMonitor
proxyOpFailureCommunicate
failover
proxyOpComplete
RemoteException
re
ioe
unwrapRemoteException
getCleanException
LOG
error
nsId
rpcAddress
getMessage
StandbyException
se
ioe
getMessage
initCause
rpcMonitor
proxyOpNoNamenodes
LOG
error
nsId
rpcAddress
RetriableException
proxyOpFailureCommunicate
proxyOpComplete
rpcMonitor
proxyOpNoNamenodes
LOG
error
nsId
rpcAddress
ioe
getMessage
RetriableException
proxyOpFailureCommunicate
proxyOpComplete
connection
release
rpcMonitor
proxyOpNoNamenodes
LOG
error
nsId
rpcAddress
ioe
getMessage
RetriableException
proxyOpFailureCommunicate
proxyOpComplete
connection
release
String
msg
method
getName
Arrays
deepToString
params
namenodes
router
getRouterId
String
methodName
matcher
group
fileName
lineNumber
Integer
parseInt
StackTraceElement
element
declaringClass
elements
add
stackTrace
toArray
size
RemoteException
re
ioe
ret
getClassName
msg
Class
IOException
ioeClass
getClass
Constructor
constructor
getDeclaredConstructor
newInstance
List
FederationNamenodeContext
namenodes
getNamenodesForNameservice
ns
Class
proto
remoteMethod
getProtocol
Object
params
getParams
loc
result
invokeMethod
ugi
m
SuppressWarnings
R
location
T
ret
RemoteResult
firstResult
ioe
processException
thrownExceptions
add
rpcMonitor
proxyOp
List
Future
Object
futures
executorService
invokeAll
callables
timeOutMs
TimeUnit
MILLISECONDS
RemoteResult
T
R
results
ArrayList
location
orderedLocations
get
i
future
result
add
T
location
orderedLocations
get
i
Future
Object
future
futures
R
result
results
add
RemoteResult
loc
String
msg
method
getMethodName
LOG
error
IOException
ioe
SubClusterTimeoutException
Throwable
cause
ex
getCause
debug
m
getName
getMessage
R
result
future
get
results
add
RemoteResult
location
T
loc
orderedLocations
i
String
msg
method
getMethodName
LOG
error
IOException
ioe
SubClusterTimeoutException
Throwable
cause
ex
getCause
debug
m
getName
getMessage
UserGroupInformation
loginUser
getLoginUser
RouterRpcServer
setCurrentUser
DatanodeInfo
dns
clientProto
getDatanodeReport
type
checkOperation
OperationCategory
UNCHECKED
Map
String
DatanodeInfo
datanodesMap
LinkedHashMap
RemoteMethod
method
Class
DatanodeReportType
type
Set
FederationNamespaceInfo
nss
namenodeResolver
getNamespaces
results
rpcClient
invokeConcurrent
requireResponse
timeOutMs
ns
entry
getKey
result
getValue
nodeId
node
getXferAddr
dn
get
setNetworkLocation
NodeBase
PATH_SEPARATOR_STR
getNameserviceId
getNetworkLocation
put
timeInSafemode
now
enterSafeModeTime
now
Time
delta
startupTime
LOG
debug
String
operationName
success
tokenId
canceller
getRemoteUser
getUserName
LOG
info
checkAgainstZkBeforeDeletion
set
zkClient
create
creatingParentsIfNeeded
withMode
CreateMode
PERSISTENT
forPath
ZK_DTSM_TOKENS_ROOT
zookeeper
getZookeeperClient
getZooKeeper
e
IOException
start
Time
now
rebuildTokenCache
LOG
info
e
IOException
start
Time
now
rebuildTokenCache
syncInterval
conf
getInt
ZK_DTSM_ROUTER_TOKEN_SYNC_INTERVAL
ZK_DTSM_ROUTER_TOKEN_SYNC_INTERVAL_DEFAULT
List
R
newRecords
query
getRecords
currentDriverTime
getTimestamp
LOG
error
String
recordName
StateStoreUtils
getRecordName
record
getClass
deleteRecords
add
info
warn
addService
monitorService
MembershipState
setExpirationMs
conf
getTimeDuration
RBFConfigKeys
FEDERATION_STORE_MEMBERSHIP_EXPIRATION_MS
FEDERATION_STORE_MEMBERSHIP_EXPIRATION_MS_DEFAULT
TimeUnit
MILLISECONDS
setDeletionMs
FEDERATION_STORE_MEMBERSHIP_EXPIRATION_DELETION_MS
FEDERATION_STORE_MEMBERSHIP_EXPIRATION_DELETION_MS_DEFAULT
RouterState
FEDERATION_STORE_ROUTER_EXPIRATION_MS
FEDERATION_STORE_ROUTER_EXPIRATION_MS_DEFAULT
FEDERATION_STORE_ROUTER_EXPIRATION_DELETION_MS
FEDERATION_STORE_ROUTER_EXPIRATION_DELETION_MS_DEFAULT
cacheUpdater
StateStoreCacheUpdateService
metrics
StateStoreMetrics
create
StandardMBean
bean
StateStoreMBean
ObjectName
registeredObject
MBeans
register
LOG
info
RuntimeException
e
String
driverName
driver
getClass
getSimpleName
success
List
StateStoreCache
cachesToUpdate
LinkedList
addAll
cachesToUpdateInternal
cachesToUpdateExternal
String
cacheName
cachedStore
getClass
getSimpleName
result
loadCache
force
LOG
error
e
String
dataDirPath
getRootDir
className
String
dataDirPath
getRootDir
className
LOG
info
verifyDriverReady
start
monotonicNow
StateStoreMetrics
metrics
getMetrics
List
T
ret
ArrayList
String
path
getPathForClass
clazz
children
getChildren
pathRecord
child
List
String
children
getChildren
path
pathRecord
child
LOG
debug
warn
remove
T
record
getRecord
clazz
ret
add
metrics
addFailure
monotonicNow
start
msg
getSimpleName
start
monotonicNow
StateStoreMetrics
metrics
getMetrics
Map
String
T
toWrite
HashMap
Class
BaseRecord
recordClass
record
getClass
path
getPathForClass
primaryKey
getPrimaryKey
recordPath
setDateModified
getTime
put
Map
String
T
toWrite
HashMap
Class
BaseRecord
recordClass
record
getClass
path
getPathForClass
primaryKey
getPrimaryKey
recordPath
setDateModified
getTime
put
LOG
error
metrics
addFailure
monotonicNow
start
metrics
addFailure
monotonicNow
start
LOG
debug
record
toWrite
put
recordPath
success
String
entry
getKey
recordPathTemp
now
TMP_MARK
BufferedWriter
writer
getWriter
T
getValue
line
serializeString
toWrite
put
recordPath
record
success
String
entry
getKey
recordPathTemp
now
TMP_MARK
BufferedWriter
writer
getWriter
T
getValue
line
serializeString
write
LOG
error
e
toWrite
put
recordPath
record
success
String
entry
getKey
recordPathTemp
now
TMP_MARK
BufferedWriter
writer
getWriter
T
getValue
line
serializeString
write
LOG
error
e
start
Time
monotonicNow
StateStoreMetrics
metrics
getMetrics
removed
QueryResult
T
result
get
clazz
List
existingRecords
getRecords
recordsToRemove
filterMultiple
query
success
String
path
getPathForClass
primaryKey
getPrimaryKey
recordToRemove
recordToRemovePath
removed
QueryResult
T
result
get
clazz
List
existingRecords
getRecords
recordsToRemove
filterMultiple
query
success
String
path
getPathForClass
primaryKey
getPrimaryKey
recordToRemove
recordToRemovePath
LOG
error
List
T
recordsToRemove
filterMultiple
query
existingRecords
success
String
path
getPathForClass
clazz
primaryKey
getPrimaryKey
recordToRemove
recordToRemovePath
removed
LOG
error
metrics
addFailure
monotonicNow
start
BufferedReader
reader
BufferedWriter
writer
List
String
children
zkManager
getChildren
znode
path
getNodePath
child
Stat
stat
data
getStringData
corrupted
T
record
createRecord
clazz
ret
add
String
path
getNodePath
znode
child
Stat
stat
data
zkManager
getStringData
corrupted
T
record
createRecord
clazz
ret
add
LOG
error
getSimpleName
e
getMessage
String
data
zkManager
getStringData
path
stat
corrupted
T
record
createRecord
clazz
ret
add
LOG
error
getSimpleName
e
getMessage
child
delete
T
record
createRecord
data
stat
clazz
ret
add
LOG
error
getSimpleName
e
getMessage
corrupted
child
path
zkManager
delete
getMetrics
addFailure
monotonicNow
start
String
msg
znode
start
monotonicNow
List
T
records
QueryResult
result
get
clazz
getRecords
LOG
error
ex
getMetrics
addFailure
String
znode
getZNodeForClass
recordsToRemove
filterMultiple
query
removed
records
result
getRecords
LOG
error
ex
getMetrics
addFailure
monotonicNow
start
String
znode
getZNodeForClass
clazz
List
T
recordsToRemove
filterMultiple
query
removed
info
existingRecord
primaryKey
getPrimaryKey
path
getNodePath
LOG
error
ex
getMetrics
addFailure
monotonicNow
start
String
znode
getZNodeForClass
clazz
List
T
recordsToRemove
filterMultiple
query
records
removed
info
existingRecord
primaryKey
getPrimaryKey
path
getNodePath
start
monotonicNow
status
String
znode
getZNodeForClass
clazz
start
monotonicNow
status
String
znode
getZNodeForClass
clazz
LOG
info
List
children
zkManager
getChildren
path
getNodePath
child
created
zkManager
create
znode
MembershipState
record
request
getNamenodeMembership
String
nnId
getNamenodeKey
existingEntry
cacheReadLock
lock
activeRegistrations
get
unlock
LOG
info
debug
FederationNamenodeServiceState
state
record
getState
TreeSet
MembershipState
matchingSet
occurenceMap
get
put
add
largestSet
first
sortedList
records
FSNamesystem
namesystem
nn
getNamesystem
HAContext
haContext
getHAContext
spyHAContext
spy
RouterRpcClient
rpcClient
server
getRPCClient
ConnectionManager
connectionManager
getConfig
spyConnectionManager
spy
router
shutDown
loopCount
Thread
sleep
SortedMap
String
fs
ConcurrentSkipListMap
DirectoryListing
l
mockNn
getListing
anyString
any
anyBoolean
src
getSrc
invocation
FileNotFoundException
src
Map
String
files
fs
subMap
Character
MAX_VALUE
List
HdfsFileStatus
list
ArrayList
fileStatus
getMockHdfsFileStatus
file
get
add
array
toArray
size
DirectoryListing
getSrc
invocation
Map
String
files
fs
subMap
src
Character
MAX_VALUE
List
HdfsFileStatus
list
ArrayList
fileStatus
getMockHdfsFileStatus
file
get
add
array
toArray
size
DirectoryListing
getSrc
invocation
LOG
info
nsId
c
mockNn
create
anyString
any
anyBoolean
anyShort
anyLong
list
add
fileStatus
HdfsFileStatus
array
toArray
size
DirectoryListing
String
src
getSrc
invocation
LOG
info
nsId
getMockHdfsFileStatus
fs
get
c
mockNn
create
anyString
any
anyBoolean
anyShort
anyLong
createParent
getArgument
LOG
info
nsId
src
getMockHdfsFileStatus
fs
get
HdfsFileStatus
c
mockNn
create
anyString
any
anyBoolean
anyShort
anyLong
String
getSrc
invocation
createParent
getArgument
Path
path
getParent
put
toString
HdfsFileStatus
c
mockNn
create
anyString
any
anyBoolean
anyShort
anyLong
String
src
getSrc
invocation
LOG
info
nsId
createParent
getArgument
Path
path
getParent
fs
put
toString
getMockHdfsFileStatus
Path
path
src
getParent
LOG
info
nsId
fs
put
toString
getMockHdfsFileStatus
LocatedBlocks
b
mockNn
getBlockLocations
anyString
anyLong
String
getSrc
invocation
error
FileNotFoundException
getMockHdfsFileStatus
src
LocatedBlocks
b
mockNn
getBlockLocations
anyString
anyLong
String
getSrc
invocation
LOG
info
nsId
error
FileNotFoundException
mock
f
complete
any
LOG
error
nsId
src
FileNotFoundException
mock
LocatedBlocks
f
mockNn
complete
anyString
any
anyLong
String
getSrc
invocation
LocatedBlock
a
addBlock
f
mockNn
complete
anyString
any
anyLong
String
src
getSrc
invocation
LOG
error
nsId
FileNotFoundException
LocatedBlock
a
addBlock
FileNotFoundException
src
LocatedBlock
a
mockNn
addBlock
anyString
any
anyLong
String
getSrc
invocation
LOG
error
nsId
getMockLocatedBlock
m
mkdirs
anyBoolean
info
LOG
error
nsId
src
FileNotFoundException
getMockLocatedBlock
m
mockNn
mkdirs
anyString
any
anyBoolean
String
getSrc
invocation
info
createParent
getArgument
Path
path
getParent
fs
put
toString
MembershipNamenodeResolver
resolver
router
getNamenodeResolver
String
nsId
nn
getNameserviceId
rpcAddress
getRPCPort
httpAddress
getHTTPPort
scheme
NamenodeStatusReport
report
List
MountTable
emptyList
ArrayList
mountTable
refreshEntries
Map
String
map
getMountTableEntry
i
record
newInstance
addEntry
routerClient
close
LOG
error
Map
String
Integer
newResult
objectMapper
readValue
metrics
getAsyncCallerPool
total
get
FileSystem
router0Fs
getFileSystem
routers
get
router1Fs
ns0Fs
namenodes
getRPCPort
String
mountPoint
order
Path
mountPath
FileSystem
router0Fs
getFileSystem
routers
get
router1Fs
ns0Fs
namenodes
getRPCPort
String
mountPoint
order
Path
mountPath
LOG
info
createMountTableEntry
getRandomRouter
keySet
refreshRoutersCaches
FileSystem
router0Fs
getFileSystem
routers
get
router1Fs
ns0Fs
namenodes
getRPCPort
String
mountPoint
order
Path
mountPath
LOG
info
createMountTableEntry
getRandomRouter
keySet
refreshRoutersCaches
checkDirectoriesFaultTolerant
checkFilesFaultTolerant
FileStatus
dirs0
listStatus
router1Fs
mountPoint
FileStatus
dirs0
listStatus
router1Fs
mountPoint
Path
dir0
getPathWithoutSchemeAndAuthority
getPath
TaskResults
results
succeeded
task
get
DestinationOrder
order
HASH_ALL
String
mountPoint
Path
mountPath
FSDataInputStream
fsdis
fs
open
fileexisting
assertNotNull
LambdaTestUtils
intercept
FileNotFoundException
filenotexisting
String
nsIdWithFile
nsId
entry
getKey
MockNamenode
nn
getValue
rpc
getRPCPort
FileSystem
nnfs
getFileSystem
FileStatus
fileStatus
getFileStatus
assertNull
LambdaTestUtils
intercept
FileNotFoundException
fs
open
filenotexisting
String
nsIdWithFile
nsId
entry
getKey
MockNamenode
nn
getValue
rpc
getRPCPort
FileSystem
nnfs
getFileSystem
FileStatus
fileStatus
getFileStatus
fileexisting
assertNotNull
assertNull
LOG
debug
MountTable
addEntry
newInstance
Collections
singletonMap
assertTrue
addMountTable
routerFs
createNewFile
Path
HttpGet
httpGet
webAddress
getHostName
getPort
assertEquals
HttpStatus
SC_OK
httpResponse
getStatusLine
getStatusCode
String
out
EntityUtils
toString
getEntity
StandardCharsets
UTF_8
LOG
info
out
assertTrue
contains
nnCount
nn
getWebAddress
assertEquals
httpGet
HttpGet
webAddress
getHostName
getPort
HttpStatus
SC_OK
httpResponse
getStatusLine
getStatusCode
String
EntityUtils
toString
getEntity
StandardCharsets
UTF_8
combinedData
routerProtocol
getStats
individualData
getAggregateStats
len
Math
min
length
String
mountPoint
snapshotFolder
LOG
info
ErasureCodingPolicyInfo
policies
checkErasureCodingPolicies
Map
String
codecsNamenode
nnProtocol
getErasureCodingCodecs
assertTrue
Maps
difference
codecsRouter
areEqual
LOG
info
entry
getKey
getValue
dirPath
filePath1
FsPermission
permission
routerProtocol
mkdirs
createFile
routerFS
verifyFileExists
DFSClient
file1Protocol
getFileDFSClient
assertNull
getErasureCodingPolicy
String
filePath1
dirPath
FsPermission
permission
routerProtocol
mkdirs
createFile
routerFS
assertTrue
verifyFileExists
DFSClient
file1Protocol
getFileDFSClient
LOG
info
assertNull
getErasureCodingPolicy
policyName
setErasureCodingPolicy
filePath2
when
ugi1
getRealUser
thenReturn
suUgi
ugi2
getShortUserName
superUser
getUserName
getGroups
groupNames1
groupNames2
getGroupsSet
groupNamesSet1
groupNamesSet2
LambdaTestUtils
intercept
AuthorizationException
ProxyUsers
authorize
LOOPBACK_ADDRESS
LambdaTestUtils
intercept
AuthorizationException
ProxyUsers
authorize
ugi1
LOOPBACK_ADDRESS
ugi2
LOG
info
getUserName
fail
getShortUserName
e
getLocalizedMessage
String
rsrc
tempResource
addNewConfigResource
userKeyGroups
userKeyHosts
conf
set
DFSConfigKeys
FS_DEFAULT_NAME_KEY
defaultFs
DFSAdmin
admin
args
run
Groups
groups
getUserToGroupsMappingService
conf
String
user
LOG
info
List
g1
getGroups
Groups
groups
getUserToGroupsMappingService
conf
String
user
LOG
info
List
g1
getGroups
g2
String
user
LOG
info
List
g1
groups
getGroups
g2
assertEquals
get
i
conf
set
DFSConfigKeys
FS_DEFAULT_NAME_KEY
defaultFs
DFSAdmin
admin
args
run
g3
conf
set
DFSConfigKeys
FS_DEFAULT_NAME_KEY
defaultFs
DFSAdmin
admin
String
args
run
LOG
info
List
g3
groups
getGroups
user
assertNotEquals
g1
get
i
g4
String
args
admin
run
LOG
info
List
g3
groups
getGroups
user
assertNotEquals
g1
get
i
g4
debug
ZKDelegationTokenSecretManagerImpl
dtsm1
conf
dtsm2
dtsm3
DelegationTokenManager
tm1
tm2
tm3
Text
setExternalDelegationTokenSecretManager
Token
DelegationTokenIdentifier
token
createToken
UserGroupInformation
getCurrentUser
Assert
assertNotNull
verifyToken
Thread
sleep
renewalTime
renewToken
String
filterInitializerConfKey
initializers
conf
get
parts
split
Set
target
LinkedHashSet
filterInitializer
trim
add
AuthFilterInitializer
getName
StringUtils
join
set
LOG
info
HttpServer2
Builder
builder
setName
name
setConf
setACL
AccessControlList
DFS_ADMIN
setSecurityEnabled
UserGroupInformation
isSecurityEnabled
setUsernameConfKey
spnegoUserNameKey
setKeytabConfKey
getSpnegoKeytabKey
spnegoKeytabFileKey
target
add
filterInitializer
AuthFilterInitializer
getName
initializers
StringUtils
join
conf
set
filterInitializerConfKey
LOG
info
HttpServer2
Builder
builder
setName
name
setConf
setACL
AccessControlList
get
DFS_ADMIN
setSecurityEnabled
UserGroupInformation
isSecurityEnabled
setUsernameConfKey
spnegoUserNameKey
setKeytabConfKey
getSpnegoKeytabKey
spnegoKeytabFileKey
SecurityUtil
getServerPrincipal
httpAddr
getHostName
setFindPort
URI
uri
create
NetUtils
getHostPortString
addEndpoint
LOG
info
initializers
HttpServer2
Builder
builder
setName
name
setConf
conf
setACL
AccessControlList
get
DFS_ADMIN
setSecurityEnabled
UserGroupInformation
isSecurityEnabled
setUsernameConfKey
spnegoUserNameKey
setKeytabConfKey
getSpnegoKeytabKey
spnegoKeytabFileKey
SecurityUtil
getServerPrincipal
httpAddr
getHostName
setFindPort
URI
uri
create
NetUtils
getHostPortString
addEndpoint
Configuration
sslConf
loadSslConfiguration
loadSslConfToHttpServerBuilder
InetSocketAddress
inAddr
IllegalArgumentException
fs
exists
Path
DistributedFileSystem
dfs
Configuration
dfsConf
getConf
URI
dfsUri
getUri
String
nsId
getHost
List
ClientProtocol
namenodes
getProxiesForAllNameNodesInNameservice
RPC
getServerAddress
proxy
searchScope
NodeBase
ROOT
excludedScope
scope
substring
Node
n
chooseRandom
excludedNodes
LOG
debug
Preconditions
checkArgument
DatanodeDescriptor
dnDescriptor
availableCount
root
getSubtreeStorageCount
type
DFSTopologyNodeImpl
excludeRoot
DatanodeDescriptor
hasStorageType
excludedNode
Collection
InMemoryAliasMapProtocol
aliasMaps
ArrayList
URI
namenodeURI
Configuration
newConf
conf
setClass
addKeySuffixes
PROXY_PROVIDER_KEY_PREFIX
nsId
InMemoryAliasMapFailoverProxyProvider
AbstractNNFailoverProxyProvider
HdfsConstants
HDFS_URI_SCHEME
String
key
DFS_PROVIDED_ALIASMAP_INMEMORY_RPC_ADDRESS
addr
get
createUri
NetUtils
createSocketAddr
add
NameNodeProxies
createProxy
getProxy
namenodeURI
URI
HdfsConstants
HDFS_URI_SCHEME
nsId
String
key
addKeySuffixes
DFS_PROVIDED_ALIASMAP_INMEMORY_RPC_ADDRESS
addr
conf
get
createUri
NetUtils
createSocketAddr
aliasMaps
add
NameNodeProxies
createProxy
newConf
InMemoryAliasMapProtocol
getProxy
LOG
info
warn
e
uri
Preconditions
checkState
isActiveWriter
LOG
info
Map
AsyncLogger
NewEpochResponseProto
resps
createNewUniqueEpoch
loggers
getEpoch
File
paxosDir
sd
getCurrentDir
File
paxosDir
sd
getCurrentDir
LOG
info
toPath
f
isFile
Matcher
matcher
p
getName
txid
Long
parseLong
group
Preconditions
checkState
nsInfo
getNamespaceID
checkRequest
reqInfo
needsValidation
curSegment
close
curSegmentTxId
HdfsServerConstants
INVALID_TXID
curSegmentLayoutVersion
checkSync
nextTxId
endTxId
startTxId
journalId
FileJournalManager
EditLogFile
elf
fjm
getLogFile
JournalOutOfSyncException
checkRequest
reqInfo
abortCurSegment
segmentTxId
segment
getStartTxId
Preconditions
checkArgument
getEndTxId
TextFormat
shortDebugString
journalId
PersistedRecoveryPaxosData
oldData
getPersistedPaxosData
newData
newBuilder
setAcceptedInEpoch
getEpoch
setSegmentState
build
alwaysAssert
getAcceptedInEpoch
File
syncedFile
SegmentStateProto
currentSegment
getSegmentInfo
LOG
info
updateHighestWrittenTxId
Math
max
highestWrittenTxId
File
syncedFile
SegmentStateProto
currentSegment
getSegmentInfo
segmentTxId
LOG
info
TextFormat
shortDebugString
segment
journalId
updateHighestWrittenTxId
Math
max
getEndTxId
highestWrittenTxId
AssertionError
committedTxnId
get
alwaysAssert
getIsInProgress
syncLog
reqInfo
fromUrl
LOG
info
TextFormat
shortDebugString
segment
currentSegment
journalId
AssertionError
committedTxnId
get
alwaysAssert
getIsInProgress
updateHighestWrittenTxId
getEndTxId
syncedFile
syncLog
reqInfo
fromUrl
JournalFaultInjector
beforePersistPaxosData
persistPaxosData
segmentTxId
newData
afterPersistPaxosData
FileUtil
replaceFile
storage
getInProgressEditLog
oldCTime
storage
getCTime
cTime
sInfo
oldLV
getLayoutVersion
layoutVersion
success
QuorumJournalManager
checkJournalId
jid
Journal
journal
journalsById
get
File
logDir
getLogDir
nameServiceId
Preconditions
checkState
isStarted
validateAndCreateJournalDir
journalDir
DefaultMetricsSystem
initialize
JvmMetrics
create
conf
get
DFSConfigKeys
DFS_METRICS_SESSION_ID_KEY
instance
InetSocketAddress
socAddr
JournalNodeRpcServer
getAddress
SecurityUtil
login
DFS_JOURNALNODE_KEYTAB_FILE_KEY
DFS_JOURNALNODE_KERBEROS_PRINCIPAL_KEY
getHostName
registerJNMXBean
httpServer
JournalNodeHttpServer
getHttpServerBindAddress
start
httpServerURI
getServerURI
toString
rpcServer
File
editsSyncDir
journal
getStorage
getEditsSyncDir
LOG
warn
syncJournals
info
Thread
currentThread
interrupt
t
LOG
info
jn
getBoundIpcAddress
getAddress
getPort
otherJNProxies
get
index
jid
InterQJournalProtocol
jnProxy
error
List
RemoteEditLog
thisJournalEditLogs
journal
getEditLogManifest
getLogs
e
GetEditLogManifestResponseProto
editLogManifest
getEditLogManifestFromJournal
nameServiceId
uriStr
conf
getTrimmed
DFSConfigKeys
DFS_NAMENODE_SHARED_EDITS_DIR_KEY
nameServiceId
HashSet
String
sharedEditsUri
Sets
newHashSet
Collection
nnIds
DFSUtilClient
getNameNodeIds
suffix
nnId
add
HashSet
String
sharedEditsUri
Sets
newHashSet
Collection
nnIds
DFSUtilClient
getNameNodeIds
conf
nameServiceId
suffix
nnId
uriStr
getTrimmed
DFSConfigKeys
DFS_NAMENODE_SHARED_EDITS_DIR_KEY
add
LOG
error
toString
Collection
String
nnIds
DFSUtilClient
getNameNodeIds
conf
nameServiceId
suffix
nnId
uriStr
getTrimmed
DFSConfigKeys
DFS_NAMENODE_SHARED_EDITS_DIR_KEY
sharedEditsUri
add
LOG
error
toString
getJournalAddrList
URL
url
success
remoteJNproxy
httpServerUrl
getHttpServerURI
response
getFromURL
jnAddr
getHostName
LOG
error
String
urlPath
GetJournalEditServlet
buildPath
jid
missingLog
getStartTxId
nsInfo
downloadMissingLogSegment
e
success
remoteJNproxy
httpServerUrl
getHttpServerURI
response
getFromURL
jnAddr
getHostName
LOG
error
String
urlPath
GetJournalEditServlet
buildPath
jid
missingLog
getStartTxId
nsInfo
url
URL
downloadMissingLogSegment
e
String
entryName
prefix
file
getName
TarArchiveEntry
tarEntry
tOut
putArchiveEntry
RPC
setProtocolEngine
getConf
AliasMapProtocolPB
ProtobufRpcEngine2
AliasMapProtocolServerSideTranslatorPB
aliasMapProtocolXlator
BlockingService
aliasMapProtocolService
AliasMapProtocolService
newReflectiveBlockingService
InetSocketAddress
rpcAddress
getBindAddress
conf
DFS_PROVIDED_ALIASMAP_INMEMORY_RPC_ADDRESS
DFS_PROVIDED_ALIASMAP_INMEMORY_RPC_ADDRESS_DEFAULT
DFS_PROVIDED_ALIASMAP_INMEMORY_RPC_BIND_HOST
setVerbose
getBoolean
DFS_PROVIDED_ALIASMAP_INMEMORY_SERVER_LOG
DFS_PROVIDED_ALIASMAP_INMEMORY_SERVER_LOG_DEFAULT
aliasMapServer
Builder
setProtocol
setInstance
setBindAddress
getHostName
setPort
getPort
setNumHandlers
build
v
conf
getLong
key
defaultValue
v
conf
getLongBytes
key
defaultValue
v
conf
getInt
key
defaultValue
LOG
info
matcher
chooseStorageGroups
overUtilized
underUtilized
LOG
info
matcher
chooseStorageGroups
overUtilized
underUtilized
belowAvgUtilized
size
Math
min
source
availableSizeToMove
target
Task
task
addTask
incScheduledSize
getSize
dispatcher
add
List
DatanodeStorageReport
reports
dispatcher
init
bytesLeftToMove
newResult
ExitStatus
SUCCESS
LOG
info
StringUtils
byteDesc
System
err
println
error
UNFINALIZED_UPGRADE
bytesBeingMoved
chooseStorageGroups
out
NO_MOVE_BLOCK
sleeptime
conf
getTimeDuration
DFSConfigKeys
DFS_HEARTBEAT_INTERVAL_KEY
DFS_HEARTBEAT_INTERVAL_DEFAULT
TimeUnit
SECONDS
MILLISECONDS
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_KEY
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_DEFAULT
sleeptime
conf
getTimeDuration
DFSConfigKeys
DFS_HEARTBEAT_INTERVAL_KEY
DFS_HEARTBEAT_INTERVAL_DEFAULT
TimeUnit
SECONDS
MILLISECONDS
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_KEY
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_DEFAULT
LOG
info
namenodes
sleeptime
conf
getTimeDuration
DFSConfigKeys
DFS_HEARTBEAT_INTERVAL_KEY
DFS_HEARTBEAT_INTERVAL_DEFAULT
TimeUnit
SECONDS
MILLISECONDS
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_KEY
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_DEFAULT
LOG
info
namenodes
p
sleeptime
conf
getTimeDuration
DFSConfigKeys
DFS_HEARTBEAT_INTERVAL_KEY
DFS_HEARTBEAT_INTERVAL_DEFAULT
TimeUnit
SECONDS
MILLISECONDS
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_KEY
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_DEFAULT
LOG
info
namenodes
p
getIncludedNodes
sleeptime
conf
getTimeDuration
DFSConfigKeys
DFS_HEARTBEAT_INTERVAL_KEY
DFS_HEARTBEAT_INTERVAL_DEFAULT
TimeUnit
SECONDS
MILLISECONDS
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_KEY
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_DEFAULT
LOG
info
namenodes
p
getIncludedNodes
getExcludedNodes
done
Collections
shuffle
connectors
Balancer
b
nnc
p
conf
Result
r
runOneIteration
print
iteration
System
out
resetData
exitStatus
getExitCode
scheduleInterval
conf
getTimeDuration
DFSConfigKeys
DFS_BALANCER_SERVICE_INTERVAL_KEY
DFS_BALANCER_SERVICE_INTERVAL_DEFAULT
TimeUnit
MILLISECONDS
retryOnException
getInt
DFS_BALANCER_SERVICE_RETRIES_ON_EXCEPTION
DFS_BALANCER_SERVICE_RETRIES_ON_EXCEPTION_DEFAULT
retCode
doBalance
namenodes
nsIds
p
LOG
info
failedTimesSinceLastSuccessfulBalance
exceptionsSinceLastBalance
e
getBlocksRateLimiter
acquire
isRequestStandby
NamenodeProtocol
nnproxy
List
ClientProtocol
namenodes
HAUtil
getProxiesForAllNameNodesInNameservice
config
nsId
sbn
NameNodeProxies
createNonHAProxy
RPC
getServerAddress
proxy
UserGroupInformation
getCurrentUser
getProxy
initialize
conf
stats
clusterMap
host2datanodeMap
balancedPreferencePercent
getFloat
DFS_NAMENODE_AVAILABLE_SPACE_BLOCK_PLACEMENT_POLICY_BALANCED_SPACE_PREFERENCE_FRACTION_KEY
DFS_NAMENODE_AVAILABLE_SPACE_BLOCK_PLACEMENT_POLICY_BALANCED_SPACE_PREFERENCE_FRACTION_DEFAULT
initialize
conf
stats
clusterMap
host2datanodeMap
balancedPreferencePercent
getFloat
DFS_NAMENODE_AVAILABLE_SPACE_RACK_FAULT_TOLERANT_BLOCK_PLACEMENT_POLICY_BALANCED_SPACE_PREFERENCE_FRACTION_KEY
DFS_NAMENODE_AVAILABLE_SPACE_BLOCK_RACK_FAULT_TOLERANT_PLACEMENT_POLICY_BALANCED_SPACE_PREFERENCE_FRACTION_DEFAULT
isEnabled
conf
getBoolean
DFSConfigKeys
DFS_BLOCK_ACCESS_TOKEN_ENABLE_KEY
DFS_BLOCK_ACCESS_TOKEN_ENABLE_DEFAULT
BlockPlacementPolicy
placementPolicy
placementPolicies
getPolicy
rw
getBlock
getBlockType
chooseTargets
storagePolicySuite
excludedNodes
namesystem
writeLock
DatanodeStorageInfo
targets
getTargets
resetTargets
scheduledWork
writeUnlock
BlockPlacementPolicy
placementPolicy
placementPolicies
getPolicy
rw
getBlock
getBlockType
chooseTargets
storagePolicySuite
excludedNodes
namesystem
writeLock
DatanodeStorageInfo
targets
getTargets
resetTargets
scheduledWork
writeUnlock
pendingNum
pendingReconstruction
getNumReplicas
block
neededReconstruction
remove
priority
rw
resetTargets
blockLog
debug
DatanodeStorageInfo
targets
getTargets
BlockPlacementStatus
placementStatus
getBlockPlacementStatus
newPlacementStatus
setNotEnoughRack
addTaskToDatanode
numReplicas
incrementBlocksScheduled
namesystem
writeLock
startTime
Time
monotonicNow
endTime
DatanodeDescriptor
node
Collection
Block
invalidatedBlocks
Collections
emptyList
String
strBlockReportId
context
Long
toHexString
getReportId
datanodeManager
getDatanode
nodeID
IOException
DatanodeStorageInfo
storageInfo
providedStorageMap
getStorage
storage
updateStorage
DatanodeDescriptor
node
Collection
Block
invalidatedBlocks
Collections
emptyList
String
strBlockReportId
context
Long
toHexString
getReportId
datanodeManager
getDatanode
nodeID
IOException
DatanodeStorageInfo
storageInfo
providedStorageMap
getStorage
storage
updateStorage
blockLog
info
blockReportLeaseManager
removeLease
hasStaleStorages
storageInfo
node
updateStorage
storage
blockLog
info
strBlockReportId
nodeID
blockReportLeaseManager
removeLease
hasStaleStorages
getStorageID
getDatanodeUuid
processFirstBlockReport
newReport
invalidatedBlocks
processReport
context
receivedBlockReport
endTime
Time
monotonicNow
namesystem
writeUnlock
node
hasStaleStorages
blockLog
info
strBlockReportId
storageInfo
getStorageID
nodeID
getDatanodeUuid
processFirstBlockReport
newReport
invalidatedBlocks
processReport
context
receivedBlockReport
endTime
Time
monotonicNow
namesystem
writeUnlock
debug
b
getNumBytes
NameNodeMetrics
metrics
NameNode
getNameNodeMetrics
namesystem
writeLock
startTime
Time
monotonicNow
startSize
postponedMisreplicatedBlocks
size
Iterator
Block
it
iterator
b
next
remove
BlockInfo
bi
getStoredBlock
LOG
debug
MisReplicationResult
res
processMisReplicatedBlock
Block
b
it
next
remove
BlockInfo
bi
getStoredBlock
LOG
debug
MisReplicationResult
res
processMisReplicatedBlock
rescannedMisreplicatedBlocks
add
postponedMisreplicatedBlocks
addAll
clear
endSize
size
set
add
BlockReportReplica
iblk
sortedReport
report
reportDiffSorted
storageInfo
toAdd
toRemove
toInvalidate
toCorrupt
toUC
DatanodeDescriptor
node
getDatanodeDescriptor
addStoredBlockUnderConstruction
b
removeStoredBlock
numBlocksLogged
addStoredBlock
stored
reported
maxNumBlocksToLog
report
assert
namesystem
hasWriteLock
storageInfo
getBlockReportCount
ReplicaState
reportedState
iblk
getState
assert
shouldPostponeBlocksFromFuture
isPreviousMessageProcessed
nrPostponed
postponeBlock
block
nrUnderConstruction
processed
totalProcessed
reconstructionQueuesInitProgress
Math
min
totalBlocks
LOG
info
blocksMap
size
nrInvalid
nrUnderReplicated
postponeBlock
block
nrUnderConstruction
processed
totalProcessed
reconstructionQueuesInitProgress
Math
min
totalBlocks
LOG
info
blocksMap
size
nrInvalid
nrUnderReplicated
nrOverReplicated
nrPostponed
processed
Iterator
BlockInfo
iter
blocks
iterator
limit
numBlocksPerIteration
namesystem
writeLockInterruptibly
blk
next
MisReplicationResult
r
processMisReplicatedBlock
nonExcess
remove
chosen
excessRedundancyMap
add
getDatanodeDescriptor
storedBlock
Block
blockToInvalidate
getBlockOnStorage
addToInvalidates
DatanodeDescriptor
node
storageInfo
getDatanodeDescriptor
BlockInfo
block
it
next
expectedReplication
getExpectedRedundancyNum
NumberReplicas
num
countNodes
processExtraRedundancyBlock
numExtraRedundancy
namesystem
writeUnlock
Thread
sleep
currentThread
interrupt
EnumMap
StorageType
Integer
storageTypes
getRequiredStorageTypes
requiredStorageTypes
List
DatanodeStorageInfo
results
ArrayList
avoidStaleNodes
stats
isAvoidingStaleDataNodesForWrite
maxNodesAndReplicas
getMaxNodesPerRack
numOfReplicas
maxNodesPerRack
chooseFavouredNodes
src
favoredNodes
favoriteAndExcludedNodes
blocksize
size
addToExcludedNodes
storage
getDatanodeDescriptor
remainingTargets
chooseTarget
writer
storagePolicy
flags
add
i
getPipeline
toArray
Map
String
List
DatanodeStorageInfo
rackMap
HashMap
moreThanOne
ArrayList
exactlyOne
splitNodesWithRack
availableReplicas
delCandidates
firstOne
delNodeHintStorage
getDatanodeStorageInfo
delNodeHint
addedNodeStorage
addedNode
cur
chooseReplicaToDelete
excessTypes
Set
Node
newExcludeNodes
HashSet
addToExcludedNodes
resultStorage
getDatanodeDescriptor
LOG
trace
results
excludedNodes
numOfReplicas
totalReplicaExpected
size
numResultsOflastChoose
chooseOnce
writer
blocksize
bestEffortMaxNodesPerRack
avoidStaleNodes
storageTypes
lastException
nere
addAll
NodeData
node
nodes
remove
dn
getDatanodeUuid
remove
node
monotonicNowMs
Time
monotonicNow
pruneExpiredPending
StringBuilder
allLeases
String
prefix
append
cur
datanodeUuid
LOG
debug
dn
getDatanodeUuid
numPending
toString
leaseId
getNextId
leaseTimeMs
NodeData
node
nodes
get
dn
getDatanodeUuid
LOG
info
intervalMs
curTimeMs
Time
monotonicNow
lock
debug
delta
startTimeMs
doRescan
await
delta
TimeUnit
MILLISECONDS
curTimeMs
Time
monotonicNow
lock
unlock
startTimeMs
mark
rescan
completedScanCount
curScanCount
scanFinished
signalAll
FSDirectory
fsDir
namesystem
getFSDirectory
now
Date
getTime
scannedDirectives
FSDirectory
fsDir
namesystem
getFSDirectory
now
Date
getTime
scannedDirectives
LOG
debug
directive
getId
getExpiryTime
String
path
getPath
INode
node
getINode
DirOp
READ
e
getMessage
node
fsDir
getINode
path
DirOp
READ
LOG
debug
directive
getId
e
getMessage
INodeDirectory
dir
asDirectory
ReadOnlyList
INode
children
getChildrenList
Snapshot
CURRENT_STATE_ID
rescanFile
child
asFile
BlockInfo
blockInfos
file
getBlocks
directive
addFilesNeeded
neededTotal
computeFileSizeNotIncludingLastUcBlock
getReplication
addBytesNeeded
CachePool
pool
getPool
Block
block
blockInfo
getBlockId
CachedBlock
ncblock
directive
getReplication
mark
ocblock
cachedBlocks
get
put
List
DatanodeDescriptor
cachedOn
getDatanodes
Type
CACHED
cachedByBlock
Math
min
size
getNumBytes
cachedTotal
setReplicationAndMark
LOG
trace
getId
addBytesCached
Set
DatanodeDescriptor
datanodes
blockManager
getDatanodeManager
getDatanodes
remaining
dn
getCacheRemaining
CachedBlock
cblock
it
next
BlockInfo
blockInfo
getStoredBlock
Block
getBlockId
BlockInfo
blockInfo
blockManager
getStoredBlock
Block
cachedBlock
getBlockId
pendingBytes
info
getNumBytes
it
datanode
getPendingUncached
iterator
CachedBlock
cBlock
next
BlockInfo
blockManager
getStoredBlock
Block
getBlockId
pendingCapacity
getCacheRemaining
LOG
trace
blockInfo
getDatanodeUuid
outOfCapacity
possibilities
add
List
DatanodeDescriptor
chosen
chooseDatanodesForCaching
neededCached
getDatanodeManager
getStaleInterval
pendingRepLimit
conf
getInt
DFSConfigKeys
DFS_NAMENODE_DECOMMISSION_BACKOFF_MONITOR_PENDING_LIMIT
DFS_NAMENODE_DECOMMISSION_BACKOFF_MONITOR_PENDING_LIMIT_DEFAULT
LOG
info
numBlocksChecked
namesystem
writeLock
processCancelledNodes
processPendingNodes
writeUnlock
check
warn
e
namesystem
writeLock
isHealthy
blockManager
isNodeHealthyForDecommissionOrMaintenance
dn
dnAdmin
setDecommissioned
outOfServiceNodeBlocks
remove
pendingRep
setInMaintenance
isHealthy
blockManager
isNodeHealthyForDecommissionOrMaintenance
dn
dnAdmin
setDecommissioned
outOfServiceNodeBlocks
remove
pendingRep
setInMaintenance
LOG
info
outOfServiceNodeBlocks
remove
dn
pendingRep
dnAdmin
setInMaintenance
LOG
info
error
getAdminState
pendingRep
remove
dn
dnAdmin
setInMaintenance
LOG
info
outOfServiceNodeBlocks
error
getAdminState
DatanodeDescriptor
dn
nodeIter
next
Iterator
BlockInfo
blockIt
iterators
get
blocksProcessed
namesystem
writeUnlock
writeLock
pendingCount
remove
numBlocksPerCheck
conf
getInt
DFSConfigKeys
DFS_NAMENODE_DECOMMISSION_BLOCKS_PER_INTERVAL_KEY
DFS_NAMENODE_DECOMMISSION_BLOCKS_PER_INTERVAL_DEFAULT
LOG
info
numBlocksChecked
numBlocksCheckedPerLock
numNodesChecked
namesystem
writeLock
processPendingNodes
check
warn
e
writeUnlock
List
DatanodeDescriptor
toRemove
ArrayList
numNodesChecked
Map
Entry
AbstractList
BlockInfo
entry
it
next
dn
getKey
blocks
getValue
fullScan
dnAdmin
stopMaintenance
add
AbstractList
BlockInfo
blocks
entry
getValue
fullScan
dnAdmin
stopMaintenance
dn
toRemove
add
LOG
debug
handleInsufficientlyStored
outOfServiceNodeBlocks
put
dnAdmin
stopMaintenance
dn
toRemove
add
LOG
debug
blocks
handleInsufficientlyStored
outOfServiceNodeBlocks
put
fullScan
getAdminState
pruneReliableBlocks
LOG
debug
dn
getAdminState
pruneReliableBlocks
blocks
handleInsufficientlyStored
outOfServiceNodeBlocks
put
isHealthy
blockManager
isNodeHealthyForDecommissionOrMaintenance
dnAdmin
setDecommissioned
toRemove
add
setInMaintenance
LOG
debug
dn
getAdminState
pruneReliableBlocks
blocks
handleInsufficientlyStored
outOfServiceNodeBlocks
put
isHealthy
blockManager
isNodeHealthyForDecommissionOrMaintenance
dnAdmin
setDecommissioned
toRemove
add
setInMaintenance
LOG
debug
dn
blocks
handleInsufficientlyStored
outOfServiceNodeBlocks
put
isHealthy
blockManager
isNodeHealthyForDecommissionOrMaintenance
dnAdmin
setDecommissioned
toRemove
add
setInMaintenance
Preconditions
checkState
getAdminState
size
LOG
warn
deprecatedKey
DFSConfigKeys
DFS_NAMENODE_DECOMMISSION_BLOCKS_PER_INTERVAL_KEY
checkArgument
blocksPerInterval
maxConcurrentTrackedNodes
conf
getInt
DFS_NAMENODE_DECOMMISSION_MAX_CONCURRENT_TRACKED_NODES
DFS_NAMENODE_DECOMMISSION_MAX_CONCURRENT_TRACKED_NODES_DEFAULT
Class
cls
getClass
DFS_NAMENODE_DECOMMISSION_MONITOR_CLASS
forName
DFS_NAMENODE_DECOMMISSION_MONITOR_CLASS_DEFAULT
monitor
DatanodeAdminMonitorInterface
ReflectionUtils
newInstance
setBlockManager
blockManager
setNameSystem
namesystem
setDatanodeAdminManager
RuntimeException
e
executor
scheduleAtFixedRate
intervalSecs
TimeUnit
SECONDS
hbManager
startDecommission
node
node
setMaintenanceExpireTimeInMS
maintenanceExpireTimeInMS
hbManager
startMaintenance
dn
setDecommissioned
dn
setInMaintenance
conf
maxConcurrentTrackedNodes
getInt
DFSConfigKeys
DFS_NAMENODE_DECOMMISSION_MAX_CONCURRENT_TRACKED_NODES
DFS_NAMENODE_DECOMMISSION_MAX_CONCURRENT_TRACKED_NODES_DEFAULT
LOG
debug
reports
length
storageMap
size
HashMap
String
DatanodeStorageInfo
excessStorages
remove
report
getStorage
getStorageID
info
storageInfo
DFSTopologyNodeImpl
getParent
childRemoveStorage
getName
getStorageType
List
String
dependencies
Collections
emptyList
DNSToSwitchMappingWithDependency
dnsToSwitchMapping
getDependency
node
getHostName
String
message
node
isInMaintenance
dn
nodes
add
foundNodes
getResolvedAddress
Collections
sort
DatanodeDescriptor
DatanodeID
addr
getAddress
getHostAddress
getHostName
getPort
defaultXferPort
defaultInfoPort
defaultInfoSecurePort
defaultIpcPort
setDatanodeDead
setDecommissioned
DisallowedDatanodeException
nodeinfo
DatanodeCommand
RegisterCommand
REGISTER
heartbeatManager
updateHeartbeat
reports
cacheCapacity
cacheUsed
xceiverCount
failedVolumes
volumeFailureSummary
BlockRecoveryCommand
brCommand
getBlockRecoveryCommand
blockPoolId
List
cmds
ArrayList
totalReplicateBlocks
getNumberOfReplicateBlocks
totalECBlocks
getNumberOfBlocksToBeErasureCoded
totalBlocks
numReplicationTasks
Math
ceil
maxTransfers
BlockInfoStriped
stripedBlk
getBlock
blockIndex
liveBlockIndicies
sourceIndex
DatanodeDescriptor
source
getSrcNodes
internBlkLen
StripedBlockUtil
getInternalBlockLength
getNumBytes
getCellSize
getDataBlockNum
Block
targetBlk
getBlockId
getGenerationStamp
addBlockToBeReplicated
DatanodeStorageInfo
target
result
staleDataNodes
remove
d
removed
PendingBlockInfo
found
pendingReconstructions
get
block
providedStorageInfo
setState
State
NORMAL
String
resultMessage
format
minDN
readablePolicies
numOfDataNodes
user
path
LOG
trace
remoteIp
List
Rule
userRules
rulemap
get
ArrayList
anyRules
rules
Stream
of
flatMap
l
stream
collect
Collectors
toList
SubnetUtils
SubnetInfo
subnet
rule
getSubnet
String
rulePath
getPath
getCidrSignature
Pattern
comma_split
compile
rule_split
Map
Integer
List
String
splits
splitAsStream
ruleString
map
x
split
collect
Collectors
groupingBy
length
bad_lines
filter
joining
IllegalArgumentException
user
cidr
path
v1
addAll
v2
metricsLog
info
nodeName
MBeanServer
server
ManagementFactory
getPlatformMBeanServer
MBeanInfo
mBeanInfo
getMBeanInfo
mbeanName
String
mBeanNameName
MBeans
getMbeanNameName
Set
attributeNames
getFilteredAttributes
AttributeList
attributes
getAttributes
toArray
size
Attribute
attribute
o
Object
value
getValue
valueStr
toString
metricsLog
info
nodeName
MBeanServer
server
ManagementFactory
getPlatformMBeanServer
MBeanInfo
mBeanInfo
getMBeanInfo
mbeanName
String
mBeanNameName
MBeans
getMbeanNameName
Set
attributeNames
getFilteredAttributes
AttributeList
attributes
getAttributes
toArray
size
Attribute
attribute
o
Object
value
getValue
valueStr
toString
getName
trimLine
metricsLog
info
nodeName
MBeanServer
server
ManagementFactory
getPlatformMBeanServer
MBeanInfo
mBeanInfo
getMBeanInfo
mbeanName
String
mBeanNameName
MBeans
getMbeanNameName
Set
attributeNames
getFilteredAttributes
AttributeList
attributes
getAttributes
toArray
size
Attribute
attribute
o
Object
value
getValue
valueStr
toString
getName
trimLine
error
e
String
msg
oldVersion
LAST_UPGRADABLE_HADOOP_VERSION
LAST_UPGRADABLE_LAYOUT_VERSION
IOException
srcFile
destFile
File
parentFile
getParentFile
NativeIO
copyFileUnbuffered
getCanonicalPath
e
toString
num
stream
read
buf
received
fos
write
throttler
throttle
finishedReceiving
xferSec
Math
max
Time
monotonicNow
startTime
xferKb
xferCombined
xferStats
append
String
format
close
isEnabled
InMemoryAliasMapProtocol
aliasMap
getAliasMap
blockPoolID
InMemoryAliasMapProtocol
aliasMap
getAliasMap
blockPoolID
LOG
info
blkMovingInfo
getBlock
getSource
getTarget
getSourceStorageType
getTargetStorageType
DataOutputStream
out
DataInputStream
in
NetUtils
connect
sock
createSocketAddr
getXferAddr
connectToDnViaHostname
socketTimeout
setSoTimeout
setKeepAlive
OutputStream
unbufOut
getOutputStream
InputStream
unbufIn
getInputStream
DataInputStream
in
NetUtils
connect
sock
createSocketAddr
blkMovingInfo
getTarget
getXferAddr
connectToDnViaHostname
socketTimeout
setSoTimeout
setKeepAlive
OutputStream
unbufOut
getOutputStream
InputStream
unbufIn
getInputStream
LOG
debug
IOStreamPair
saslStreams
saslClient
socketSend
km
accessToken
out
DataOutputStream
BufferedOutputStream
ioFileBufferSize
BufferedInputStream
sendRequest
eb
getSource
getTargetStorageType
receiveResponse
sock
setSoTimeout
socketTimeout
setKeepAlive
OutputStream
unbufOut
getOutputStream
InputStream
unbufIn
getInputStream
LOG
debug
blkMovingInfo
getTarget
IOStreamPair
saslStreams
saslClient
socketSend
km
accessToken
out
in
DataOutputStream
BufferedOutputStream
ioFileBufferSize
DataInputStream
BufferedInputStream
sendRequest
eb
getSource
getTargetStorageType
receiveResponse
info
getBlock
BlockMovementStatus
DN_BLK_STORAGE_MOVEMENT_SUCCESS
Future
BlockMovementAttemptFinished
future
moverCompletionService
take
result
get
writeLock
NamespaceInfo
nsInfo
bpNamenode
versionRequest
cmds
add
cmd
StorageBlockReport
singleReport
reports
r
DatanodeCommand
bpNamenode
blockReport
bpRegistration
bpos
getBlockPoolId
BlockReportContext
length
reportId
fullBrLeaseId
blockReportSizes
calculateBlockReportPBSize
useBlocksBuffer
numReportsSent
numRPCs
success
brSendCost
monotonicNow
brSendStartTime
brCreateCost
brCreateStartTime
dn
getMetrics
addBlockReport
getRpcMetricSuffix
DatanodeCommand
cmd
startTime
monotonicNow
LOG
debug
lastCacheReport
String
bpid
bpos
getBlockPoolId
List
Long
blockIds
dn
getFSDataset
getCacheReport
createTime
bpNamenode
cacheReport
bpRegistration
sendTime
createCost
sendCost
getMetrics
addCacheReport
scheduler
scheduleNextHeartbeat
StorageReport
reports
dn
getFSDataset
getStorageReports
bpos
getBlockPoolId
RollingUpgradeStatus
rollingUpgradeStatus
resp
getRollingUpdateStatus
runningState
RunningState
INIT_FAILED
LOG
error
ioe
getLocalizedMessage
sleepAndLogInterrupts
FAILED
RUNNING
initialRegistrationComplete
countDown
offerService
Preconditions
checkArgument
absPathToRemove
isAbsolute
filesRestored
File
children
trashRoot
exists
listFiles
restoreDirectory
restoreBlockFilesFromTrash
child
getRestoreDirectory
IOException
newChild
getName
HardLink
hardLink
DataStorage
linkBlocks
fromDir
toDir
STORAGE_DIR_FINALIZED
diskLayoutVersion
conf
STORAGE_DIR_RBW
Matcher
matcher
BLOCK_POOL_TRASH_PATH_PATTERN
blockFile
getParent
String
restoreDirectory
replaceFirst
STORAGE_DIR_CURRENT
diff
Time
monotonicNow
lastSentTime
get
allowedIdleTime
maxSendIdleTime
String
bpid
block
getBlockPoolId
packetReceiver
receiveNextPacket
in
PacketHeader
header
getHeader
alignedOnDisk
partialChunkSizeOnDisk
alignedInPacket
firstByteInBlock
bytesPerChecksum
overwriteLastCrc
shouldNotWriteChecksum
doCrcRecalc
lastChunkBoundary
IOException
block
inAddr
len
Checksum
partialCrc
LOG
debug
onDiskLen
offsetInChecksum
BlockMetadataHeader
getHeaderSize
checksumSize
computePartialChunkCrc
startByteToDisk
dataBuf
arrayOffset
position
numBytesToDisk
offsetInBlock
begin
Time
monotonicNow
PacketResponder
responder
getRunnable
close
responderClosed
block
setNumBytes
replicaInfo
getNumBytes
datanode
data
convertTemporaryToRbw
finalizeBlock
dirSyncOnFinalize
metrics
incrBlocksWritten
releaseAllBytesReserved
PacketResponder
responder
getRunnable
close
responderClosed
block
setNumBytes
replicaInfo
getNumBytes
datanode
data
convertTemporaryToRbw
finalizeBlock
dirSyncOnFinalize
metrics
incrBlocksWritten
releaseAllBytesReserved
downstreamDNs
downstreams
isPenultimateNode
length
mirrorNameForMetrics
getInfoSecurePort
getInfoSecureAddr
getInfoAddr
sizePartialChunk
blkoff
bytesPerChecksum
ExtendedBlock
block
rb
getBlock
DatanodeInfo
targets
getLocations
success
FsVolumeSpi
volume
ref
getVolume
SocketOutputStream
sockOut
out
write
buf
headerOff
dataOff
FileChannel
fileCh
FileInputStream
ris
getDataIn
getChannel
LongWritable
waitTime
transferTime
fileIoProvider
transferToSocketFully
getVolumeRef
getVolume
blockInPosition
dataLen
datanode
metrics
addSendDataPacketBlockedOnNetworkNanos
get
addSendDataPacketTransferNanos
pktBufSize
chunkSize
checksumSize
maxChunksPerPacket
ByteBuffer
pktBuf
allocate
manageOsCache
len
sendPacket
streamForSendChunks
transferTo
throttler
offset
totalRead
numberOfChunks
seqno
out
flush
ioeToSocketException
e
sentEntireByteRange
IOException
rootException
rootException
e
triggerBlockReport
BlockReportOptions
Factory
setIncremental
build
LOG
warn
property
newVal
ReconfigurationException
getConf
get
ChangedVolumes
results
newLocations
addAll
newStorageLocations
Storage
StorageDirectory
dir
it
next
found
StorageLocation
newLocation
newLocationItr
oldLocation
existingStorageLocations
get
getNormalizedUri
toString
IOException
remove
unchangedLocations
add
IOException
newLocationItr
remove
results
unchangedLocations
add
newLocation
found
LOG
info
dir
getRoot
deactivateLocations
StorageLocation
parse
toString
next
service
Executors
newFixedThreadPool
changedVolumes
newLocations
size
List
Future
IOException
exceptions
Lists
newArrayList
data
addVolume
location
nsInfos
e
StorageLocation
volume
get
i
ioExceptionFuture
data
addVolume
location
nsInfos
e
StorageLocation
volume
changedVolumes
newLocations
get
i
Future
IOException
ioExceptionFuture
exceptions
ioe
errorMessageBuilder
append
String
format
getMessage
data
addVolume
location
nsInfos
e
StorageLocation
volume
changedVolumes
newLocations
get
i
Future
IOException
ioExceptionFuture
exceptions
ioe
errorMessageBuilder
append
String
format
getMessage
LOG
error
effectiveVolumes
add
toString
StorageLocation
volume
changedVolumes
newLocations
get
i
Future
IOException
ioExceptionFuture
exceptions
ioe
errorMessageBuilder
append
String
format
getMessage
LOG
error
effectiveVolumes
add
toString
info
e
InetSocketAddress
ipcAddr
NetUtils
createSocketAddr
getConf
getTrimmed
DFS_DATANODE_IPC_ADDRESS_KEY
RPC
setProtocolEngine
ClientDatanodeProtocolPB
ProtobufRpcEngine2
ClientDatanodeProtocolServerSideTranslatorPB
clientDatanodeProtocolXlator
BlockingService
service
ClientDatanodeProtocolService
newReflectiveBlockingService
ipcServer
Builder
setProtocol
setInstance
setBindAddress
getHostName
setPort
getPort
setNumHandlers
getInt
DFS_DATANODE_HANDLER_COUNT_KEY
DFS_DATANODE_HANDLER_COUNT_DEFAULT
setVerbose
setSecretManager
blockPoolTokenSecretManager
build
ReconfigurationProtocolServerSideTranslatorPB
reconfigurationProtocolXlator
ReconfigurationProtocolService
DFSUtil
addPBProtocol
ReconfigurationProtocolPB
InterDatanodeProtocolServerSideTranslatorPB
interDatanodeProtocolXlator
InterDatanodeProtocolService
InterDatanodeProtocolPB
TraceAdminProtocolServerSideTranslatorPB
traceAdminXlator
traceAdminService
TraceAdminService
TraceAdminProtocolPB
backlogLength
getConf
getInt
CommonConfigurationKeysPublic
IPC_SERVER_LISTEN_QUEUE_SIZE_KEY
IPC_SERVER_LISTEN_QUEUE_SIZE_DEFAULT
tcpPeerServer
TcpPeerServer
dnConf
socketWriteTimeout
DataNode
getStreamingAddr
setReceiveBufferSize
getTransferSocketRecvBufferSize
streamingAddr
LOG
info
threadGroup
ThreadGroup
xserver
DataXceiverServer
dataXceiverServer
Daemon
setDaemon
DomainPeerServer
domainPeerServer
getDomainPeerServer
getPort
localDataXceiverServer
storage
setDatanodeUuid
generateUuid
writeAll
String
dnAddr
datanodeid
getIpcAddr
connectToDnViaHostname
InetSocketAddress
addr
NetUtils
createSocketAddr
BlockTokenIdentifier
id
ByteArrayInputStream
buf
token
getIdentifier
DataInputStream
in
readFields
stopMetricsLogger
p
stop
lengthTooShort
data
checkBlock
block
getNumBytes
ReplicaState
FINALIZED
replicaNotExist
replicaStateNotFinalized
blockFileNotExist
String
errStr
lengthTooShort
blockFileNotExist
String
errStr
block
LOG
info
bpos
trySendErrorReport
DatanodeProtocol
INVALID_BLOCK
reportBadBlock
data
getLength
getNumBytes
checkSuperuserPrivilege
checkSuperuserPrivilege
getBPStorage
bpid
stopTrashCleaner
getBPStorage
bpid
clearTrash
trashEnabledBpids
remove
List
UpgradeTask
tasks
Lists
newArrayList
Callable
StorageDirectory
callables
sd
loadStorageDirectory
datanode
nsInfo
dataDir
startOpt
addStorageDir
success
add
executor
submit
c
LOG
warn
e
List
Callable
StorageDirectory
callables
Lists
newArrayList
sd
loadStorageDirectory
datanode
nsInfo
dataDir
startOpt
addStorageDir
success
add
tasks
UpgradeTask
executor
submit
c
LOG
warn
e
info
dataDir
makeBlockPoolDir
bpid
List
Callable
StorageDirectory
sdCallables
Lists
newArrayList
dirs
bpStorage
recoverTransitionRead
nsInfo
startOpt
datanode
getConf
success
add
sd
upgradeCallableMap
put
LOG
warn
e
tasks
UpgradeTask
entry
getKey
executor
submit
c
linkAllBlocks
tmpDir
bbwDir
toDir
oldLV
conf
clusterID
nsInfo
getClusterID
upgradeProperties
sd
rename
prevDir
createStorageID
sd
layoutVersion
conf
datanode
shortCircuitRegistry
registerSlot
ExtendedBlockId
fromExtendedBlock
blk
slotId
isCached
registeredSlotId
fis
requestShortCircuitFdsForRead
token
maxVersion
Preconditions
checkState
bld
setStatus
SUCCESS
setShortCircuitAccessVersion
DataNode
CURRENT_BLOCK_FORMAT_VERSION
ERROR_UNSUPPORTED
setMessage
e
getMessage
ERROR
previousOpClientName
clientName
read
updateCurrentThreadName
block
OutputStream
baseStream
getOutputStream
DataOutputStream
out
getBufferedOutputStream
checkAccess
blockToken
Op
READ_BLOCK
BlockTokenIdentifier
AccessMode
READ
BlockSender
blockSender
DatanodeRegistration
dnR
datanode
getDNRegistrationForBP
getBlockPoolId
String
clientTraceFmt
length
ClientTraceLog
isInfoEnabled
format
DN_CLIENTTRACE_FORMAT
localAddress
remoteAddress
getDatanodeUuid
blockOffset
sendChecksum
cachingStrategy
msg
e
System
arraycopy
targetStorageTypes
storageTypes
nst
nsi
targetStorageIds
length
String
storageIds
storageId
checkAccess
replyOut
isClient
block
blockToken
Op
WRITE_BLOCK
BlockTokenIdentifier
AccessMode
WRITE
IOException
stage
Arrays
asList
targets
System
arraycopy
targetStorageTypes
storageTypes
nst
nsi
targetStorageIds
length
String
storageIds
storageId
checkAccess
replyOut
isClient
block
blockToken
Op
WRITE_BLOCK
BlockTokenIdentifier
AccessMode
WRITE
IOException
stage
Arrays
asList
targets
LOG
debug
clientname
latestGenerationStamp
minBytesRcvd
maxBytesRcvd
pipelineSize
srcDataNode
pinning
storageIds
storageId
System
arraycopy
targetStorageIds
nsi
String
checkAccess
replyOut
isClient
block
blockToken
Op
WRITE_BLOCK
BlockTokenIdentifier
AccessMode
WRITE
storageTypes
IOException
stage
Arrays
asList
targets
LOG
debug
clientname
latestGenerationStamp
minBytesRcvd
maxBytesRcvd
pipelineSize
srcDataNode
pinning
isDatanode
isTransfer
peer
getReceiveBufferSize
getTcpNoDelay
ExtendedBlock
originalBlock
setNumBytes
dataXceiverServer
estimateBlockSize
LOG
info
block
remoteAddress
localAddress
DataOutputStream
mirrorOut
DataInputStream
mirrorIn
Socket
mirrorSock
String
mirrorNode
firstBadLink
Status
mirrorInStatus
SUCCESS
storageUuid
isOnTransientStorage
Replica
replica
setCurrentBlockReceiver
getBlockReceiver
storageType
in
peer
getRemoteAddressString
getLocalAddressString
stage
latestGenerationStamp
minBytesRcvd
maxBytesRcvd
clientname
srcDataNode
datanode
requestedChecksum
cachingStrategy
allowLazyPersist
pinning
storageId
blockReceiver
getReplica
DataEncryptionKeyFactory
keyFactory
datanode
getDataEncryptionKeyFactoryForBlock
block
SecretKey
secretKey
String
bpid
getBlockPoolId
BlockKey
blockKey
blockPoolTokenSecretManager
get
getCurrentKey
getKey
IOStreamPair
saslStreams
saslClient
socketSend
mirrorSock
unbufMirrorOut
unbufMirrorIn
blockToken
targets
out
in
mirrorOut
DataOutputStream
BufferedOutputStream
smallBufferSize
mirrorIn
DataInputStream
targetStorageId
targetStorageIds
Sender
mirrorOut
writeBlock
originalBlock
targetStorageTypes
blockToken
clientname
targets
srcDataNode
stage
pipelineSize
minBytesRcvd
maxBytesRcvd
latestGenerationStamp
requestedChecksum
cachingStrategy
allowLazyPersist
targetPinnings
targetStorageId
targetStorageIds
flush
DataNodeFaultInjector
get
writeBlockAfterFlush
BlockOpResponseProto
connectAck
parseFrom
PBHelperClient
vintPrefixed
mirrorIn
mirrorInStatus
getStatus
firstBadLink
getFirstBadLink
LOG
debug
length
newBuilder
setStatus
ERROR
setFirstBadLink
getXferAddr
build
writeDelimitedTo
replyOut
Sender
mirrorOut
writeBlock
originalBlock
targetStorageTypes
blockToken
clientname
targets
srcDataNode
stage
pipelineSize
minBytesRcvd
maxBytesRcvd
latestGenerationStamp
requestedChecksum
cachingStrategy
allowLazyPersist
targetPinnings
targetStorageId
targetStorageIds
flush
DataNodeFaultInjector
get
writeBlockAfterFlush
BlockOpResponseProto
connectAck
parseFrom
PBHelperClient
vintPrefixed
mirrorIn
mirrorInStatus
getStatus
firstBadLink
getFirstBadLink
LOG
debug
length
newBuilder
setStatus
ERROR
setFirstBadLink
getXferAddr
build
writeDelimitedTo
replyOut
IOUtils
closeStream
BlockOpResponseProto
newBuilder
setStatus
ERROR
setFirstBadLink
targets
getXferAddr
build
writeDelimitedTo
replyOut
flush
IOUtils
closeStream
mirrorOut
mirrorIn
closeSocket
mirrorSock
LOG
error
datanode
block
mirrorNode
e
info
IOUtils
closeStream
mirrorOut
mirrorIn
closeSocket
mirrorSock
LOG
error
datanode
block
mirrorNode
e
info
incrDatanodeNetworkErrors
debug
targets
length
firstBadLink
updateCurrentThreadName
block
DataOutputStream
reply
getBufferedOutputStream
checkAccess
blockToken
Op
COPY_BLOCK
BlockTokenIdentifier
AccessMode
COPY
String
msg
getBlockId
peer
getRemoteAddressString
String
msg
block
getBlockId
peer
getRemoteAddressString
LOG
info
sendResponse
ERROR
BlockSender
blockSender
isOpSuccess
datanode
CachingStrategy
newDropBehind
OutputStream
baseStream
getOutputStream
writeSuccessWithChecksumInfo
reply
beginRead
Time
monotonicNow
read
sendBlock
dataXceiverServer
balanceThrottler
duration
metrics
incrBytesRead
incrBlocksRead
BlockSender
blockSender
isOpSuccess
block
datanode
CachingStrategy
newDropBehind
OutputStream
baseStream
getOutputStream
writeSuccessWithChecksumInfo
reply
beginRead
Time
monotonicNow
read
sendBlock
dataXceiverServer
balanceThrottler
duration
metrics
incrBytesRead
incrBlocksRead
incrTotalReadTime
LOG
info
peer
getRemoteAddressString
String
msg
block
getBlockId
peer
getRemoteAddressString
LOG
warn
sendResponse
ERROR
Socket
proxySock
DataOutputStream
proxyOut
Status
opStatus
SUCCESS
errMsg
DataInputStream
proxyReply
IoeDuringCopyBlockOperation
ReplicaInfo
oldReplica
datanode
data
moveBlockAcrossStorage
storageType
storageId
Socket
proxySock
DataOutputStream
proxyOut
Status
opStatus
SUCCESS
String
errMsg
DataInputStream
proxyReply
IoeDuringCopyBlockOperation
ReplicaInfo
oldReplica
datanode
data
moveBlockAcrossStorage
block
storageType
storageId
LOG
info
getVolume
getStorageType
setNumBytes
dataXceiverServer
estimateBlockSize
dnAddr
proxySource
getXferAddr
connectToDnViaHostname
DataEncryptionKeyFactory
keyFactory
datanode
getDataEncryptionKeyFactoryForBlock
block
IOStreamPair
saslStreams
saslClient
socketSend
proxySock
unbufProxyOut
unbufProxyIn
blockToken
proxySource
out
in
proxyOut
DataOutputStream
BufferedOutputStream
smallBufferSize
proxyReply
DataInputStream
BufferedInputStream
ioFileBufferSize
IoeDuringCopyBlockOperation
Sender
copyBlock
BlockOpResponseProto
copyResponse
parseFrom
PBHelperClient
vintPrefixed
String
logInfo
getRemoteSocketAddress
DataTransferProtoUtil
checkBlockOpStatus
ReadOpChecksumInfoProto
checksumInfo
getReadOpChecksumInfo
DataChecksum
remoteChecksum
fromProto
getChecksum
setCurrentBlockReceiver
getBlockReceiver
storageType
toString
getLocalSocketAddress
CachingStrategy
newDropBehind
storageId
checkAndWaitForBP
blk
peer
peerServer
accept
curXceiverCount
datanode
getXceiverCount
IOException
maxXceiverCount
Daemon
threadGroup
DataXceiver
create
start
LOG
warn
getDisplayName
ace
IOUtils
closeQuietly
ie
Daemon
datanode
threadGroup
DataXceiver
create
peer
start
LOG
warn
getDisplayName
ace
IOUtils
closeQuietly
ie
error
Thread
sleep
TimeUnit
SECONDS
toMillis
shouldRun
set
firstScanTime
ThreadLocalRandom
current
nextLong
scanPeriodMsecs
LOG
warn
masterThread
shutdown
reportCompileThreadPool
shutdownNow
awaitTermination
TimeUnit
MINUTES
error
e
statsRecord
duplicateBlocks
addDifference
diffRecord
info
d
ScanInfo
nextInfo
blockpoolReport
get
m
ReplicaInfo
current
bl
getBlockId
getVolume
ReportCompiler
reportCompiler
volume
Future
ScanInfoVolumeReport
result
reportCompileThreadPool
submit
compilersInProgress
add
future
get
volReports
clear
LOG
warn
ex
lock
needShutdown
checkDiskBalancerEnabled
Preconditions
checkState
lock
isHeldByCurrentThread
workMap
clear
Map
String
storageIDToVolBasePathMap
getStorageIDToVolumeBasePathMap
sourceVolUuid
step
getSourceVolume
getUuid
destVolUuid
getDestinationVolume
sourceVolBasePath
get
errMsg
getPath
Preconditions
checkState
lock
isHeldByCurrentThread
workMap
clear
Map
String
storageIDToVolBasePathMap
getStorageIDToVolumeBasePathMap
sourceVolUuid
step
getSourceVolume
getUuid
destVolUuid
getDestinationVolume
sourceVolBasePath
get
errMsg
getPath
LOG
error
DiskBalancerException
Result
INVALID_VOLUME
destVolBasePath
oldGS
getGenerationStamp
File
oldmeta
getMetaFile
setGenerationStamp
newGS
newmeta
LOG
debug
Long
MAX_VALUE
curIdx
blockIters
indexOf
curBlockIter
Preconditions
checkState
nowMs
Time
now
minTimeoutMs
idx
i
numBlockIters
BlockIterator
iter
get
curIdx
blockIters
indexOf
curBlockIter
Preconditions
checkState
nowMs
Time
now
minTimeoutMs
Long
MAX_VALUE
idx
i
numBlockIters
BlockIterator
iter
get
LOG
info
getBlockPoolId
volume
iterStartMs
getIterStartMs
waitMs
conf
scanPeriodMs
nowMs
Time
now
minTimeoutMs
Long
MAX_VALUE
idx
curIdx
i
numBlockIters
BlockIterator
iter
blockIters
get
LOG
info
getBlockPoolId
volume
curBlockIter
iterStartMs
getIterStartMs
waitMs
conf
scanPeriodMs
rewind
TimeUnit
HOURS
convert
MILLISECONDS
ExtendedBlock
block
Block
b
volume
getDataset
getStoredBlock
cblock
getBlockPoolId
getBlockId
block
curBlockIter
nextBlock
LOG
warn
info
getBlockPoolId
saveBlockIterator
BlockLocalPathInfo
blockLocalPathInfo
volume
getDataset
getBlockLocalPathInfo
BasicFileAttributes
attr
Files
readAttributes
File
getBlockPath
toPath
timeout
findNextUsableBlockIter
LOG
trace
stats
nextBlockPoolScanStartMs
Time
monotonicNow
scansSinceRestart
blocksScannedInCurrentPeriod
block
getNextBlockToScan
ExtendedBlock
suspectBlock
LOG
debug
timeout
wait
popNextSuspectBlock
runLoop
trace
LOG
trace
gap
minDiskCheckGapMs
Collections
emptySet
FsDatasetSpi
FsVolumeReferences
references
dataset
getFsVolumeReferences
warn
lastAllVolumesCheck
timer
monotonicNow
Set
FsVolumeSpi
healthyVolumes
HashSet
failedVolumes
allVolumes
AtomicLong
numVolumes
size
CountDownLatch
latch
FsVolumeReference
reference
getReference
i
Optional
ListenableFuture
VolumeCheckResult
olf
delegateChecker
schedule
getVolume
IGNORED_CONTEXT
balancedSpaceThreshold
conf
getLongBytes
DFS_DATANODE_AVAILABLE_SPACE_VOLUME_CHOOSING_POLICY_BALANCED_SPACE_THRESHOLD_KEY
DFS_DATANODE_AVAILABLE_SPACE_VOLUME_CHOOSING_POLICY_BALANCED_SPACE_THRESHOLD_DEFAULT
balancedPreferencePercent
getFloat
DFS_DATANODE_AVAILABLE_SPACE_VOLUME_CHOOSING_POLICY_BALANCED_SPACE_PREFERENCE_FRACTION_KEY
DFS_DATANODE_AVAILABLE_SPACE_VOLUME_CHOOSING_POLICY_BALANCED_SPACE_PREFERENCE_FRACTION_DEFAULT
AvailableSpaceVolumeList
volumesWithSpaces
volumes
V
volume
roundRobinPolicyBalanced
chooseVolume
replicaSize
storageId
V
volume
roundRobinPolicyBalanced
chooseVolume
volumes
replicaSize
storageId
LOG
debug
mostAvailableAmongLowVolumes
volumesWithSpaces
getMostAvailableSpaceAmongVolumesWithLowAvailableSpace
List
highAvailableVolumes
extractVolumesFromPairs
getVolumesWithHighAvailableSpace
lowAvailableVolumes
getVolumesWithLowAvailableSpace
preferencePercentScaler
size
balancedPreferencePercent
scaledPreferencePercent
roundRobinPolicyHighAvailable
volume
V
mostAvailableAmongLowVolumes
volumesWithSpaces
getMostAvailableSpaceAmongVolumesWithLowAvailableSpace
List
highAvailableVolumes
extractVolumesFromPairs
getVolumesWithHighAvailableSpace
lowAvailableVolumes
getVolumesWithLowAvailableSpace
preferencePercentScaler
size
balancedPreferencePercent
scaledPreferencePercent
roundRobinPolicyHighAvailable
chooseVolume
replicaSize
storageId
LOG
debug
roundRobinPolicyLowAvailable
ReplicaInfo
replicaToKeep
replicaToDelete
replica1
getGenerationStamp
replica2
getNumBytes
ReplicaMap
tmpReplicaMap
ReentrantReadWriteLock
File
replicaFile
replicaCacheDir
REPLICA_CACHE_FILE
FileInputStream
inputStream
fileIoProvider
getFileInputStream
volume
replicaFile
BlockListAsLongs
blocksList
readFrom
maxDataLength
ReplicaInfo
info
iter
next
inputStream
fileIoProvider
getFileInputStream
volume
replicaFile
BlockListAsLongs
blocksList
readFrom
maxDataLength
ReplicaInfo
info
iter
next
remove
volumeMap
add
bpid
ReplicaInfo
info
iter
next
remove
volumeMap
add
bpid
LOG
replicaFile
getPath
e
ExtendedBlockId
key
blockId
bpid
Value
prevValue
mappableBlockMap
get
Value
prevValue
mappableBlockMap
get
key
deferred
LOG
debug
blockId
bpid
numBlocksFailedToUncache
incrementAndGet
put
mappableBlock
State
CACHING_CANCELLED
deferred
LOG
debug
blockId
bpid
numBlocksFailedToUncache
incrementAndGet
mappableBlockMap
put
key
Value
prevValue
mappableBlock
State
CACHING_CANCELLED
DurationFormatUtils
formatDurationHMS
revocationPollingMs
deferredUncachingExecutor
schedule
UncachingTask
revocationMs
TimeUnit
MILLISECONDS
DatanodeStorage
dnStorage
storageMap
get
sd
getStorageUuid
String
errorMsg
format
getVersionFile
StorageLocation
storageLocation
sd
getStorageLocation
FsVolumeImpl
fsVolume
FsVolumeImplBuilder
setDataset
setStorageID
getStorageUuid
setStorageDirectory
setFileIoProvider
datanode
getFileIoProvider
setConf
conf
build
FsVolumeReference
ref
obtainReference
ReplicaMap
tempVolumeMap
datasetReadLock
datasetWriteLock
getVolumeMap
ramDiskReplicaTracker
activateVolume
getStorageType
Collection
StorageLocation
storageLocationsToRemove
ArrayList
storageLocsToRemove
Map
String
List
ReplicaInfo
blkToInvalidate
HashMap
storageToRemove
Storage
StorageDirectory
sd
dataStorage
getStorageDir
idx
sdLocation
getStorageLocation
Collection
StorageLocation
storageLocationsToRemove
ArrayList
storageLocsToRemove
Map
String
List
ReplicaInfo
blkToInvalidate
HashMap
storageToRemove
Storage
StorageDirectory
sd
dataStorage
getStorageDir
idx
sdLocation
getStorageLocation
LOG
info
getStorageUuid
computeChecksum
srcReplica
dstMeta
smallBufferSize
conf
copyMetadata
toURI
IOException
e
copyBlockdata
dstFile
LOG
debug
getMetadataURI
startTimeMs
Time
monotonicNow
blockId
b
getBlockId
expectedGs
getGenerationStamp
visible
getNumBytes
FileOutputStream
file
streams
getChecksumOut
FileChannel
channel
getChannel
oldPos
position
newPos
checksumSize
errors
add
invalidBlks
i
Block
toString
infoByBlockId
v
FsVolumeImpl
info
getVolume
File
blockFile
getBlockURI
LOG
warn
removing
volumeMap
remove
bpid
addDeletingBlock
getBlockId
ReplicaInfo
replica
map
get
bpid
block
getBlockId
MustStopExistingWriter
rip
IOException
replica
checkReplicaFiles
block
recoveryId
ReplicaInfo
rur
RecoveryInProgressException
oldRecoveryID
getRecoveryID
IOException
replica
checkReplicaFiles
block
recoveryId
ReplicaInfo
rur
RecoveryInProgressException
oldRecoveryID
getRecoveryID
setRecoveryID
LOG
info
ramDiskReplicaTracker
recordEndLazyPersist
bpId
blockId
savedFiles
targetVolume
incDfsUsedAndNumBlocks
length
datanode
getMetrics
incrRamDiskBlocksLazyPersisted
incrRamDiskBytesLazyPersisted
addRamDiskBlocksLazyPersistWindowMs
Time
monotonicNow
creationTime
PmemMappedBlock
mappableBlock
String
cachePath
FileChannel
blockChannel
RandomAccessFile
cacheFile
blockIn
getChannel
IOException
pmemVolumeManager
getCachePath
key
transferTo
length
position
verifyChecksum
metaIn
blockFileName
blockChannel
blockIn
getChannel
IOException
cachePath
pmemVolumeManager
getCachePath
key
cacheFile
RandomAccessFile
transferTo
length
position
verifyChecksum
metaIn
blockFileName
mappableBlock
PmemMappedBlock
LOG
info
IOUtils
closeQuietly
ExtendedBlockId
key
getBlockId
cacheFile
bpid
MappableBlock
mappableBlock
PmemMappedBlock
length
PmemVolumeManager
getInstance
recoverBlockKeyToVolume
volumeIndex
String
path
getCachePath
getLength
String
cacheFilePath
PmemVolumeManager
getInstance
getCachePath
key
FsDatasetUtil
deleteMappedFile
File
pmemDir
volumes
n
realPmemDir
verifyIfValidPmemVolume
cleanup
pmemVolumes
add
getPath
maxBytes
getUsableSpace
maxBytesPerPmem
UsedBytesCount
usedBytesCount
usedBytesCounts
File
pmemDir
volumes
n
realPmemDir
verifyIfValidPmemVolume
cleanup
pmemVolumes
add
getPath
maxBytes
getUsableSpace
maxBytesPerPmem
UsedBytesCount
usedBytesCount
usedBytesCounts
LOG
info
cleanup
realPmemDir
pmemVolumes
add
getPath
maxBytes
getUsableSpace
maxBytesPerPmem
UsedBytesCount
usedBytesCount
usedBytesCounts
LOG
info
volumes
n
error
e
String
prefixStr
prefix
toString
pathStr
fullPath
start
Time
monotonicNow
dfsUsed
count
FsDatasetSpi
fsDataset
volume
getDataset
Collection
ReplicaInfo
replicaInfos
deepCopyReplica
bpid
cost
FsDatasetSpi
fsDataset
volume
getDataset
Collection
ReplicaInfo
replicaInfos
deepCopyReplica
bpid
cost
Time
monotonicNow
start
LOG
debug
size
dfsUsed
replicaInfo
getBytesOnDisk
getMetadataLength
count
used
set
Collection
ReplicaInfo
replicaInfos
fsDataset
deepCopyReplica
bpid
cost
Time
monotonicNow
start
LOG
debug
size
dfsUsed
replicaInfo
getBytesOnDisk
getMetadataLength
count
used
set
volume
getStorageID
fsVolumeReferences
dn
getFSDataset
getFsVolumeReferences
Iterator
FsVolumeSpi
volumeIterator
iterator
volume
next
DataNodeVolumeMetrics
metrics
getMetrics
String
volumeName
getBaseURI
getPath
metadataOpStats
put
getMetadataOperationMean
readIoStats
getReadIoMean
writeIoStats
getWriteIoMean
close
readIoStats
put
volumeName
metrics
getReadIoMean
writeIoStats
getWriteIoMean
fsVolumeReferences
close
LOG
error
e
debug
detectAndUpdateDiskOutliers
metadataOpStats
Thread
sleep
detectionInterval
p
addLast
HttpRequestEncoder
Forwarder
uri
client
ChannelFuture
f
proxiedServer
connect
host
proxiedChannel
channel
ctx
pipeline
remove
HttpResponseEncoder
HttpRequest
newReq
DefaultFullHttpRequest
HTTP_1_1
req
getMethod
getUri
headers
add
set
CONNECTION
Values
CLOSE
future
writeAndFlush
DefaultHttpResponse
resp
INTERNAL_SERVER_ERROR
releaseDfsResources
DefaultHttpResponse
resp
ExceptionHandler
exceptionCaught
cause
headers
set
CONNECTION
CLOSE
ctx
writeAndFlush
addListener
ChannelFutureListener
String
outputLine
nodes
topVal
cmd
getOptionValue
DiskBalancerCLI
TOP
format
getDefaultTop
LOG
info
Preconditions
checkState
cmd
hasOption
DiskBalancerCLI
QUERY
verifyCommandOptions
String
nodeName
getOptionValue
checkNotNull
trim
nodeAddress
defaultIPC
NetUtils
createSocketAddr
getConf
getTrimmed
DFSConfigKeys
DFS_DATANODE_IPC_ADDRESS_KEY
DFS_DATANODE_IPC_ADDRESS_DEFAULT
getPort
String
nodeName
cmd
getOptionValue
DiskBalancerCLI
QUERY
Preconditions
checkNotNull
trim
nodeAddress
defaultIPC
NetUtils
createSocketAddr
getConf
getTrimmed
DFSConfigKeys
DFS_DATANODE_IPC_ADDRESS_KEY
DFS_DATANODE_IPC_ADDRESS_DEFAULT
getPort
LOG
debug
ClientDatanodeProtocol
dataNode
getDataNodeProxy
DiskBalancerWorkStatus
workStatus
queryDiskBalancerPlan
System
out
printf
getPlanFile
getPlanID
getResult
toString
currentStateString
LOG
debug
clusterURI
Preconditions
checkNotNull
clusterURI
String
dataFilePath
getPath
Preconditions
checkNotNull
clusterURI
String
dataFilePath
getPath
LOG
info
DiskBalancerCluster
cluster
READER
readValue
File
message
format
getNodes
size
Preconditions
checkNotNull
clusterConnector
String
errMessage
format
volume
getCapacity
getReserved
computeEffectiveCapacity
getStorageType
getUuid
startTime
Time
monotonicNow
NodePlan
plan
node
getDataNodeName
getDataNodePort
Preconditions
checkNotNull
vSet
plan
node
DiskBalancerVolumeSet
currentSet
removeSkipVolumes
DiskBalancerVolume
lowVolume
getSortedQueue
first
highVolume
last
Step
nextStep
computeMove
LOG
debug
getPath
applyStep
maxLowVolumeCanReceive
currentSet
getIdealUsed
lowVolume
computeEffectiveCapacity
getUsed
String
message
format
volume
getPath
getStorageType
currentSet
getIdealUsed
getCapacity
getUsed
String
format
queue
first
getPath
getVolumeDataDensity
last
String
message
format
GREEDY_PLANNER
node
getDataNodeName
getDataNodeIP
getDataNodeUUID
sleeptime
conf
getTimeDuration
DFSConfigKeys
DFS_HEARTBEAT_INTERVAL_KEY
DFS_HEARTBEAT_INTERVAL_DEFAULT
TimeUnit
SECONDS
MILLISECONDS
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_KEY
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_DEFAULT
AtomicInteger
retryCount
Map
Long
Set
DatanodeInfo
excludedPinnedBlocks
HashMap
NamenodeRegistration
nnReg
namenode
registerSubordinateNamenode
getRegistration
LOG
info
nnRpcAddress
Thread
sleep
warn
e
String
msg
shouldRun
checkpointConf
CheckpointConf
conf
String
fullInfoAddr
get
DFS_NAMENODE_BACKUP_HTTP_ADDRESS_KEY
DFS_NAMENODE_BACKUP_HTTP_ADDRESS_DEFAULT
infoBindAddress
substring
indexOf
LOG
info
getPeriod
now
monotonicNow
shouldCheckpoint
txns
countUncheckpointedTxns
lastEditLogCheckTime
checkpointConf
getTxnCount
doCheckpoint
lastCheckpointTime
now
monotonicNow
shouldCheckpoint
txns
countUncheckpointedTxns
lastEditLogCheckTime
checkpointConf
getTxnCount
doCheckpoint
lastCheckpointTime
LOG
error
e
NNStorage
bnStorage
bnImage
getStorage
startTime
monotonicNow
freezeNamespaceAtNextRoll
NamenodeCommand
cmd
getRemoteNamenodeProxy
startCheckpoint
backupNode
getRegistration
CheckpointCommand
cpCmd
IOException
nnRpcAddress
waitUntilNamespaceFrozen
CheckpointSignature
sig
getSignature
validateStorageInfo
lastApplied
getLastAppliedTxId
IOException
backupNode
nnRpcAddress
bnImage
waitUntilNamespaceFrozen
CheckpointSignature
sig
cpCmd
getSignature
validateStorageInfo
lastApplied
getLastAppliedTxId
LOG
debug
RemoteEditLogManifest
manifest
getRemoteNamenodeProxy
getEditLogManifest
needReloadImage
RemoteEditLog
firstRemoteLog
getLogs
get
LOG
debug
lastApplied
RemoteEditLogManifest
manifest
getRemoteNamenodeProxy
getEditLogManifest
bnImage
getLastAppliedTxId
needReloadImage
RemoteEditLog
firstRemoteLog
getLogs
get
info
sig
mostRecentCheckpointTxId
MD5Hash
downloadedHash
TransferFsImage
downloadImageToStorage
backupNode
nnHttpAddress
bnStorage
saveDigestAndRenameCheckpointImage
NameNodeFile
IMAGE
IOException
downloadEditsToStorage
log
init
LOG
error
e
Throwables
propagateIfPossible
IOException
Preconditions
checkState
state
State
UNINIT
nextOpImpl
skipBrokenEdits
txId
op
getTransactionId
skipAmt
log
length
tracker
getPos
size
fc
bufSize
doubleBuf
getReadyBuf
getLength
need
position
oldSize
total
fillCapacity
fill
capacity
IOUtils
writeFully
writeLock
threads
initThreads
writeLock
threads
initThreads
LOG
info
start
Time
monotonicNow
QuotaCounts
counts
Builder
build
ForkJoinPool
p
RecursiveAction
task
InitQuotaTask
getBlockStoragePolicySuite
rootDir
getStoragePolicyID
execute
join
shutdown
asyncEditLogging
conf
getBoolean
DFSConfigKeys
DFS_NAMENODE_EDITS_ASYNC_LOGGING
DFS_NAMENODE_EDITS_ASYNC_LOGGING_DEFAULT
lastWrittenTxId
getLastWrittenTxId
lastWrittenTxId
getLastWrittenTxId
LOG
info
synctxid
txid
logSync
wait
editsBatchedInSync
txid
synctxid
syncStart
isSyncRunning
sync
IOException
editLogStream
setReadyToFlush
String
msg
e
getMessage
IOException
editLogStream
setReadyToFlush
String
msg
e
getMessage
txid
synctxid
LOG
error
Exception
IOUtils
cleanupWithLogger
journalSet
terminate
doneWithAutoSyncScheduling
logStream
start
monotonicNow
bnReg
isRole
NamenodeRole
CHECKPOINT
JournalManager
jas
findBackupJournal
BackupJournalManager
bjm
findBackupJournal
registration
Edit
edit
THREAD_EDIT
get
set
String
message
t
getMessage
fileCount
fsn
getFilesTotal
Preconditions
checkState
NamespaceInfo
ns
NNStorage
newNamespaceInfo
StorageDirectory
sd
it
next
LOG
info
canRollback
editLog
initJournalsForWrite
canRollBackSharedEditLog
canRollBackSharedLog
prevState
getStorage
HdfsServerConstants
NAMENODE_LAYOUT_VERSION
IOException
target
clear
editStreams
FSImagePreTransactionalStorageInspector
getEditLogStreams
storage
maxOpSize
conf
getInt
DFSConfigKeys
DFS_NAMENODE_MAX_OP_SIZE_KEY
DFS_NAMENODE_MAX_OP_SIZE_DEFAULT
elis
setMaxOpSize
LOG
debug
l
info
FSImageFile
imageFile
imageFiles
get
i
loadFSImageFile
target
recovery
startOpt
txid
context
getTxId
File
newFile
NNStorage
getStorageFile
sd
NameNodeFile
IMAGE_NEW
dstFile
dstType
FSImageFormatProtobuf
Saver
saver
conf
FSImageCompression
compression
createCompression
numErrors
save
File
fromFile
NNStorage
getStorageFile
sd
fromNnf
txid
toFile
toNnf
LOG
info
getEditLog
getLastWrittenTxId
String
msg
bnReg
getNamespaceID
storage
getAddress
Collection
String
pairs
StringUtils
getTrimmedStringCollection
renameReserved
pair
split
p
Preconditions
checkArgument
length
key
value
DFSUtil
isReservedPathComponent
isValidNameForComponent
String
oldPath
path
components
INode
getPathNames
DFSUtil
bytes2String
renameReservedRootComponentOnUpgrade
string2Bytes
layoutVersion
strings2PathString
i
renameReservedComponentOnUpgrade
latestNameSD
IOException
imageDirs
latestEditsSD
editsDirs
LOG
error
needToSave
maxSeenTxId
Math
max
NNStorage
readTransactionIdFile
sd
LOG
warn
ioe
File
currentDir
getCurrentDir
filesInStorage
FileUtil
listFiles
File
currentDir
sd
getCurrentDir
filesInStorage
FileUtil
listFiles
LOG
warn
ioe
debug
f
String
name
getName
Matcher
imageMatch
matchPattern
txid
Long
parseLong
group
checkConfiguration
conf
FSImage
fsImage
FSNamesystem
getNamespaceDirs
getNamespaceEditsDirs
namesystem
StartupOption
startOpt
NameNode
getStartupOption
setSafeMode
SafeModeAction
SAFEMODE_ENTER
loadStart
monotonicNow
loadFSImage
LOG
warn
ioe
close
timeTakenToLoadFSImage
enable
conf
getBoolean
DFS_NAMENODE_ENABLE_RETRY_CACHE_KEY
DFS_NAMENODE_ENABLE_RETRY_CACHE_DEFAULT
enable
conf
getBoolean
DFS_NAMENODE_ENABLE_RETRY_CACHE_KEY
DFS_NAMENODE_ENABLE_RETRY_CACHE_DEFAULT
LOG
info
heapPercent
getFloat
DFS_NAMENODE_RETRY_CACHE_HEAP_PERCENT_KEY
DFS_NAMENODE_RETRY_CACHE_HEAP_PERCENT_DEFAULT
entryExpiryMillis
getLong
DFS_NAMENODE_RETRY_CACHE_EXPIRYTIME_MILLIS_KEY
DFS_NAMENODE_RETRY_CACHE_EXPIRYTIME_MILLIS_DEFAULT
List
AuditLogger
auditLoggers
Lists
newArrayList
topAuditLoggerAdded
logger
FSNamesystemAuditLogger
Class
forName
className
newInstance
initialize
conf
add
editLog
initJournalsForWrite
recoverUnclosedStreams
LOG
info
editLogTailer
catchupDuringFailover
blockManager
setPostponeBlocksFromFuture
getDatanodeManager
markAllDatanodesStale
clearQueues
processAllPendingDNMessages
getBlockIdManager
applyImpendingGenerationStamp
initializeReplQueues
debug
metaSaveAsString
nextTxId
getFSImage
getLastAppliedTxId
HAServiceState
curState
getState
OBSERVER
STANDBY
Preconditions
checkNotNull
zone
supportedVersions
CryptoProtocolVersion
required
getVersion
n
allowCommittedBlock
numCommittedAllowed
min
blockManager
getMinStorageNum
blocks
i
String
err
INodeFile
checkBlockComplete
numNodes
LOG
info
oldBlock
newgenerationstamp
newlength
Arrays
asList
newtargets
closeFile
deleteblock
checkOperation
OperationCategory
WRITE
String
src
writeLock
copyTruncate
BlockInfo
truncatedBlock
checkNameNodeSafeMode
storedBlock
getStoredBlock
ExtendedBlock
getLocalBlock
LOG
debug
oldBlock
IOException
oldGenerationStamp
storedBlock
getGenerationStamp
oldNumBytes
getNumBytes
INodeFile
iFile
getBlockCollection
src
getFullPathName
FileNotFoundException
dsInfos
i
addBlock
truncatedBlock
Block
bi
storedBlock
setBlockId
getBlockId
iFile
convertLastBlockToUC
blockManager
markBlockReplicasAsCorrupt
oldBlock
getLocalBlock
oldGenerationStamp
oldNumBytes
closeFileCommitBlocks
src
Block
bi
storedBlock
setBlockId
getBlockId
i
dsInfos
addBlock
iFile
convertLastBlockToUC
truncatedBlock
blockManager
markBlockReplicasAsCorrupt
oldBlock
getLocalBlock
oldGenerationStamp
oldNumBytes
closeFileCommitBlocks
src
LinkedHashMap
Integer
HdfsPartialListing
listings
Maps
newLinkedHashMap
DirectoryListing
lastListing
numEntries
String
src
srcs
srcsIndex
listing
dirListing
getListingInt
dir
pc
indexStartAfter
needLocation
FileNotFoundException
Lists
newArrayList
getPartialListing
size
String
operationName
CheckpointSignature
result
checkSuperuserPrivilege
checkOperation
OperationCategory
JOURNAL
writeLock
checkNameNodeSafeMode
checkOperation
OperationCategory
CHECKPOINT
writeLock
checkNameNodeSafeMode
checkOperation
OperationCategory
CHECKPOINT
readLock
checkNameNodeSafeMode
String
operationName
checkOperation
OperationCategory
WRITE
checkErasureCodingSupported
success
last
components
length
String
path
getPath
preceding
i
remainder
target
inode
asSymlink
getSymlinkString
link
getLocalName
File
inprogressFile
NNStorage
getInProgressEditsFile
sd
firstTxId
dstFile
getFinalizedEditsFile
lastTxId
File
currentDir
sd
getCurrentDir
List
EditLogFile
allLogFiles
matchEditLogs
toTrash
Lists
newArrayList
startTxId
Long
parseLong
editsMatch
group
endTxId
ret
add
EditLogFile
f
LOG
error
Matcher
inProgressEditsMatch
EDITS_INPROGRESS_REGEX
matcher
name
HdfsServerConstants
INVALID_TXID
Matcher
inProgressEditsMatch
EDITS_INPROGRESS_REGEX
matcher
name
startTxId
Long
parseLong
group
ret
add
EditLogFile
f
HdfsServerConstants
INVALID_TXID
LOG
error
staleInprogressEditsMatch
EDITS_INPROGRESS_STALE_REGEX
List
EditLogFile
elfs
matchEditLogs
sd
getCurrentDir
File
currentDir
sd
getCurrentDir
List
EditLogFile
allLogFiles
matchEditLogs
currentDir
LOG
info
elf
IOException
getFile
scanLog
getLastReadableTxId
moveAsideCorruptFile
CorruptionException
initCount
errorCount
get
LOG
info
Util
memoryInfo
initConf
conf
FSNamesystem
namesystem
checkINodeReference
INodeMapValidation
run
getFSDirectory
INodeReferenceValidation
start
FSNamesystem
namesystem
loadImage
conf
LOG
info
Util
memoryInfo
end
errorCount
Set
String
validRequestors
HashSet
add
SecurityUtil
getServerPrincipal
conf
get
DFSConfigKeys
DFS_NAMENODE_KERBEROS_PRINCIPAL_KEY
DFSUtilClient
getNNAddress
getHostName
DFS_SECONDARY_NAMENODE_KERBEROS_PRINCIPAL_KEY
SecondaryNameNode
getHttpAddress
LOG
debug
e
msg
format
DFS_NAMENODE_SECONDARY_HTTP_ADDRESS_KEY
getTrimmed
DFS_NAMENODE_SECONDARY_HTTP_ADDRESS_DEFAULT
warn
List
Configuration
otherNnConfs
HAUtil
getConfForOtherNodes
otherNnConf
validRequestors
add
SecurityUtil
getServerPrincipal
conf
get
DFSConfigKeys
DFS_NAMENODE_KERBEROS_PRINCIPAL_KEY
DFSUtilClient
getNNAddress
getHostName
DFS_SECONDARY_NAMENODE_KERBEROS_PRINCIPAL_KEY
SecondaryNameNode
getHttpAddress
LOG
debug
e
String
msg
format
DFS_NAMENODE_SECONDARY_HTTP_ADDRESS_KEY
getTrimmed
DFS_NAMENODE_SECONDARY_HTTP_ADDRESS_DEFAULT
warn
List
Configuration
otherNnConfs
HAUtil
getConfForOtherNodes
otherNnConf
info
remoteUser
LOG
debug
e
String
msg
format
DFSConfigKeys
DFS_SECONDARY_NAMENODE_KERBEROS_PRINCIPAL_KEY
conf
get
DFS_NAMENODE_SECONDARY_HTTP_ADDRESS_KEY
getTrimmed
DFS_NAMENODE_SECONDARY_HTTP_ADDRESS_DEFAULT
warn
List
Configuration
otherNnConfs
HAUtil
getConfForOtherNodes
validRequestors
add
SecurityUtil
getServerPrincipal
otherNnConf
DFS_NAMENODE_KERBEROS_PRINCIPAL_KEY
DFSUtilClient
getNNAddress
getHostName
info
remoteUser
response
sendError
HttpServletResponse
SC_CONFLICT
larger
last
txid
now
System
currentTimeMillis
lastCheckpointTime
nnImage
getStorage
getMostRecentCheckpointTime
lastCheckpointTxid
getMostRecentCheckpointTxId
checkpointPeriod
conf
getTimeDuration
DFS_NAMENODE_CHECKPOINT_PERIOD_KEY
DFS_NAMENODE_CHECKPOINT_PERIOD_DEFAULT
TimeUnit
SECONDS
Math
round
recentImageCheckTimePrecision
checkpointTxnCount
getLong
DFS_NAMENODE_CHECKPOINT_TXNS_KEY
DFS_NAMENODE_CHECKPOINT_TXNS_DEFAULT
timeDelta
MILLISECONDS
toSeconds
String
message
LOG
info
PriorityQueue
EditLogInputStream
allStreams
EDIT_LOG_INPUT_STREAM_COMPARATOR
closure
apply
jas
String
msg
status
LOG
error
t
abortAllJournals
terminate
badJAS
add
disableAndReportErrorOnJournals
message
Map
Long
List
RemoteEditLog
logsByStartTxId
HashMap
key
GET_START_TXID
apply
input
computeIfAbsent
k
ArrayList
add
curStartTxId
fromTxId
logs
logGroup
getOrDefault
Collections
emptyList
SortedSet
startTxIds
Sets
newTreeSet
keySet
tailSet
curStartTxId
fromTxId
List
RemoteEditLog
logs
ArrayList
logGroup
logsByStartTxId
getOrDefault
Collections
emptyList
SortedSet
Long
startTxIds
Sets
newTreeSet
keySet
tailSet
LOG
debug
clear
first
leasesById
remove
inodeId
sd
clearDirectory
writeProperties
writeTransactionIdFile
LOG
error
sd
String
lsd
listStorageDirectories
File
prevDir
sd
getPreviousDir
File
prevDir
sd
getPreviousDir
File
prevDir
sd
getPreviousDir
LOG
info
httpServer
setAliasMap
levelDBAliasMapServer
getAliasMap
rpcServer
start
plugins
conf
getInstances
DFS_NAMENODE_PLUGINS_KEY
ServicePlugin
String
pluginsValue
get
LOG
error
e
p
warn
t
info
getRole
getNameNodeAddress
String
nsId
DFSUtil
getNamenodeNameServiceId
conf
namenodeId
HAUtil
getNameNodeId
initializeGenericKeys
Preconditions
checkArgument
sharedEditsDirs
isEmpty
List
URI
sharedEditsUris
ArrayList
FSEditLog
newSharedEditLog
conf
newSharedStorage
initJournalsForWrite
recoverUnclosedStreams
sourceEditLog
fsns
getFSImage
editLog
fromTxId
getMostRecentCheckpointTxId
Collection
EditLogInputStream
streams
selectInputStreams
setNextTxId
streams
sourceEditLog
selectInputStreams
fromTxId
newSharedEditLog
setNextTxId
LOG
debug
stream
FSEditLogOp
op
segmentOpen
trace
startLogSegment
txid
fsns
getEffectiveLayoutVersion
logEdit
endCurrentLogSegment
LOG
debug
stream
FSEditLogOp
op
segmentOpen
trace
newSharedEditLog
startLogSegment
txid
fsns
getEffectiveLayoutVersion
logEdit
endCurrentLogSegment
startOpt
StartupOption
BACKUP
CHECKPOINT
OBSERVER
UPGRADE
getName
equalsIgnoreCase
cmd
UPGRADEONLY
String
flag
args
i
setClusterId
LOG
error
CLUSTERID
LOG
info
Arrays
asList
argv
conf
HdfsConfiguration
GenericOptionsParser
hParser
getRemainingArgs
StartupOption
startOpt
parseArguments
printUsage
System
err
setStartupOption
aborted
terminate
checkNNStartup
namesystem
checkOperation
OperationCategory
UNCHECKED
checkSuperuserPrivilege
verifyRequest
registration
checkNNStartup
String
clientMachine
getClientMachine
checkNNStartup
String
clientMachine
getClientMachine
checkNNStartup
checkNNStartup
checkNNStartup
checkNNStartup
checkNNStartup
checkNNStartup
checkNNStartup
checkNNStartup
verifyRequest
nodeReg
checkNNStartup
verifyRequest
nodeReg
checkNNStartup
verifyRequest
nodeReg
metrics
incrBlockReceivedAndDeletedOps
checkNNStartup
String
dnName
nodeReg
toString
String
dnVersion
dnReg
getSoftwareVersion
IncorrectVersionException
ive
minimumDataNodeVersion
LOG
warn
getMessage
nnVersion
VersionInfo
getVersion
messagePrefix
nnCTime
nn
getFSImage
getStorage
getCTime
dnCTime
getStorageInfo
toString
sb
append
UserGroupInformation
getCurrentUser
remoteAddress
Date
out
println
blk
print
blockIdCK
LOG
info
toString
namenode
getNamesystem
logFsckEvent
flush
String
msg
path
namenode
getRpcServer
delete
path
IOException
target
chain
copyError
LocatedBlock
lblock
lBlk
DatanodeInfo
locs
getLocations
fos
flush
close
dfs
create
fos
dfs
create
target
chain
copyBlock
lblock
LOG
error
getBlock
e
flush
close
internalError
copyError
deadNodes
clear
failures
String
file
BlockReaderFactory
getFileName
targetAddr
block
getBlockPoolId
getBlockId
Peer
peer
Socket
s
NetUtils
getDefaultSocketFactory
conf
createSocket
connect
addr
HdfsConstants
READ_TIMEOUT
setSoTimeout
DFSUtilClient
peerFromSocketAndKey
dfs
getSaslDataTransferClient
NamenodeFsck
blockToken
datanodeId
state
State
EOF
PrematureEOFException
prevTxId
streams
curIdx
getLastTxId
op
getTransactionId
prevException
e
STREAM_FAILED
oldLast
LOG
info
zoneId
getReencryptionStatus
markZoneStarted
resetSubmissionTracker
dir
getFSNamesystem
readUnlock
reencryptEncryptionZone
re
markZoneForRetry
warn
ioe
Future
ReencryptionTask
completed
batchService
take
throttle
checkPauseForTesting
LOG
debug
task
get
shouldRetry
dir
getFSNamesystem
writeLock
throttleTimerLocked
start
processTask
shouldRun
nameNodeAddr
NameNode
getServiceAddress
conf
namenode
NameNodeProxies
createNonHAProxy
NamenodeProtocol
UserGroupInformation
getCurrentUser
getProxy
fsName
getInfoServer
checkpointDirs
FSImage
getCheckpointDirs
checkpointEditsDirs
getCheckpointEditsDirs
checkpointImage
CheckpointStorage
recoverCreate
commandLineOpts
shouldFormat
deleteTempEdits
namesystem
FSNamesystem
dir
disableQuotaChecks
checkpointConf
CheckpointConf
nameNodeStatusBeanName
MBeans
register
legacyOivImageDir
get
DFSConfigKeys
DFS_NAMENODE_LEGACY_OIV_IMAGE_DIR_KEY
Thread
sleep
period
UserGroupInformation
isSecurityEnabled
getCurrentUser
checkTGTAndReloginFromKeytab
monotonicNow
Time
now
doCheckpoint
lastCheckpointTime
lastCheckpointWallclockTime
UserGroupInformation
isSecurityEnabled
getCurrentUser
checkTGTAndReloginFromKeytab
monotonicNow
Time
now
doCheckpoint
lastCheckpointTime
lastCheckpointWallclockTime
LOG
error
e
printStackTrace
UserGroupInformation
isSecurityEnabled
getCurrentUser
checkTGTAndReloginFromKeytab
monotonicNow
Time
now
doCheckpoint
lastCheckpointTime
lastCheckpointWallclockTime
LOG
error
e
printStackTrace
checkpointImage
getMergeErrorCount
doCheckpoint
System
err
println
count
checkpointConf
getTxnCount
out
uncheckpointed
exitCode
String
content
e
getLocalizedMessage
split
LOG
error
cmd
System
err
println
count
checkpointConf
getTxnCount
out
uncheckpointed
exitCode
String
content
e
getLocalizedMessage
split
LOG
error
cmd
ex
String
paramString
ImageServlet
getParamStringForAliasMap
isBootstrapStandby
getFileClient
fsName
Arrays
asList
aliasMap
LOG
warn
buf
out
write
num
total
throttler
throttle
canceler
reportStr
ioe
e
ie
LOG
warn
buf
out
write
num
total
throttler
throttle
canceler
reportStr
ioe
e
ie
URL
url
infoServer
ImageServlet
PATH_SPEC
queryString
Configuration
conf
HdfsConfiguration
timeout
getInt
DFSConfigKeys
DFS_IMAGE_TRANSFER_TIMEOUT_KEY
DFS_IMAGE_TRANSFER_TIMEOUT_DEFAULT
NamenodeProtocol
proxy
NamespaceInfo
nsInfo
isUpgradeFinalized
RemoteNameNodeInfo
proxyInfo
remoteNNs
get
i
InetSocketAddress
otherIpcAddress
getIpcAddress
createNNProtocolProxy
versionRequest
LOG
warn
ioe
getMessage
isUpgradeFinalized
RemoteNameNodeInfo
proxyInfo
remoteNNs
get
i
InetSocketAddress
otherIpcAddress
getIpcAddress
proxy
createNNProtocolProxy
nsInfo
versionRequest
LOG
warn
ioe
getMessage
debug
proxyInfo
remoteNNs
get
i
InetSocketAddress
otherIpcAddress
getIpcAddress
proxy
createNNProtocolProxy
nsInfo
versionRequest
isUpgradeFinalized
LOG
warn
ioe
getMessage
debug
error
ERR_CODE_FAILED_CONNECT
isFormatted
System
err
println
LOG
warn
e
storage
unlockAll
FSImage
checkUpgrade
StorageDirectory
sd
it
next
NNUpgradeUtil
renameCurToTmp
Configuration
conf
getConf
nsId
DFSUtil
getNamenodeNameServiceId
HadoopIllegalArgumentException
nnId
HAUtil
getNameNodeId
NameNode
initializeGenericKeys
remoteNNs
RemoteNameNodeInfo
getRemoteNameNodes
List
remove
ArrayList
size
InetSocketAddress
address
info
getIpcAddress
LOG
getNameNodeID
namesystem
writeLockInterruptibly
FSImage
image
getFSImage
lastTxnId
getLastAppliedTxId
FSImage
image
namesystem
getFSImage
lastTxnId
getLastAppliedTxId
LOG
debug
Collection
EditLogInputStream
streams
startTime
Time
monotonicNow
editLog
selectInputStreams
inProgressOk
warn
ioe
NameNode
getNameNodeMetrics
addEditLogFetchTime
streams
editLog
selectInputStreams
lastTxnId
inProgressOk
LOG
warn
ioe
NameNode
getNameNodeMetrics
addEditLogFetchTime
Time
monotonicNow
startTime
debug
size
editsLoaded
image
loadEdits
namesystem
maxTxnsPerLock
elie
getNumEditsLoaded
DirectoryDiffListFactory
skipInterval
interval
maxLevels
maxSkipLevels
constructor
c
DiffListBySkipList
Snapshot
Root
deleted
namesystem
readLock
getSnapshotManager
chooseDeletedSnapshot
LOG
error
e
readUnlock
trace
name
String
snapshotRoot
getRootFullPathName
snapshotName
getLocalName
deleted
namesystem
getSnapshotManager
chooseDeletedSnapshot
LOG
error
e
readUnlock
trace
name
String
snapshotRoot
getRootFullPathName
snapshotName
getLocalName
info
gcDeletedSnapshot
foundDn
dn
getDatanodeInfo
compareTo
reportedDn
foundType
getStorageType
equals
type
blkLocs
remove
Block
mFinishedBlocks
reportedBlock
context
notifyMovementTriedBlocks
movementFinishedBlocks
add
scheduledBlkLocs
Iterator
AttemptedItemInfo
iter
storageMovementAttemptedItems
iterator
now
monotonicNow
itemInfo
next
file
getFile
ItemInfo
candidate
getStartPath
getRetryCount
blockStorageMovementNeeded
add
remove
now
Time
monotonicNow
elapsedTimeMs
lastAccessedTime
refreshNeeded
refreshIntervalMs
LOG
debug
elapsedTimeMs
refreshIntervalMs
datanodeMap
reset
DatanodeStorageReport
liveDns
spsContext
getLiveDatanodeStorageReport
StorageReport
storageReports
storage
getStorageReports
List
StorageType
storageTypes
ArrayList
Long
remainingSizeList
add
t
getStorage
getStorageType
getRemaining
addTarget
getDatanodeInfo
LOG
info
blockMovementMaxRetry
itemInfo
getFile
storageMovementNeeded
removeItemTrackInfo
trackId
BlocksMovingAnalysis
status
BlockStoragePolicy
existingStoragePolicy
HdfsFileStatus
fileStatus
ctxt
getFileInfo
existingStoragePolicyID
getStoragePolicy
HdfsLocatedFileStatus
file
analyseBlocksStorageMovementsAndAssignToDN
trackId
itemInfo
getFile
BlocksMovingAnalysis
status
BlockStoragePolicy
existingStoragePolicy
HdfsFileStatus
fileStatus
ctxt
getFileInfo
storageMovementNeeded
removeItemTrackInfo
existingStoragePolicyID
getStoragePolicy
HdfsLocatedFileStatus
file
analyseBlocksStorageMovementsAndAssignToDN
LOG
debug
getFileId
storageMovementsMonitor
add
getStartPath
monotonicNow
assignedBlocks
getRetryCount
HdfsFileStatus
fileStatus
ctxt
getFileInfo
trackId
storageMovementNeeded
removeItemTrackInfo
itemInfo
existingStoragePolicyID
getStoragePolicy
existingStoragePolicy
HdfsLocatedFileStatus
file
status
analyseBlocksStorageMovementsAndAssignToDN
LOG
debug
getFileId
storageMovementsMonitor
add
getStartPath
getFile
monotonicNow
assignedBlocks
getRetryCount
existingStoragePolicyID
fileStatus
getStoragePolicy
existingStoragePolicy
ctxt
HdfsLocatedFileStatus
file
status
analyseBlocksStorageMovementsAndAssignToDN
LOG
debug
getFileId
storageMovementsMonitor
add
itemInfo
getStartPath
getFile
monotonicNow
assignedBlocks
getRetryCount
trackId
retryItem
BlocksMovingAnalysis
Status
status
BLOCKS_ALREADY_SATISFIED
ErasureCodingPolicy
ecPolicy
fileInfo
getErasureCodingPolicy
LocatedBlocks
locatedBlocks
getLocatedBlocks
lastBlkComplete
isLastBlockComplete
storageMovementNeeded
add
trackInfo
scanCompleted
LOG
debug
mode
newMode
info
spsService
stopGracefully
stop
clearPathIds
size
pathsToBeTraveresed
LOG
info
DFSConfigKeys
NNTOP_BUCKETS_PER_WINDOW_KEY
conf
get
LOG
info
DFSConfigKeys
NNTOP_BUCKETS_PER_WINDOW_KEY
conf
get
NNTOP_NUM_USERS_KEY
TopWindow
window
windowLenMs
Set
String
metricNames
metricMap
keySet
TopN
topN
topUsersCnt
Iterator
Map
Entry
String
RollingWindow
iterator
rollingWindows
entrySet
entry
next
userName
getKey
aWindow
getValue
windowSum
getSum
time
IOException
BlockManager
bm
fsn
getBlockManager
HashSet
Node
excludes
idx
host
indexOf
excludeNode
getDatanodeManager
getDatanodeByXferAddr
substring
Integer
parseInt
getDatanodeByHost
add
conf
HdfsConfiguration
String
nameNodePrincipal
get
DFSConfigKeys
DFS_NAMENODE_KERBEROS_PRINCIPAL_KEY
UserGroupInformation
ugi
getCurrentUser
zkfcUgi
getLoginUser
isThreadDumpCaptured
httpTimeOut
conf
getInt
DFSConfigKeys
DFS_HA_ZKFC_NN_HTTP_TIMEOUT_KEY
DFS_HA_ZKFC_NN_HTTP_TIMEOUT_KEY_DEFAULT
String
stacksUrl
DFSUtil
getInfoServer
localNNTarget
getAddress
getHttpClientScheme
URL
url
HttpURLConnection
conn
openConnection
setReadTimeout
setConnectTimeout
connect
ByteArrayOutputStream
out
IOUtils
copyBytes
getInputStream
StringBuilder
localNNThreadDumpContent
append
token
cancel
conf
result
token
renew
conf
Token
token
fs
getDelegationToken
renewer
Credentials
cred
addToken
getService
writeTokenStorageFile
tokenFile
conf
SerializedFormat
WRITABLE
conf
HdfsConfiguration
String
nameNodePrincipal
get
DFSConfigKeys
DFS_NAMENODE_KERBEROS_PRINCIPAL_KEY
visitor
start
inputStream
getVersion
FSEditLogOp
op
readOp
nextTxId
getTransactionId
setTransactionId
visitOp
nextTxId
op
getTransactionId
setTransactionId
visitor
visitOp
LOG
error
inputStream
getPosition
close
e
resync
op
setTransactionId
nextTxId
visitor
visitOp
LOG
error
inputStream
getPosition
close
e
resync
String
encoder
getEncoder
decoder
content
image
getXAttrs
path
names
ArrayList
FsImageProto
FileSummary
Section
sections
Lists
newArrayList
summary
getSectionsList
FSImageFormatProtobuf
SectionName
n1
fromString
s1
getName
n2
s2
ordinal
fin
getChannel
position
s
getOffset
InputStream
is
FSImageUtil
wrapInputStreamForCompression
conf
getCodec
BufferedInputStream
LimitInputStream
getLength
FsImageProto
INodeSection
s
parseDelimitedFrom
in
FsImageProto
StringTableSection
s
parseDelimitedFrom
in
IOException
e
Node
version
loadNodeChildren
Integer
onDiskVersion
removeChildInt
layoutVersion
NameNodeLayoutVersion
CURRENT_LAYOUT_VERSION
fileSummaryBld
setOndiskVersion
setLayoutVersion
IOException
ev
asEndElement
getName
getLocalPart
getEventType
String
sectionName
asStartElement
SectionProcessor
sectionProcessor
sections
get
StringUtils
join
keySet
unprocessedSections
remove
process
writeStringTableSection
prevOffset
out
getCount
FileSummary
fileSummary
fileSummaryBld
build
DataInputStream
in
PositionTrackingInputStream
tracker
ImageLoader
fsip
done
BufferedInputStream
Files
newInputStream
Paths
get
inputFile
imageVersionFile
findImageVersion
LoaderFactory
getLoader
IOException
loadImage
processor
skipBlocks
corrChecker
saveNodeRefIds
refIdList
count
LOG
debug
parentId
e
getParent
addCorruptedNode
numOfCorruption
childId
getChildren
i
putDirChildToMetadataMap
INodeSection
s
parseDelimitedFrom
in
LOG
info
AtomicInteger
numDirs
INode
p
INodeSection
s
parseDelimitedFrom
in
LOG
info
s
getNumInodes
ignored
ignoredSnapshots
INode
p
parseDelimitedFrom
in
String
parentPath
metadataMap
getParentPath
getId
printIfNotEmpty
getEntry
warn
ioe
ignoredSnapshots
INode
p
parseDelimitedFrom
in
String
parentPath
metadataMap
getParentPath
getId
printIfNotEmpty
getEntry
ignored
LOG
warn
ioe
debug
File
md5File
getDigestFileForFile
dataFile
String
md5Line
digestString
getName
AtomicFileOutputStream
afos
write
getBytes
Charsets
UTF_8
close
sockDir
TemporarySocketDirectory
DomainSocket
disableBindPathValidation
prevCacheManipulator
NativeIO
POSIX
getCacheManipulator
MutableBoolean
result
Assert
assertEquals
expectedOutstandingMmaps
numOutstandingMmaps
ShortCircuitReplica
replica
replicas
get
ExtendedBlockId
fromExtendedBlock
block
assertNotNull
Slot
slot
getSlot
NUM_OPENS
Configuration
conf
setBoolean
HdfsClientConfigKeys
Read
ShortCircuit
KEY
MiniDFSCluster
cluster
FSDataInputStream
streams
Builder
build
DistributedFileSystem
dfs
getFileSystem
Path
TEST_PATH
DFSTestUtil
createFile
i
open
Path
sbExplicitTestDir
sbOmittedTestDir
hdfs
mkdirs
assertTrue
exists
setPermission
FsPermission
Path
sbExplicitTestDir
sbOmittedTestDir
hdfs
mkdirs
assertTrue
exists
setPermission
FsPermission
LOG
info
getName
getFileStatus
getPermission
getStickyBit
Path
sbExplicitTestDir
sbOmittedTestDir
hdfs
mkdirs
assertTrue
exists
setPermission
FsPermission
LOG
info
getName
getFileStatus
getPermission
getStickyBit
assertFalse
hdfs
mkdirs
sbExplicitTestDir
sbOmittedTestDir
assertTrue
exists
setPermission
FsPermission
LOG
info
getName
getFileStatus
getPermission
getStickyBit
assertFalse
fsTarget
createNewFile
testBaseFile
FSDataOutputStream
dataOutputStream
append
write
close
testLevel2File
toString
getBytes
String
clusterName
URI
viewFsUri
FsConstants
VIEWFS_SCHEME
Configuration
conf
ConfigUtil
addLinkFallback
getUri
FileSystem
vfs
get
assertEquals
ViewFileSystem
getClass
FileStatus
baseFileStat
getFileStatus
Path
toUri
dataOutputStream
write
close
fsTarget
createNewFile
testLevel2File
append
toString
getBytes
String
clusterName
URI
viewFsUri
FsConstants
VIEWFS_SCHEME
Configuration
conf
ConfigUtil
addLinkFallback
getUri
FileSystem
vfs
get
assertEquals
ViewFileSystem
getClass
FileStatus
baseFileStat
getFileStatus
Path
testBaseFile
toUri
LOG
info
baseFileRelStat
testBaseFileRelative
dataOutputStream
write
toString
getBytes
close
String
clusterName
URI
viewFsUri
FsConstants
VIEWFS_SCHEME
Configuration
conf
ConfigUtil
addLinkFallback
fsTarget
getUri
FileSystem
vfs
get
assertEquals
ViewFileSystem
getClass
FileStatus
baseFileStat
getFileStatus
Path
testBaseFile
toUri
LOG
info
baseFileRelStat
testBaseFileRelative
Assert
getLen
level2FileStat
testLevel2File
FSDataOutputStream
dataOutputStream
fsTarget
append
testLevel2File
write
toString
getBytes
close
String
clusterName
URI
viewFsUri
FsConstants
VIEWFS_SCHEME
Configuration
conf
ConfigUtil
addLink
Path
targetTestRoot
toUri
System
out
println
getUri
addLinkFallback
FileSystem
vfs
get
assertEquals
ViewFileSystem
getClass
FileStatus
baseFileStat
getFileStatus
testBaseFile
String
clusterName
URI
viewFsUri
FsConstants
VIEWFS_SCHEME
Configuration
conf
ConfigUtil
addLink
Path
targetTestRoot
toUri
System
out
println
fsTarget
getUri
addLinkFallback
FileSystem
vfs
get
assertEquals
ViewFileSystem
getClass
FileStatus
baseFileStat
getFileStatus
toString
testBaseFile
LOG
info
Assert
getLen
level2FileStat
testLevel2File
File
infile
TEST_DIR
testFileName
content
getBytes
FileOutputStream
fos
write
close
assertEquals
length
Configuration
conf
ConfigUtil
addLinkMergeSlash
clusterName
toURI
FileSystem
vfs
get
viewFsUri
ViewFileSystem
getClass
FileStatus
stat
getFileStatus
Path
toString
FSDataOutputStream
stm
fileSys
create
name
getConf
getInt
CommonConfigurationKeys
IO_FILE_BUFFER_SIZE_KEY
repl
blockSize
buffer
numOfBlocks
Random
rand
seed
nextBytes
write
done
state
node
getAdminState
tries
curCacheUsed
fsd
getCacheUsed
curBlocks
getNumBlocksCached
HashSet
Path
closedFiles
Entry
FSDataOutputStream
entry
it
next
SnapshotDiffReport
report
fs
getSnapshotDiffReport
dir
from
to
inverseReport
SnapshotDiffReport
report
fs
getSnapshotDiffReport
dir
from
to
inverseReport
LOG
info
toString
maxOldFileLen
BLOCK_SIZE
maxFlushedBytes
contents
AppendTestUtil
initBuffer
fileLen
oldFileLen
flushedBytes1
flushedBytes2
Path
p
LOG
info
restartDataNode
i
keepPort
LOG
info
testPath
buffer
length
LOG
info
testPath
buffer
length
StripedFileTestUtil
verifyLength
dfs
LOG
info
testPath
buffer
length
StripedFileTestUtil
verifyLength
dfs
verifyPread
expected
LOG
info
testPath
buffer
length
StripedFileTestUtil
verifyLength
dfs
verifyPread
expected
verifyStatefulRead
LOG
info
testPath
buffer
length
StripedFileTestUtil
verifyLength
dfs
verifyPread
expected
verifyStatefulRead
ByteBuffer
allocate
String
fileType
fileLength
BLOCK_SIZE
NUM_DATA_UNITS
src
dnFailureNum
LOG
info
srcPath
recoverBlkNum
dataBlkDelNum
parityBlkDelNum
LocatedBlocks
locatedBlocks
getLocatedBlocks
dfs
LocatedStripedBlock
lastBlock
getLastLocatedBlock
delDataBlkIndices
StripedFileTestUtil
randomArray
NUM_DATA_UNITS
Assert
assertNotNull
delParityBlkIndices
NUM_PARITY_UNITS
delBlkIndices
System
arraycopy
length
ExtendedBlock
delBlocks
i
StripedBlockUtil
constructInternalBlock
getBlock
CELL_SIZE
LocatedStripedBlock
lastBlock
locatedBlocks
getLastLocatedBlock
delDataBlkIndices
StripedFileTestUtil
randomArray
NUM_DATA_UNITS
dataBlkDelNum
Assert
assertNotNull
delParityBlkIndices
NUM_PARITY_UNITS
parityBlkDelNum
delBlkIndices
recoverBlkNum
System
arraycopy
length
ExtendedBlock
delBlocks
i
StripedBlockUtil
constructInternalBlock
getBlock
CELL_SIZE
LOG
info
cluster
corruptBlockOnDataNodesByDeletingBlockFile
success
ATTEMPTS
count
ErasureCodingPolicy
ecPolicy
fs
getErasureCodingPolicy
Path
src
LocatedBlocks
lbs
getClient
getLocatedBlocks
expected
getRealTotalBlockNum
lb
getBlockSize
numDeadDNs
reported
getLocations
length
count
ErasureCodingPolicy
ecPolicy
fs
getErasureCodingPolicy
Path
src
success
LocatedBlocks
lbs
getClient
getLocatedBlocks
expected
getRealTotalBlockNum
lb
getBlockSize
numDeadDNs
reported
getLocations
length
LOG
info
getBlock
Joiner
on
join
Thread
sleep
List
LocatedBlock
blockGroupList
ArrayList
LocatedBlocks
lbs
dfs
getClient
getLocatedBlocks
srcPath
toString
Long
MAX_VALUE
expectedNumGroup
length
blkGroupSize
assertEquals
size
ErasureCodingPolicy
ecPolicy
getErasureCodingPolicy
cellSize
getCellSize
dataBlkNum
getNumDataUnits
parityBlkNum
getNumParityUnits
index
Assert
assertTrue
firstBlock
LocatedStripedBlock
gs
getBlock
getGenerationStamp
oldGS
oldGSList
get
String
s
numCellInGroup
groupSize
cellSize
lastCellIndex
dataBlkNum
lastCellSize
List
LocatedBlock
blockList
blockGroupList
get
group
dataBlockBytes
parityBlockBytes
parityBlkNum
Set
Integer
checkSet
HashSet
j
i
numCellInBlock
blockSize
isLastGroup
blockBytes
checkErrorState
DFSOutputStream
out
fileSys
append
file
getWrappedStream
AtomicBoolean
running
failed
write
getBytes
hflush
Thread
sleep
Random
r
b
oneWriteSize
nextBytes
o
write
count
hflush
assertTrue
failed
get
DatanodeInfo
newNodes
dfsO
getStreamer
getNodes
close
DataNodeTestUtils
triggerBlockReport
d
List
pipelineList
Arrays
asList
pipeline
newNode
DFSTestUtil
createFile
dfs
filePath
BLOCK_SIZE
repl
waitReplication
LocatedBlocks
locatedblocks
getNamenode
getBlockLocations
toString
Assert
assertEquals
get
getLocations
length
LocatedBlock
lblock
DatanodeInfo
datanodeinfos
ExtendedBlock
block
getBlock
dninfo
i
DataNode
dn
cluster
getDataNode
getIpcPort
corruptReplica
String
outStr
runFsck
conf
String
outStr
runFsck
conf
String
outStr
runFsck
conf
errorCode
filePath
toString
Assert
assertTrue
buffer
length
offset
pos
in
seek
HdfsConfiguration
configuration
String
contextName
set
HdfsClientConfigKeys
DFS_CLIENT_CONTEXT
setLong
DFS_CLIENT_SOCKET_TIMEOUT_KEY
BlockReaderTestUtil
util
Path
testFile
authenticData
writeFile
FILE_SIZE
DFSClient
client
InetSocketAddress
getCluster
getNameNodePort
getConf
DFSInputStream
in
open
toString
cluster
MiniDFSCluster
Builder
conf
numDataNodes
build
waitActive
FileSystem
fs
getFileSystem
util
createFiles
replFactor
waitReplication
dnIdx
DataNode
dn
getDataNodes
get
String
bpid
getNamesystem
getBlockPoolId
List
ReplicaInfo
replicas
getFSDataset
getFinalizedBlocks
assertTrue
isEmpty
replica
idx
ExtendedBlock
eb
util
createFiles
fs
replFactor
waitReplication
dnIdx
DataNode
dn
cluster
getDataNodes
get
String
bpid
getNamesystem
getBlockPoolId
List
ReplicaInfo
replicas
getFSDataset
getFinalizedBlocks
assertTrue
isEmpty
replica
idx
ExtendedBlock
eb
LOG
info
deleteMeta
newSize
Path
file
src
conf
setInt
DFSConfigKeys
DFS_BLOCK_SIZE_KEY
MiniDFSCluster
cluster
Builder
build
waitActive
FileSystem
fs
getFileSystem
NamenodeProtocols
preSpyNN
getNameNodeRpc
spyNN
spy
DFSClient
client
LocatedBlocks
lb
getBlockLocations
Long
MAX_VALUE
assertEquals
getLastLocatedBlock
getBlock
ret
getLocatedBlocks
size
blockCount
getBlockCount
ret
LocatedBlock
ret2
invocation
callRealMethod
AssertionError
e
blockCount2
assertEquals
LOG
info
MultipleLinearRandomRetry
r
parseCommaSeparatedString
s
sendBufferSize
getSendBufferSize
Configuration
Configuration
conf1
setInt
DFS_CLIENT_SOCKET_SEND_BUFFER_SIZE_KEY
sendBufferSize1
getSendBufferSize
conf2
sendBufferSize2
Configuration
conf
setInt
DFS_CLIENT_SOCKET_SEND_BUFFER_SIZE_KEY
sendBufferSize
getSendBufferSize
client
removeXAttr
setAcl
AclEntry
parseAclSpec
removeAcl
rename
truncate
BLOCK_SIZE
create
EventBatch
batch
waitForNextEvents
eis
Assert
assertEquals
getEvents
length
txid
getTxid
assertTrue
getEventType
Event
EventType
RENAME
RenameEvent
re
getDstPath
getSrcPath
getTimestamp
Event
RenameEvent
re
batch
getEvents
Assert
assertEquals
getDstPath
getSrcPath
assertTrue
getTimestamp
LOG
info
toString
startsWith
eventsBehind
eis
getTxidsBehindEstimate
waitForNextEvents
length
txid
checkTxid
getEventType
EventType
RENAME
re2
equals
LOG
info
re2
toString
batch
waitForNextEvents
eis
Assert
assertEquals
getEvents
length
txid
checkTxid
assertTrue
getEventType
Event
EventType
CREATE
CreateEvent
ce
getiNodeType
INodeType
FILE
getPath
equals
getCtime
getReplication
getSymlinkTarget
getOverwrite
BLOCK_SIZE
getDefaultBlockSize
isErasureCoded
isPresent
assertFalse
get
Assert
assertTrue
ce
getSymlinkTarget
getOverwrite
assertEquals
BLOCK_SIZE
getDefaultBlockSize
isErasureCoded
isPresent
assertFalse
get
LOG
info
toString
startsWith
batch
waitForNextEvents
eis
getEvents
length
txid
checkTxid
getEventType
Event
EventType
CLOSE
CloseEvent
ce2
getPath
equals
getFileSize
getTimestamp
txid
checkTxid
batch
Assert
assertTrue
getEvents
getEventType
Event
EventType
CLOSE
CloseEvent
ce2
getPath
equals
getFileSize
getTimestamp
LOG
info
toString
startsWith
waitForNextEvents
eis
assertEquals
length
APPEND
AppendEvent
append2
assertFalse
toNewBlock
Assert
assertFalse
append2
toNewBlock
LOG
info
toString
assertTrue
startsWith
batch
waitForNextEvents
eis
assertEquals
getEvents
length
txid
checkTxid
getEventType
Event
EventType
CLOSE
CloseEvent
getPath
equals
METADATA
MetadataUpdateEvent
mue
getMetadataType
MetadataType
TIMES
txid
checkTxid
batch
Assert
assertTrue
getEvents
getEventType
Event
EventType
METADATA
MetadataUpdateEvent
mue
getPath
equals
getMetadataType
MetadataType
TIMES
LOG
info
toString
startsWith
waitForNextEvents
eis
assertEquals
length
mue2
REPLICATION
getReplication
Assert
assertTrue
batch
getEvents
getEventType
Event
EventType
METADATA
MetadataUpdateEvent
mue2
getPath
equals
getMetadataType
MetadataType
REPLICATION
getReplication
LOG
info
toString
waitForNextEvents
eis
assertEquals
length
txid
checkTxid
APPEND
AppendEvent
UNLINK
UnlinkEvent
ue2
getTimestamp
Assert
assertTrue
ue2
getPath
equals
getTimestamp
LOG
info
toString
startsWith
batch
getEvents
getEventType
Event
EventType
CLOSE
CloseEvent
ce3
waitForNextEvents
eis
assertEquals
length
txid
checkTxid
UNLINK
UnlinkEvent
ue
Assert
assertTrue
batch
getEvents
getEventType
Event
EventType
UNLINK
UnlinkEvent
ue
getPath
equals
getTimestamp
LOG
info
toString
waitForNextEvents
eis
assertEquals
length
txid
checkTxid
CREATE
CreateEvent
ce4
getiNodeType
INodeType
DIRECTORY
getCtime
getReplication
getSymlinkTarget
Event
CreateEvent
ce4
batch
getEvents
Assert
assertTrue
getiNodeType
INodeType
DIRECTORY
getPath
equals
getCtime
getReplication
getSymlinkTarget
LOG
info
toString
waitForNextEvents
eis
assertEquals
length
txid
checkTxid
getEventType
EventType
METADATA
MetadataUpdateEvent
mue3
getMetadataType
MetadataType
PERMS
getPerms
contains
Assert
assertTrue
batch
getEvents
getEventType
Event
EventType
METADATA
MetadataUpdateEvent
mue3
getPath
equals
getMetadataType
MetadataType
PERMS
getPerms
toString
contains
LOG
info
waitForNextEvents
eis
assertEquals
length
txid
checkTxid
mue4
OWNER
getOwnerName
getGroupName
Assert
assertTrue
mue4
getPath
equals
getMetadataType
Event
MetadataUpdateEvent
MetadataType
OWNER
getOwnerName
getGroupName
LOG
info
toString
batch
waitForNextEvents
eis
assertEquals
getEvents
length
txid
checkTxid
getEventType
EventType
CREATE
CreateEvent
ce5
getiNodeType
INodeType
SYMLINK
getCtime
getReplication
getSymlinkTarget
Assert
assertTrue
ce5
getPath
equals
getCtime
getReplication
getSymlinkTarget
LOG
info
toString
batch
waitForNextEvents
eis
assertEquals
getEvents
length
txid
checkTxid
getEventType
Event
EventType
METADATA
MetadataUpdateEvent
mue5
getMetadataType
MetadataType
XATTRS
getxAttrs
size
get
getName
contains
isxAttrsRemoved
Assert
assertTrue
mue5
getMetadataType
Event
MetadataUpdateEvent
MetadataType
XATTRS
getxAttrs
size
get
getName
contains
isxAttrsRemoved
LOG
info
toString
batch
waitForNextEvents
eis
assertEquals
getEvents
length
txid
checkTxid
getEventType
EventType
METADATA
mue6
getPath
equals
Event
MetadataUpdateEvent
mue6
batch
getEvents
Assert
assertTrue
getPath
equals
getMetadataType
MetadataType
XATTRS
getxAttrs
size
get
getName
contains
isxAttrsRemoved
LOG
info
toString
waitForNextEvents
eis
assertEquals
length
txid
checkTxid
getEventType
EventType
METADATA
mue7
ACLS
getAcls
AclEntry
parseAclEntry
txid
checkTxid
batch
Assert
assertTrue
getEvents
getEventType
Event
EventType
METADATA
MetadataUpdateEvent
mue7
getPath
equals
getMetadataType
MetadataType
ACLS
getAcls
contains
AclEntry
parseAclEntry
LOG
info
toString
waitForNextEvents
eis
assertEquals
length
mue8
txid
checkTxid
batch
Assert
assertTrue
getEvents
getEventType
Event
EventType
METADATA
MetadataUpdateEvent
mue8
getPath
equals
getMetadataType
MetadataType
ACLS
getAcls
LOG
info
toString
waitForNextEvents
eis
assertEquals
length
RENAME
RenameEvent
re3
getDstPath
getSrcPath
getTimestamp
txid
checkTxid
batch
Assert
assertTrue
getEvents
getEventType
Event
EventType
RENAME
RenameEvent
re3
getDstPath
equals
getSrcPath
getTimestamp
LOG
info
toString
waitForNextEvents
eis
assertEquals
length
TRUNCATE
TruncateEvent
et
getPath
getFileSize
BLOCK_SIZE
Assert
assertTrue
et
toString
startsWith
batch
waitForNextEvents
eis
assertEquals
getEvents
length
txid
checkTxid
getEventType
Event
EventType
CREATE
ce
CreateEvent
getiNodeType
INodeType
FILE
getPath
equals
getCtime
getReplication
getSymlinkTarget
assertFalse
getOverwrite
BLOCK_SIZE
getDefaultBlockSize
isErasureCoded
isPresent
get
batch
waitForNextEvents
eis
Assert
assertEquals
getEvents
length
txid
getTxid
eventsBehind
getTxidsBehindEstimate
assertTrue
getEventType
Event
EventType
CREATE
CreateEvent
ce
getiNodeType
INodeType
FILE
getPath
equals
getCtime
getReplication
getSymlinkTarget
getOverwrite
ecPolicy
getCellSize
getDefaultBlockSize
isErasureCoded
isPresent
get
conf
HdfsConfiguration
baseConf
setInt
HADOOP_KERBEROS_MIN_SECONDS_BEFORE_RELOGIN
IPC_CLIENT_CONNECTION_IDLESCANINTERVAL_KEY
IPC_CLIENT_CONNECTION_MAXIDLETIME_KEY
Client
setConnectTimeout
cluster
MiniQJMHACluster
Builder
setForceRemoteEditsOnly
build
getDfsCluster
waitActive
transitionToActive
UserGroupInformation
ugi
loginUserFromKeytabAndReturnUGI
generalHDFSKeytabFile
getAbsolutePath
setShouldRenewImmediatelyForTests
cluster
MiniQJMHACluster
Builder
conf
setForceRemoteEditsOnly
build
getDfsCluster
waitActive
transitionToActive
UserGroupInformation
ugi
loginUserFromKeytabAndReturnUGI
generalHDFSKeytabFile
getAbsolutePath
setShouldRenewImmediatelyForTests
LOG
info
getCurrentUser
getLoginUser
Configuration
clientConf
getConfiguration
clientFs
mkdirs
Path
DFSInotifyEventInputStream
eis
getInotifyEventStream
EventBatch
batch
Path
file
dir
writeFile
dfs
file2
Long
fileLength
getFileStatus
getLen
fileDiskUsed
replication
file2Length
file2DiskUsed
ret
shell
run
String
toString
System
err
println
e
getLocalizedMessage
assertEquals
returnString
out
System
err
println
e
getLocalizedMessage
assertEquals
ret
returnString
out
toString
LOG
info
Long
combinedLength
fileLength
file2Length
newFileLength
combinedDiskUsed
fileDiskUsed
file2DiskUsed
newFileDiskUsed
assertTrue
contains
reset
shell
run
String
parent
out
reset
ret
shell
run
String
parent
toString
System
err
println
e
getLocalizedMessage
assertEquals
returnString
LOG
info
assertTrue
contains
combinedLength
combinedDiskUsed
out
reset
ret
shell
run
String
parent
toString
System
err
println
e
getLocalizedMessage
assertEquals
returnString
LOG
info
Long
exludeSnapshotLength
file2Length
newFileLength
excludeSnapshotDiskUsed
file2DiskUsed
newFileDiskUsed
assertTrue
contains
Path
snapshotPath
parent
snapshotName
dfs
allowSnapshot
assertThat
createSnapshot
is
rmr
file
dir2
newFile
dir
writeFile
Long
newFileLength
getFileStatus
getLen
val
shell
run
String
toString
System
err
println
e
getLocalizedMessage
assertEquals
returnString
out
assertEquals
val
String
returnString
out
toString
LOG
info
Scanner
in
nextLine
nextLong
fileLength
file2Length
newFileLength
reset
shell
run
parent
System
err
println
e
getLocalizedMessage
StringBuilder
cmdline
String
arg
args
append
StringBuilder
cmdline
String
arg
args
append
LOG
info
toString
exitCode
shell
run
shell
setConf
conf
Path
dir
chmodDir
fs
delete
mkdirs
confirmPermissionChange
file
TestDFSShell
writeFile
runCmd
assertEquals
getFileStatus
getPermission
toString
dir2
LOG
info
toApply
expected
runCmd
shell
dir2
toString
String
result
fs
getFileStatus
getPermission
numBlocks
DFSTestUtil
createStripedFile
cluster
filePath
stripesPerBlock
ecPolicy
assertTrue
in
DFSStripedInputStream
stream
ElasticByteBufferPool
ebbp
getBufferPool
lenIndex
RANDOM
nextInt
lengths
size
HdfsConfiguration
conf
newHdfsConfiguration
fileLengths
cellSize
dataBlocks
dnIndex
killPos
getKillPositions
length
LOG
info
Arrays
toString
setup
runTest
String
err
HdfsConfiguration
conf
newHdfsConfiguration
HdfsConfiguration
conf
newHdfsConfiguration
killPos
getKillPositions
length
dnIndex
gs
out
getBlock
getGenerationStamp
StripedDataStreamer
s
out
getStripedDataStreamer
dnIndex
DatanodeInfo
datanode
getDatanodes
conf
HdfsConfiguration
UpgradeUtilities
initializeStorageStateConf
numDirs
String
nameNodeDirs
getStrings
DFSConfigKeys
DFS_NAMENODE_NAME_DIR_KEY
dataNodeDirs
DFS_DATANODE_DATA_DIR_KEY
setBoolean
DFS_DATANODE_DUPLICATE_REPLICA_DELETION
log
createNameNodeStorageDirs
cluster
createCluster
DistributedFileSystem
dfs
getFileSystem
setSafeMode
SafeModeAction
SAFEMODE_ENTER
rollingUpgrade
RollingUpgradeAction
PREPARE
fail
assertEquals
InconsistentFSStateException
getName
re
getClassName
Socket
sock
sock
connect
dnAddr
HdfsConstants
READ_TIMEOUT
setSoTimeout
OutputStream
out
getOutputStream
retBuf
recvBuf
size
DataInputStream
in
getInputStream
write
sendBuf
toByteArray
flush
readFully
LOG
info
eof
String
received
StringUtils
byteToHexString
sock
setSoTimeout
HdfsConstants
READ_TIMEOUT
OutputStream
out
getOutputStream
retBuf
recvBuf
size
DataInputStream
in
getInputStream
write
sendBuf
toByteArray
flush
readFully
LOG
info
eof
String
received
StringUtils
byteToHexString
expected
doReturn
HdfsServerConstants
DATANODE_LAYOUT_VERSION
when
mockDnReg
getVersion
getIpAddr
getXferPort
getDatanodeUuid
mockStorageInfo
getStorageInfo
getSoftwareVersion
rpcServer
registerDatanode
fail
GenericTestUtils
assertExceptionContains
ive
doReturn
HdfsServerConstants
DATANODE_LAYOUT_VERSION
when
mockDnReg
getVersion
getDatanodeUuid
mockStorageInfo
getStorageInfo
VersionInfo
getSoftwareVersion
getIpAddr
getXferPort
rpcServer
registerDatanode
nnCTime
getCTime
fail
GenericTestUtils
assertExceptionContains
ive
conf
setInt
DFSConfigKeys
DFS_NAMENODE_HEARTBEAT_RECHECK_INTERVAL_KEY
setLong
DFS_HEARTBEAT_INTERVAL_KEY
MiniDFSCluster
cluster
Builder
numDataNodes
NUM_OF_DATANODES
build
waitActive
String
bpid
getNamesystem
getBlockPoolId
List
DataNode
datanodes
getDataNodes
DFSClient
client
getFileSystem
dfs
assertReports
DatanodeReportType
ALL
LIVE
DEAD
last
get
size
DatanodeManager
datanodeManager
blockManager
getDatanodeManager
BlockManagerTestUtil
recheckDecommissionState
DFSClient
client
getDfsClient
assertEquals
numDatanodes
datanodeReport
DatanodeReportType
LIVE
length
ExtendedBlock
b
DFSTestUtil
getFirstBlock
fileSys
file1
String
uuid
toDecomUuid
BlockInfo
info
getStoredBlock
getLocalBlock
count
StringBuilder
sb
DatanodeDescriptor
dn
getDatanode
i
append
DatanodeManager
datanodeManager
blockManager
getDatanodeManager
BlockManagerTestUtil
recheckDecommissionState
DFSClient
client
getDfsClient
assertEquals
numDatanodes
datanodeReport
DatanodeReportType
LIVE
length
ExtendedBlock
b
DFSTestUtil
getFirstBlock
fileSys
file1
String
uuid
toDecomUuid
BlockInfo
info
getStoredBlock
getLocalBlock
count
StringBuilder
sb
DatanodeDescriptor
dn
getDatanode
i
append
String
outStr
scanIntoString
out
CountDownLatch
decomStarted
countDown
decommissionNode
decommisionNodes
AdminStates
DECOMMISSIONED
LOG
error
e
Assert
fail
deadDecommissioned
fsn
getNumDecomDeadDataNodes
liveDecommissioned
getNumDecomLiveDataNodes
decomTh
start
await
TimeUnit
SECONDS
Thread
sleep
decomStarted
countDown
decommissionNode
decommisionNodes
AdminStates
DECOMMISSIONED
LOG
error
e
Assert
fail
deadDecommissioned
fsn
getNumDecomDeadDataNodes
liveDecommissioned
getNumDecomLiveDataNodes
decomTh
start
await
TimeUnit
SECONDS
Thread
sleep
cluster
restartDataNode
dnp
writeBytes
cellSize
dataBlocks
writeStripedFile
dfs
ecFile
Assert
assertEquals
bm
numOfUnderReplicatedBlocks
FileChecksum
fileChecksum1
getFileChecksum
List
DatanodeInfo
decommisionNodes
ArrayList
LocatedBlock
lb
getClient
getLocatedBlocks
toString
get
dnLocs
getLocations
parityBlocks
length
decommNodeIndex
add
decommissionNode
AdminStates
DECOMMISSIONED
size
fsn
getNumDecomLiveDataNodes
assertNull
checkFile
numDNs
StripedFileTestUtil
checkData
blockGroupSize
fileChecksum2
writeStripedFile
dfs
ecFile
writeBytes
Assert
assertEquals
bm
numOfUnderReplicatedBlocks
FileChecksum
fileChecksum1
getFileChecksum
List
DatanodeInfo
decommisionNodes
ArrayList
LocatedBlock
lb
getClient
getLocatedBlocks
toString
get
dnLocs
getLocations
dataBlocks
parityBlocks
length
decommNodeIndex
add
decommissionNode
AdminStates
DECOMMISSIONED
size
fsn
getNumDecomLiveDataNodes
assertNull
checkFile
numDNs
StripedFileTestUtil
checkData
blockGroupSize
fileChecksum2
LOG
info
done
state
node
getAdminState
isNodeDown
decommissionedNodes
size
assertTrue
fileSys
getUri
DistributedFileSystem
HdfsDataInputStream
dis
open
name
Collection
LocatedBlock
dinfo
getAllBlocks
hasdown
DatanodeInfo
nodes
blk
getLocations
ExecutorService
threadPool
HadoopExecutors
newFixedThreadPool
numThreads
CountDownLatch
allExecutorThreadsReady
startBlocker
allDone
AtomicReference
Throwable
childError
countDown
await
FileSystem
fs
cluster
getFileSystem
mkdirs
Path
childError
compareAndSet
t
allDone
countDown
oldMkdirOpCount
getOpStatistics
OpType
MKDIRS
allExecutorThreadsReady
await
startBlocker
assertNull
get
checkStatistics
fs
numThreads
checkOpStatistics
LongStatistic
opCount
opCountIter
next
assertEquals
getValue
dataUnits
ecPolicy
getNumDataUnits
parityUnits
getNumParityUnits
setupCluster
filesize
getCellSize
contents
Path
path
dataUnits
ecPolicy
getNumDataUnits
parityUnits
getNumParityUnits
setupCluster
filesize
getCellSize
contents
Path
path
dataUnits
ecPolicy
getNumDataUnits
parityUnits
getNumParityUnits
numRacks
setupCluster
filesize
getCellSize
contents
Path
path
i
create
close
DFSTestUtil
waitReplication
fileSystem
f
LocatedBlocks
lbs
dfs
getNamenode
getBlockLocations
Long
MAX_VALUE
List
DataNode
dnsOfCluster
cluster
getDataNodes
DatanodeInfo
dnsWithLocations
getLastLocatedBlock
getLocations
dn
shutdown
waitForDatanodeDeath
append
fail
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFile1
range1
stripedFileChecksum2
stripedFile2
stripedFileChecksum3
range2
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFile1
range1
stripedFileChecksum2
stripedFile2
stripedFileChecksum3
range2
LOG
info
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFile1
range1
stripedFileChecksum2
stripedFile2
stripedFileChecksum3
range2
LOG
info
prepareTestFiles
fileSize
String
stripedFile1
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFileChecksumRecon
prepareTestFiles
fileSize
String
stripedFile1
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFileChecksumRecon
LOG
info
prepareTestFiles
fileSize
String
stripedFile1
stripedFile2
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFileChecksum2
stripedFileChecksum2Recon
prepareTestFiles
fileSize
String
stripedFile1
stripedFile2
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFileChecksum2
stripedFileChecksum2Recon
LOG
info
prepareTestFiles
fileSize
String
stripedFile1
stripedFile2
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFileChecksum2
stripedFileChecksum2Recon
LOG
info
LOG
info
stripedFile
requestedLen
prepareTestFiles
fileSize
String
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFileChecksumRecon
LOG
info
stripedFile
requestedLen
prepareTestFiles
fileSize
String
FileChecksum
stripedFileChecksum1
getFileChecksum
stripedFileChecksumRecon
FSDataOutputStream
outputStream
fileSystem
create
file
close
append
writeBuf
DFSTestUtil
generateSequentialBytes
i
writeSize
write
hflush
writerStarted
set
error
outputStream
fileSystem
append
file
writeBuf
DFSTestUtil
generateSequentialBytes
i
writeSize
write
hflush
writerStarted
set
error
LOG
e
close
writerDone
error
set
LOG
e
outputStream
close
writerDone
RuntimeException
startPos
writerDone
set
LOG
error
e
RuntimeException
startPos
tailFile
file
String
format
expected
i
startPos
numRead
FSDataInputStream
inputStream
fileSystem
open
file
seek
startPos
len
buf
read
numRead
FSDataInputStream
inputStream
fileSystem
open
file
seek
startPos
len
buf
read
LOG
info
String
format
MiniDFSCluster
cluster
DFSTestUtil
util
Builder
setName
setNumFiles
build
Configuration
conf
HdfsConfiguration
numDataNodes
FileSystem
fs
getFileSystem
createFiles
String
bpid
getNamesystem
getBlockPoolId
DataNode
dn
getDataNodes
get
Map
DatanodeStorage
BlockListAsLongs
blockReports
getFSDataset
getBlockReports
assertTrue
isEmpty
NameNode
nn
startNameNode
Configuration
conf2
HdfsConfiguration
config
set
DFSConfigKeys
DFS_NAMENODE_SECONDARY_HTTP_ADDRESS_KEY
get
DFS_NAMENODE_HTTP_ADDRESS_KEY
NameNode
nn
startNameNode
Configuration
conf2
HdfsConfiguration
config
set
DFSConfigKeys
DFS_NAMENODE_SECONDARY_HTTP_ADDRESS_KEY
get
DFS_NAMENODE_HTTP_ADDRESS_KEY
LOG
info
started
canStartSecondaryNode
assertFalse
THIS_HOST
NameNode
nn
startNameNode
Configuration
backup_config
HdfsConfiguration
config
set
DFSConfigKeys
DFS_NAMENODE_BACKUP_ADDRESS_KEY
THIS_HOST
DFS_NAMENODE_BACKUP_HTTP_ADDRESS_KEY
get
DFS_NAMENODE_HTTP_ADDRESS_KEY
NameNode
nn
startNameNode
Configuration
backup_config
HdfsConfiguration
config
set
DFSConfigKeys
DFS_NAMENODE_BACKUP_ADDRESS_KEY
THIS_HOST
DFS_NAMENODE_BACKUP_HTTP_ADDRESS_KEY
get
DFS_NAMENODE_HTTP_ADDRESS_KEY
LOG
info
assertFalse
canStartBackupNode
start
Time
monotonicNow
start
Time
monotonicNow
LOG
info
filename
LocatedBlocks
blocks
namenode
getBlockLocations
Long
MAX_VALUE
assertEquals
numBlocks
locatedBlockCount
i
LocatedBlock
block
get
actual
getLocations
length
waitForBlockReplication
testFile
dfsClient
getNamenode
numDataNodes
List
Map
DatanodeStorage
BlockListAsLongs
blocksList
cluster
getAllBlockReports
bpid
shutdown
LOG
info
conf
HdfsConfiguration
SimulatedFSDataset
setFactory
set
DFSConfigKeys
DFS_NAMENODE_SAFEMODE_THRESHOLD_PCT_KEY
MiniDFSCluster
Builder
format
build
waitActive
Set
Block
uniqueBlocks
HashSet
add
b
FSDataOutputStream
stm
fileSys
create
name
getConf
getInt
CommonConfigurationKeys
IO_FILE_BUFFER_SIZE_KEY
repl
blockSize
bytesToRead
fileSize
compb
readSize
j
pattern
length
FSDataInputStream
stm
fs
open
name
thisread
Math
min
readFully
b
assertTrue
Arrays
equals
k
compb
readSize
j
pattern
length
FSDataInputStream
stm
fs
open
name
thisread
Math
min
bytesToRead
readFully
b
assertTrue
fileSize
Arrays
equals
k
LOG
debug
fileSize
blockSize
Configuration
conf
MiniDFSCluster
cluster
Builder
numDataNodes
numDatanodes
build
FileSystem
fs
getFileSystem
Path
file1
FSDataOutputStream
stm
createFile
fileSize
blockSize
Configuration
conf
MiniDFSCluster
cluster
Builder
numDataNodes
numDatanodes
build
FileSystem
fs
getFileSystem
Path
file1
FSDataOutputStream
stm
createFile
LOG
info
assertTrue
getFileStatus
isFile
writeFile
fileSize
blockSize
Configuration
conf
MiniDFSCluster
cluster
Builder
numDataNodes
numDatanodes
build
FileSystem
fs
getFileSystem
Path
file1
FSDataOutputStream
stm
createFile
LOG
info
assertTrue
getFileStatus
isFile
writeFile
close
dfs
renewLease
d_out
write
buf
LOG
info
Assert
fail
hardlimit
conf
getLong
DFSConfigKeys
DFS_LEASE_HARDLIMIT_KEY
DFS_LEASE_HARDLIMIT_DEFAULT
lastLeaseRenewal
Time
monotonicNow
close
hardlimit
conf
getLong
DFSConfigKeys
DFS_LEASE_HARDLIMIT_KEY
DFS_LEASE_HARDLIMIT_DEFAULT
dfs
lastLeaseRenewal
Time
monotonicNow
renewLease
d_out
write
buf
close
Assert
fail
LOG
info
e
Thread
sleep
assertTrue
originalRenewer
isEmpty
doNothing
when
spyNN
anyString
num
c_in
read
Assert
fail
LOG
info
e
Thread
sleep
assertTrue
originalRenewer
isEmpty
doNothing
when
spyNN
renewLease
anyString
num
c_in
read
buf
close
error
DataNodeTestUtils
setHeartbeatsDisabledForTests
dn
cluster
waitActive
setLeasePeriod
LONG_LEASE_PERIOD
SHORT_LEASE_PERIOD
LocatedBlocks
locatedBlocks
Thread
sleep
dfs
getLocatedBlocks
fileStr
size
isUnderConstruction
assertEquals
getFileLength
stm
write
hflush
fail
FSDataOutputStream
out
dfs
create
p
DFSStripedOutputStream
stripedOut
getWrappedStream
posToKill
getPosToKill
blockLengths
checkingPos
nextCheckingPos
Set
Integer
stoppedStreamerIndexes
HashSet
write
StripedFileTestUtil
getByte
pos
flush
enqueueAllCurrentPackets
stripedOut
enqueueAllCurrentPackets
LOG
info
index
pos
blockLengths
StripedDataStreamer
s
getStripedDataStreamer
waitStreamerAllAcked
waitByteSent
stopBlockStream
stoppedStreamerIndexes
add
checkingPos
nextCheckingPos
posToKill
out
flush
i
setup
setup
LOG
info
maintenanceMinRepl
numDataNodes
numNewDataNodes
fileBlockRepl
setup
assertTrue
fileSys
getUri
DistributedFileSystem
HdfsDataInputStream
dis
open
name
BlockManager
bm
ns
getBlockManager
Collection
LocatedBlock
dinfo
getAllBlocks
String
output
DatanodeInfo
nodes
blk
getLocations
getBlock
j
assertTrue
fileSys
getUri
DistributedFileSystem
HdfsDataInputStream
dis
open
name
BlockManager
bm
ns
getBlockManager
Collection
LocatedBlock
dinfo
getAllBlocks
String
output
DatanodeInfo
nodes
blk
getLocations
getBlock
j
LOG
info
output
blk
getBlock
repl
nodes
length
j
ns
getPendingReplicationBlocks
getUnderReplicatedBlocks
expectedExcludedNode
LOG
info
Iterator
DatanodeStorageInfo
storageInfoIter
bm
getStorages
getLocalBlock
iterator
List
DatanodeInfo
maintenanceNodes
ArrayList
node
next
getDatanodeDescriptor
output
ns
getPendingReplicationBlocks
getUnderReplicatedBlocks
expectedExcludedNode
LOG
info
Iterator
DatanodeStorageInfo
storageInfoIter
bm
getStorages
blk
getBlock
getLocalBlock
iterator
List
DatanodeInfo
maintenanceNodes
ArrayList
node
next
getDatanodeDescriptor
add
expectedMaintenanceNode
util
BlockReaderTestUtil
replicationFactor
conf
dfsClient
getDFSClient
seed
Time
now
String
METHOD_NAME
GenericTestUtils
getMethodName
bytesToWrite
length
ret
toWrite
written
Random
rb
rand
nextLong
nextBytes
bytesToWriteNext
out
write
System
arraycopy
Path
testFile
dir
FSDataOutputStream
stream
dfs
create
LeaseRenewer
leaseRenewer
getClient
getLeaseRenewer
write
getBytes
hflush
fail
close
GenericTestUtils
setLogLevel
LOG
Level
TRACE
Path
file
length
bytes
StripedFileTestUtil
generateBytes
DFSTestUtil
writeFile
dfs
dnIndex
ReadStripedFileWithDecodingHelper
findFirstDataNode
cluster
CELL_SIZE
NUM_DATA_UNITS
Assert
assertNotEquals
LocatedStripedBlock
slb
getClient
getLocatedBlocks
toString
get
LocatedBlock
blks
StripedBlockUtil
parseStripedBlockGroup
NUM_PARITY_UNITS
File
storageDir
getInstanceStorageDir
blkFile
MiniDFSCluster
getBlockFile
getBlock
assertTrue
exists
String
name
locs
getNames
failedDNIdx
port
dn
getXferPort
shutdown
cluster
setDataNodeDead
getDatanodeId
Assert
fail
parityBlkNum
assertTrue
fileLen
Path
file
fileName
writeFile
fs
LocatedBlocks
locatedBlocks
StripedFileTestUtil
getLocatedBlocks
assertEquals
getFileLength
LocatedStripedBlock
lastBlock
getLastLocatedBlock
DatanodeInfo
storageInfos
getLocations
indices
getBlockIndices
BitSet
bitset
dnNum
set
dnMap
get
storageInfo
dead
generateDeadDnIndices
type
toRecoverBlockNum
deadDnIndices
toRecoverBlockNum
ExtendedBlock
blocks
File
replicas
replicaLengths
metadatas
replicaContents
Map
DataNode
errorMap
HashMap
dead
length
dataDNs
i
storageInfos
dnMap
get
StripedBlockUtil
constructInternalBlock
lastBlock
getBlock
cellSize
dataBlkNum
indices
put
cluster
getDataNodes
getBlockFile
getBlockMetadataFile
found
assertTrue
isOnSameRack
isNotOnSameRack
DatanodeInfo
datanodes
blk
getLocations
length
getNetworkLocation
equals
start
Time
monotonicNow
cluster
MiniDFSCluster
Builder
conf
numDataNodes
build
waitActive
DFSClient
dfsClient
InetSocketAddress
getNameNodePort
OutputStream
out
getFileSystem
create
testPath
write
buffer
close
waitForBlockReplication
testFile
getNamenode
ExtendedBlock
block
getBlockLocations
Long
MAX_VALUE
get
getBlock
List
MaterializedReplica
replicas
ArrayList
add
getMaterializedReplica
dnIndex
assertEquals
size
shutdown
fileCount
OutputStream
out
cluster
getFileSystem
create
testPath
write
buffer
close
waitForBlockReplication
testFile
dfsClient
getNamenode
numDataNodes
ExtendedBlock
block
getBlockLocations
Long
MAX_VALUE
get
getBlock
List
MaterializedReplica
replicas
ArrayList
add
getMaterializedReplica
dnIndex
assertEquals
size
shutdown
fileCount
LOG
info
replica
deleteData
String
nnDirPrefix
MiniDFSCluster
getBaseDirectory
File
nn1Dir
nn2Dir
String
nnDirPrefix
MiniDFSCluster
getBaseDirectory
File
nn1Dir
nn2Dir
LOG
info
MiniDFSCluster
cluster
Builder
conf
numDataNodes
manageNameDfsDirs
checkExitOnShutdown
build
shutdown
cluster2
FileUtil
fullyDelete
nn2Dir
copy
nn1Dir
FileSystem
getLocal
getRaw
Path
getAbsolutePath
format
foo
bar
baz
RollingUpgradeInfo
info1
DistributedFileSystem
dfs
getFileSystem
mkdirs
setSafeMode
SafeModeAction
SAFEMODE_ENTER
rollingUpgrade
RollingUpgradeAction
PREPARE
assertEquals
NEWLINE
status
assertFalse
NameNodeAdapter
safeModeInitializedReplQueues
nn
LOG
info
cluster
restartDataNode
dnprops
remove
getLongCounter
getMetrics
NN_METRICS
getStoragesPerDatanode
safe
getSafeModeSafeBlocks
assertTrue
BlockManagerTestUtil
updateState
getNamesystem
getBlockManager
underReplicatedBlocks
getUnderReplicatedBlocks
UserGroupInformation
ugi
loginUserFromKeytabAndReturnUGI
hdfsPrincipal
keytab
UserGroupInformation
ugi
loginUserFromKeytabAndReturnUGI
hdfsPrincipal
keytab
LOG
info
Path
zone
fsWrapper
mkdir
FsPermission
getDirDefault
dfsAdmin
createEncryptionZone
testKey
NO_TRASH
zone1
sleepInterval
AUTH_TOKEN_VALIDITY
useFCOption
positionReadOption
String
fname
filenameOption
rdBeginPos
stat
testWriteAndRead
WR_NTIMES
WR_CHUNK_SIZE
currentPosition
in
getPos
verboseOption
LOG
info
pos
buffer
length
fname
byteToReadThisRound
byteLeftToRead
byteRead
read
chunkNumber
totalByteRead
FSDataOutputStream
out
outBuffer
BUFFER_SIZE
inBuffer
i
Path
path
getFullyQualifiedPath
fname
fileLengthBeforeOpen
useFCOption
mfc
create
EnumSet
of
CreateFlag
OVERWRITE
mfs
truncateOption
LOG
info
APPEND
append
getFileLengthFromNN
out
useFCOption
mfc
create
path
EnumSet
of
CreateFlag
CREATE
mfs
totalByteWritten
fileLengthBeforeOpen
totalByteVisible
totalByteWrittenButNotVisible
toFlush
i
writeData
outBuffer
chunkSize
hflush
writeData
out
outBuffer
chunkSize
totalByteWritten
hflush
totalByteVisible
totalByteWrittenButNotVisible
LOG
info
fname
byteVisibleToRead
readData
inBuffer
readBeginPosition
String
readmsg
byteVisibleToRead
readData
fname
inBuffer
totalByteVisible
readBeginPosition
String
readmsg
totalByteWritten
countOfFailures
IOException
LOG
info
writeData
out
outBuffer
chunkSize
totalByteWrittenButNotVisible
close
expected
StripedFileTestUtil
generateBytes
fileLength
Path
srcPath
src
DFSTestUtil
writeFile
fs
String
waitBlockGroupsReported
verifyLength
dnIndex
String
fileType
fileLength
blockSize
dataBlocks
src
dataDNFailureNum
parityDNFailureNum
List
LocatedBlock
locatedBlocks
cluster
getNameNode
getRpcServer
getBlockLocations
TEST_FILE
TEST_FILE_LEN
getLocatedBlocks
lblock
get
BlockReader
blockReader
BlockReaderTestUtil
getBlockReader
getFileSystem
Assert
fail
assertTrue
t
getMessage
contains
close
gotFailureLatch
countDown
shouldRetryLatch
await
BlockReader
blockReader
BlockReaderTestUtil
getBlockReader
cluster
getFileSystem
lblock
TEST_FILE_LEN
Assert
fail
assertTrue
t
getMessage
contains
close
gotFailureLatch
countDown
shouldRetryLatch
await
LOG
error
BlockReader
blockReader
BlockReaderTestUtil
getBlockReader
cluster
getFileSystem
lblock
TEST_FILE_LEN
sem
release
readAll
buf
acquireUninterruptibly
LOG
info
e
printMemUsage
totalStart
System
nanoTime
totalTrials
StorageType
type
values
i
length
localStart
node
cluster
chooseRandom
excluded
assertNotNull
add
clear
excluded
clear
localEnd
System
nanoTime
records
i
localStart
totalEnd
totalMs
totalStart
NS_TO_MS
LOG
info
OP_NUM
totalTrials
Thread
sleep
printMemUsage
StorageType
type
values
length
node
dfscluster
chooseRandomWithStorageType
assertNotNull
totalStart
System
nanoTime
totalTrials
localStart
node
cluster
chooseRandom
excluded
assertNotNull
add
clear
localEnd
records
i
excluded
clear
localEnd
System
nanoTime
records
i
localStart
totalEnd
totalMs
totalStart
NS_TO_MS
LOG
info
OP_NUM
totalTrials
Thread
sleep
printMemUsage
node
dfscluster
chooseRandomWithStorageType
StorageType
ARCHIVE
assertNotNull
assertTrue
isType
Thread
sleep
printMemUsage
totalStart
System
nanoTime
totalTrials
node
cluster
chooseRandom
excluded
assertNotNull
add
clear
totalEnd
excluded
add
node
clear
totalEnd
System
nanoTime
totalMs
totalStart
NS_TO_MS
LOG
info
OP_NUM
totalTrials
Thread
sleep
printMemUsage
dfscluster
chooseRandomWithStorageType
StorageType
DISK
assertNotNull
assertTrue
isType
printMemUsage
totalStart
System
nanoTime
totalTrials
localStart
node
cluster
chooseRandom
excluded
assertNotNull
add
clear
localEnd
excluded
clear
localEnd
System
nanoTime
records
i
localStart
totalEnd
totalMs
totalStart
NS_TO_MS
LOG
info
OP_NUM
totalTrials
Thread
sleep
printMemUsage
node
dfscluster
chooseRandomWithStorageType
StorageType
ARCHIVE
assertNotNull
assertTrue
isType
printMemUsage
totalStart
System
nanoTime
totalTrials
localStart
node
cluster
chooseRandom
excluded
assertNotNull
add
dfscluster
chooseRandomWithStorageType
StorageType
ARCHIVE
assertTrue
isType
clear
localEnd
Runtime
runtime
getRuntime
NumberFormat
format
getInstance
StringBuilder
sb
append
message
maxMemory
allocatedMemory
totalMemory
freeMemory
qjm
createNewUniqueEpoch
assertEquals
i
getLoggerSetForTests
getEpoch
close
prevEpoch
newEpoch
QuorumJournalManager
conf
uri
FAKE_NSINFO
FaultyLoggerFactory
MiniJournalCluster
cluster
Builder
conf
build
waitActive
QuorumJournalManager
qjm
ret
createInjectableQJM
format
FAKE_NSINFO
doWorkload
SortedSet
Integer
ipcCounts
Sets
newTreeSet
InvocationCountingChannel
ch
l
waitForAllPendingCalls
add
getRpcCount
assertEquals
size
first
MAX_IPC_NUMBER
determineMaxIpcNumber
String
injectionStr
failA
failB
String
injectionStr
failA
failB
LOG
info
MiniJournalCluster
cluster
Builder
conf
build
waitActive
QuorumJournalManager
qjm
createInjectableQJM
format
FAKE_NSINFO
List
AsyncLogger
loggers
getLoggerSetForTests
getLoggersForTests
failIpcNumber
get
lastAckedTxn
doWorkload
seed
userSpecifiedSeed
GenericTestUtils
setLogLevel
ProtobufRpcEngine2
LOG
Level
ALL
Random
nextLong
info
r
MiniJournalCluster
cluster
Builder
conf
build
waitActive
QuorumJournalManager
qjmForInitialFormat
createInjectableQJM
format
FAKE_NSINFO
close
txid
lastAcked
QuorumJournalManager
qjm
createRandomFaultyQJM
cluster
r
recovered
QJMTestUtil
recoverAndReturnLastTxn
LOG
info
t
checkException
assertTrue
lastAcked
txid
purgeLogsOlderThan
Holder
Throwable
thrown
LOG
info
DFS_JOURNALNODE_RPC_BIND_HOST_KEY
jCluster
MiniJournalCluster
Builder
conf
format
numJournalNodes
NUM_JN
build
jn
getJournalNode
String
address
getRpcServerAddress
assertThat
not
WILDCARD_ADDRESS
LOG
info
DFS_JOURNALNODE_HTTP_BIND_HOST_KEY
conf
set
DFS_JOURNALNODE_HTTP_ADDRESS_KEY
LOCALHOST_SERVER_ADDRESS
jCluster
MiniJournalCluster
Builder
format
numJournalNodes
NUM_JN
build
jn
getJournalNode
String
address
getHttpAddress
toString
assertFalse
startsWith
WILDCARD_ADDRESS
LOG
info
DFS_JOURNALNODE_HTTPS_BIND_HOST_KEY
setupSsl
conf
set
DFS_HTTP_POLICY_KEY
HttpConfig
Policy
HTTPS_ONLY
name
DFS_JOURNALNODE_HTTPS_ADDRESS_KEY
LOCALHOST_SERVER_ADDRESS
jCluster
MiniJournalCluster
Builder
format
numJournalNodes
NUM_JN
build
jn
getJournalNode
String
address
getHttpsAddress
toString
assertFalse
startsWith
WILDCARD_ADDRESS
ArrayList
String
ipList
Enumeration
NetworkInterface
netInterfaceList
getNetworkInterfaces
inf
nextElement
InetAddress
addrList
getInetAddresses
addr
add
getHostAddress
StringBuilder
builder
append
ip
getLocalHost
getCanonicalHostName
LOG
info
long2String
capacities
LOG
info
long2String
capacities
Arrays
asList
racks
LOG
info
long2String
capacities
Arrays
asList
racks
newCapacity
LOG
info
long2String
capacities
Arrays
asList
racks
newCapacity
newRack
sleeptime
conf
getLong
DFSConfigKeys
DFS_HEARTBEAT_INTERVAL_KEY
DFS_HEARTBEAT_INTERVAL_DEFAULT
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_KEY
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_DEFAULT
sleeptime
conf
getLong
DFSConfigKeys
DFS_HEARTBEAT_INTERVAL_KEY
DFS_HEARTBEAT_INTERVAL_DEFAULT
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_KEY
DFS_NAMENODE_REDUNDANCY_INTERVAL_SECONDS_DEFAULT
LOG
info
namenodes
cluster
getConfiguration
setInt
DFSConfigKeys
DFS_REPLICATION_KEY
conf
startDataNodes
dnCapacities
waitClusterUp
waitActive
Path
path
DistributedFileSystem
fs
getFileSystem
DFSTestUtil
createFile
blockSize
rep
seed
triggerHeartbeats
List
NameNodeConnector
connectors
Collections
emptyList
BalancerParameters
bParams
DEFAULT
newNameNodeConnectors
DFSUtil
getInternalNsRpcUris
Balancer
getSimpleName
BALANCER_ID_PATH
getMaxIdleIteration
Configuration
conf
HdfsConfiguration
initConf
capacities
CAPACITY
String
racks
RACK0
newCapacity
newRack
Configuration
conf
HdfsConfiguration
initConf
capacities
CAPACITY
String
racks
RACK0
newCapacity
newRack
LOG
info
long2String
Configuration
conf
HdfsConfiguration
initConf
capacities
CAPACITY
String
racks
RACK0
newCapacity
newRack
LOG
info
long2String
Arrays
asList
Configuration
conf
HdfsConfiguration
initConf
capacities
CAPACITY
String
racks
RACK0
newCapacity
newRack
LOG
info
long2String
Arrays
asList
lengths
capacities
replication
totalUsed
length
sum
Arrays
fill
cluster
MiniDFSCluster
Builder
conf
numDataNodes
simulatedCapacities
build
DistributedFileSystem
dfs
getFileSystem
waitActive
client
NameNodeProxies
createProxy
getUri
ClientProtocol
getProxy
size
i
Path
p
out
write
j
startDataNodes
capacities
replication
totalUsed
length
sum
lengths
Arrays
fill
cluster
MiniDFSCluster
Builder
conf
numDataNodes
simulatedCapacities
build
DistributedFileSystem
dfs
getFileSystem
waitActive
client
NameNodeProxies
createProxy
getUri
ClientProtocol
getProxy
size
i
Path
p
out
write
j
startDataNodes
LOG
info
toString
totalUsed
capacities
length
sum
lengths
Arrays
fill
cluster
MiniDFSCluster
Builder
conf
numDataNodes
simulatedCapacities
build
DistributedFileSystem
dfs
getFileSystem
waitActive
client
NameNodeProxies
createProxy
getUri
ClientProtocol
getProxy
size
i
Path
p
out
write
j
startDataNodes
LOG
info
toString
Configuration
conf
HdfsConfiguration
initConf
setInt
DFSConfigKeys
DFS_BALANCER_DISPATCHERTHREADS_KEY
DFS_NAMENODE_GETBLOCKS_MAX_QPS_KEY
getBlocksMaxQps
numDNs
capacities
String
racks
i
CAPACITY
RACK0
RACK1
doTest
RACK2
PortNumberBasedNodes
assertTrue
numGetBlocksCalls
get
durationMs
endGetBlocksTime
startGetBlocksTime
durationSec
Math
ceil
avg
totalUsed
totalCapacity
Assert
assertNotNull
preReports
postReports
assertEquals
length
String
dnUuid
preReport
getDatanodeInfo
getDatanodeUuid
getTotalPoolUsage
postReport
nDataNodes
racks
length
capacities
Arrays
fill
CAPACITY
nDataNodes
racks
length
capacities
Arrays
fill
CAPACITY
LOG
info
nNameNodes
Assert
assertEquals
DistributedFileSystem
dfs
cluster
getFileSystem
BlockManager
blockManager
getNamesystem
getBlockManager
LocatedBlock
lb
DFSTestUtil
getAllBlocks
file
get
BlockInfo
blockInfo
getStoredBlock
getBlock
getLocalBlock
Iterator
DatanodeStorageInfo
itr
getStorageInfos
failure
compareAndSet
what
Configuration
conf
setInt
DFS_NAMENODE_MAX_FULL_BLOCK_REPORT_LEASES
setLong
DFS_NAMENODE_FULL_BLOCK_REPORT_LEASE_LENGTH_MS
Semaphore
fbrSem
HashSet
DatanodeID
expectedFbrDns
fbrDns
AtomicReference
String
failure
numLeases
LOG
info
nodeID
Long
toHexString
context
getLeaseId
setFailure
failure
fbrSem
acquireUninterruptibly
fbrDns
add
Joiner
on
join
expectedFbrDns
numLeases
node
fbrSem
acquireUninterruptibly
fbrDns
add
nodeID
setFailure
failure
Joiner
on
join
expectedFbrDns
LOG
info
Long
toHexString
context
getLeaseId
numLeases
node
leaseId
String
poolId
cluster
getNamesystem
getBlockPoolId
DatanodeRegistration
reg
InternalDataNodeTestUtils
getDNRegistrationForBP
getDataNodes
get
stopDataNode
DFSTestUtil
waitForDatanodeState
getDatanodeUuid
FileSystem
fs
getFileSystem
createFile
filePath
replicationFactor
ExtendedBlock
b
getFirstBlock
waitReplication
startDataNodes
conf
waitActive
waitForReplication
fail
fsckOp
runFsck
toString
FSNamesystem
fsn
Mockito
mock
when
hasWriteLock
thenReturn
DatanodeManager
dm
mockDatanodeManager
Configuration
Random
rng
seed
nextInt
FSNamesystem
fsn
Mockito
mock
when
hasWriteLock
thenReturn
DatanodeManager
dm
mockDatanodeManager
Configuration
Random
rng
seed
nextInt
LOG
info
HashMap
String
DatanodeRegistration
sIdToDnReg
randomIndex
size
Iterator
Map
Entry
it
entrySet
iterator
next
toRemove
getValue
dm
removeDatanode
toRemove
it
remove
String
storageID
rng
nextInt
DatanodeRegistration
dr
Mockito
mock
when
getDatanodeUuid
thenReturn
sIdToDnReg
get
setIpAddr
getIpAddr
ip
getXferAddr
getXferPort
datanodeToRemoveStorageFrom
dn
datanodeToRemoveStorageFromIdx
StorageLocation
volumeLocationToRemove
assertEquals
NUM_STORAGES_PER_DN
volumes
size
volume
getStorageLocation
assertNotNull
shutdown
FileUtil
fullyDelete
File
getUri
FileOutputStream
fos
assertEquals
NUM_STORAGES_PER_DN
volumes
size
volumeLocationToRemove
volume
getStorageLocation
assertNotNull
datanodeToRemoveStorageFrom
shutdown
FileUtil
fullyDelete
File
getUri
FileOutputStream
fos
write
close
cluster
restartDataNode
datanodeToRemoveStorageFromIdx
LOG
info
storageIdToRemove
String
newStorageId
DatanodeStorage
generateUuid
File
currentDir
volumeRefs
get
getStorageLocation
getUri
versionFile
rewriteVersionFile
close
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
TEST_PATH
cluster
restartDataNodes
getNamesystem
writeLock
Iterator
DatanodeStorageInfo
storageInfoIter
getBlockManager
getStorages
getLocalBlock
iterator
rewriteVersionFile
versionFile
newStorageId
volumeRefs
close
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
TEST_PATH
cluster
restartDataNodes
getNamesystem
writeLock
Iterator
DatanodeStorageInfo
storageInfoIter
getBlockManager
getStorages
getLocalBlock
iterator
LOG
info
getBlockName
next
volumeRefs
close
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
TEST_PATH
cluster
restartDataNodes
getNamesystem
writeLock
Iterator
DatanodeStorageInfo
storageInfoIter
getBlockManager
getStorages
getLocalBlock
iterator
LOG
info
getBlockName
next
newStorageId
getStorageID
FSNamesystem
namesystem
cluster
getNamesystem
FileSystem
fs
getFileSystem
Path
testPath
out
create
writeBytes
hsync
startDataNodes
conf
ExtendedBlock
blk
DFSTestUtil
getFirstBlock
MaterializedReplica
replica
getMaterializedReplica
deleteData
deleteMeta
close
liveReplicas
cluster
startDataNodes
conf
ExtendedBlock
blk
DFSTestUtil
getFirstBlock
fs
testPath
MaterializedReplica
replica
getMaterializedReplica
deleteData
deleteMeta
out
close
liveReplicas
LOG
info
Thread
sleep
assertEquals
LOG
info
Arrays
asList
hosts
racks
cluster
MiniDFSCluster
Builder
conf
numDataNodes
length
build
waitActive
fs
getFileSystem
enableErasureCodingPolicy
StripedFileTestUtil
getDefaultECPolicy
getName
setErasureCodingPolicy
Path
FSNamesystem
fsn
getNamesystem
BlockManager
bm
getBlockManager
DataNodeProperties
lastHost
stopDataNode
file
DFSTestUtil
createFile
cellSize
dataBlocks
GenericTestUtils
waitFor
numOfUnderReplicatedBlocks
BlockManager
bm
fsn
getBlockManager
MiniDFSCluster
DataNodeProperties
lastHost
stopDataNode
hosts
length
Path
file
DFSTestUtil
createFile
fs
cellSize
dataBlocks
GenericTestUtils
waitFor
numOfUnderReplicatedBlocks
LOG
info
INodeFile
fileNode
getFSDirectory
getINode4Write
toString
asFile
BlockInfoStriped
blockInfo
getLastBlock
Set
String
rackSet
HashSet
add
storage
getDatanodeDescriptor
getNetworkLocation
Assert
assertEquals
size
cluster
restartDataNode
waitActive
NetworkTopology
topology
getDatanodeManager
getNetworkTopology
blockGroupIdInitialValue
blockGrpIdGenerator
getCurrentValue
Path
path
ecDir
DFSTestUtil
createFile
fs
cellSize
fileLen
blockSize
REPLICATION
SEED
List
LocatedBlock
blocks
getAllBlocks
assertThat
size
is
blockGrpCount
setCurrentValue
skipTo
BLOCK_GROUP_INDEX_MASK
MAX_BLOCKS_IN_GROUP
nextBlockExpectedId
nextBlockGrpId
get
i
getBlock
getBlockId
Configuration
conf
HdfsConfiguration
setInt
DFSConfigKeys
DFS_REPLICATION_KEY
MiniDFSCluster
cluster
Builder
numDataNodes
build
waitActive
FileSystem
fs
getFileSystem
Path
path
DFSTestUtil
createFile
IO_SIZE
BLOCK_SIZE
REPLICATION
SEED
List
LocatedBlock
blocks
getAllBlocks
LOG
info
get
getBlock
getBlockId
nextBlockExpectedId
nextBlockId
i
String
json
tracker
getJson
LocatedBlock
blk
lbs
get
i
DatanodeInfo
nodes
getLocations
List
String
decommissionedNodeList
decommissionedNodes
dnInfo
j
URI
u
Util
stringAsURI
RELATIVE_FILE_PATH
LOG
info
URI_UNIX
URI
u
Util
stringAsURI
LOG
info
URI_UNIX
URI
u
Util
stringAsURI
assertNotNull
assertEquals
URI_FILE_SCHEMA
getScheme
URI_PATH_UNIX
getPath
URI_WINDOWS
Mockito
when
request
getMethod
thenReturn
getRequestURI
StringBuffer
WebHdfsFileSystem
PATH_PREFIX
toString
getQueryString
getRemoteAddr
HttpServletResponse
response
mock
Filter
filter
HostRestrictingAuthorizationFilter
configs
put
AuthenticationFilter
AUTH_TYPE
FilterConfig
fc
DummyFilterConfig
init
doFilter
chain
corruptedGs
corruptedLen
reportIndex
DatanodeStorage
dnStorage
kvPair
getKey
BlockListAsLongs
blockList
getValue
Builder
builder
gsOld
block
getGenerationStamp
gsNew
rand
nextInt
setGenerationStamp
gsOld
block
getGenerationStamp
gsNew
rand
nextInt
setGenerationStamp
LOG
info
corruptedGs
lenOld
getNumBytes
lenNew
setNumBytes
String
METHOD_NAME
GenericTestUtils
getMethodName
Path
filePath
ArrayList
Block
blocks
prepareForRide
FILE_SIZE
ArrayList
Block
blocks
prepareForRide
filePath
METHOD_NAME
FILE_SIZE
LOG
debug
size
oldLengths
tempLen
b
get
i
getBlockName
getNumBytes
rand
nextInt
BLOCK_SIZE
set
getBlockId
getGenerationStamp
LOG
debug
b
getBlockName
getNumBytes
oldLengths
i
tempLen
rand
nextInt
BLOCK_SIZE
set
getBlockId
getGenerationStamp
DataNode
dn
cluster
getDataNodes
get
DN_N0
String
poolId
getNamesystem
getBlockPoolId
DatanodeRegistration
dnR
getDNRegistrationForBP
StorageBlockReport
reports
getBlockReports
sendBlockReports
List
LocatedBlock
blocksAfterReport
DFSTestUtil
getAllBlocks
fs
open
filePath
String
METHOD_NAME
GenericTestUtils
getMethodName
String
METHOD_NAME
GenericTestUtils
getMethodName
LOG
info
Path
filePath
DFSTestUtil
createFile
fs
FILE_SIZE
REPL_FACTOR
rand
nextLong
File
dataDir
cluster
getDataDirectory
assertTrue
isDirectory
List
ExtendedBlock
blocks2Remove
ArrayList
Integer
removedIndex
LocatedBlock
lBlocks
getNameNodeRpc
getBlockLocations
toString
FILE_START
getLocatedBlocks
newRemoveIndex
nextInt
size
contains
add
get
aRemovedIndex
getBlock
File
dataDir
cluster
getDataDirectory
assertTrue
isDirectory
List
ExtendedBlock
blocks2Remove
ArrayList
Integer
removedIndex
LocatedBlock
lBlocks
getNameNodeRpc
getBlockLocations
filePath
toString
FILE_START
FILE_SIZE
getLocatedBlocks
newRemoveIndex
rand
nextInt
size
contains
add
get
aRemovedIndex
getBlock
LOG
debug
DataNode
dn0
getDataNodes
DN_N0
newRemoveIndex
rand
nextInt
lBlocks
size
removedIndex
contains
add
blocks2Remove
get
aRemovedIndex
getBlock
LOG
debug
DataNode
dn0
cluster
getDataNodes
DN_N0
b
getBlockName
DataNodeTestUtils
getFSDataset
unfinalizeBlock
warn
numConcurrentBlockReports
DataNode
dn
cluster
getDataNodes
get
DN_N0
String
poolId
getNamesystem
getBlockPoolId
tooLongWait
TIMEOUT
waitTil
LOG
debug
cluster
getDataNodes
size
waitActive
DataNode
dn1
get
DN_N1
String
bpid
getNamesystem
getBlockPoolId
Replica
r
DataNodeTestUtils
fetchReplicaInfo
bl
getBlockId
start
Time
monotonicNow
count
waiting_period
Replica
r
DataNodeTestUtils
fetchReplicaInfo
dn1
bpid
bl
getBlockId
start
Time
monotonicNow
count
waitTil
waiting_period
LOG
debug
TIMEOUT
assertTrue
tooLongWait
HdfsServerConstants
ReplicaState
state
getState
getValue
waitTil
r
DataNodeTestUtils
fetchReplicaInfo
dn1
bpid
bl
getBlockId
waiting_period
Time
monotonicNow
start
LOG
debug
TIMEOUT
assertTrue
tooLongWait
HdfsServerConstants
ReplicaState
state
getState
getValue
ArrayList
Block
newList
Mockito
when
mockNN1
sendHeartbeat
any
DatanodeRegistration
StorageReport
anyLong
anyInt
VolumeFailureSummary
anyBoolean
SlowPeerReports
SlowDiskReports
thenAnswer
HeartbeatAnswer
HeartbeatRegisterAnswer
BlockReportContext
context
invocation
getArguments
leaseId
getLeaseId
ExecutorCompletionService
Boolean
verifyService
executor
AtomicLong
verifyFileTime
Path
file
createService
take
get
start
Time
monotonicNow
verifyFile
dfs
addAndGet
Assert
assertTrue
ExecutorCompletionService
Boolean
verifyService
executor
AtomicLong
verifyFileTime
Path
file
createService
take
get
start
Time
monotonicNow
verifyFile
dfs
addAndGet
Assert
assertTrue
String
name
MetricsRecordBuilder
m
MetricsAsserts
getMetrics
dn
ibr
getLongCounter
seed
numBlocks
String
name
f
getName
i
indexOf
Long
parseLong
substring
Integer
parseInt
computed
IO_BUF
get
expected
VERIFY_BUF
in
read
nextBytes
Assert
assertArrayEquals
String
blockFileSubdir
makeRandomBlockFileSubdir
nestingLevel
blockFileName
fileName
testFilePath
storage
getSingularStorageDir
getRoot
File
separator
Storage
STORAGE_DIR_CURRENT
expectedTrashPath
BlockPoolSliceStorage
TRASH_ROOT_DIR
substring
length
String
blockFileSubdir
makeRandomBlockFileSubdir
nestingLevel
blockFileName
fileName
testFilePath
storage
getSingularStorageDir
getRoot
File
separator
Storage
STORAGE_DIR_CURRENT
expectedTrashPath
BlockPoolSliceStorage
TRASH_ROOT_DIR
substring
length
LOG
info
BlockPoolSliceStorage
storage
makeBlockPoolStorage
String
blockFileSubdir
makeRandomBlockFileSubdir
nestingLevel
blockFileName
fileName
deletedFilePath
getSingularStorageDir
getRoot
File
separator
TRASH_ROOT_DIR
expectedRestorePath
Storage
STORAGE_DIR_CURRENT
substring
length
AtomicReference
String
failure
Collection
RecoveringBlock
recoveringBlocks
initRecoveringBlocks
recoveringBlock
Iterators
get
iterator
ExtendedBlock
block
getBlock
LOG
debug
ReplicaHandler
replicaHandler
spyDN
data
createRbw
StorageType
DISK
close
progressParent
sem
release
terminateSlowWriter
uninterruptiblyAcquire
LOG
debug
progressParent
sem
release
terminateSlowWriter
uninterruptiblyAcquire
error
t
failure
compareAndSet
getMessage
slowWriterThread
start
tswr
opName
run
recoveringBlock
terminateSlowWriter
uninterruptiblyAcquire
LOG
debug
error
t
failure
compareAndSet
getMessage
slowWriterThread
start
progressParent
tswr
opName
run
recoveringBlock
isNewNode
newNode
node
assertTrue
DatanodeInfo
source
ArrayList
proxies
add
size
newNode
node
assertTrue
DatanodeInfo
source
ArrayList
proxies
add
size
LOG
info
b
assertFalse
replaceBlock
get
newNode
node
assertTrue
DatanodeInfo
source
ArrayList
proxies
add
size
LOG
info
b
assertFalse
replaceBlock
get
assertTrue
newNode
DatanodeInfo
source
ArrayList
proxies
node
add
size
LOG
info
b
assertFalse
replaceBlock
get
LocatedBlock
lb
dfs
getClient
getLocatedBlocks
fileName
get
DatanodeInfo
oldNodes
getLocations
assertEquals
length
source
ExtendedBlock
b
getBlock
datanodes
getDataNodeStats
destin
datanodeInfo
assertNotNull
assertFalse
equals
DataNode
dn
cluster
getDataNodes
i
Thread
sleep
List
LocatedBlock
blocks
client
getNamenode
getBlockLocations
fileName
fileLen
getLocatedBlocks
assertEquals
size
DatanodeInfo
nodes
get
getLocations
notDone
length
replFactor
LOG
info
nodeLocations
Arrays
asList
assertEquals
blocks
size
DatanodeInfo
nodes
get
getLocations
notDone
length
replFactor
LOG
info
List
nodeLocations
Arrays
asList
node
String
expectedNodesList
currentNodesList
DatanodeInfo
nodes
blocks
get
getLocations
notDone
length
replFactor
LOG
info
List
nodeLocations
Arrays
asList
node
String
expectedNodesList
currentNodesList
dn
includeNodes
Path
fileName
DFSTestUtil
createFile
fs
waitReplication
client
DFSClient
cluster
getFileSystem
getUri
conf
List
LocatedBlock
locatedBlocks
getNamenode
getBlockLocations
getLocatedBlocks
assertTrue
size
get
getLocations
length
startDataNodes
assertEquals
getDataNodes
DataNode
dn0
dn1
String
activeNNBPId
getNamesystem
getBlockPoolId
DatanodeDescriptor
sourceDnDesc
NameNodeAdapter
getDatanode
getDNRegistrationForBP
destDnDesc
ExtendedBlock
block
getFirstBlock
List
BPOfferService
bpos
ctx
datanode
getAllBpOs
assertEquals
size
BlockIterator
iter
volume
newBlockIterator
bpids
getBlockPoolId
setMaxStalenessMs
maxStaleness
HashSet
ExtendedBlock
blocks
add
getFileBlock
blockIdx
block
nextBlock
blocksProcessed
ExtendedBlock
block
iter
nextBlock
blocksProcessed
LOG
info
volume
savedBlock
loadedBlock
assertEquals
blockRemoved
blocks
remove
assertTrue
blocksProcessed
LOG
info
volume
block
savedBlock
loadedBlock
assertEquals
blockRemoved
blocks
remove
assertTrue
numFiles
iter
save
testedSave
savedBlocksProcessed
loadedBlock
block
assertEquals
savedBlock
blockRemoved
blocks
remove
assertTrue
LOG
info
blocksProcessed
numFiles
iter
save
testedSave
savedBlocksProcessed
rewind
TestScanResultHandler
Info
info
getInfo
ctx
volumes
get
shouldRun
notify
numFoundBlocks
StringBuilder
foundBlocksBld
String
prefix
assertTrue
expectedBlocks
contains
block
append
assertEquals
info
blocksScanned
shouldRun
ctx
datanode
shutdown
URI
vURI
volumes
get
getStorageLocation
getUri
File
cursorPath
bpids
assertTrue
getAbsolutePath
exists
Set
ExtendedBlock
prevGoodBlocks
HashSet
sem
Semaphore
addAll
goodBlocks
clear
cluster
restartDataNode
notify
conf
setLong
DFS_DATANODE_SCAN_PERIOD_HOURS_KEY
set
INTERNAL_VOLUME_SCANNER_SCAN_RESULT_HANDLER
TestScanResultHandler
getName
TestContext
ctx
BYTES_SCANNED_PER_FILE
TOTAL_FILES
createFiles
Info
info
getInfo
volumes
get
shouldRun
notify
Statistics
stats
blockScanner
getVolumeStats
getStorageID
conf
setLong
INTERNAL_DFS_BLOCK_SCANNER_CURSOR_SAVE_INTERVAL_MS
TestContext
ctx
NUM_EXPECTED_BLOCKS
createFiles
TestScanResultHandler
Info
info
getInfo
volumes
get
String
storageID
getStorageID
sem
Semaphore
shouldRun
notify
LOG
ctx
createFiles
NUM_EXPECTED_BLOCKS
TestScanResultHandler
Info
info
getInfo
volumes
get
String
storageID
getStorageID
sem
Semaphore
shouldRun
notify
LOG
LOG
info
assertEquals
goodBlocks
size
clear
blocksScanned
badBlocks
ExtendedBlock
first
ctx
getFileBlock
datanode
getBlockScanner
markSuspectBlock
storageID
sem
release
assertEquals
info
goodBlocks
size
clear
blocksScanned
badBlocks
ExtendedBlock
first
ctx
getFileBlock
datanode
getBlockScanner
markSuspectBlock
storageID
sem
release
LOG
LOG
info
assertTrue
first
goodBlocks
contains
assertEquals
size
clear
badBlocks
blocksScanned
LOG
info
assertTrue
first
goodBlocks
contains
assertEquals
size
clear
badBlocks
blocksScanned
ctx
datanode
getBlockScanner
markSuspectBlock
storageID
sem
release
ctx
createFiles
NUM_FILES
MaterializedReplica
unreachableReplica
getMaterializedReplica
ExtendedBlock
unreachableBlock
getFileBlock
makeUnreachable
TestScanResultHandler
Info
info
getInfo
volumes
get
String
storageID
getStorageID
sem
Semaphore
shouldRun
notify
LOG
unreachableReplica
makeUnreachable
TestScanResultHandler
Info
info
getInfo
ctx
volumes
get
String
storageID
getStorageID
sem
Semaphore
NUM_FILES
shouldRun
notify
LOG
blocksScanned
LOG
info
FSDataInputStream
fis
totalRead
fs
open
p
setDropBehind
dropBehind
buf
amt
length
ret
read
assertTrue
fileLen
deadNodeIndex
numDNs
Path
file
fileName
data
StripedFileTestUtil
generateBytes
DFSTestUtil
writeFile
fs
waitBlockGroupsReported
LocatedBlocks
locatedBlocks
getLocatedBlocks
LocatedStripedBlock
lastBlock
getLastLocatedBlock
getLocations
length
DataNode
toCorruptDn
cluster
getDataNode
getIpcPort
dn
data
Mockito
spy
newVolumeCount
List
Thread
addVolumeDelayedThreads
Collections
synchronizedList
ArrayList
AtomicBoolean
addVolumeError
listStorageError
CountDownLatch
addVolumeCompletionLatch
i
getStorage
listStorageDirectories
set
LOG
error
e
listStorageThread
start
Random
r
setSeed
Time
now
s
nextInt
Thread
sleep
invocationOnMock
callRealMethod
DataNode
dn
cluster
getDataNodes
get
DFSTestUtil
writeFile
getFileSystem
Path
String
valueOf
i
DataNodeTestUtils
triggerBlockReport
MBeanServer
mbs
ManagementFactory
getPlatformMBeanServer
ObjectName
mxbeanName
bpActorInfo
getAttribute
Assert
assertEquals
getBPServiceActorInfo
LOG
info
ArrayList
Map
bpActorInfoList
ObjectMapper
readValue
typeRef
maxDataLength
Integer
confMaxDataLength
getConf
getInt
CommonConfigurationKeys
IPC_MAXIMUM_DATA_LENGTH
IPC_MAXIMUM_DATA_LENGTH_DEFAULT
maxBlockReportSize
DFSTestUtil
writeFile
cluster
getFileSystem
Path
String
valueOf
i
DataNodeTestUtils
triggerBlockReport
dn
MBeanServer
mbs
ManagementFactory
getPlatformMBeanServer
ObjectName
mxbeanName
bpActorInfo
getAttribute
Assert
assertEquals
getBPServiceActorInfo
LOG
info
ArrayList
Map
bpActorInfoList
ObjectMapper
readValue
typeRef
maxDataLength
Integer
get
confMaxDataLength
getConf
getInt
CommonConfigurationKeys
IPC_MAXIMUM_DATA_LENGTH
IPC_MAXIMUM_DATA_LENGTH_DEFAULT
maxBlockReportSize
assertEquals
datanodes
size
DataNode
datanode
get
MetricsRecordBuilder
rb
getMetrics
name
LONG_FILE_LEN
startWriteValue
getLongCounter
startReadValue
AtomicInteger
x
getAndIncrement
DFSTestUtil
createFile
fs
Path
Time
monotonicNow
readFile
delete
cluster
waitActive
NameNode
nn1
getNameNode
nn2
assertNotNull
String
bpid1
FSImageTestUtil
getFSImage
getBlockPoolID
bpid2
cid1
getClusterID
cid2
lv1
getLayoutVersion
lv2
ns1
getNamespaceID
ns2
assertNotSame
cluster
waitActive
NameNode
nn1
getNameNode
nn2
assertNotNull
String
bpid1
FSImageTestUtil
getFSImage
getBlockPoolID
bpid2
cid1
getClusterID
cid2
lv1
getLayoutVersion
lv2
ns1
getNamespaceID
ns2
assertNotSame
LOG
info
getNameNodeAddress
lv1
FSImageTestUtil
getFSImage
nn1
getLayoutVersion
lv2
nn2
ns1
getNamespaceID
ns2
assertNotSame
LOG
info
cid1
bpid1
getNameNodeAddress
cid2
bpid2
DataNode
dn
cluster
getDataNodes
get
Map
String
Object
volInfos
data
getVolumeInfoMap
Assert
assertTrue
size
i
e
getKey
getValue
assertEquals
getFsDatasetTestUtils
getDefaultNumOfDataDirs
MiniDFSCluster
cluster
Builder
conf
nameNodePort
build
NameNode
nn1
getNameNode
assertNotNull
String
bpid1
FSImageTestUtil
getFSImage
getBlockPoolID
cid1
getClusterID
lv1
getLayoutVersion
NameNode
nn1
cluster
getNameNode
assertNotNull
String
bpid1
FSImageTestUtil
getFSImage
getBlockPoolID
cid1
getClusterID
lv1
getLayoutVersion
LOG
info
getNameNodeAddress
DataNode
dn
getDataNodes
get
Map
Object
volInfos
data
getVolumeInfoMap
Assert
assertTrue
size
i
e
getKey
getValue
assertEquals
getFsDatasetTestUtils
getDefaultNumOfDataDirs
MiniDFSCluster
cluster
Builder
conf
nnTopology
MiniDFSNNTopology
simpleFederatedTopology
build
waitActive
DataNode
dn
getDataNodes
get
List
BPOfferService
bposs
getAllBpOs
MiniDFSCluster
cluster
Builder
conf
nnTopology
MiniDFSNNTopology
simpleFederatedTopology
build
waitActive
DataNode
dn
getDataNodes
get
List
BPOfferService
bposs
getAllBpOs
LOG
info
size
Assert
assertEquals
addNameNode
Thread
sleep
DataNode
dn
cluster
getDataNodes
get
List
BPOfferService
bposs
getAllBpOs
LOG
info
size
Assert
assertEquals
addNameNode
conf
Thread
sleep
StartupOption
FORMAT
setClusterId
NameNode
nn4
getNameNode
assertNotNull
assertTrue
blockFile
exists
assertFalse
trashFile
File
data5
dataDir
String
newDirs
badDataDir
toString
Configuration
newConf
conf
set
DFSConfigKeys
DFS_DATANODE_DATA_DIR_KEY
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
List
DataNode
datanodes
cluster
getDataNodes
datanode
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
DataNode
datanode
datanodes
get
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
ExtendedBlock
block
DFSTestUtil
getFirstBlock
fs
fileName
FsVolumeSpi
volume
datanode
getFSDataset
getVolume
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
FsVolumeSpi
volume
datanode
getFSDataset
getVolume
block
DataNodeVolumeMetrics
metrics
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
DataNodeVolumeMetrics
metrics
volume
getMetrics
MetricsRecordBuilder
rb
name
assertCounter
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
MetricsRecordBuilder
rb
getMetrics
volume
name
assertCounter
metrics
getTotalDataFileIos
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
assertCounter
metrics
getTotalDataFileIos
rb
LOG
info
getTotalMetadataOperations
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
LOG
info
metrics
getTotalMetadataOperations
getTotalDataFileIos
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
LOG
info
metrics
getTotalDataFileIos
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
getReadIoMean
LOG
info
metrics
getTotalFileIoErrors
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
getReadIoMean
LOG
info
metrics
getMetadataOperationSampleCount
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
getReadIoMean
getReadIoStdDev
LOG
info
metrics
getMetadataOperationMean
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
getReadIoMean
getReadIoStdDev
getWriteIoSampleCount
LOG
info
metrics
getMetadataOperationStdDev
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
getReadIoMean
getReadIoStdDev
getWriteIoSampleCount
getWriteIoMean
LOG
info
metrics
getDataFileIoSampleCount
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
getReadIoMean
getReadIoStdDev
getWriteIoSampleCount
getWriteIoMean
getWriteIoStdDev
LOG
info
metrics
getDataFileIoMean
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
getReadIoMean
getReadIoStdDev
getWriteIoSampleCount
getWriteIoMean
getWriteIoStdDev
getFileIoErrorSampleCount
LOG
info
metrics
getDataFileIoStdDev
getFlushIoSampleCount
getFlushIoMean
getFlushIoStdDev
getSyncIoSampleCount
getSyncIoMean
getSyncIoStdDev
getReadIoMean
getReadIoStdDev
getWriteIoSampleCount
getWriteIoMean
getWriteIoStdDev
getFileIoErrorSampleCount
getFileIoErrorMean
DatanodeProtocolClientSideTranslatorPB
namenode
mock
i
LOG
info
i
EOFException
DatanodeRegistration
dr
invocation
getArguments
datanodeRegistration
getDatanodeUuid
when
namenode
versionRequest
thenReturn
NamespaceInfo
CLUSTER_ID
POOL_ID
HeartbeatResponse
heartbeatResponse
DatanodeRegistration
dr
invocation
getArguments
datanodeRegistration
getDatanodeUuid
LOG
info
when
namenode
versionRequest
thenReturn
NamespaceInfo
CLUSTER_ID
POOL_ID
i
HeartbeatResponse
heartbeatResponse
DatanodeCommand
RegisterCommand
REGISTER
NNHAStatusHeartbeat
HAServiceState
ACTIVE
ThreadLocalRandom
current
nextLong
File
f
b
getBlockURI
mf
getMetadataURI
FileOutputStream
s
FileChannel
channel
getChannel
truncate
File
f
b
getBlockURI
mf
getMetadataURI
File
sourceBlock
b
getBlockURI
sourceMeta
getMetadataURI
URI
sourceRoot
getVolume
getStorageLocation
getUri
destRoot
v
String
relativeBlockPath
relativize
toURI
getPath
relativeMetaPath
destBlock
toString
destMeta
getParentFile
mkdirs
FileUtils
copyFile
File
sourceBlock
b
getBlockURI
sourceMeta
getMetadataURI
URI
sourceRoot
getVolume
getStorageLocation
getUri
destRoot
v
String
relativeBlockPath
relativize
toURI
getPath
relativeMetaPath
destBlock
toString
destMeta
getParentFile
mkdirs
FileUtils
copyFile
LOG
info
id
getFreeBlockId
numVolumes
volumes
size
index
rand
nextInt
File
finalizedDir
FsVolumeImpl
get
getFinalizedDir
bpid
file
getBlockFile
id
getFreeBlockId
numVolumes
refs
size
index
rand
nextInt
File
finalizedDir
FsVolumeImpl
get
getFinalizedDir
bpid
file
getMetaFile
id
getFreeBlockId
numVolumes
refs
size
index
rand
nextInt
File
finalizedDir
FsVolumeImpl
get
getFinalizedDir
bpid
file
getBlockFile
id
getFreeBlockId
numVolumes
refs
size
index
rand
nextInt
File
finalizedDir
FsVolumeImpl
get
getFinalizedDir
bpid
file
getBlockFile
LOG
info
getName
String
name1
getAbsolutePath
name2
id
getFreeBlockId
numVolumes
refs
size
index
rand
nextInt
File
finalizedDir
FsVolumeImpl
get
getFinalizedDir
bpid
file
getBlockFile
LOG
info
getName
String
name1
getAbsolutePath
name2
index
rand
nextInt
numVolumes
File
finalizedDir
FsVolumeImpl
refs
get
getFinalizedDir
bpid
file
getBlockFile
id
LOG
info
getName
String
name1
getAbsolutePath
name2
getMetaFile
retries
maxRetries
scanner
DirectoryScanner
fds
conf
ratio
runThrottleTest
blocks
LOG
info
assertTrue
setInt
DFSConfigKeys
DFS_DATANODE_DIRECTORYSCAN_THROTTLE_LIMIT_MS_PER_SEC_KEY
retries
maxRetries
scanner
DirectoryScanner
fds
conf
ratio
runThrottleTest
blocks
LOG
info
assertTrue
setInt
DFSConfigKeys
DFS_DATANODE_DIRECTORYSCAN_THREADS_KEY
DFS_DATANODE_DIRECTORYSCAN_THROTTLE_LIMIT_MS_PER_SEC_KEY
scanner
DirectoryScanner
fds
conf
setRetainDiffs
AtomicLong
nowMs
set
Time
monotonicNow
shutdown
reconcile
assertFalse
getRunStatus
finalMs
get
LOG
info
assertTrue
ratio
timeWaitingMs
timeRunningMs
Configuration
conf
getDefaultConf
setLong
DFSConfigKeys
DFS_DATANODE_CACHE_REVOCATION_TIMEOUT_MS
DFS_DATANODE_CACHE_REVOCATION_POLLING_MS
MiniDFSCluster
cluster
Builder
numDataNodes
build
waitActive
DistributedFileSystem
dfs
getFileSystem
String
testFile
DFSTestUtil
createFile
Path
BLOCK_SIZE
addCachePool
CachePoolInfo
cacheDirectiveId
addCacheDirective
CacheDirectiveInfo
setPool
setPath
setReplication
FsDatasetSpi
fsd
getDataNodes
get
getFSDataset
verifyExpectedCacheUsage
FSDataInputStream
in
open
ByteBuffer
buf
read
EnumSet
noneOf
ReadOption
conf
setLong
DFSConfigKeys
DFS_DATANODE_CACHE_REVOCATION_POLLING_MS
MiniDFSCluster
cluster
Builder
numDataNodes
build
waitActive
DistributedFileSystem
dfs
getFileSystem
String
testFile
DFSTestUtil
createFile
Path
BLOCK_SIZE
addCachePool
CachePoolInfo
cacheDirectiveId
addCacheDirective
CacheDirectiveInfo
setPool
setPath
setReplication
FsDatasetSpi
fsd
getDataNodes
get
getFSDataset
verifyExpectedCacheUsage
FSDataInputStream
in
open
ByteBuffer
buf
read
EnumSet
noneOf
ReadOption
LOG
info
removeCacheDirective
numReplicas
Math
ceil
FILE_LEN
BLK_LEN
File
providedFile
BASE_DIR
FILE_NAME
replicas
ArrayList
ProvidedReplica
Collection
ReplicaInfo
replicas
FsDatasetTestUtil
getReplicas
datanode
getFSDataset
bpid
HdfsConfiguration
conf
MiniDFSCluster
cluster
Builder
numDataNodes
REPLICATION
build
waitActive
DistributedFileSystem
fs
getFileSystem
Path
p
size
RAN
nextInt
FSDataOutputStream
out
fs
create
p
REPLICATION
bytes
RAN
nextBytes
len
length
remaining
write
hflush
ReplicaBeingWritten
oldrbw
DataNode
newnode
DatanodeInfo
newnodeinfo
String
bpid
cluster
getNamesystem
getBlockPoolId
oldnode
getDataNodes
get
Assert
assertNull
xserver
getWriteThrottler
getRbw
LOG
info
testName
getMethodName
List
FsVolumeSpi
volumes
makeVolumes
NUM_VOLUMES
expectedVolumeHealth
FsDatasetSpi
dataset
makeDataset
DatasetVolumeChecker
checker
HdfsConfiguration
FakeTimer
setDelegateChecker
DummyChecker
Set
failedVolumes
checkAllVolumes
BlockReaderTestUtil
enableHdfsCachingTracing
Assert
assertEquals
CACHE_CAPACITY
BLOCK_SIZE
cacheManager
getCacheCapacity
getMemCacheCapacity
Path
testFile
testFileLen
maxCacheBlocksNum
DFSTestUtil
createFile
fs
List
ExtendedBlockId
blockKeys
getExtendedBlockId
addCachePool
CachePoolInfo
cacheDirectiveId
addCacheDirective
CacheDirectiveInfo
Builder
setPool
setPath
setReplication
build
MetricsRecordBuilder
dnMetrics
getMetrics
dn
name
blocksCached
MetricsAsserts
getLongCounter
fail
cachePath
Path
smallTestFile
smallTestFileLen
BLOCK_SIZE
DFSTestUtil
createFile
fs
smallFileCacheDirectiveId
addCacheDirective
CacheDirectiveInfo
Builder
setPool
setPath
setReplication
build
Thread
sleep
MetricsRecordBuilder
dnMetrics
getMetrics
dn
name
blocksCached
MetricsAsserts
getLongCounter
assertTrue
maxCacheBlocksNum
assertEquals
blockKeyToVolume
size
keySet
containsAll
blockKeys
removeCacheDirective
cacheDirectiveId
Path
smallTestFile
smallTestFileLen
BLOCK_SIZE
DFSTestUtil
createFile
fs
smallFileCacheDirectiveId
addCacheDirective
CacheDirectiveInfo
Builder
setPool
setPath
setReplication
build
Thread
sleep
MetricsRecordBuilder
dnMetrics
getMetrics
dn
name
blocksCached
MetricsAsserts
getLongCounter
assertTrue
maxCacheBlocksNum
assertEquals
blockKeyToVolume
size
keySet
containsAll
blockKeys
removeCacheDirective
cacheDirectiveId
Set
String
seenIdentifiers
HashSet
NUM_BLOCKS
DFSTestUtil
verifyExpectedCacheUsage
fsd
Path
testFile
testFileLen
BLOCK_SIZE
createFile
fs
HdfsBlockLocation
locs
getFileBlockLocations
assertEquals
length
blockSizes
getBlockSizes
cacheCapacity
getCacheCapacity
cacheUsed
getCacheUsed
current
CACHE_CAPACITY
TOTAL_BLOCKS_PER_CACHE
Ints
checkedCast
CACHE_CAPACITY
BLOCK_SIZE
BlockReaderTestUtil
enableHdfsCachingTracing
Assert
assertEquals
Path
SMALL_FILE
DFSTestUtil
createFile
fs
BIG_FILE
DistributedFileSystem
dfs
cluster
getFileSystem
addCachePool
CachePoolInfo
bigCacheDirectiveId
addCacheDirective
CacheDirectiveInfo
Builder
setPool
setPath
setReplication
build
MetricsRecordBuilder
dnMetrics
getMetrics
dn
name
blocksCached
MetricsAsserts
getLongCounter
shortCacheDirectiveId
dfs
addCacheDirective
CacheDirectiveInfo
Builder
setPool
setPath
SMALL_FILE
setReplication
build
Thread
sleep
MetricsRecordBuilder
dnMetrics
getMetrics
dn
name
Assert
assertEquals
TOTAL_BLOCKS_PER_CACHE
MetricsAsserts
getLongCounter
removeCacheDirective
bigCacheDirectiveId
RemoteIterator
CacheDirectiveEntry
iter
listCacheDirectives
entry
next
getInfo
getId
shortCacheDirectiveId
dfs
addCacheDirective
CacheDirectiveInfo
Builder
setPool
setPath
SMALL_FILE
setReplication
build
Thread
sleep
MetricsRecordBuilder
dnMetrics
getMetrics
dn
name
Assert
assertEquals
TOTAL_BLOCKS_PER_CACHE
MetricsAsserts
getLongCounter
removeCacheDirective
bigCacheDirectiveId
RemoteIterator
CacheDirectiveEntry
iter
listCacheDirectives
entry
next
getInfo
getId
numExistingVolumes
getNumVolumes
totalVolumes
numNewVolumes
Set
String
expectedVolumes
HashSet
List
NamespaceInfo
nsInfos
Lists
newArrayList
add
CLUSTER_ID
bpid
path
BASE_DIR
i
pathUri
Path
toUri
toString
File
getAbsolutePath
StorageLocation
loc
parse
Storage
StorageDirectory
sd
createStorageDirectory
conf
DataStorage
VolumeBuilder
builder
storage
when
prepareVolume
eq
datanode
anyList
thenReturn
dataset
addVolume
String
path
BASE_DIR
i
pathUri
Path
toUri
toString
expectedVolumes
add
File
getAbsolutePath
StorageLocation
loc
parse
Storage
StorageDirectory
sd
createStorageDirectory
conf
DataStorage
VolumeBuilder
builder
storage
when
prepareVolume
eq
datanode
anyList
thenReturn
dataset
addVolume
nsInfos
LOG
info
assertEquals
totalVolumes
getNumVolumes
storageMap
size
Set
actualVolumes
HashSet
volumeName
volumes
get
numExistingVolumes
volRemoveStartedLatch
await
LOG
info
e
dataset
getBlockReports
eb
getBlockPoolId
blockReportReceivedLatch
countDown
startFinalizeLatch
Thread
sleep
LOG
info
startFinalizeLatch
countDown
Thread
sleep
ie
blockReportReceivedLatch
await
dataset
finalizeBlock
eb
warn
e
startFinalizeLatch
countDown
Thread
sleep
LOG
info
ie
blockReportReceivedLatch
await
dataset
finalizeBlock
eb
warn
e
Set
StorageLocation
volumesToRemove
HashSet
add
getVolume
getStorageLocation
Thread
sleep
LOG
info
ie
blockReportReceivedLatch
await
dataset
finalizeBlock
eb
warn
e
Set
StorageLocation
volumesToRemove
HashSet
add
getVolume
getStorageLocation
MiniDFSCluster
cluster
Builder
conf
numDataNodes
storageTypes
StorageType
DISK
storagesPerDatanode
build
FileSystem
fs
getFileSystem
DataNode
dataNode
getDataNodes
get
Path
filePath
DFSTestUtil
createFile
ExtendedBlock
block
getFirstBlock
FsDatasetImpl
fsDataSetImpl
getFSDataset
ReplicaInfo
newReplicaInfo
createNewReplicaObj
FSDataOutputStream
out
append
write
hflush
cluster
MiniDFSCluster
Builder
conf
numDataNodes
storageTypes
StorageType
DISK
storagesPerDatanode
build
FileSystem
fs
getFileSystem
DataNode
dataNode
getDataNodes
get
Path
filePath
DFSTestUtil
createFile
ExtendedBlock
block
getFirstBlock
FsDatasetImpl
fsDataSetImpl
getFSDataset
ReplicaInfo
newReplicaInfo
createNewReplicaObj
FSDataOutputStream
out
append
write
hflush
LOG
info
getGenerationStamp
getReplicaInfo
getBlockPoolId
getBlockId
LambdaTestUtils
intercept
IOException
finalizeNewReplica
getClusterBuilder
setRamDiskReplicaCapacity
build
String
METHOD_NAME
GenericTestUtils
getMethodName
Path
path1
SEED
NUM_TASKS
makeRandomTestFile
BLOCK_SIZE
ensureFileReplicasOnStorageType
RAM_DISK
CountDownLatch
latch
AtomicBoolean
testFailed
Assert
assertTrue
verifyReadRandomFile
cacheUsed
fsd
getCacheUsed
cacheBlocksNum
Ints
checkedCast
CACHE_AMOUNT
BLOCK_SIZE
BlockReaderTestUtil
enableHdfsCachingTracing
Assert
assertEquals
Path
testFile
testFileLen
DFSTestUtil
createFile
fs
List
ExtendedBlockId
blockKeys
getExtendedBlockId
addCachePool
CachePoolInfo
cacheDirectiveId
addCacheDirective
CacheDirectiveInfo
Builder
setPool
setPath
setReplication
build
MetricsRecordBuilder
dnMetrics
getMetrics
dn
name
blocksCached
MetricsAsserts
getLongCounter
assertEquals
NUM_LOCAL_INIT_VOLUMES
NUM_PROVIDED_INIT_VOLUMES
getNumVolumes
providedVolumes
size
dataset
getNumFailedVolumes
DFSConfigKeys
DFS_PROVIDER_STORAGEUUID_DEFAULT
get
i
getStorageID
StorageType
PROVIDED
getStorageType
space
getBlockPoolUsed
BLOCK_POOL_IDS
CHOSEN_BP_ID
spaceUsed
NUM_PROVIDED_BLKS
getNumBlocks
shutdownBlockPool
assertTrue
fout
write
data
PathHandle
pathHandle
fs
getPathHandle
getFileStatus
file
Options
HandleOpt
changed
moved
FinalizedProvidedReplica
replica
toUri
chunkSize
conf
content
IOUtils
readFully
getDataInputStream
assertArrayEquals
rename
Path
setPathHandle
fail
tries
IOException
FSDataOutputStream
os
fs
create
file
replication
write
close
cluster
triggerBlockReports
FsVolumeImpl
volume
volumes
get
FsVolumeImpl
volume
volumes
get
String
methodName
GenericTestUtils
getMethodName
Path
file
FSDataOutputStream
os
fs
create
replication
write
hflush
close
HdfsBlockLocation
blockLocation
getClient
getBlockLocations
toString
BLOCK_SIZE
LocatedBlock
lastBlock
getLocatedBlock
cluster
stopDataNode
getLocations
getName
append
DFSTestUtil
setPipeline
DFSOutputStream
getWrappedStream
writeBytes
hsync
String
nodeName
nodeIndex
dataNodeIndex
cap
blockSize
blockCount
conf
setInt
DFSConfigKeys
DFS_BLOCK_SIZE_KEY
DFS_BYTES_PER_CHECKSUM_KEY
MiniDFSCluster
cluster
ClusterBuilder
setBlockCount
setBlockSize
setDiskCount
diskCount
setNumDatanodes
dataNodeCount
setConf
setCapacities
build
DataNode
node
getDataNodes
get
FsDatasetSpi
fsDatasetSpy
Mockito
spy
getFSDataset
DiskBalancerWorkItem
item
doReturn
when
getBandwidth
moveBlockAcrossVolumes
ExtendedBlock
invocation
getArguments
FsVolumeSpi
Path
dir
dfs
mkdirs
setStoragePolicy
FSDataOutputStream
out
create
file
fileData
StripedFileTestUtil
generateBytes
DEFAULT_BLOCK_SIZE
write
close
LocatedBlock
lb
getClient
getLocatedBlocks
get
StorageType
storageTypes
getStorageTypes
Assert
assertTrue
DISK
storageType
newtypes
SSD
startAdditionalDNs
conf
cluster
DataNode
dn
getDataNodes
i
InetSocketAddress
favoredNodes
j
dataNodes
get
i
getXferAddress
String
file
FSDataOutputStream
out
dfs
create
Path
FsPermission
getDefault
DEFAULT_BLOCK_SIZE
fileData
StripedFileTestUtil
generateBytes
write
close
LocatedBlocks
locatedBlocks
getClient
getLocatedBlocks
Assert
assertEquals
locatedBlockCount
LocatedBlock
lb
DatanodeInfo
datanodeInfo
getLocations
NamespaceScheme
nsScheme
Arrays
asList
fooDir
BLOCK_SIZE
policyMap
ClusterScheme
clusterScheme
DEFAULT_CONF
NUM_DATANODES
REPL
genStorageTypes
MigrationTest
test
setupCluster
banner
Path
barFile
DFSTestUtil
createFile
dfs
FSDataOutputStream
out
append
writeBytes
DFSOutputStream
getWrappedStream
hsync
setStoragePolicy
migrate
ExitStatus
SUCCESS
LocatedBlocks
lbs
getClient
getLocatedBlocks
toString
DFSOutputStream
out
getWrappedStream
hsync
banner
test
setStoragePolicy
migrate
ExitStatus
SUCCESS
LocatedBlocks
lbs
dfs
getClient
getLocatedBlocks
barFile
toString
BLOCK_SIZE
LOG
info
List
LocatedBlock
blks
Assert
assertEquals
size
get
getLocations
length
writeBytes
IOUtils
cleanupWithLogger
FsVolumeImpl
volume
fvs
LOG
info
Joiner
on
join
nameDir
listFiles
log
info
File
curDir
sd
getCurrentDir
log
info
File
curDir
sd
getCurrentDir
files
listFiles
Arrays
sort
String
src
FSNamesystem
ns
cluster
getNamesystem
NamenodeProtocols
nn
getNameNodeRpc
create
FsPermission
getFileDefault
EnumSetWritable
CreateFlag
EnumSet
of
CREATE
FSNamesystem
ns
cluster
getNamesystem
NamenodeProtocols
nn
getNameNodeRpc
create
src
FsPermission
getFileDefault
EnumSetWritable
CreateFlag
EnumSet
of
CREATE
LOG
info
LocatedBlock
onRetryBlock
readLock
FSDirWriteFileOp
ValidateAddBlockResult
r
FSPermissionChecker
pc
Mockito
mock
validateAddBlock
HdfsConstants
GRANDFATHER_INODE_ID
readUnlock
DatanodeStorageInfo
targets
chooseTargetForNewBlock
getBlockManager
assertNotNull
String
src
NamenodeProtocols
nameNodeRpc
cluster
getNameNodeRpc
create
FsPermission
getFileDefault
EnumSetWritable
CreateFlag
EnumSet
of
CREATE
config
setBoolean
DFS_NAMENODE_SUPPORT_ALLOW_FORMAT_KEY
cluster
MiniDFSCluster
Builder
manageDataDfsDirs
manageNameDfsDirs
build
waitActive
assertNotNull
nn
getNameNode
LOG
info
shutdown
NameNode
format
fail
assertTrue
e
getMessage
startsWith
Configuration
conf
HdfsConfiguration
setBoolean
HADOOP_CALLER_CONTEXT_ENABLED_KEY
setInt
HADOOP_CALLER_CONTEXT_MAX_SIZE_KEY
HADOOP_CALLER_CONTEXT_SIGNATURE_MAX_SIZE_KEY
MiniDFSCluster
cluster
Builder
build
LogCapturer
auditlog
captureLogs
FSNamesystem
auditLog
waitClusterUp
FileSystem
fs
getFileSystem
time
System
currentTimeMillis
Path
p
assertNull
CallerContext
getCurrent
context
setCurrent
LogCapturer
auditlog
captureLogs
FSNamesystem
auditLog
cluster
waitClusterUp
FileSystem
fs
getFileSystem
time
System
currentTimeMillis
Path
p
assertNull
CallerContext
getCurrent
context
Builder
build
setCurrent
LOG
info
setTimes
assertTrue
getOutput
endsWith
String
format
clearOutput
setSignature
getBytes
SIGNATURE_ENCODING
CallerContext
context
Builder
build
setCurrent
LOG
info
getCurrent
fs
setTimes
p
time
assertTrue
auditlog
getOutput
endsWith
String
format
clearOutput
setSignature
getBytes
SIGNATURE_ENCODING
longContext
StringUtils
repeat
String
longContext
StringUtils
repeat
context
CallerContext
Builder
setSignature
getBytes
SIGNATURE_ENCODING
build
setCurrent
LOG
info
getCurrent
fs
setTimes
p
time
assertTrue
auditlog
getOutput
endsWith
format
substring
clearOutput
assertFalse
contains
LOG
info
CallerContext
getCurrent
fs
setTimes
p
time
fail
e
child
start
join
assertTrue
auditlog
getOutput
endsWith
String
format
clearOutput
childContext
Builder
setSignature
getBytes
SIGNATURE_ENCODING
build
assertTrue
auditlog
getOutput
endsWith
String
format
clearOutput
CallerContext
childContext
Builder
setSignature
getBytes
SIGNATURE_ENCODING
build
LOG
info
getCurrent
setCurrent
fs
setPermission
p
FsPermission
fail
e
child
start
join
CallerContext
setCurrent
childContext
fs
setPermission
p
FsPermission
fail
e
child
start
join
assertTrue
auditlog
getOutput
endsWith
String
format
clearOutput
context
Builder
setSignature
getCurrent
getSignature
build
fail
e
child
start
join
assertTrue
auditlog
getOutput
endsWith
String
format
clearOutput
context
CallerContext
Builder
setSignature
getCurrent
getSignature
build
setCurrent
LOG
info
fs
mkdirs
Path
child
join
assertTrue
auditlog
getOutput
endsWith
String
format
clearOutput
context
CallerContext
Builder
setSignature
getCurrent
getSignature
build
setCurrent
LOG
info
fs
mkdirs
Path
setTimes
p
time
auditlog
clearOutput
context
CallerContext
Builder
setSignature
getCurrent
getSignature
build
setCurrent
LOG
info
fs
mkdirs
Path
assertTrue
getOutput
endsWith
String
format
setTimes
p
time
thisCheckpointTxId
Configuration
nnconf
HdfsConfiguration
c
DFSTestUtil
formatNameNode
nn
NameNode
createNameNode
String
LOG
info
e
set
CommonConfigurationKeysPublic
HADOOP_SECURITY_AUTHENTICATION
DFSConfigKeys
DFS_NAMENODE_KEYTAB_FILE_KEY
BackupNode
bn
startupOpt
getName
assertTrue
getNamesystem
fail
NameNode
nn
cluster
getNameNode
FileSystem
fs
getFileSystem
String
src
testIdx
i
NameNode
nn
cluster
getNameNode
FileSystem
fs
getFileSystem
String
src
testIdx
i
LOG
info
Path
p
assertTrue
mkdirs
conf
setInt
DFSConfigKeys
DFS_DATANODE_SCAN_PERIOD_HOURS_KEY
DFS_NAMENODE_CHECKPOINT_TXNS_KEY
MiniDFSCluster
cluster
FileSystem
fileSys
BackupNode
backup
Builder
numDataNodes
build
getFileSystem
assertTrue
exists
file1
file2
mkdirs
txid
getNameNodeRpc
getTransactionID
startBackupNode
op
waitCheckpointDone
fileSys
mkdirs
file2
txid
cluster
getNameNodeRpc
getTransactionID
backup
startBackupNode
conf
op
waitCheckpointDone
Path
i
doCheckpoint
InetSocketAddress
add
getNameNodeAddress
FileSystem
bnFS
get
NetUtils
getHostPortString
toUri
canWrite
txid
cluster
getNameNodeRpc
getTransactionID
backup
doCheckpoint
waitCheckpointDone
InetSocketAddress
add
getNameNodeAddress
FileSystem
bnFS
get
Path
NetUtils
getHostPortString
toUri
conf
canWrite
DFSTestUtil
createFile
file3
fileSize
blockSize
replication
seed
LOG
info
getRole
eio
assertFalse
LOG
info
backup
getRole
eio
canRead
assertEquals
isRole
NamenodeRole
BACKUP
DFSTestUtil
createFile
fileSys
file3
fileSize
blockSize
replication
seed
TestCheckpoint
checkFile
assertTrue
op
StartupOption
getNamesystem
getFileInfo
toUri
getPath
error
e
AssertionError
stop
close
cluster
shutdown
FSImageTestUtil
assertParallelFilesAreIdentical
ImmutableList
of
bnCurDir
nnCurDir
ImmutableSet
String
String
nnAddr
cluster
getNameNode
getNameNodeAddressHostPortString
conf
get
DFSConfigKeys
DFS_NAMENODE_RPC_ADDRESS_KEY
bnAddr
backup
set
DFS_NAMESERVICES
DFS_NAMESERVICE_ID
DFS_HA_NAMENODES_KEY_PREFIX
rpcAddrKeyPreffix
startDataNodes
StartupOption
REGULAR
DFSTestUtil
createFile
fileSys
file1
fileSize
blockSize
seed
FileSystem
bnFS
Path
toUri
nnData
readFile
bnData
assertEquals
FSNamesystem
namesystem
nn
getNamesystem
CacheManager
cacheManager
getCacheManager
LOG
info
filter
toString
targetBytesNeeded
targetBytesCached
targetFilesNeeded
targetFilesCached
RemoteIterator
CacheDirectiveEntry
iter
entry
dfs
listCacheDirectives
next
fail
e
getMessage
Assert
assertNotNull
CacheDirectiveStats
stats
getStats
CachePoolEntry
entry
iter
next
fail
e
getMessage
CachePoolStats
stats
getStats
numCachedBlocks
numCachedReplicas
FileStatus
f
dfs
getFileStatus
p
len
getLen
blockSize
getBlockSize
numBlocks
BlockLocation
locs
getFileBlockLocations
assertEquals
length
l
getCachedHosts
LOG
info
expectedBlocks
Configuration
conf
HdfsConfiguration
MiniDFSCluster
cluster
SecondaryNameNode
secondary
Builder
numDataNodes
build
StorageDirectory
savedSd
startSecondaryNameNode
NNStorage
storage
getFSImage
getStorage
assertLockFails
sd
LOG
info
shutdown
Configuration
conf
HdfsConfiguration
cluster
MiniDFSCluster
Builder
numDataNodes
numDatanodes
format
build
secondary
startSecondaryNameNode
Mockito
doThrow
IOException
when
faultInjector
afterSecondaryCallsRollEditLog
doCheckpoint
fail
LOG
info
ioe
assertTrue
toString
contains
Configuration
snnConf
conf
File
checkpointDir
MiniDFSCluster
getBaseDirectory
set
DFSConfigKeys
DFS_NAMENODE_CHECKPOINT_DIR_KEY
getAbsolutePath
secondary
startSecondaryNameNode
doCheckpoint
cluster
shutdown
Thread
sleep
Builder
numDataNodes
nameNodePort
origPort
nameNodeHttpPort
origHttpPort
format
build
fail
testList
add
AbstractMap
SimpleImmutableEntry
String
Boolean
Path
rootPath
Configuration
conf
setBoolean
DFSConfigKeys
DFS_PERMISSIONS_ENABLED_KEY
setInt
DFS_BLOCK_SIZE_KEY
BLOCK_SIZE
FSDataOutputStream
stm
Map
DataNode
DatanodeProtocolClientSideTranslatorPB
dnMap
HashMap
cluster
MiniDFSCluster
Builder
numDataNodes
build
waitActive
DistributedFileSystem
fs
getFileSystem
stId
testPath
stest
getKey
mkSameDir
getValue
Map
DataNode
DatanodeProtocolClientSideTranslatorPB
dnMap
HashMap
cluster
MiniDFSCluster
Builder
conf
numDataNodes
build
waitActive
DistributedFileSystem
fs
getFileSystem
stId
String
testPath
stest
getKey
Boolean
mkSameDir
getValue
LOG
info
hasSnapshot
Path
fPath
grandestNonRootParent
getParent
stm
create
LOG
info
testPath
mkSameDir
hasSnapshot
Path
fPath
grandestNonRootParent
getParent
stm
fs
create
AppendTestUtil
write
BLOCK_SIZE
hflush
SnapshotTestHelper
createSnapshot
rootPath
String
valueOf
stId
NameNode
nn
cluster
getNameNode
ExtendedBlock
blk
DFSTestUtil
getFirstBlock
DatanodeDescriptor
expectedPrimary
getExpectedPrimaryNode
NameNode
nn
cluster
getNameNode
ExtendedBlock
blk
DFSTestUtil
getFirstBlock
fs
fPath
DatanodeDescriptor
expectedPrimary
getExpectedPrimaryNode
LOG
info
DataNode
primaryDN
getDataNode
getIpcPort
DatanodeProtocolClientSideTranslatorPB
nnSpy
dnMap
get
InternalDataNodeTestUtils
spyOnBposToNN
put
DelayAnswer
delayer
Mockito
doAnswer
when
commitBlockSynchronization
eq
anyLong
any
recoverLease
waitForCall
grandestNonRootParent
Path
rootPath
Configuration
config
setBoolean
DFSConfigKeys
DFS_PERMISSIONS_ENABLED_KEY
setInt
DFS_BLOCK_SIZE_KEY
BLOCK_SIZE
FSDataOutputStream
stm
cluster
MiniDFSCluster
Builder
numDataNodes
build
waitActive
DistributedFileSystem
fs
getFileSystem
testPath
create
fileSys
cluster
getFileSystem
FSNamesystem
namesystem
getNamesystem
FSImage
fsimage
getFSImage
FSEditLog
editLog
getEditLog
mkdirs
Path
Iterator
StorageDirectory
iter
getStorage
dirIterator
NameNodeDirType
EDITS
LinkedList
sds
add
next
close
shutdown
File
editFile
NNStorage
getFinalizedEditsFile
sd
assertTrue
exists
fileLen
length
stream
create
NameNodeLayoutVersion
CURRENT_LAYOUT_VERSION
NNStorage
storage
conf
Collections
URI
emptyList
Lists
newArrayList
uri
writeTransactionIdFileToStorage
close
cluster
MiniDFSCluster
Builder
numDataNodes
NUM_DATA_NODES
format
build
fail
File
f1
TEST_DIR
f2
List
URI
editUris
ImmutableList
of
toURI
NNStorage
storage
setupEdits
AbortSpec
totaltxnread
FSEditLog
editlog
getFSEditLog
initJournalsForWrite
startTxId
Iterable
EditLogInputStream
editStreams
selectInputStreams
TXNS_PER_ROLL
FSEditLogLoader
EditLogValidation
val
scanEditLog
edits
Long
MAX_VALUE
read
getEndTxId
getFirstTxId
assertEquals
files
length
assertTrue
delete
FSEditLog
editlog
getFSEditLog
storage
initJournalsForWrite
startTxId
Collection
EditLogInputStream
streams
selectInputStreams
TXNS_PER_ROLL
readAllEdits
File
f1
TEST_DIR
f2
List
URI
editUris
ImmutableList
of
toURI
NNStorage
storage
setupEdits
startErrorTxId
TXNS_PER_ROLL
endErrorTxId
assertEquals
files
length
fileLen
editLog
rollEditLog
NameNodeLayoutVersion
CURRENT_LAYOUT_VERSION
assertExistsInStorageDirs
cluster
NameNodeDirType
EDITS
NNStorage
getFinalizedEditsFileName
i
close
fileSys
shutdown
startTime
Time
now
MiniDFSCluster
Builder
conf
numDataNodes
NUM_DATA_NODES
build
waitActive
endTime
delta
retryCount
basePort
random
nextInt
MiniDFSNNTopology
topology
addNameservice
NSConf
addNN
NNConf
setHttpPort
cluster
MiniDFSCluster
Builder
conf
nnTopology
numDataNodes
build
waitActive
nn0
getNameNode
fs
HATestUtil
configureFailoverFs
transitionToActive
getFileSystem
editLog
getNamesystem
getEditLog
Configuration
conf
File
editLog
GenericTestUtils
getTempPath
PermissionStatus
perms
createImmutable
FsPermission
mkdirOp
setPermissionStatus
elos
write
reset
setRpcCallId
setTransactionId
setInodeId
setPath
setReadyToFlush
flushAndSync
close
fileLen
editLog
length
elos
write
mkdirOp
setReadyToFlush
flushAndSync
close
fileLen
editLog
length
LOG
debug
RandomAccessFile
rwf
seek
b
readInt
writeInt
EditLogFileInputStream
elis
Assert
assertEquals
NameNodeLayoutVersion
CURRENT_LAYOUT_VERSION
getVersion
scanNextOp
LOG
debug
editLog
fileLen
RandomAccessFile
rwf
seek
b
readInt
writeInt
close
EditLogFileInputStream
elis
Assert
assertEquals
NameNodeLayoutVersion
CURRENT_LAYOUT_VERSION
getVersion
scanNextOp
fail
cluster
MiniDFSCluster
Builder
conf
numDataNodes
NUM_DATA_NODES
build
waitActive
fileSys
getFileSystem
FSNamesystem
namesystem
getNamesystem
FSImage
fsimage
getFSImage
FSEditLog
editLog
getEditLog
startTransactionWorkers
caughtErr
Thread
sleep
LOG
info
i
enterSafeMode
logStartTxId
getStorage
getMostRecentCheckpointTxId
verifyEditLogs
NNStorage
getInProgressEditsFileName
fileSys
cluster
getFileSystem
FSNamesystem
namesystem
getNamesystem
FSImage
fsimage
getFSImage
FSEditLog
editLog
getEditLog
startTransactionWorkers
caughtErr
Thread
sleep
LOG
info
i
enterSafeMode
logStartTxId
getStorage
getMostRecentCheckpointTxId
verifyEditLogs
NNStorage
getInProgressEditsFileName
saveNamespace
Thread
sleep
LOG
info
i
namesystem
enterSafeMode
logStartTxId
fsimage
getStorage
getMostRecentCheckpointTxId
verifyEditLogs
NNStorage
getInProgressEditsFileName
saveNamespace
savedImageTxId
getFinalizedEditsFileName
assertEquals
editLog
getLastWrittenTxId
leaveSafeMode
FSImage
fsimage
namesystem
getFSImage
FSEditLog
editLog
getEditLog
JournalAndStream
jas
getJournals
get
EditLogFileOutputStream
spyElos
spy
getCurrentStream
setCurrentStreamForTests
AtomicReference
Throwable
deferredException
CountDownLatch
waitToEnterFlush
LOG
info
mkdirs
PermissionStatus
FsPermission
LOG
info
waitToEnterFlush
countDown
BLOCK_TIME
Thread
sleep
invocation
callRealMethod
doAnswer
blockingFlush
when
spyElos
flush
doAnEditThread
start
LOG
info
namesystem
writeLock
editLog
logSetOwner
writeUnlock
sleepingBeforeSync
countDown
BLOCK_TIME
Thread
sleep
logSync
FSEditLog
editLog
namesystem
getEditLog
FSEditLogOp
OpInstanceCache
cache
get
op
SetOwnerOp
getInstance
setSource
setUser
setGroup
reuseOp
Mockito
spy
doNothing
when
reset
Future
logSpammers
ii
i
Thread
currentThread
setName
startSpamLatch
await
logEdit
List
XAttr
existingXAttrs
Lists
newArrayListWithCapacity
Random
rand
numExpectedXAttrs
List
XAttr
existingXAttrs
Lists
newArrayListWithCapacity
Random
rand
numExpectedXAttrs
LOG
info
numToAdd
nextInt
toAdd
add
generatedXAttrs
get
size
LOG
info
numExpectedXAttrs
numToAdd
rand
nextInt
List
XAttr
toAdd
Lists
newArrayListWithCapacity
add
generatedXAttrs
get
size
i
newXAttrs
FSDirXAttrOp
setINodeXAttrs
fsdir
existingXAttrs
EnumSet
of
XAttrSetFlag
CREATE
verifyXAttrsPresent
startingFileSize
BLOCK_SIZE
fs
mkdirs
parent
setQuota
contents
AppendTestUtil
initBuffer
Path
p
fileLength
writeContents
newLength
toTruncate
isReady
truncate
Path
dir
fs
mkdirs
p
data
BLOCK_SIZE
ThreadLocalRandom
current
nextBytes
writeContents
length
newLength
nextInt
n
isReady
truncate
String
s
FsImageValidation
Util
toCommaSeparatedNumber
n
ByteArrayOutputStream
bStream
PrintStream
out
GenericTestUtils
setLogLevel
FSPermissionChecker
LOG
org
slf4j
event
Level
TRACE
errCode
ToolRunner
run
DFSck
conf
path
numMissing
m
group
NUM_CORRUPT_BLOCKS_PATTERN
matcher
line
numCorrupt
IOException
assertTrue
equals
Integer
toString
outStr
contains
NamenodeFsck
CORRUPT_STATUS
Thread
sleep
dfsBlockSize
numDatanodes
replication
conf
setLong
DFSConfigKeys
DFS_BLOCK_SIZE_KEY
DFS_BLOCKREPORT_INTERVAL_MSEC_KEY
setInt
DFS_DATANODE_DIRECTORYSCAN_INTERVAL_KEY
DFS_REPLICATION_KEY
File
builderBaseDir
GenericTestUtils
getRandomizedTempPath
cluster
MiniDFSCluster
Builder
build
DistributedFileSystem
dfs
getFileSystem
waitActive
String
srcDir
DFSTestUtil
util
setName
setMinSize
setMaxSize
setNumFiles
createFiles
fileNames
getFileNames
String
str
runFsck
conf
numCorrupt
Matcher
m
NUM_CORRUPT_BLOCKS_PATTERN
matcher
line
group
Assert
fail
assertTrue
contains
NamenodeFsck
CORRUPT_STATUS
Assert
fail
assertTrue
str
contains
NamenodeFsck
CORRUPT_STATUS
LOG
error
e
runFsck
conf
info
List
LocatedFileStatus
retVal
ArrayList
RemoteIterator
iter
dfs
listFiles
Path
LOG
info
nNameNodes
nDataNodes
MiniDFSCluster
cluster
Builder
conf
nnTopology
MiniDFSNNTopology
simpleFederatedTopology
numDataNodes
build
DFSTestUtil
setFederatedConfiguration
waitActive
Suite
s
createFile
i
String
urls
getFileSystem
getUri
FILE_NAME
MiniDFSCluster
cluster
Builder
conf
nnTopology
MiniDFSNNTopology
simpleFederatedTopology
nNameNodes
numDataNodes
nDataNodes
build
LOG
info
DFSTestUtil
setFederatedConfiguration
waitActive
Suite
s
createFile
i
String
urls
getFileSystem
getUri
FILE_NAME
result
TestFsck
runFsck
LOG
info
String
urls
nNameNodes
i
cluster
getFileSystem
getUri
FILE_NAME
result
TestFsck
runFsck
conf
Assert
assertTrue
contains
vurls
link
ConfigUtil
addLink
URI
String
urls
nNameNodes
i
cluster
getFileSystem
getUri
FILE_NAME
LOG
info
result
TestFsck
runFsck
conf
Assert
assertTrue
contains
vurls
link
ConfigUtil
addLink
URI
Configuration
conf
getConf
REPLICATION_FACTOR
Path
filePath
HostsFileWriter
hostsFileWriter
initialize
String
racks
MiniDFSCluster
cluster
Builder
numDataNodes
length
build
FSNamesystem
ns
getNameNode
getNamesystem
FileSystem
fs
getFileSystem
DFSTestUtil
createFile
ExtendedBlock
b
getFirstBlock
waitForReplication
BlockLocation
locs
getFileBlockLocations
getFileStatus
Long
MAX_VALUE
name
getNames
FileSystem
fs
get
miniDFS
getConfiguration
FileStatus
status
getFileStatus
Path
INodeFile
inodeFile
HdfsConstants
GRANDFATHER_INODE_ID
perm
Short
StripedFileTestUtil
getDefaultECPolicy
getId
preferredBlockSize
WARM_STORAGE_POLICY_ID
CONTIGUOUS
fail
LOG
info
iae
MAX_VALUE
LOG
info
iae
INodeFile
HdfsConstants
GRANDFATHER_INODE_ID
perm
preferredBlockSize
WARM_STORAGE_POLICY_ID
CONTIGUOUS
fail
Short
MAX_VALUE
replication
STRIPED
StringBuilder
b
append
Path
SEPARATOR
FSDirectory
DOT_RESERVED_STRING
DOT_INODES_STRING
inodeId
remainingPath
p
toString
LOG
info
ex
blockcount
getBlockCount
mc
getNamesystem
writeLock
lockOps
writeUnlock
blockcount
getBlockCount
mc
getNamesystem
writeLock
lockOps
writeUnlock
Thread
sleep
LOG
info
ex
threads
start
Time
now
assertCorruptFilesCount
cluster
badFiles
size
String
bpid
getNamesystem
getBlockPoolId
File
storageDir
getInstanceStorageDir
data_dir
MiniDFSCluster
getFinalizedDir
assertTrue
exists
List
metaFiles
getAllBlockFiles
isEmpty
metaFile
get
RandomAccessFile
file
FileChannel
channel
getChannel
position
corruptionLength
buffer
Random
nextBytes
write
ByteBuffer
wrap
close
RandomAccessFile
file
metaFile
FileChannel
channel
getChannel
position
size
corruptionLength
buffer
Random
nextBytes
write
ByteBuffer
wrap
close
LOG
info
getName
util
checkFiles
fs
System
out
println
assertTrue
e
badFiles
namenode
getNamesystem
listCorruptFileBlocks
assertEquals
badFiles
size
assertCorruptFilesCount
cluster
File
storageDir
getInstanceStorageDir
data_dir
MiniDFSCluster
getFinalizedDir
getNamesystem
getBlockPoolId
assertTrue
exists
List
metaFiles
getAllBlockFiles
isEmpty
metaFile
get
RandomAccessFile
file
FileChannel
channel
getChannel
position
corruptionLength
buffer
Random
nextBytes
write
ByteBuffer
wrap
close
RandomAccessFile
file
metaFile
FileChannel
channel
getChannel
position
size
corruptionLength
buffer
Random
nextBytes
write
ByteBuffer
wrap
close
LOG
info
getName
util
checkFiles
fs
System
out
println
assertTrue
e
badFiles
cluster
getNameNode
getNamesystem
listCorruptFileBlocks
badFiles
cluster
getNameNode
getNamesystem
listCorruptFileBlocks
LOG
info
size
assertEquals
assertCorruptFilesCount
restartNameNode
fs
getFileSystem
Thread
sleep
util
checkFiles
System
out
println
LOG
info
Thread
sleep
util
checkFiles
fs
System
out
println
assertTrue
e
badFiles
cluster
getNameNode
getNamesystem
listCorruptFileBlocks
size
assertEquals
assertCorruptFilesCount
isInSafeMode
util
createFiles
fs
NameNode
namenode
cluster
getNameNode
Collection
FSNamesystem
CorruptFileBlockInfo
corruptFileBlocks
getNamesystem
listCorruptFileBlocks
numCorrupt
size
assertEquals
assertCorruptFilesCount
String
bpid
getBlockPoolId
File
storageDir
getInstanceStorageDir
i
j
data_dir
MiniDFSCluster
getFinalizedDir
List
metadataFiles
getAllBlockMetadataFiles
blockFile
Block
metaToBlockFile
metadataFile
Collection
FSNamesystem
CorruptFileBlockInfo
corruptFileBlocks
namenode
getNamesystem
listCorruptFileBlocks
numCorrupt
size
assertEquals
assertCorruptFilesCount
cluster
String
bpid
getBlockPoolId
File
storageDir
getInstanceStorageDir
i
j
data_dir
MiniDFSCluster
getFinalizedDir
List
metadataFiles
getAllBlockMetadataFiles
blockFile
Block
metaToBlockFile
metadataFile
LOG
info
getName
assertTrue
delete
DistributedFileSystem
dfs
fs
DFSTestUtil
util
Builder
setName
setNumFiles
setMaxLevels
setMaxSize
build
createFiles
RemoteIterator
Path
corruptFileBlocks
listCorruptFileBlocks
numCorrupt
countPaths
assertEquals
assertCorruptFilesCount
cluster
String
bpid
getNamesystem
getBlockPoolId
File
storageDir
getInstanceStorageDir
i
data_dir
MiniDFSCluster
getFinalizedDir
List
metadataFiles
getAllBlockMetadataFiles
blockFile
Block
metaToBlockFile
metadataFile
util
createFiles
fs
RemoteIterator
Path
corruptFileBlocks
dfs
listCorruptFileBlocks
numCorrupt
countPaths
assertEquals
assertCorruptFilesCount
cluster
String
bpid
getNamesystem
getBlockPoolId
File
storageDir
getInstanceStorageDir
i
data_dir
MiniDFSCluster
getFinalizedDir
List
metadataFiles
getAllBlockMetadataFiles
blockFile
Block
metaToBlockFile
metadataFile
LOG
info
getName
assertTrue
delete
cluster
MiniDFSCluster
Builder
conf
build
FileSystem
fs
getFileSystem
maxCorruptFileBlocks
getInt
DFSConfigKeys
DFS_NAMENODE_MAX_CORRUPT_FILE_BLOCKS_RETURNED_KEY
DFSTestUtil
util
setName
setNumFiles
setMaxLevels
setMaxSize
createFiles
waitReplication
NameNode
namenode
getNameNode
Collection
FSNamesystem
CorruptFileBlockInfo
badFiles
getNamesystem
listCorruptFileBlocks
assertEquals
size
assertCorruptFilesCount
String
bpid
getBlockPoolId
File
storageDir
getInstanceStorageDir
i
j
data_dir
getFinalizedDir
File
data_dir
MiniDFSCluster
getFinalizedDir
storageDir
bpid
LOG
info
List
metadataFiles
getAllBlockMetadataFiles
blockFile
Block
metaToBlockFile
metadataFile
assertTrue
delete
DataNode
dn
cluster
getDataNodes
get
DataNodeTestUtils
runDirectoryScanner
restartDataNodes
waitActive
badFiles
namenode
getNamesystem
listCorruptFileBlocks
File
blockFile
Block
metaToBlockFile
metadataFile
assertTrue
delete
DataNode
dn
cluster
getDataNodes
get
DataNodeTestUtils
runDirectoryScanner
LOG
info
restartDataNodes
waitActive
badFiles
namenode
getNamesystem
listCorruptFileBlocks
size
Thread
sleep
fs
setWorkingDirectory
baseDir
DFSTestUtil
util
Builder
setName
setNumFiles
setMaxLevels
setMaxSize
build
createFiles
RemoteIterator
Path
corruptFileBlocks
dfs
listCorruptFileBlocks
numCorrupt
countPaths
assertEquals
assertCorruptFilesCount
cluster
String
bpid
getNamesystem
getBlockPoolId
File
storageDir
getInstanceStorageDir
i
data_dir
MiniDFSCluster
getFinalizedDir
List
metadataFiles
getAllBlockMetadataFiles
blockFile
Block
metaToBlockFile
metadataFile
util
createFiles
fs
RemoteIterator
Path
corruptFileBlocks
dfs
listCorruptFileBlocks
numCorrupt
countPaths
assertEquals
assertCorruptFilesCount
cluster
String
bpid
getNamesystem
getBlockPoolId
File
storageDir
getInstanceStorageDir
i
data_dir
MiniDFSCluster
getFinalizedDir
List
metadataFiles
getAllBlockMetadataFiles
blockFile
Block
metaToBlockFile
metadataFile
LOG
info
getName
assertTrue
delete
ThreadLocalRandom
current
nextBytes
data
DFSTestUtil
createOpenFiles
fileSystem
BATCH_SIZE
DFSAdmin
dfsAdmin
haConf
AtomicBoolean
failoverCompleted
listOpenFilesError
listingIntervalMsec
assertEquals
ToolRunner
run
String
Thread
sleep
set
MiniDFSCluster
cluster
HostsFileWriter
hostsFileWriter
initialize
conf
Builder
numDataNodes
build
waitActive
FSNamesystem
fsn
getNameNode
namesystem
MBeanServer
mbs
ManagementFactory
getPlatformMBeanServer
ObjectName
mxbeanName
List
String
hosts
ArrayList
add
dn
getDisplayName
initIncludeHosts
toArray
size
getBlockManager
getDatanodeManager
refreshNodes
liveNodesInfo
getAttribute
assertTrue
liveNode
containsKey
Map
String
Long
maintenanceNodes
HashMap
put
cluster
getDataNodes
get
getDisplayName
Time
now
expirationInMs
hostsFileWriter
initOutOfServiceHosts
fsn
getBlockManager
getDatanodeManager
refreshNodes
conf
recheck
enteringMaintenanceNodesInfo
mbs
getAttribute
mxbeanName
Object
enteringMaintenanceNodes
JSON
parse
LOG
info
Uninterruptibles
sleepUninterruptibly
TimeUnit
SECONDS
FSEditLog
spyLog
spy
cluster
getNameNode
getFSImage
getEditLog
doNothing
when
endCurrentLogSegment
DFSTestUtil
setEditLogForTesting
getNamesystem
fileSys
getFileSystem
FSNamesystem
namesystem
FSImage
fsimage
mkdirs
Path
TEST_PATH
TEST_PATH2
sd
getStorage
dirIterator
NameNodeDirType
EDITS
next
shutdown
File
editFile
FSImageTestUtil
findLatestEditsLog
getFile
assertTrue
exists
cluster
shutdown
File
editFile
FSImageTestUtil
findLatestEditsLog
sd
getFile
assertTrue
exists
LOG
info
corruptor
corrupt
debug
MiniDFSCluster
Builder
conf
numDataNodes
enableManagedDfsDirsRedundancy
format
build
waitActive
fail
LOG
error
corruptor
getName
e
fail
getMessage
cluster
shutdown
debug
MiniDFSCluster
Builder
conf
numDataNodes
enableManagedDfsDirsRedundancy
format
startupOption
recoverStartOpt
build
StringUtils
stringifyException
List
DatanodeDescriptor
live
ArrayList
dead
dm
fetchDatanodes
assertTrue
size
used
remaining
configCapacity
nonDFSUsed
bpUsed
percentUsed
percentRemaining
percentBpUsed
datanode
getDfsUsed
getRemaining
getNonDfsUsed
getCapacity
getDfsUsedPercent
getRemainingPercent
getBlockPoolUsed
getBlockPoolUsedPercent
assertTrue
percentUsed
DFSUtilClient
getPercentUsed
used
configCapacity
percentRemaining
getPercentRemaining
remaining
percentBpUsed
bpUsed
FsDatasetTestUtils
utils
cluster
getFsDatasetTestUtils
numOfDataDirs
getDefaultNumOfDataDirs
diskCapacity
getRawCapacity
reserved
namesystem
getCapacityTotal
getCapacityUsed
nonDFSUsed
getNonDfsUsedSpace
getCapacityRemaining
getBlockPoolUsedSpace
getPercentBlockPoolUsed
assertTrue
percentRemaining
DFSUtilClient
getPercentRemaining
remaining
configCapacity
percentBpUsed
getPercentUsed
bpUsed
FsDatasetTestUtils
utils
cluster
getFsDatasetTestUtils
numOfDataDirs
getDefaultNumOfDataDirs
diskCapacity
getRawCapacity
reserved
namesystem
getCapacityTotal
used
getCapacityUsed
nonDFSUsed
getNonDfsUsedSpace
getCapacityRemaining
percentUsed
getBlockPoolUsedSpace
getPercentBlockPoolUsed
LOG
info
getDataDirectory
Configuration
conf
HdfsConfiguration
MiniDFSCluster
cluster
setupTestCase
testMatrixEntry
getProtectedPaths
getUnprotectedPaths
Configuration
conf
HdfsConfiguration
setInt
DFSConfigKeys
FS_TRASH_INTERVAL_KEY
MiniDFSCluster
cluster
setupTestCase
testMatrixEntry
getProtectedPaths
getUnprotectedPaths
Configuration
conf
HdfsConfiguration
MiniDFSCluster
cluster
setupTestCase
testMatrixEntry
getProtectedPaths
getUnprotectedPaths
Configuration
conf
HdfsConfiguration
setBoolean
DFS_PROTECTED_SUBDIRECTORIES_ENABLE
MiniDFSCluster
cluster
setupTestCase
testMatrixEntry
getProtectedPaths
getUnprotectedPaths
Configuration
conf
HdfsConfiguration
setBoolean
DFS_PROTECTED_SUBDIRECTORIES_ENABLE
setInt
DFSConfigKeys
FS_TRASH_INTERVAL_KEY
MiniDFSCluster
cluster
setupTestCase
testMatrixEntry
getProtectedPaths
getUnprotectedPaths
Configuration
conf
HdfsConfiguration
setBoolean
DFS_PROTECTED_SUBDIRECTORIES_ENABLE
MiniDFSCluster
cluster
setupTestCase
testMatrixEntry
getProtectedPaths
getUnprotectedPaths
dfs
setStoragePolicy
bar
HdfsConstants
ONESSD_STORAGE_POLICY_NAME
setQuotaByStorageType
foo
StorageType
SSD
BLOCKSIZE
INode
fnode
fsdir
getINode4Write
toString
assertTrue
isDirectory
isQuotaSet
file1Len
bufLen
DFSTestUtil
createFile
createdFile1foo
REPLICATION
seed
ssdConsumed
asDirectory
getDirectoryWithQuotaFeature
getSpaceConsumed
getTypeSpaces
get
assertEquals
rename
createdFile1bar
fail
bufLen
BLOCKSIZE
DFSTestUtil
createFile
dfs
createdFile1
file1Len
REPLICATION
seed
currentSSDConsumed
fnode
asDirectory
getDirectoryWithQuotaFeature
getSpaceConsumed
getTypeSpaces
get
StorageType
SSD
assertEquals
Path
createdFile2
foo
file2Len
createdFile3
file3Len
fail
Path
createdFile1
child
file1Len
BLOCKSIZE
bufLen
DFSTestUtil
createFile
dfs
replication
seed
INode
fnode
fsdir
getINode4Write
parent
toString
assertTrue
isDirectory
isQuotaSet
currentSSDConsumed
asDirectory
getDirectoryWithQuotaFeature
getSpaceConsumed
getTypeSpaces
get
StorageType
SSD
assertEquals
createdFile2
file2Len
fail
Path
parent
dir
child
dfs
mkdirs
setStoragePolicy
HdfsConstants
ONESSD_STORAGE_POLICY_NAME
setQuotaByStorageType
StorageType
SSD
BLOCKSIZE
createdFile1
file1Len
bufLen
DFSTestUtil
createFile
REPLICATION
seed
fail
dfs
mkdirs
testDir
setStoragePolicy
HdfsConstants
ONESSD_STORAGE_POLICY_NAME
ssdQuota
BLOCKSIZE
ssdQuotaInBlocks
storageSpaceQuota
storageSpaceQuotaInBlocks
setQuota
Long
MAX_VALUE
setQuotaByStorageType
StorageType
SSD
INode
testDirNode
fsdir
getINode4Write
toString
assertTrue
isDirectory
isQuotaSet
Path
createdFile
fileLen
testFileLenInBlocks
DFSTestUtil
createFile
replication
seed
fail
storageTypeSpaceQuota
BLOCKSIZE
dfs
setQuota
testDir
HdfsConstants
QUOTA_DONT_SET
storageSpaceQuota
Path
createdFile
fileLen
DFSTestUtil
createFile
REPLICATION
seed
assertTrue
exists
isFile
setQuotaByStorageType
StorageType
DISK
setStoragePolicy
WARM_STORAGE_POLICY_NAME
fail
assertNotEquals
fei0
getEzKeyVersionName
zs
assertEquals
fei1
getFilesReencrypted
dfsAdmin
reencryptEncryptionZone
zone
ReencryptAction
START
waitForReencryptedZones
assertKeyVersionEquals
encFile1
subdir
fail
LOG
info
expected
assertExceptionContains
Path
dfsAdmin
reencryptEncryptionZone
subdir
ReencryptAction
START
fail
LOG
info
expected
assertExceptionContains
Path
zone
assertTrue
unwrapRemoteException
FileNotFoundException
encFile1
dfsAdmin
reencryptEncryptionZone
Path
zone
ReencryptAction
START
fail
LOG
info
expected
assertTrue
unwrapRemoteException
FileNotFoundException
encFile1
assertExceptionContains
getEzManager
pauseReencryptForTesting
waitForQueuedZones
DFSTestUtil
createFile
fs
Path
zone
Integer
toString
i
len
subdir
fsWrapper
mkdir
FsPermission
getDirDefault
zoneSnap
createSnapshot
rename
delete
encFile1
FileEncryptionInfo
fei0
getFileEncryptionInfo
rollKey
TEST_KEY
dfsAdmin
reencryptEncryptionZone
ReencryptAction
START
fail
assertExceptionContains
expected
rollKey
TEST_KEY
getEzManager
pauseForTestingAfterNthSubmission
resumeReencryptForTesting
dfsAdmin
reencryptEncryptionZone
zone
ReencryptAction
START
waitForReencryptedFiles
toString
CANCEL
waitForZoneCompletes
assertEquals
getZoneStatus
getFilesReencrypted
assertNull
getLastCheckpointFile
getReencryptionStatus
getNextUnprocessedZone
subdir
dfsAdmin
reencryptEncryptionZone
zone
ReencryptAction
START
waitForReencryptedFiles
toString
CANCEL
getEzManager
resumeReencryptForTesting
waitForZoneCompletes
assertEquals
getZoneStatus
getFilesReencrypted
assertNull
getLastCheckpointFile
getReencryptionStatus
getNextUnprocessedZone
subdir
fail
LOG
info
expected
assertExceptionContains
assertNull
getReencryptionStatus
getNextUnprocessedZone
dfsAdmin
reencryptEncryptionZone
subdir
ReencryptAction
CANCEL
fail
LOG
info
expected
assertExceptionContains
Path
zone
assertTrue
unwrapRemoteException
FileNotFoundException
encFile
shouldFail
doAnEdit
fsn
setSafeMode
SafeModeAction
SAFEMODE_ENTER
saveNamespace
fail
e
originalImage
close
fsn
LOG
info
FSNamesystem
loadFromDisk
conf
checkEditExists
fs
setPermission
rootPath
permissionAll
NNStorage
storage
originalImage
getStorage
close
spyStorage
spy
FSImage
spyImage
Whitebox
setInternalState
fsn
setStorageDirectories
FSNamesystem
getNamespaceDirs
conf
getNamespaceEditsDirs
doThrow
IOException
when
saveFSImage
any
doAnEdit
setSafeMode
SafeModeAction
SAFEMODE_ENTER
saveNamespace
fail
LOG
info
MiniDFSCluster
cluster
SecondaryNameNode
sn
Builder
config
manageDataDfsDirs
manageNameDfsDirs
build
waitActive
assertNotNull
FileSystem
fileSys
getFileSystem
Path
p
i
DFSTestUtil
createFile
fileSize
blockSize
seed
ArrayList
StorageDirectory
al
Iterator
it
fi
getStorage
dirIterator
sd
next
cluster
MiniDFSCluster
Builder
config
numDataNodes
manageNameDfsDirs
build
waitActive
FSImage
fsi
getNameNode
getFSImage
restore
getStorage
getRestoreFailedStorage
INodeFile
inodeFile
HdfsConstants
GRANDFATHER_INODE_ID
perm
Short
StripedFileTestUtil
getDefaultECPolicy
getId
WARM_STORAGE_POLICY_ID
STRIPED
fail
LOG
info
iae
Byte
MAX_VALUE
LOG
info
iae
INodeFile
HdfsConstants
GRANDFATHER_INODE_ID
perm
WARM_STORAGE_POLICY_ID
STRIPED
fail
Byte
MAX_VALUE
ecPolicyID
StripedFileTestUtil
getDefaultECPolicy
getId
CONTIGUOUS
nn0
getRpcServer
rollEditLog
NameNodeAdapter
enterSafeMode
saveNamespace
leaveSafeMode
expectedCheckpointTxId
getNamesystem
getFSImage
getMostRecentCheckpointTxId
assertEquals
cluster
getFileSystem
create
Path
close
URI
editsUri
getSharedEditsDir
maxNNCount
seen_txid_shared
FSImageTestUtil
getStorageTxId
forceBootstrap
i
assertTrue
u
getScheme
equals
File
dir
getPath
MiniDFSCluster
cluster
Builder
conf
nnTopology
MiniDFSNNTopology
simpleHATopology
numDataNodes
build
File
prevTmp
uri
Storage
STORAGE_TMP_PREVIOUS
AppendTestUtil
write
out
hflush
cluster
triggerBlockReports
numQueued
numDN
IOUtils
closeStream
triggerHeartbeats
assertEquals
getNameNode
getNamesystem
getPendingDataNodeMessageCount
fs
append
TEST_FILE_PATH
identifier
readFields
DataInputStream
ByteArrayInputStream
tokenId
LOG
info
assertTrue
dtSecretManager
retrievePassword
renewToken
token
cluster
transitionToStandby
getNameNodeRpc
renewDelegationToken
fail
GenericTestUtils
assertExceptionContains
HAServiceState
STANDBY
toString
e
transitionToActive
GenericTestUtils
assertExceptionContains
HAServiceState
STANDBY
toString
e
cluster
transitionToActive
LOG
error
Thread
sleep
nn1
getNamesystem
verifyToken
token
decodeIdentifier
getPassword
fail
assertTrue
StandbyException
RetriableException
Configuration
conf
MiniDFSCluster
cluster
Builder
nnTopology
MiniDFSNNTopology
simpleHATopology
numDataNodes
build
URI
sharedUri
getSharedEditsDir
File
sharedDir
getPath
FSNamesystem
fsn
getNamesystem
FSImageTestUtil
createAbortedLogWithMkdirs
NUM_DIRS_IN_LOG
getFSDirectory
getLastInodeId
assertEditFiles
Collections
singletonList
NNStorage
getInProgressEditsFileName
FileOutputStream
outs
editLogFile
write
File
editDirRoot
u
getPath
editDir
GenericTestUtils
assertExists
conf
Configuration
setInt
DFSConfigKeys
DFS_NAMENODE_CHECKPOINT_CHECK_PERIOD_KEY
DFS_NAMENODE_CHECKPOINT_TXNS_KEY
DFS_NAMENODE_NUM_CHECKPOINTS_RETAINED_KEY
DFS_HA_TAILEDITS_PERIOD_KEY
setBoolean
DFS_NAMENODE_EDITS_ASYNC_LOGGING
useAsyncEditLogging
HAUtil
setAllowStandbyReads
basePort
retryCount
RANDOM
nextInt
basePort
retryCount
RANDOM
nextInt
LOG
info
MiniDFSNNTopology
topology
MiniQJMHACluster
createDefaultTopology
cluster
MiniDFSCluster
Builder
conf
nnTopology
numDataNodes
checkExitOnShutdown
build
shutdown
Map
Path
Boolean
results
Collections
synchronizedMap
HashMap
test
cluster
getConfiguration
setInt
DFSConfigKeys
DFS_NAMENODE_SAFEMODE_MIN_DATANODES_KEY
NameNodeAdapter
enterSafeMode
nn0
Whitebox
setInternalState
getNamesystem
BlockManagerTestUtil
setStartupSafeModeForTest
getBlockManager
assertTrue
isInStartupSafeMode
LOG
info
mkdir
fs
mkdirs
cluster
getConfiguration
setInt
DFSConfigKeys
DFS_NAMENODE_SAFEMODE_MIN_DATANODES_KEY
NameNodeAdapter
enterSafeMode
nn0
Whitebox
setInternalState
getNamesystem
BlockManagerTestUtil
setStartupSafeModeForTest
getBlockManager
assertTrue
isInStartupSafeMode
LOG
info
mkdir
fs
mkdirs
test
results
put
TestHASafeMode
notifyAll
nn0
nsIndex
nn1
cluster
transitionToActive
nn0
nsIndex
nn1
cluster
transitionToActive
LOG
info
FileSystem
fs
HATestUtil
configureFailoverFs
conf
mkdirs
TEST_DIR
nn0
nsIndex
nn1
cluster
transitionToActive
LOG
info
FileSystem
fs
HATestUtil
configureFailoverFs
conf
mkdirs
TEST_DIR
transitionToStandby
assertTrue
exists
DFSTestUtil
writeFile
TEST_FILE_PATH
TEST_FILE_DATA
FileSystem
fs
HATestUtil
configureFailoverFs
cluster
conf
mkdirs
TEST_DIR
LOG
info
nsIndex
transitionToStandby
nn0
transitionToActive
nn1
assertTrue
exists
DFSTestUtil
writeFile
TEST_FILE_PATH
TEST_FILE_DATA
assertEquals
readFile
delete
assertFalse
setObserverRead
dfs
create
testPath
close
assertSentTo
String
result
TestFsck
runFsck
conf
setObserverRead
DFSTestUtil
createFile
dfs
testPath
waitForReplication
ExtendedBlock
block
getFirstBlock
dnToCorrupt
firstDnWithBlock
dfsCluster
FSNamesystem
ns
getNameNode
getNamesystem
corruptReplica
restartDataNode
waitCorruptReplicas
String
result
TestFsck
runFsck
conf
MiniDFSCluster
cluster
newMiniCluster
conf
waitActive
transitionToActive
Thread
sleep
LOG
info
FileSystem
fs
HATestUtil
configureFailoverFs
stm
create
TEST_PATH
AppendTestUtil
write
BLOCK_AND_A_HALF
hflush
nextActive
failover
scenario
assertTrue
exists
stopDataNode
conf
setInt
DFSConfigKeys
DFS_BLOCK_SIZE_KEY
BLOCK_SIZE
FSDataOutputStream
stm
MiniDFSCluster
cluster
newMiniCluster
waitActive
transitionToActive
Thread
sleep
LOG
info
FileSystem
fs
HATestUtil
configureFailoverFs
create
TEST_PATH
AppendTestUtil
write
hflush
NameNode
nn0
getNameNode
ExtendedBlock
blk
DFSTestUtil
getFirstBlock
DatanodeDescriptor
expectedPrimary
getExpectedPrimaryNode
LOG
info
String
scmds
scmd_str
StringUtils
join
scmd
ShellCommandExecutor
sce
execute
Map
String
Object
results
ConcurrentHashMap
op
prepare
DummyRetryInvocationHandler
block
set
invoke
result
getResult
op
invoke
Object
result
getResult
LOG
info
name
results
put
e
IOUtils
cleanup
client
assertTrue
checkNamenodeBeforeReturn
cluster
transitionToStandby
transitionToActive
DummyRetryInvocationHandler
block
set
GenericTestUtils
waitFor
containsKey
conf
setInt
DFSConfigKeys
DFS_NAMENODE_NUM_CHECKPOINTS_RETAINED_KEY
DFS_NAMENODE_NUM_EXTRA_EDITS_RETAINED_KEY
retryCount
basePort
random
nextInt
MiniDFSNNTopology
topology
addNameservice
NSConf
addNN
NNConf
setHttpPort
cluster
MiniDFSCluster
Builder
nnTopology
numDataNodes
build
waitActive
setNNs
fs
HATestUtil
configureFailoverFs
transitionToActive
File
editDirRoot
u
getPath
editDir
GenericTestUtils
assertExists
Path
snapRootDir
String
hbaseFileName
snap1Name
hbaseFile
createFile
FSDataOutputStream
hbaseOutputStream
fs
append
newWriteLength
BLOCKSIZE
buf
Random
random
nextBytes
writeToStream
snap1Dir
SnapshotTestHelper
createSnapshot
flumeOutputStream
write
bytes
hbaseOutputStream
startLatch
countDown
deleteLatch
hsync
fs
delete
hbaseFile
close
hbaseOutputStream
hsync
fs
delete
hbaseFile
close
LOG
info
flumeOutputStream
getPos
getFileStatus
flumeFile
getLen
i
warn
e
writerError
set
t
start
startLatch
await
fs
delete
hbaseFile
hbaseOutputStream
close
LOG
info
flumeOutputStream
getPos
getFileStatus
flumeFile
getLen
i
warn
e
writerError
set
t
start
startLatch
await
Path
snap1Dir
SnapshotTestHelper
createSnapshot
snapRootDir
snap1Name
flumeS1Path
flumeFileName
hbaseOutputStream
close
LOG
info
flumeOutputStream
getPos
fs
getFileStatus
flumeFile
getLen
i
warn
e
writerError
set
t
start
startLatch
await
Path
snap1Dir
SnapshotTestHelper
createSnapshot
snapRootDir
snap1Name
flumeS1Path
flumeFileName
hbaseOutputStream
close
LOG
info
flumeOutputStream
getPos
fs
getFileStatus
flumeFile
getLen
i
warn
e
writerError
set
t
start
startLatch
await
Path
snap1Dir
SnapshotTestHelper
createSnapshot
snapRootDir
snap1Name
flumeS1Path
flumeFileName
seed
System
currentTimeMillis
seed
System
currentTimeMillis
LOG
info
generator
Random
fileLen
nextInt
MAX_NUM_FILE_LENGTH
createFiles
TESTDIRSTRING
SnapshottableDirectoryStatus
snapshottableDirectoryStatus
hdfs
getSnapshottableDirListing
snapshottableDirectories
add
ssds
getFullPath
allowSnapshot
getHomeDirectory
numberOfIterations
MAX_NUM_ITERATIONS
numberFileSystemOperations
MAX_NUM_FILESYSTEM_OPERATIONS
MIN_NUM_OPERATIONS
LOG
info
seed
generator
Random
fileLen
nextInt
MAX_NUM_FILE_LENGTH
createFiles
TESTDIRSTRING
SnapshottableDirectoryStatus
snapshottableDirectoryStatus
hdfs
getSnapshottableDirListing
snapshottableDirectories
add
ssds
getFullPath
allowSnapshot
getHomeDirectory
numberOfIterations
MAX_NUM_ITERATIONS
numberFileSystemOperations
MAX_NUM_FILESYSTEM_OPERATIONS
MIN_NUM_OPERATIONS
numberSnapshotOperations
MAX_NUM_SNAPSHOT_OPERATIONS
Operations
fsOperation
getRandomOperation
OperationType
FileSystem
Operations
snapshotOperation
getRandomOperation
OperationType
Snapshot
index
generator
nextInt
snapshottableDirectories
size
Path
randomDir
get
String
snapshotName
Integer
toString
hdfs
createSnapshot
index
generator
nextInt
pathToSnapshotsMap
size
Object
snapshotPaths
keySet
toArray
Path
snapshotPath
ArrayList
String
snapshotNameList
get
snapshotNameToBeDeleted
hdfs
deleteSnapshot
index
generator
nextInt
pathToSnapshotsMap
size
Object
snapshotPaths
keySet
toArray
Path
snapshotPath
ArrayList
String
snapshotNameList
get
snapshotOldName
snapshotOldNameNoExt
substring
lastIndexOf
snapshotNewName
hdfs
renameSnapshot
index
generator
nextInt
snapshottableDirectories
size
Path
randomDir
get
FileStatus
fileStatusList
hdfs
listStatus
oldFile
fsEntry
getPath
newFile
suffix
getNewPathString
toString
TESTDIRSTRING
WITNESSDIRSTRING
rename
Options
Rename
OVERWRITE
assertTrue
exists
assertFalse
rootDir
String
filename
dirs
generator
nextInt
MAX_NUM_SUB_DIRECTORIES_LEVEL
j
i
createFile
fileLength
assertTrue
hdfs
exists
Path
LOG
info
witnessFile
replaceAll
TESTDIRSTRING
WITNESSDIRSTRING
String
str
originalString
replaceAll
targetString
replacementString
String
str
originalString
replaceAll
targetString
replacementString
LOG
info
hdfs
mkdirs
sub1
allowSnapshot
DFSTestUtil
createFile
file1
BLOCKSIZE
REPL
SEED
createSnapshot
snap1
rename
file2
snap2
file3
SnapshotDiffReport
diffReport
getSnapshotDiffReport
hdfs
mkdirs
sub1
allowSnapshot
DFSTestUtil
createFile
file1
BLOCKSIZE
REPL
SEED
createSnapshot
snap1
rename
file2
snap2
file3
SnapshotDiffReport
diffReport
getSnapshotDiffReport
LOG
info
toString
List
DiffReportEntry
entries
getDiffList
assertTrue
size
existsInDiffReport
DiffType
MODIFY
RENAME
getName
hdfs
rename
file2
file3
SnapshotDiffReport
diffReport
getSnapshotDiffReport
sub1
snap1
snap2
LOG
info
toString
List
DiffReportEntry
entries
getDiffList
assertTrue
size
existsInDiffReport
DiffType
MODIFY
RENAME
file1
getName
hdfs
mkdirs
st
allowSnapshot
Path
files
i
dest
createNewFile
createSnapshot
FileSystem
fs
cluster
getFileSystem
DFSTestUtil
createFile
j
RandomUtils
nextLong
concat
SnapshotDiffReport
sdr
getSnapshotDiffReport
Path
subsub1
sub1
subsubsub1
hdfs
mkdirs
modifyAndCreateSnapshot
String
invalidName
getSnapshotDiffReport
fail
GenericTestUtils
assertExceptionContains
e
SnapshotDiffReport
report
LOG
info
toString
assertEquals
getDiffList
size
fail
GenericTestUtils
assertExceptionContains
sub1
invalidName
e
SnapshotDiffReport
report
hdfs
getSnapshotDiffReport
LOG
info
toString
assertEquals
getDiffList
size
subsubsub1
GenericTestUtils
assertExceptionContains
sub1
invalidName
e
SnapshotDiffReport
report
hdfs
getSnapshotDiffReport
LOG
info
toString
assertEquals
getDiffList
size
subsubsub1
fail
Path
snapshotRootDirPath
dir
snapshotDirDescendantPath
snapshotDirNonDescendantPath
hdfs
mkdirs
allowSnapshot
createSnapshot
INodeDirectory
snapshotRootDir
cluster
getNameNode
getNamesystem
getFSDirectory
getINode
toUri
getPath
asDirectory
snapshotRootDescendantDir
snapshotRootNonDescendantDir
SnapshotDiffInfo
sdi
Snapshot
hdfs
mkdirs
snapshotDirDescendantPath
snapshotDirNonDescendantPath
allowSnapshot
snapshotRootDirPath
createSnapshot
INodeDirectory
snapshotRootDir
cluster
getNameNode
getNamesystem
getFSDirectory
getINode
toUri
getPath
asDirectory
snapshotRootDescendantDir
snapshotRootNonDescendantDir
SnapshotDiffInfo
sdi
Snapshot
LOG
info
getFrom
getTo
fail
iae
Path
ssPath
getSSpath
path
ssRoot
ssName
SnapshotDiffReport
inverseReport
hdfs
getSnapshotDiffReport
dirPath
to
from
SnapshotDiffReport
inverseReport
hdfs
getSnapshotDiffReport
dirPath
to
from
LOG
info
report
toString
actualStorageCount
LocatedBlocks
locatedBlocks
cluster
getFileSystem
getClient
getLocatedBlocks
fileName
fileLen
actualStorageCount
LocatedBlocks
locatedBlocks
cluster
getFileSystem
getClient
getLocatedBlocks
fileName
fileLen
LOG
info
lb
getLocations
length
expectedStorageType
storageType
expectedStorageCount
Configuration
conf
WebHdfsTestUtil
createConf
String
racks
RACK0
RACK1
RACK2
nDataNodes
length
Configuration
conf
WebHdfsTestUtil
createConf
String
racks
RACK0
RACK1
RACK2
nDataNodes
length
LOG
info
Arrays
asList
MiniDFSCluster
cluster
Builder
numDataNodes
build
waitActive
DistributedFileSystem
dfs
getFileSystem
NameNode
namenode
getNameNode
DatanodeManager
dm
getNamesystem
getBlockManager
getDatanodeManager
Configuration
conf
WebHdfsTestUtil
createConf
String
racks
RACK0
RACK1
RACK2
hosts
nDataNodes
length
Configuration
conf
WebHdfsTestUtil
createConf
String
racks
RACK0
RACK1
RACK2
hosts
nDataNodes
length
LOG
info
Arrays
asList
MiniDFSCluster
cluster
Builder
numDataNodes
build
waitActive
DistributedFileSystem
dfs
getFileSystem
NameNode
namenode
getNameNode
DatanodeManager
dm
getNamesystem
getBlockManager
getDatanodeManager
String
file1
InetSocketAddress
favoredNodes
favoredNodesCount
i
dns
get
getXferAddress
DFSTestUtil
createFile
dfs
Path
DEFAULT_BLOCK_SIZE
LocatedBlocks
locatedBlocks
getClient
getLocatedBlocks
Assert
assertEquals
locatedBlockCount
LocatedBlock
lb
StorageType
storageTypes
getStorageTypes
assertTrue
DISK
storageType
DatanodeInfo
locations
getLocations
length
actualCount
externalSps
getAttemptedItemsMonitor
getAttemptedItemsCount
resetStream
assertEquals
ToolRunner
run
dfsAdmin
String
verifyNodesAndCorruptBlocks
numDn
client
replFactor
fileLength
DistributedFileSystem
fs
miniCluster
getFileSystem
Path
file
baseDir
enableErasureCodingPolicy
ecPolicy
getName
DFSTestUtil
createFile
waitReplication
ExtendedBlock
block
getFirstBlock
LocatedBlocks
lbs
getClient
getNamenode
getBlockLocations
toString
assertTrue
get
LocatedBlock
locatedBlock
DatanodeInfo
locatedDataNode
getLocations
cellSize
ecPolicy
getCellSize
blockSize
stripesPerBlock
blockGroupSize
getNumDataUnits
totalBlockGroups
DFSTestUtil
createStripedFile
miniCluster
ecFile
ecDir
resetStream
assertEquals
ToolRunner
run
dfsAdmin
String
verifyNodesAndCorruptBlocks
numDn
client
List
DataNode
datanodes
getDataNodes
dataNodeToShutdown
dn
assertTrue
String
outStr
scanIntoString
out
errOutBytes
reset
outBytes
LOG
info
Joiner
on
join
args
ret
tool
run
errOutput
String
toByteArray
Charsets
UTF_8
output
errOutBytes
reset
LOG
info
Joiner
on
join
args
ret
tool
run
errOutput
String
toByteArray
Charsets
UTF_8
cluster
waitActive
DistributedFileSystem
fs
getFileSystem
LocalFileSystem
localFileSystem
FileSystem
getLocal
conf
Path
p
f
getRoot
getAbsolutePath
tokenFile
makeQualified
DelegationTokenFetcher
saveDelegationToken
Credentials
creds
readTokenStorageFile
Iterator
Token
itr
getAllTokens
iterator
assertTrue
hasNext
token
next
assertNotNull
String
expectedNonVerbose
System
getProperty
resNonVerbose
printTokensToString
startsWith
cluster
waitActive
DistributedFileSystem
fs
getFileSystem
LocalFileSystem
localFileSystem
FileSystem
getLocal
conf
Path
p
f
getRoot
getAbsolutePath
tokenFile
makeQualified
DelegationTokenFetcher
saveDelegationToken
Credentials
creds
readTokenStorageFile
Iterator
Token
itr
getAllTokens
iterator
assertTrue
hasNext
token
next
assertNotNull
String
expectedNonVerbose
System
getProperty
resNonVerbose
printTokensToString
startsWith
LOG
info
String
edits
nnHelper
generateEdits
String
edits
nnHelper
generateEdits
LOG
info
editsParsedXml
folder
newFile
getAbsolutePath
editsReparsed
editsParsedXML_caseInSensitive
assertEquals
runOev
assertTrue
hasAllOpCodes
String
outFilename
inFilename
FileOutputStream
fout
StatisticsEditsVisitor
visitor
OfflineEditsViewer
oev
go
Flags
String
outFilename
inFilename
FileOutputStream
fout
StatisticsEditsVisitor
visitor
OfflineEditsViewer
oev
go
Flags
LOG
info
getStatisticsString
hasAllOpCodes
skippedOps
contains
opCode
Long
count
getStatistics
get
String
edits
nnHelper
generateEdits
hdfs
create
emptyECFile
close
writtenFiles
put
toString
pathToFileEntry
filesECCount
Path
smallECFile
ecDir
FSDataOutputStream
out
Random
r
bytes
nextBytes
write
setSafeMode
SafeModeAction
SAFEMODE_ENTER
saveNamespace
SAFEMODE_LEAVE
originalFsimage
FSImageTestUtil
findLatestImageFile
getFSImage
cluster
getNameNode
getStorage
getStorageDir
GenericTestUtils
setLogLevel
OfflineImageReconstructor
LOG
Level
TRACE
File
reverseImageXml
tempDir
reverseImage
reverseImage2Xml
o
write
getBytes
Path
link1
link2
hdfs
createSymlink
summaryFromDFS
getContentSummary
parentDir
emptyDirSummaryFromDFS
childDir2
fileSummaryFromDFS
file1OnParentDir
symLinkSummaryFromDFS
childDir1
symLinkSummaryForDirContainsFromDFS
setSafeMode
HdfsConstants
SafeModeAction
SAFEMODE_ENTER
saveNamespace
originalFsimage
FSImageTestUtil
findLatestImageFile
getFSImage
cluster
getNameNode
getStorage
getStorageDir
hdfs
mkdirs
dir
setStoragePolicy
HdfsConstants
ALLSSD_STORAGE_POLICY_NAME
Path
file
o
write
close
HOT_STORAGE_POLICY_NAME
setSafeMode
SafeModeAction
SAFEMODE_ENTER
saveNamespace
originalFsimage
FSImageTestUtil
findLatestImageFile
getFSImage
cluster
getNameNode
getStorage
getStorageDir
remaining
length
offset
checked
remaining
length
offset
checked
HttpURLConnection
conn
url
openConnection
setRequestMethod
TYPE
setInstanceFollowRedirects
String
response
IOUtils
toString
getInputStream
Configuration
conf
WebHdfsTestUtil
createConf
cluster
MiniDFSCluster
Builder
numDataNodes
build
LOG
info
InetSocketAddress
addr
getNameNode
getHttpAddress
URL
url
getHostString
getPort
WebHdfsFileSystem
PATH_PREFIX
Param
toSortedString
NoRedirectParam
Configuration
conf
WebHdfsTestUtil
createConf
cluster
MiniDFSCluster
Builder
numDataNodes
build
LOG
info
InetSocketAddress
addr
getNameNode
getHttpAddress
URL
url
getHostString
getPort
WebHdfsFileSystem
PATH_PREFIX
Param
toSortedString
NoRedirectParam
checkResponseContainsLocation
fs
getWebHdfsFileSystem
WebHdfsConstants
WEBHDFS_SCHEME
String
PATH
CONTENTS
RANDOM
nextBytes
os
write
LOG
info
InetSocketAddress
addr
cluster
getNameNode
getHttpAddress
URL
url
getHostString
getPort
WebHdfsFileSystem
PATH_PREFIX
Param
toSortedString
NoRedirectParam
checkResponseContainsLocation
fs
WebHdfsTestUtil
getWebHdfsFileSystem
conf
WebHdfsConstants
WEBHDFS_SCHEME
String
PATH
CONTENTS
RANDOM
nextBytes
os
write
LOG
info
url
checkResponseContainsLocation
WebHdfsFileSystem
fs
WebHdfsTestUtil
getWebHdfsFileSystem
conf
WebHdfsConstants
WEBHDFS_SCHEME
String
PATH
CONTENTS
RANDOM
nextBytes
os
write
URL
addr
getHostString
getPort
PATH_PREFIX
Param
toSortedString
NoRedirectParam
clientSocket
serverSocket
accept
fs
connectionFactory
consumeConnectionBacklog
in
getInputStream
isr
InputStreamReader
br
BufferedReader
String
line
readLine
out
getOutputStream
write
temporaryRedirect
getBytes
String
strings
webhdfs
length
i
createString
prefix
PermissionParam
p
DEFAULT
Assert
assertEquals
FsPermission
getDirFsPermission
getFileFsPermission
fail
LOG
info
e
PermissionParam
Assert
fail
LOG
info
e
LOG
info
e
PermissionParam
Assert
fail
AclPermissionParam
p
List
AclEntry
setAclList
parseAclSpec
Assert
assertEquals
toString
getAclPermission
fail
LOG
info
e
AclPermissionParam
Assert
fail
LOG
info
e
LOG
info
e
AclPermissionParam
Assert
fail
FsActionParam
Assert
fail
LOG
info
e
FsActionParam
Assert
fail
LOG
info
e
LOG
info
e
FsActionParam
Assert
fail
Assert
fail
LOG
info
e
FsActionParam
FsActionParam
Assert
fail
LOG
info
e
String
hosts
cluster
MiniDFSCluster
Builder
conf
numDataNodes
racks
build
waitActive
NamenodeProtocols
nn
getNameNodeRpc
Assert
assertNotNull
DatanodeInfo
info
getDatanodeReport
DatanodeReportType
LIVE
assertFalse
length
Thread
sleep
validIdx
getHostName
equals
invalidIdx
StaticMapping
addNodeToRack
LOG
info
excludedNodes
Node
n
dataNodes
i
FileStatus
s
fs
getFileStatus
Path
path
out
write
close
checkPermission
fs
inheritPerm
filePerm
conf
set
FsPermission
UMASK_LABEL
permission
createImmutable
FileSystem
mkdirs
Path
create
checkPermission
fs
filePerm
conf
set
FsPermission
UMASK_LABEL
permission
createImmutable
FileSystem
mkdirs
Path
create
close
LOG
error
StringUtils
stringifyException
e
cluster
shutdown
DFSAdmin
admin
config
String
args
Groups
groups
getUserToGroupsMappingService
user
UserGroupInformation
getCurrentUser
getUserName
LOG
debug
List
g1
getGroups
DFSAdmin
admin
config
String
args
Groups
groups
getUserToGroupsMappingService
user
UserGroupInformation
getCurrentUser
getUserName
LOG
debug
List
g1
getGroups
toString
g2
DFSAdmin
admin
config
String
args
Groups
groups
getUserToGroupsMappingService
user
UserGroupInformation
getCurrentUser
getUserName
LOG
debug
List
g1
getGroups
toString
g2
assertEquals
get
i
run
g3
dfs
MiniDFSCluster
Builder
conf
nameNodePort
nameNodeHttpPort
numDataNodes
startupOption
dfsOpts
format
build
waitActive
Options
options
makeOptions
CommandLine
cli
CommandLineParser
parser
GnuParser
parse
args
LOG
warn
e
HelpFormatter
printHelp
taskRunner
HadoopExecutors
newSingleThreadExecutor
ThreadFactoryBuilder
setDaemon
setNameFormat
build
eventHandler
Thread
EventHandler
FileSystem
localFs
getLocal
conf
Path
mapOut
subMapOutputFile
getOutputFile
FileStatus
mStatus
getFileStatus
reduceIn
getInputFileForWrite
TypeConverter
fromYarn
mapId
getTaskID
getLen
mapOutIndex
getOutputIndexFile
reduceInIndex
toString
diagnosticInfo
StringInterner
weakIntern
org
apache
hadoop
mapreduce
v2
api
records
TaskAttemptId
yarnAttemptID
TypeConverter
toYarn
taskAttemptID
AMFeedback
feedback
setTaskFound
AtomicReference
TaskAttemptStatus
lastStatusRef
attemptIdToStatus
get
org
apache
hadoop
mapreduce
v2
api
records
TaskAttemptId
yarnAttemptID
TypeConverter
toYarn
taskAttemptID
AMFeedback
feedback
setTaskFound
AtomicReference
TaskAttemptStatus
lastStatusRef
attemptIdToStatus
get
LOG
error
setPreemption
info
getTaskId
getTaskType
JVMId
jvmId
context
JVMId
jvmId
context
LOG
info
JvmTask
jvmTask
WrappedJvmID
wJvmID
getJobId
isMap
getId
JVMId
jvmId
context
LOG
info
JvmTask
jvmTask
WrappedJvmID
wJvmID
getJobId
isMap
getId
TASK_FOR_INVALID_JVM
org
apache
hadoop
mapred
Task
task
jvmIDToActiveAttemptMap
remove
launchedJVMs
List
TaskAttemptId
fetchFailedMaps
taskAttemptStatus
TaskAttemptStatus
lastStatus
done
lastStatusRef
get
ArrayList
size
addAll
compareAndSet
Thread
setDefaultUncaughtExceptionHandler
YarnUncaughtExceptionHandler
LOG
debug
JobConf
job
MRJobConfig
JOB_CONF_FILE
Limits
init
UserGroupInformation
setConfiguration
SecurityUtil
String
host
args
port
Integer
parseInt
InetSocketAddress
address
NetUtils
createSocketAddrForHost
TaskAttemptID
firstTaskid
forName
jvmIdLong
Long
parseLong
JVMId
jvmId
getJobID
getTaskType
TaskType
MAP
CallerContext
setCurrent
Builder
toString
build
DefaultMetricsSystem
initialize
StringUtils
camelize
name
Credentials
credentials
getCurrentUser
getCredentials
taskOwner
addToken
jt
TaskUmbilicalProtocol
RPC
getProxy
versionID
address
job
JvmContext
context
jvmId
LOG
debug
System
getenv
get
Task
task
UserGroupInformation
childUGI
ScheduledExecutorService
logSyncer
idleLoopCount
JvmTask
myTask
sleepTimeMilliSecs
Math
min
idle
LOG
error
e
umbilical
fsError
taskid
getMessage
warn
StringUtils
stringifyException
exception
task
taskCleanup
Task
taskFinal
String
localSysDirs
StringUtils
getTrimmedStrings
System
getenv
Environment
LOCAL_DIRS
name
job
setStrings
MRConfig
LOCAL_DIR
job
setCredentials
credentials
ApplicationAttemptId
appAttemptId
ContainerId
fromString
System
getenv
Environment
CONTAINER_ID
name
getApplicationAttemptId
FSDataInputStream
in
Path
historyFile
String
jobId
TypeConverter
fromYarn
applicationAttemptId
getApplicationId
toString
jobhistoryDir
JobHistoryUtils
getConfiguredHistoryStagingDirPrefix
conf
histDirPath
FileContext
getFileContext
makeQualified
fc
toUri
getStagingJobHistoryFile
getAttemptId
String
stagingDirStr
doneDirStr
userDoneDirStr
JobHistoryUtils
getConfiguredHistoryStagingDirPrefix
conf
jobId
getConfiguredHistoryIntermediateDoneDirPrefix
getHistoryIntermediateDoneDirForUser
LOG
error
e
YarnRuntimeException
stagingDirPath
FileContext
getFileContext
makeQualified
Path
stagingDirFS
FileSystem
get
toUri
mkdir
FsPermission
HISTORY_STAGING_DIR_PERMISSIONS
LOG
error
e
YarnRuntimeException
stagingDirPath
FileContext
getFileContext
conf
makeQualified
Path
stagingDirStr
stagingDirFS
FileSystem
get
toUri
mkdir
FsPermission
JobHistoryUtils
HISTORY_STAGING_DIR_PERMISSIONS
doneDirPath
doneDirStr
doneDirFS
mkdir
stagingDirFS
stagingDirPath
FsPermission
JobHistoryUtils
HISTORY_STAGING_DIR_PERMISSIONS
LOG
error
e
YarnRuntimeException
Path
doneDirPath
FileContext
getFileContext
conf
makeQualified
doneDirStr
doneDirFS
FileSystem
get
toUri
info
MRJobConfig
MR_AM_CREATE_JH_INTERMEDIATE_BASE_DIR
HISTORY_INTERMEDIATE_DONE_DIR_PERMISSIONS
toShort
String
message
Path
doneDirPath
FileContext
getFileContext
conf
makeQualified
doneDirStr
doneDirFS
FileSystem
get
toUri
LOG
info
MRJobConfig
MR_AM_CREATE_JH_INTERMEDIATE_BASE_DIR
mkdir
FsPermission
JobHistoryUtils
HISTORY_INTERMEDIATE_DONE_DIR_PERMISSIONS
toShort
String
message
error
YarnRuntimeException
e
LOG
error
doneDirPath
YarnRuntimeException
e
doneDirPrefixPath
FileContext
getFileContext
conf
makeQualified
Path
userDoneDirStr
mkdir
doneDirFS
JobHistoryUtils
getConfiguredHistoryIntermediateUserDoneDirPermissions
maxUnflushedCompletionEvents
getInt
MRJobConfig
MR_AM_HISTORY_MAX_UNFLUSHED_COMPLETE_EVENTS
DEFAULT_MR_AM_HISTORY_MAX_UNFLUSHED_COMPLETE_EVENTS
postJobCompletionMultiplier
MR_AM_HISTORY_JOB_COMPLETE_UNFLUSHED_MULTIPLIER
DEFAULT_MR_AM_HISTORY_JOB_COMPLETE_UNFLUSHED_MULTIPLIER
flushTimeout
getLong
MR_AM_HISTORY_COMPLETE_EVENT_FLUSH_TIMEOUT_MS
DEFAULT_MR_AM_HISTORY_COMPLETE_EVENT_FLUSH_TIMEOUT_MS
minQueueSizeForBatchingFlushes
MR_AM_HISTORY_USE_BATCHED_FLUSH_QUEUE_SIZE_THRESHOLD
DEFAULT_MR_AM_HISTORY_USE_BATCHED_FLUSH_QUEUE_SIZE_THRESHOLD
info
fs
mkdirs
path
fsp
FileStatus
fsStatus
getFileStatus
LOG
info
getPermission
toShort
LOG
debug
eventHandlingThread
interrupt
join
info
ie
eventHandlingThread
interrupt
LOG
debug
join
info
ie
mi
shutDownTimer
LOG
info
e
getMessage
Iterator
JobHistoryEvent
it
eventQueue
iterator
ev
next
getType
handleEvent
JobId
toClose
jobIt
getKey
MetaInfo
mi
getValue
warn
Job
job
context
getJob
successfulMaps
getCompletedMaps
getFailedMaps
getKilledMaps
LOG
error
IOException
MetaInfo
oldFi
fileMap
get
jobId
Configuration
conf
getConfig
Path
historyFile
JobHistoryUtils
getStagingJobHistoryFile
stagingDirPath
startCount
String
user
UserGroupInformation
getCurrentUser
getShortUserName
jobName
context
getJob
getName
EventWriter
writer
logDirConfPath
getStagingConfFile
createEventWriter
IOException
MetaInfo
oldFi
fileMap
get
jobId
Configuration
conf
getConfig
Path
historyFile
JobHistoryUtils
getStagingJobHistoryFile
stagingDirPath
startCount
String
user
UserGroupInformation
getCurrentUser
getShortUserName
jobName
context
getJob
getName
EventWriter
writer
logDirConfPath
getStagingConfFile
createEventWriter
LOG
info
AMStartedEvent
amStartedEvent
event
getHistoryEvent
setupEventWriter
getJobID
LOG
error
ioe
YarnRuntimeException
MetaInfo
mi
fileMap
get
HistoryEvent
historyEvent
writeEvent
processEventForJobSummary
getJobSummary
debug
getEventType
tEvent
addEventInfo
ase
getStartTime
getSubmitTime
tEntity
addEvent
setEntityId
jobId
toString
setEntityType
MAPREDUCE_JOB_ENTITY_TYPE
TimelinePutResponse
response
timelineClient
putEntities
List
TimelinePutError
errors
getErrors
LOG
debug
event
getEventType
tEntity
addEvent
tEvent
setEntityId
jobId
toString
setEntityType
MAPREDUCE_JOB_ENTITY_TYPE
TimelinePutResponse
response
timelineClient
putEntities
List
TimelinePutError
errors
getErrors
LOG
debug
event
getEventType
error
getEntityType
getEntityId
getErrorCode
size
entry
getKey
length
getValue
configSize
timelineV2Client
putEntities
jobEntityForConfigs
appEntityForConfigs
createJobEntity
jobId
ApplicationEntity
setId
appId
addConfig
org
apache
hadoop
yarn
api
records
timelineservice
TimelineEntity
appEntityWithJobMetrics
tEntity
createJobEntity
event
timestamp
jobId
MAPREDUCE_JOB_ENTITY_TYPE
setCreatedTime
createAppEntityWithJobMetrics
createTaskEntity
taskId
MAPREDUCE_TASK_ENTITY_TYPE
taskIdPrefix
createTaskAttemptEntity
taskAttemptId
MAPREDUCE_TASK_ATTEMPT_ENTITY_TYPE
taskAttemptIdPrefix
timelineV2Client
putEntitiesAsync
putEntities
IOException
jobId
LOG
warn
Path
qualifiedSummaryDoneFile
FSDataOutputStream
summaryFileOut
String
doneSummaryFileName
getTempFileName
JobHistoryUtils
getIntermediateSummaryFileName
doneDirFS
makeQualified
doneDirPrefixPath
create
writeUTF
mi
getJobSummary
getJobSummaryString
close
setPermission
FsPermission
HISTORY_INTERMEDIATE_FILE_PERMISSIONS
Path
historyFile
mi
getHistoryFile
qualifiedLogFile
stagingDirFS
makeQualified
jobNameLimit
getConfig
getInt
JHAdminConfig
MR_HS_JOBNAME_LIMIT
DEFAULT_MR_HS_JOBNAME_LIMIT
String
doneJobHistoryFileName
getTempFileName
FileNameIndexUtils
getDoneFileName
getJobIndexInfo
qualifiedDoneFile
doneDirFS
doneDirPrefixPath
historyUrl
MRWebAppUtil
getApplicationWebURLOnJHSWithScheme
context
getApplicationID
setHistoryUrl
LOG
info
qualifiedConfDoneFile
confFile
getConfFile
qualifiedConfFile
doneConfFileName
JobHistoryUtils
getIntermediateConfFileName
jobId
String
tmpFileName
tmpPath
getName
fileName
getFileNameFromTmpFN
Path
path
getParent
doneDirFS
rename
success
success
LOG
info
fromPath
toString
toPath
doneDirFS
delete
copied
FileUtil
copy
stagingDirFS
getConfig
setPermission
FsPermission
JobHistoryUtils
HISTORY_INTERMEDIATE_FILE_PERMISSIONS
forceJobCompletion
copyHistory
committer
createOutputCommitter
conf
String
user
UserGroupInformation
getCurrentUser
getShortUserName
Path
stagingDir
MRApps
getStagingAreaDir
FileSystem
fs
getFileSystem
stagingExists
exists
startCommitFile
getStartJobCommitFile
jobId
commitStarted
endCommitSuccessFile
getEndJobCommitSuccessFile
commitSuccess
endCommitFailureFile
getEndJobCommitFailureFile
commitFailure
isLastAMRetry
Path
startCommitFile
MRApps
getStartJobCommitFile
conf
user
jobId
commitStarted
fs
exists
endCommitSuccessFile
getEndJobCommitSuccessFile
commitSuccess
endCommitFailureFile
getEndJobCommitFailureFile
commitFailure
isLastAMRetry
LOG
info
appAttemptID
getAttemptId
errorHappenedShutDown
forcedState
JobStateInternal
ERROR
shutDownMessage
stagingDir
error
OutputCommitter
committer
Class
Speculator
speculatorClass
conf
getClass
MRJobConfig
MR_AM_JOB_SPECULATOR
DefaultSpeculator
Constructor
speculatorConstructor
getConstructor
Configuration
AppContext
result
newInstance
context
LOG
error
ex
YarnRuntimeException
speculatorClass
conf
getClass
MRJobConfig
MR_AM_JOB_SPECULATOR
DefaultSpeculator
Speculator
Constructor
speculatorConstructor
getConstructor
Configuration
AppContext
result
newInstance
context
LOG
error
ex
YarnRuntimeException
cleanUpPreviousJobOutput
AMInfo
amInfo
MRBuilderUtils
newAMInfo
appAttemptID
startTime
containerID
nmHost
nmPort
nmHttpPort
job
createJob
getConfig
forcedState
shutDownMessage
dispatcher
getEventHandler
handle
JobHistoryEvent
getID
AMStartedEvent
info
getAppAttemptId
getStartTime
getContainerId
getNodeManagerHost
getNodeManagerPort
getNodeManagerHttpPort
appSubmitTime
toString
amInfos
add
DefaultMetricsSystem
initialize
initFailed
JobEvent
initJobEvent
JobEventType
JOB_INIT
jobEventDispatcher
JobImpl
getInternalState
JobStateInternal
INITED
speculatorEventDispatcher
disableSpeculation
dispatcher
getEventHandler
handle
JobHistoryEvent
job
getID
AMStartedEvent
info
getAppAttemptId
getStartTime
getContainerId
getNodeManagerHost
getNodeManagerPort
getNodeManagerHttpPort
appSubmitTime
amInfo
forcedState
toString
amInfos
add
DefaultMetricsSystem
initialize
initFailed
JobEvent
initJobEvent
JobEventType
JOB_INIT
jobEventDispatcher
JobImpl
getInternalState
JobStateInternal
INITED
speculatorEventDispatcher
disableSpeculation
LOG
nmHost
nmPort
SpeculatorEvent
clock
getTime
Path
historyFile
JobHistoryUtils
getPreviousJobHistoryPath
conf
appAttemptId
FSDataInputStream
in
getPreviousJobHistoryStream
getConfig
appAttemptID
JobHistoryParser
parser
JobInfo
jobInfo
parse
Exception
parseException
getParseException
FSDataInputStream
in
getPreviousJobHistoryStream
getConfig
appAttemptID
JobHistoryParser
parser
JobInfo
jobInfo
parse
Exception
parseException
getParseException
LOG
info
Map
org
apache
hadoop
mapreduce
TaskID
TaskInfo
taskInfos
getAllTasks
Iterator
Entry
TaskAttemptID
TaskAttemptInfo
taskAttemptIterator
taskInfo
getAllTaskAttempts
entrySet
iterator
currentEntry
next
remove
completedTasksFromPreviousRun
put
TypeConverter
toYarn
getTaskId
String
msg
param
validateInputParam
nodePortString
Environment
NM_PORT
name
nodeHttpPortString
NM_HTTP_PORT
appSubmitTimeStr
ApplicationConstants
APP_SUBMIT_TIME_ENV
ContainerId
containerId
fromString
containerIdStr
ApplicationAttemptId
applicationAttemptId
getApplicationAttemptId
CallerContext
setCurrent
Builder
toString
build
appSubmitTime
Long
parseLong
MRAppMaster
appMaster
nodeHostString
Integer
parseInt
ShutdownHookManager
get
addShutdownHook
MRAppMasterShutdownHook
SHUTDOWN_HOOK_PRIORITY
JobConf
conf
YarnConfiguration
addResource
Path
MRJobConfig
JOB_CONF_FILE
MRWebAppUtil
initialize
String
systemPropsToLog
MRApps
getSystemPropertiesToLog
CallerContext
setCurrent
Builder
applicationAttemptId
toString
build
appSubmitTime
Long
parseLong
appSubmitTimeStr
MRAppMaster
appMaster
containerId
nodeHostString
Integer
parseInt
nodePortString
nodeHttpPortString
ShutdownHookManager
get
addShutdownHook
MRAppMasterShutdownHook
SHUTDOWN_HOOK_PRIORITY
JobConf
conf
YarnConfiguration
addResource
Path
MRJobConfig
JOB_CONF_FILE
MRWebAppUtil
initialize
String
systemPropsToLog
MRApps
getSystemPropertiesToLog
LOG
info
jobUserName
System
getenv
ApplicationConstants
Environment
USER
name
set
USER_NAME
initAndStartAppMaster
UserGroupInformation
setConfiguration
conf
SecurityUtil
Credentials
credentials
getCurrentUser
getCredentials
serviceInit
conf
taskTimeOut
getLong
MRJobConfig
TASK_TIMEOUT
DEFAULT_TASK_TIMEOUT_MILLIS
unregisterTimeOut
TASK_EXIT_TIMEOUT
TASK_EXIT_TIMEOUT_DEFAULT
taskStuckTimeOut
TASK_STUCK_TIMEOUT_MS
DEFAULT_TASK_STUCK_TIMEOUT_MS
taskProgressReportIntervalMillis
MRJobConfUtil
getTaskProgressReportInterval
minimumTaskTimeoutAllowed
Configuration
conf
getConfig
YarnRPC
rpc
create
InetSocketAddress
address
server
getServer
MRClientProtocol
protocolHandler
appContext
getClientToAMTokenSecretManager
getInt
MRJobConfig
MR_AM_JOB_CLIENT_THREAD_COUNT
DEFAULT_MR_AM_JOB_CLIENT_THREAD_COUNT
MR_AM_JOB_CLIENT_PORT_RANGE
refreshServiceAcls
MRAMPolicyProvider
start
bindAddress
NetUtils
createSocketAddrForHost
getNMHostname
getListenerAddress
getPort
LOG
info
HttpConfig
Policy
httpPolicy
getBoolean
MR_AM_WEBAPP_HTTPS_ENABLED
DEFAULT_MR_AM_WEBAPP_HTTPS_ENABLED
HTTPS_ONLY
HTTP_ONLY
needsClientAuth
MR_AM_WEBAPP_HTTPS_CLIENT_AUTH
DEFAULT_MR_AM_WEBAPP_HTTPS_CLIENT_AUTH
webApp
WebApps
$for
AppContext
withHttpPolicy
withPortRange
MR_AM_WEBAPP_PORT_RANGE
AMWebApp
Thread
thread
r
setContextClassLoader
jobClassLoader
tfBuilder
setThreadFactory
backingTf
ThreadFactory
tf
build
launcherPool
HadoopThreadPoolExecutor
TimeUnit
HOURS
LinkedBlockingQueue
Runnable
CommitterEvent
event
eventQueue
take
smallInput
dataInputLength
sysMaxBytes
requiredMapMB
conf
getLong
MRJobConfig
MAP_MEMORY_MB
requiredReduceMB
REDUCE_MEMORY_MB
requiredMB
Math
max
requiredMapCores
getInt
MAP_CPU_VCORES
DEFAULT_MAP_CPU_VCORES
requiredReduceCores
REDUCE_CPU_VCORES
DEFAULT_REDUCE_CPU_VCORES
requiredCores
smallMemory
sysMemSizeForUberSlot
JobConf
DISABLED_MEMORY_LIMIT
smallCpu
sysCPUSizeForUberSlot
notChainJob
isChainJob
isUber
uberEnabled
smallNumMapTasks
smallNumReduceTasks
conf
setFloat
MRJobConfig
COMPLETED_MAPS_FOR_REDUCE_SLOWSTART
setInt
MAP_MAX_ATTEMPTS
REDUCE_MAX_ATTEMPTS
setBoolean
MAP_SPECULATIVE
REDUCE_SPECULATIVE
StringBuilder
msg
append
jobId
uberEnabled
smallNumMapTasks
smallNumReduceTasks
smallInput
smallCpu
smallMemory
List
TaskAttemptId
taskAttemptIdList
nodesToSucceededTaskAttempts
get
nodeId
String
mesg
LOG
info
credentials
numberOfTokens
numberOfSecretKeys
Credentials
taskCredentials
TokenCache
setJobToken
jobToken
DataOutputBuffer
containerTokens_dob
LOG
debug
event
getTaskAttemptID
getType
writeLock
lock
TaskAttemptStateInternal
oldState
getInternalState
stateMachine
doTransition
error
attemptId
e
eventHandler
handle
JobDiagnosticsUpdateEvent
getTaskId
getJobId
JobEvent
JobEventType
INTERNAL_ERROR
String
nodeId
container
getNodeId
toString
LOG
debug
event
getTaskAttemptID
getType
writeLock
lock
TaskAttemptStateInternal
oldState
getInternalState
stateMachine
doTransition
error
attemptId
e
eventHandler
handle
JobDiagnosticsUpdateEvent
getTaskId
getJobId
JobEvent
JobEventType
INTERNAL_ERROR
String
nodeId
container
getNodeId
toString
info
reportedStatus
id
attemptId
progress
counters
taInfo
getCounters
stateString
getState
phase
Phase
CLEANUP
mapFinishTime
getMapFinishTime
shuffleFinishTime
getShuffleFinishTime
sortFinishTime
getSortFinishTime
addDiagnosticInfo
getError
needToClean
String
recoveredState
getTaskStatus
TaskAttemptContext
tac
TaskAttemptContextImpl
conf
TypeConverter
fromYarn
committer
recoverTask
reportedStatus
counters
taInfo
getCounters
stateString
getState
phase
Phase
CLEANUP
mapFinishTime
getMapFinishTime
shuffleFinishTime
getShuffleFinishTime
sortFinishTime
getSortFinishTime
addDiagnosticInfo
getError
needToClean
String
recoveredState
getTaskStatus
TaskAttemptContext
tac
TaskAttemptContextImpl
conf
TypeConverter
fromYarn
attemptId
committer
recoverTask
LOG
info
reportedStatus
stateString
taInfo
getState
phase
Phase
CLEANUP
mapFinishTime
getMapFinishTime
shuffleFinishTime
getShuffleFinishTime
sortFinishTime
getSortFinishTime
addDiagnosticInfo
getError
needToClean
String
recoveredState
getTaskStatus
TaskAttemptContext
tac
TaskAttemptContextImpl
conf
TypeConverter
fromYarn
attemptId
committer
recoverTask
LOG
info
error
e
needToClean
TaskAttemptStateInternal
attemptState
SUCCEEDED
reportedStatus
taskState
TaskAttemptState
eventHandler
handle
createJobCounterUpdateEventTASucceeded
logAttemptFinishedEvent
FAILED
createJobCounterUpdateEventTAFailed
TaskAttemptUnsuccessfulCompletionEvent
tauce
createTaskAttemptUnsuccessfulCompletionEvent
JobHistoryEvent
attemptId
getTaskId
getJobId
JobCounterUpdateEvent
jce
attemptId
getTaskId
getJobId
addCounterUpdate
getTaskType
TaskType
MAP
JobCounter
TOTAL_LAUNCHED_MAPS
TOTAL_LAUNCHED_REDUCES
eventHandler
handle
readLock
lock
canCommit
taskAttemptID
equals
commitAttempt
TaskAttemptImpl
attempt
createAttempt
setAvataar
avataar
Set
String
allNodes
HashSet
event
eventQueue
take
LOG
error
e
add
getContainerMgrAddress
poolSize
launcherPool
getCorePoolSize
numNodes
size
idealPoolSize
Math
min
limitOnPoolSize
newPoolSize
initialPoolSize
AllocateRequest
allocateRequest
newInstance
lastResponseID
getApplicationProgress
ArrayList
ResourceRequest
ContainerId
AllocateResponse
allocateResponse
scheduler
allocate
retrystartTime
System
currentTimeMillis
LOG
info
eventHandler
handle
JobEvent
getJob
getID
JobEventType
JOB_AM_REBOOT
YarnRuntimeException
getContext
getApplicationID
e
register
serviceAddr
clientService
getBindAddress
RegisterApplicationMasterRequest
request
recordFactory
newRecordInstance
setHost
getHostName
setRpcPort
getPort
setTrackingUrl
MRWebAppUtil
getAMWebappScheme
getConfig
getHttpPort
RegisterApplicationMasterResponse
response
scheduler
registerApplicationMaster
isApplicationMasterRegistered
maxContainerCapability
getMaximumResourceCapability
context
getClusterInfo
setMaxContainerCapability
setClientToAMToken
getClientToAMTokenMasterKey
applicationACLs
getApplicationACLs
RegisterApplicationMasterRequest
request
recordFactory
newRecordInstance
setHost
serviceAddr
getHostName
setRpcPort
getPort
setTrackingUrl
MRWebAppUtil
getAMWebappScheme
getConfig
clientService
getHttpPort
RegisterApplicationMasterResponse
response
scheduler
registerApplicationMaster
isApplicationMasterRegistered
maxContainerCapability
getMaximumResourceCapability
context
getClusterInfo
setMaxContainerCapability
setClientToAMToken
getClientToAMTokenMasterKey
applicationACLs
getApplicationACLs
LOG
info
String
queue
getQueue
shouldUnregister
isSignalled
qSize
eventQueue
size
handleReduceContainerRequest
reqEvent
LOG
info
event
toString
TaskAttemptId
aId
getAttemptID
removed
scheduledRequests
remove
ContainerId
containerId
assignedRequests
get
containersReleased
pendingRelease
add
release
assert
reqEvent
getAttemptID
getTaskId
getTaskType
equals
TaskType
REDUCE
Resource
supportedMaxContainerCapability
getMaxContainerCapability
JobId
jobId
getJob
getID
reduceResourceRequest
getCapability
eventHandler
handle
JobHistoryEvent
NormalizedResourceEvent
org
apache
hadoop
mapreduce
getMemorySize
reduceResourceRequest
reqEvent
getCapability
eventHandler
handle
JobHistoryEvent
jobId
NormalizedResourceEvent
org
apache
hadoop
mapreduce
TaskType
REDUCE
getMemorySize
LOG
info
reduceContainerRequestAccepted
setVirtualCores
getVirtualCores
setMemorySize
pendingReduces
addFirst
ContainerRequest
PRIORITY_REDUCE
reduceNodeLabelExpression
add
String
diagMsg
supportedMaxContainerCapability
assert
reqEvent
getAttemptID
getTaskId
getTaskType
equals
TaskType
MAP
Resource
supportedMaxContainerCapability
getMaxContainerCapability
JobId
jobId
getJob
getID
mapResourceRequest
getCapability
eventHandler
handle
JobHistoryEvent
NormalizedResourceEvent
org
apache
hadoop
mapreduce
getMemorySize
Resource
supportedMaxContainerCapability
getMaxContainerCapability
JobId
jobId
getJob
getID
mapResourceRequest
reqEvent
getCapability
eventHandler
handle
JobHistoryEvent
NormalizedResourceEvent
org
apache
hadoop
mapreduce
TaskType
MAP
getMemorySize
LOG
info
mapContainerRequestAccepted
setMemorySize
setVirtualCores
getVirtualCores
scheduledRequests
addMap
String
diagMsg
clearAllPendingReduceRequests
preemptionReduceNumForOneMap
ResourceCalculatorUtils
divideAndCeilContainers
mapResourceRequest
reduceResourceRequest
getSchedulerResourceTypes
preemptionReduceNumForPreemptionLimit
Resources
multiply
getResourceLimit
maxReducePreemptionLimit
preemptionReduceNumForAllMaps
hangingMapRequests
toPreempt
Math
min
max
completedMapPercent
completedMaps
totalMaps
Resource
netScheduledMapResource
Resources
multiply
mapResourceReqt
scheduledMaps
assignedMaps
netScheduledReduceResource
reduceResourceReqt
scheduledReduces
assignedReduces
finalMapResourceLimit
finalReduceResourceLimit
totalResourceLimit
getResourceLimit
idealReduceResourceLimit
Math
min
maxReduceRampupLimit
ideaMapResourceLimit
subtract
unusedMapResourceLimit
add
AllocateResponse
response
makeRemoteRequest
retrystartTime
System
currentTimeMillis
eventHandler
handle
JobEvent
getJob
getID
JobEventType
JOB_AM_REBOOT
RMContainerAllocationException
getContext
getApplicationAttemptId
e
LOG
info
lastResponseID
register
addOutstandingRequestOnResync
String
diagMsg
StringUtils
stringifyException
LOG
error
retryInterval
eventHandler
handle
JobEvent
getJob
getID
JobEventType
JOB_AM_REBOOT
RMContainerAllocationException
e
Resource
newHeadRoom
getAvailableResources
List
Container
newContainers
response
getAllocatedContainers
NMTokenCache
setNMToken
nmToken
getNodeId
toString
getToken
updateAMRMToken
getAMRMToken
ContainerStatus
finishedContainers
getCompletedContainersStatuses
PreemptionMessage
preemptReq
getPreemptionMessage
LOG
info
container
getContainerId
TaskAttemptId
attemptID
assignedRequests
get
List
NodeReport
updatedNodes
response
getUpdatedNodes
eventHandler
handle
JobUpdatedNodesEvent
getJob
getID
HashSet
NodeId
unusableNodes
NodeState
nodeState
nr
getNodeState
add
getNodeId
HashMap
TaskAttemptId
Container
taskSet
i
assignedRequests
maps
reduces
tid
entry
getKey
taskAttemptNodeId
getValue
serviceInit
conf
nodeBlacklistingEnabled
getBoolean
MRJobConfig
MR_AM_JOB_NODE_BLACKLISTING_ENABLE
serviceInit
conf
nodeBlacklistingEnabled
getBoolean
MRJobConfig
MR_AM_JOB_NODE_BLACKLISTING_ENABLE
LOG
info
maxTaskFailuresPerNode
getInt
MAX_TASK_FAILURES_PER_TRACKER
blacklistDisablePercent
MR_AM_IGNORE_BLACKLISTING_BLACKLISTED_NODE_PERECENT
DEFAULT_MR_AM_IGNORE_BLACKLISTING_BLACKLISTED_NODE_PERCENT
applyRequestLimits
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
String
blacklistAdditions
blacklistRemovals
AllocateRequest
allocateRequest
lastResponseID
getApplicationProgress
ResourceRequest
ask
ContainerId
release
AllocateResponse
allocateResponse
scheduler
allocate
getResponseId
availableResources
getAvailableResources
lastClusterNmCount
clusterNmCount
getNumClusterNodes
numCompletedContainers
getCompletedContainersStatuses
size
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
String
blacklistAdditions
blacklistRemovals
AllocateRequest
allocateRequest
lastResponseID
getApplicationProgress
ResourceRequest
ask
ContainerId
release
AllocateResponse
allocateResponse
scheduler
allocate
getResponseId
availableResources
getAvailableResources
lastClusterNmCount
clusterNmCount
getNumClusterNodes
numCompletedContainers
getCompletedContainersStatuses
size
LOG
info
applicationId
getAllocatedContainers
clear
requestLimitsToUpdate
addAll
requestLimits
keySet
blacklistedNodeCount
blacklistedNodes
size
LOG
info
val
clusterNmCount
blacklistAdditions
clear
blacklistRemovals
addAll
Map
String
Resource
ResourceRequest
remoteRequests
remoteRequestsTable
get
priority
HashMap
put
Map
Resource
ResourceRequest
reqMap
remoteRequests
get
resourceName
HashMap
put
remoteRequest
capability
recordFactory
newRecordInstance
setPriority
priority
setResourceName
setCapability
setNumContainers
setNodeLabelExpression
nodeLabelExpression
setExecutionTypeRequest
ExecutionTypeRequest
newInstance
executionType
getNumContainers
Map
String
Resource
ResourceRequest
remoteRequests
remoteRequestsTable
get
priority
reqMap
resourceName
LOG
debug
resourceName
ResourceRequest
remoteRequest
reqMap
get
capability
applicationId
getId
priority
getPriority
getNumContainers
ask
size
setNumContainers
remove
remoteRequests
remoteRequestsTable
addResourceRequestToAsk
StrictPreemptionContract
cStrict
preemptionRequests
getStrictContract
LOG
info
getContainers
size
ContainerId
reqCont
c
getId
TaskAttemptId
reqTask
ctxt
getTaskAttempt
toBePreempted
add
LOG
info
reqCont
reqTask
PreemptionContract
cNegot
preemptionRequests
getContract
getResourceRequest
size
getContainers
List
PreemptionResourceRequest
reqResources
pendingPreemptionRam
pendingPreemptionCores
r
getMemorySize
getVirtualCores
ResourceRequest
reqRsrc
rr
totalMemoryToRelease
pendingPreemptionRam
totalCoresToRelease
pendingPreemptionCores
List
Container
listOfCont
ctxt
getContainers
TaskType
REDUCE
o2
getId
compareTo
o1
TaskAttemptId
reduceId
getTaskAttempt
cont
cMem
getResource
getMemorySize
ContainerId
reqCont
c
getId
TaskAttemptId
reqTask
ctxt
getTaskAttempt
Class
TaskRuntimeEstimator
estimatorClass
conf
getClass
MRJobConfig
MR_AM_TASK_ESTIMATOR
LegacyTaskRuntimeEstimator
Constructor
estimatorConstructor
getConstructor
estimator
newInstance
contextualize
context
LOG
error
ex
YarnRuntimeException
backgroundRunStartTime
clock
getTime
speculations
computeSpeculations
mininumRecomp
soonestRetryAfterSpeculate
soonestRetryAfterNoSpeculate
wait
Math
max
requireJob
renderText
e
getMessage
String
taskType
$
TASK_TYPE
RuntimeException
attemptState
ATTEMPT_STATE
setTitle
join
MRApps
toString
JOB_ID
render
attemptsPage
Path
confPath
job
getConfFile
ConfInfo
info
html
div
a
jid
toString
__
TBODY
TABLE
Hamlet
tbody
table
thead
tr
th
_TH
StringBuffer
buffer
String
sources
entry
getSource
first
append
i
td
getName
getValue
JobConf
conf
AppContext
context
mock
CountDownLatch
isDone
summary
setJobName
String
out
getJobSummaryString
JobReport
jobReport
job
getReport
JobReport
jobReport
job
getReport
LOG
info
getStartTime
JobReport
jobReport
job
getReport
LOG
info
getStartTime
getFinishTime
Assert
assertTrue
System
currentTimeMillis
TaskReport
taskReport
task
JobReport
jobReport
job
getReport
LOG
info
getStartTime
getFinishTime
Assert
assertTrue
System
currentTimeMillis
TaskReport
taskReport
task
getID
String
userName
JobConf
conf
set
MRJobConfig
MR_AM_STAGING_DIR
stagingDir
setInt
org
apache
hadoop
mapreduce
lib
output
FileOutputCommitter
FILEOUTPUTCOMMITTER_ALGORITHM_VERSION
ApplicationAttemptId
applicationAttemptId
fromString
applicationAttemptIdStr
JobId
jobId
TypeConverter
toYarn
fromYarn
getApplicationId
Path
start
MRApps
getStartJobCommitFile
FileSystem
fs
get
create
close
ContainerId
containerId
containerIdStr
MRAppMaster
appMaster
MRAppMasterTest
System
currentTimeMillis
caught
initAndStartAppMaster
JobConf
conf
set
MRJobConfig
MR_AM_STAGING_DIR
stagingDir
ApplicationAttemptId
applicationAttemptId
fromString
applicationAttemptIdStr
JobId
jobId
TypeConverter
toYarn
fromYarn
getApplicationId
Path
start
MRApps
getStartJobCommitFile
userName
end
getEndJobCommitSuccessFile
FileSystem
fs
get
create
close
ContainerId
containerId
containerIdStr
MRAppMaster
appMaster
MRAppMasterTest
System
currentTimeMillis
caught
initAndStartAppMaster
JobConf
conf
set
MRJobConfig
MR_AM_STAGING_DIR
stagingDir
ApplicationAttemptId
applicationAttemptId
fromString
applicationAttemptIdStr
JobId
jobId
TypeConverter
toYarn
fromYarn
getApplicationId
Path
start
MRApps
getStartJobCommitFile
userName
end
getEndJobCommitFailureFile
FileSystem
fs
get
create
close
ContainerId
containerId
containerIdStr
MRAppMaster
appMaster
MRAppMasterTest
System
currentTimeMillis
caught
initAndStartAppMaster
String
applicationAttemptIdStr
containerIdStr
userName
JobConf
conf
set
MRJobConfig
MR_AM_STAGING_DIR
stagingDir
ApplicationAttemptId
applicationAttemptId
fromString
File
dir
FileUtils
deleteDirectory
ContainerId
containerId
MRAppMaster
appMaster
MRAppMasterTest
System
currentTimeMillis
caught
initAndStartAppMaster
Task
mapTask2
it
next
reduceTask
app
waitForState
mapTask1
TaskState
RUNNING
getContext
getEventHandler
handle
TaskEvent
getID
TaskEventType
T_ADD_SPEC_ATTEMPT
timeOut
Thread
sleep
LOG
info
Iterator
TaskAttempt
t1it
getAttempts
values
iterator
task1Attempt1
task1Attempt2
task2Attempt
waitForContainerAssignment
ContainerId
t1a2contId
getAssignedContainerID
assertThat
containerLauncher
initialPoolSize
isEqualTo
MRJobConfig
DEFAULT_MR_AM_CONTAINERLAUNCHER_THREADPOOL_INITIAL_SIZE
Assert
assertEquals
threadPool
getPoolSize
getCorePoolSize
assertNull
foundErrors
expectedCorePoolSize
ContainerId
containerId
newContainerId
appAttemptId
i
TaskAttemptId
taskAttemptId
MRBuilderUtils
newTaskAttemptId
taskId
handle
ContainerLauncherEvent
ContainerLauncher
EventType
CONTAINER_REMOTE_LAUNCH
waitForEvents
finishEventHandling
timeOut
timeOut
server
start
MRApp
app
MRAppWithSlowNM
tokenSecretManager
Job
job
submit
conf
waitForState
JobState
RUNNING
Map
TaskId
Task
tasks
getTasks
Assert
assertEquals
size
task
values
iterator
next
TaskState
SCHEDULED
TaskAttemptId
TaskAttempt
attempts
getAttempts
maxAttempts
attempt
waitForInternalState
TaskAttemptImpl
TaskAttemptStateInternal
ASSIGNED
FAILED
String
diagnostics
getDiagnostics
toString
assertBlacklistAdditionsAndRemovals
rm
Assert
assertEquals
assigned
size
LOG
info
allocator
schedule
drainEvents
nodeManager3
nodeHeartbeat
IOException
e
String
pathString
path
toUri
toString
link
entry
getKey
target
File
getPath
symlink
workDir
localArchives
add
localFiles
IllegalArgumentException
resource
getResource
Path
resourcePath
link
workDir
toString
Path
SEPARATOR
File
flink
FileSystem
fs
outDir
getFileSystem
conf
StringBuffer
result
Path
fileList
FileUtil
stat2Paths
listStatus
Utils
OutputFileUtils
OutputFilesFilter
assert
readSegmentIndex
currentKVOffset
i
Iterator
Segment
K
V
itr
segmentList
iterator
s
next
close
remove
LOG
debug
firstSegmentOffset
inReset
Segment
K
V
s
segmentList
get
i
offset
firstSegmentOffset
getReader
reset
closeReader
reinitReader
disableChecksumValidation
currentKVOffset
nextKVOffset
readSegmentIndex
hasMore
context
enablePathForCleanup
log
info
size
log
info
size
group
getDisplayName
numThreads
job
getInt
org
apache
hadoop
mapreduce
lib
input
FileInputFormat
LIST_STATUS_NUM_THREADS
DEFAULT_LIST_STATUS_NUM_THREADS
StopWatch
sw
start
List
FileStatus
locatedFiles
singleThreadedListStatus
dirs
inputFilter
recursive
result
toArray
size
Iterable
LocatedFileStatusFetcher
locatedFileStatusFetcher
getFileStatuses
IOException
InterruptedIOException
initCause
e
Iterables
stop
BlockLocation
blkLocations
LocatedFileStatus
file
getBlockLocations
fs
getFileBlockLocations
length
blockSize
getBlockSize
splitSize
computeSplitSize
goalSize
minSize
bytesRemaining
String
splitHosts
getSplitHostsAndCachedHosts
clusterMap
splits
add
makeSplit
path
blockSize
file
getBlockSize
splitSize
computeSplitSize
goalSize
minSize
bytesRemaining
length
String
splitHosts
getSplitHostsAndCachedHosts
blkLocations
clusterMap
splits
add
makeSplit
path
LOG
debug
getPath
memory
getInt
configName
Math
ceil
heapSize
heapRatio
code
httpNotification
notification
getUri
getTimeout
IOException
LOG
error
ioex
ex
Thread
sleep
getRetryInterval
runningTasks
incrementAndGet
InputSplit
inputSplit
getSplitDetails
Path
splitIndex
getSplitLocation
getStartOffset
updateJobWithSplit
job
reporter
setInputSplit
RecordReader
INKEY
INVALUE
in
isSkipping
SkippingRecordReader
umbilical
TrackedRecordReader
setBoolean
JobContext
SKIP_RECORDS
numReduceTasks
conf
getNumReduceTasks
org
apache
hadoop
mapreduce
TaskAttemptContext
taskContext
task
TaskAttemptContextImpl
job
getTaskID
reporter
Mapper
INKEY
INVALUE
OUTKEY
OUTVALUE
mapper
ReflectionUtils
newInstance
getMapperClass
InputFormat
inputFormat
getInputFormatClass
InputSplit
split
getSplitDetails
Path
splitIndex
getSplitLocation
getStartOffset
JobQueueInfo
queueInfo
setQueueName
name
LOG
info
name
newState
getName
error
children
size
childrenSize
newChildrenSize
getChildren
LOG
info
newState
error
getName
children
size
childrenSize
newChildrenSize
getChildren
Iterator
Queue
itr1
iterator
itr2
q
next
root
cp
getRoot
leafQueues
clear
allQueues
getLeafQueues
putAll
getInnerQueues
Queue
q
leafQueues
get
queueName
runJobCleanupTask
umbilical
reporter
runJobSetupTask
runTaskCleanupTask
codec
initCodec
RawKeyValueIterator
rIter
ShuffleConsumerPlugin
shuffleConsumerPlugin
Class
combinerClass
conf
getCombinerClass
CombineOutputCollector
combineCollector
reduceCombineOutputCounter
clazz
job
getClass
MRConfig
SHUFFLE_CONSUMER_PLUGIN
Shuffle
startIndex
range
getStartIndex
endIndex
getEndIndex
SortedSet
Range
headSet
ranges
previousRange
last
LOG
debug
indicesCount
getLength
Iterator
tailSetIt
tailSet
iterator
nextRange
next
startIndex
range
getStartIndex
endIndex
getEndIndex
SortedSet
Range
headSet
ranges
previousRange
last
LOG
debug
indicesCount
getLength
add
Iterator
tailSetIt
tailSet
iterator
Range
recRange
start
end
ranges
add
indicesCount
getLength
len
nextRecIndex
currentRecStartIndex
SortedRanges
Range
range
taskStatus
setNextRecordRange
setState
TaskStatus
State
COMMIT_PENDING
umbilical
commitPending
taskId
taskStatus
LOG
warn
StringUtils
stringifyException
ie
System
exit
commit
reporter
committer
taskDone
set
stopCommunicationThread
updateCounters
sendLastUpdate
retries
MAX_RETRIES
Thread
sleep
reporter
setProgressFlag
LOG
warn
StringUtils
stringifyException
ie
discardOutput
taskContext
System
exit
setPhase
TaskStatus
Phase
CLEANUP
getProgress
setStatus
statusUpdate
umbilical
LOG
info
numberOfThreads
jobConf
getInt
MultithreadedMapper
NUM_THREADS
K1
key
input
createKey
V1
value
createValue
executorService
execute
MapperInvokeRunable
output
reporter
checkForExceptionsFromProcessingThreads
LOG
debug
job
getJobName
shutdown
initProviderList
IOException
initEx
MRConfig
FRAMEWORK_NAME
ClientProtocol
clientProtocol
provider
create
conf
jobTrackAddr
clientProtocolProvider
client
LOG
debug
getClass
getName
String
errMsg
out
write
ByteBuffer
allocate
putLong
getPos
array
iv
createIV
conf
CryptoCodec
cryptoCodec
getInstance
conf
bufferSize
getBufferSize
IOUtils
readFully
in
iv
getCipherSuite
getAlgorithmBlockSize
String
confParam
areFiles
MRJobConfig
CACHE_FILES_SHARED_CACHE_UPLOAD_POLICIES
CACHE_ARCHIVES_SHARED_CACHE_UPLOAD_POLICIES
Collection
policies
conf
getStringCollection
policy
Map
Boolean
policyMap
LinkedHashMap
s
split
DELIM
String
lastReport
Job
TaskStatusFilter
filter
Configuration
clientConf
getConfiguration
getTaskOutputFilter
JobID
jobId
getJobID
progMonitorPollIntervalMillis
Job
getProgressPollInterval
clientConf
reportedAfterCompletion
reportedUberMode
Thread
sleep
LOG
info
jobId
isUber
String
report
StringUtils
formatPercent
mapProgress
reduceProgress
Thread
sleep
progMonitorPollIntervalMillis
reportedUberMode
LOG
info
jobId
isUber
String
report
StringUtils
formatPercent
mapProgress
reduceProgress
lastReport
TaskCompletionEvent
events
getTaskCompletionEvents
eventCounter
length
printTaskEvents
filter
profiling
mapRanges
reduceRanges
success
isSuccessful
reportedUberMode
LOG
info
jobId
isUber
String
report
StringUtils
formatPercent
mapProgress
reduceProgress
lastReport
TaskCompletionEvent
events
getTaskCompletionEvents
eventCounter
length
printTaskEvents
filter
profiling
mapRanges
reduceRanges
success
isSuccessful
LOG
info
event
toString
TaskAttemptID
taskId
getTaskAttemptId
String
taskDiagnostics
getTaskDiagnostics
System
err
println
diagnostics
Path
jobStagingArea
JobSubmissionFiles
getStagingDir
cluster
conf
InetAddress
ip
getLocalHost
submitHostAddress
getHostAddress
submitHostName
getHostName
set
MRJobConfig
JOB_SUBMITHOST
JOB_SUBMITHOSTADDR
JobID
jobId
submitClient
getNewJobID
job
setJobID
submitJobDir
toString
JobStatus
status
USER_NAME
UserGroupInformation
getCurrentUser
getShortUserName
MAPREDUCE_JOB_DIR
TokenCache
obtainTokensForNamenodes
job
getCredentials
Path
submitJobDir
conf
populateTokenCache
KeyGenerator
keyGen
getInstance
SHUFFLE_KEYGEN_ALGORITHM
init
SHUFFLE_KEY_LENGTH
IOException
e
SecretKey
shuffleKey
generateKey
setShuffleSecretKey
getEncoded
setInt
MRJobConfig
MR_AM_MAX_ATTEMPTS
LOG
warn
copyAndConfigureFiles
KeyGenerator
keyGen
getInstance
SHUFFLE_KEYGEN_ALGORITHM
init
SHUFFLE_KEY_LENGTH
IOException
e
SecretKey
shuffleKey
generateKey
TokenCache
setShuffleSecretKey
getEncoded
job
getCredentials
conf
setInt
MRJobConfig
MR_AM_MAX_ATTEMPTS
LOG
warn
copyAndConfigureFiles
submitJobDir
Path
submitJobFile
JobSubmissionFiles
getJobConfPath
debug
jtFs
makeQualified
maps
writeSplits
String
queue
conf
get
MRJobConfig
QUEUE_NAME
JobConf
DEFAULT_QUEUE_NAME
AccessControlList
acl
submitClient
getQueueAdmins
set
toFullPropertyName
QueueACL
ADMINISTER_JOBS
getAclName
getAclString
TokenCache
cleanUpTokenReferral
ArrayList
trackingIds
add
t
decodeIdentifier
getTrackingId
setStrings
JOB_TOKEN_TRACKING_IDS
toArray
size
ReservationId
reservationId
job
getReservationId
RESERVATION_ID
toString
writeConf
submitJobFile
printTokens
jobId
getCredentials
status
submitJob
submitJobDir
LOG
info
jobId
readTokensFromFiles
conf
credentials
String
nameNodes
getStrings
MRJobConfig
JOB_NAMENODES
DBSplitter
splitter
getSplitter
sqlDataType
IOException
split
job
getConfiguration
results
getDBConf
getInputOrderBy
e
getMessage
close
LOG
debug
se
toString
statement
IOException
e
getMessage
results
close
LOG
debug
se
toString
statement
connection
commit
DBConfiguration
dbConf
getDBConf
SuppressWarnings
Class
T
inputClass
getInputClass
String
dbProductName
getDBProductName
query
append
fieldNames
i
tableName
conditions
conditionClauses
toString
String
inputQuery
dbConf
getInputQuery
method
conn
getClass
getMethod
Class
String
LOG
error
getName
ex
SQLException
clientTimeZone
conf
get
SESSION_TIMEZONE_KEY
setAccessible
invoke
info
warn
Configuration
conf
context
getConfiguration
fieldSeparator
get
FieldSelectionHelper
DATA_FIELD_SEPARATOR
reduceOutputKeyValueSpec
REDUCE_OUTPUT_KEY_VALUE_SPEC
allReduceValueFieldsFrom
parseOutputKeyValueSpec
reduceOutputKeyFieldList
reduceOutputValueFieldList
List
FileStatus
result
numThreads
job
getConfiguration
getInt
LIST_STATUS_NUM_THREADS
DEFAULT_LIST_STATUS_NUM_THREADS
StopWatch
sw
start
singleThreadedListStatus
dirs
inputFilter
recursive
Iterable
locatedFiles
LocatedFileStatusFetcher
locatedFileStatusFetcher
getFileStatuses
IOException
InterruptedIOException
initCause
e
Lists
newArrayList
stop
FileSystem
fs
path
getFileSystem
job
getConfiguration
blkLocations
getFileBlockLocations
file
length
blockSize
getBlockSize
splitSize
computeSplitSize
minSize
maxSize
bytesRemaining
blkIndex
getBlockIndex
splits
add
makeSplit
getHosts
getCachedHosts
bytesRemaining
length
blkIndex
getBlockIndex
blkLocations
splits
add
makeSplit
path
splitSize
getHosts
getCachedHosts
LOG
debug
file
getPath
String
isCompressedInput
decompressor
CodecPool
getDecompressor
codec
CompressionInputStream
cIn
createInputStream
fileIn
filePosition
inputStream
numRecordsRemainingInSplit
Long
MAX_VALUE
LOG
info
seek
start
splitSize
end
numBytesToSkip
recordLength
SourceSet
add
n
ControlledJob
controlledJob
iterator
next
remove
depenControlledJob
getDependentJobs
get
i
processedMap
cyclePresent
outer
context
numberOfThreads
getNumberOfThreads
mapClass
getMapperClass
Path
jobAttemptPath
getJobAttemptPath
context
FileSystem
fs
getFileSystem
getConfiguration
FileStatus
taskAttemptDirStatus
fs
getFileStatus
taskAttemptPath
Path
committedTaskPath
getCommittedTaskPath
context
IOException
LOG
info
attemptId
taskAttemptDirStatus
fs
getFileStatus
taskAttemptPath
Path
committedTaskPath
getCommittedTaskPath
context
IOException
LOG
info
attemptId
mergePaths
outputPath
LOG
debug
previousCommittedTaskPath
Path
committedTaskPath
getCommittedTaskPath
context
IOException
committedParent
getParent
fs
mkdirs
warn
attemptId
Path
committedTaskPath
getCommittedTaskPath
context
IOException
committedParent
getParent
fs
mkdirs
previousCommittedTaskPath
LOG
warn
attemptId
FileStatus
from
getFileStatus
info
outputPath
mergePaths
PathOutputCommitter
committer
context
getOutputCommitter
Path
workPath
getWorkPath
OutputCommitter
c
getOutputCommitter
context
Preconditions
checkState
PathOutputCommitter
Path
workPath
getWorkPath
checkNotNull
workFile
getUniqueFile
getOutputName
extension
Class
PathOutputCommitter
clazz
loadCommitterClass
context
LOG
debug
outputPath
String
key
COMMITTER_FACTORY_CLASS
scheme
toUri
getScheme
schemeKey
format
COMMITTER_FACTORY_SCHEME_PATTERN
String
scheme
outputPath
toUri
getScheme
schemeKey
format
COMMITTER_FACTORY_SCHEME_PATTERN
LOG
debug
key
Class
PathOutputCommitterFactory
factory
trimmedValue
conf
getTrimmed
FileOutputCommitterFactory
getClass
Configuration
conf
job
getConfiguration
InputFormat
inf
ReflectionUtils
newInstance
getInputFormatClass
numPartitions
getNumReduceTasks
K
samples
sampler
getSample
Path
localJobTokenFile
jobTokenFile
Credentials
ts
readTokenStorageFile
conf
failures
LOG
info
reduce
getName
numNewMaps
getMapCompletionEvents
LOG
info
reduce
getName
numNewMaps
getMapCompletionEvents
failures
debug
SLEEP_TIME
Thread
sleep
backoff
connection
getHeaderFieldLong
FETCH_RETRY_AFTER_HEADER
FETCH_RETRY_DELAY_DEFAULT
LOG
warn
TryAgainLaterException
url
getHost
IOException
rc
getResponseMessage
String
replyHash
getHeaderField
SecureShuffleUtils
HTTP_HEADER_REPLY_URL_HASH
debug
msgToEncode
encHash
verifyReply
shuffleSecretKey
mapId
TaskAttemptID
forName
header
compressedLength
decompressedLength
uncompressedLength
forReduce
badIdErrs
increment
LOG
warn
e
remaining
toArray
size
InputStream
is
input
CryptoUtils
wrapIfNecessary
jobConf
cryptoPadding
remaining
toArray
TaskAttemptID
size
InputStream
is
input
CryptoUtils
wrapIfNecessary
jobConf
compressedLength
cryptoPadding
decompressedLength
mapId
LOG
debug
mapOutput
merger
reserve
id
ioErrs
increment
scheduler
reportLocalError
ioe
EMPTY_ATTEMPT_ID_ARRAY
is
CryptoUtils
wrapIfNecessary
jobConf
compressedLength
cryptoPadding
decompressedLength
TaskAttemptID
mapId
LOG
debug
mapOutput
merger
reserve
id
ioErrs
increment
scheduler
reportLocalError
ioe
EMPTY_ATTEMPT_ID_ARRAY
info
startTime
Time
monotonicNow
lastTime
attempts
connection
setConnectTimeout
unit
connect
currentTime
retryTime
leftTime
connectionTimeout
timeSinceLastIteration
Iterator
TaskAttemptID
iter
maps
iterator
map
next
Path
mapOutputFileName
localMapFiles
get
mapTaskId
getOutputFile
indexFileName
suffix
SpillRecord
sr
job
IndexRecord
ir
getIndex
reduce
compressedLength
partLength
decompressedLength
rawLength
CryptoUtils
cryptoPadding
MapOutput
K
V
mapOutput
merger
reserve
id
inMemoryMapOutputs
add
mapOutput
inMemoryMapOutputs
add
mapOutput
LOG
info
getSize
size
commitMemory
usedMemory
inMemoryMergedMapOutputs
add
mapOutput
onDiskMapOutputs
add
CompressAwarePath
outputPath
writer
getRawLength
getCompressedLength
fs
delete
e
close
LOG
info
numMemDiskSegments
inMemToDiskBytes
memDiskSegments
clear
e
writer
close
LOG
info
numMemDiskSegments
inMemToDiskBytes
memDiskSegments
clear
List
Segment
K
V
diskSegments
ArrayList
onDiskBytes
rawBytes
CompressAwarePath
onDisk
onDiskMapOutputs
toArray
size
fileLength
fs
getFileStatus
file
getLen
writer
close
LOG
info
numMemDiskSegments
inMemToDiskBytes
memDiskSegments
clear
List
Segment
K
V
diskSegments
ArrayList
onDiskBytes
rawBytes
CompressAwarePath
onDisk
onDiskMapOutputs
toArray
size
fileLength
fs
getFileStatus
file
getLen
addKnownMapOutput
u
getHost
getPort
toString
event
getTaskAttemptId
maxMapRuntime
Math
max
getTaskRunTime
addKnownMapOutput
u
getHost
getPort
toString
event
getTaskAttemptId
maxMapRuntime
Math
max
getTaskRunTime
LOG
info
getTaskStatus
output
commit
finishedMaps
mapIndex
shuffledMapsCounter
increment
notifyAll
copyMillis
endMillis
startMillis
bytesPerMillis
bytes
transferRate
BYTES_PER_MILLIS_TO_MBS
String
individualProgress
mapId
mbpsFormat
format
copyTimeTracker
add
totalBytesShuffledTillNow
updateStatus
reduceShuffleBytes
lastProgressTime
Time
monotonicNow
Iterator
TaskAttemptID
itr
list
iterator
List
result
ArrayList
includedMaps
totalSize
size
id
next
add
host
addKnownMap
ByteArrayOutputStream
boas
PrintStream
out
printer
print
close
String
outStr
toString
report
setUser
jobInfo
getUsername
setDiagnostics
getErrorInfo
setMapProgress
getCompletedMaps
getTotalMaps
setReduceProgress
getCompletedReduces
getTotalReduces
setJobFile
getConfFile
toString
String
historyUrl
MRWebAppUtil
getApplicationWebURLOnJHSWithScheme
conf
jobId
getAppId
fc
mkdir
path
fsp
FileStatus
fsStatus
getFileStatus
LOG
info
getPermission
toShort
LOG
info
List
FileStatus
timestampedDirList
findTimestampedDirectories
Collections
sort
List
FileStatus
timestampedDirList
findTimestampedDirectories
Collections
sort
LOG
info
size
addDirectoryToSerialNumberIndex
fs
getPath
maxCacheSize
jobListCache
maxSize
prevCacheSize
get
i
addDirectoryToJobListCache
currCacheSize
loadedPercent
LOG
debug
fs
getPath
JobIndexInfo
jobIndexInfo
FileNameIndexUtils
getIndexInfo
getName
String
confFileName
JobHistoryUtils
getIntermediateConfFileName
getJobId
summaryFileName
getIntermediateSummaryFileName
HistoryFileInfo
fileInfo
createHistoryFileInfo
Path
getParent
old
jobListCache
addIfAbsent
found
cutoff
System
currentTimeMillis
maxHistoryAge
delete
warn
e
HistoryFileInfo
fileInfo
createHistoryFileInfo
fs
getPath
Path
getParent
confFileName
summaryFileName
jobIndexInfo
old
jobListCache
addIfAbsent
found
cutoff
System
currentTimeMillis
maxHistoryAge
delete
LOG
warn
e
debug
numKeys
loadKeys
state
numTokens
loadTokens
Path
storeRoot
createStorageDir
getConfig
Options
options
createIfMissing
HistoryServerState
state
numKeys
loadTokenMasterKeys
HistoryServerState
state
numKeys
loadTokenMasterKeys
LOG
info
numTokens
loadTokens
Version
loadedVersion
loadVersion
amStartTimeEst
System
currentTimeMillis
conf
setClass
NET_TOPOLOGY_NODE_SWITCH_MAPPING_IMPL_KEY
MyResolver
DNSToSwitchMapping
RackResolver
init
MRApp
app
MRAppWithHistory
numMaps
numReduces
getClass
getName
submit
Job
job
getContext
getAllJobs
values
iterator
next
JobId
jobId
getID
LOG
info
TypeConverter
fromYarn
toString
waitForState
JobState
SUCCEEDED
Service
STATE
STOPPED
String
jobhistoryDir
JobHistoryUtils
getHistoryIntermediateDoneDirForUser
FileContext
fc
getFileContext
Assert
assertTrue
Long
parseLong
jobSummaryElements
get
assertEquals
numSuccessfulMaps
Integer
parseInt
numReduces
System
getProperty
JobHistory
jobHistory
init
conf
HistoryFileInfo
fileInfo
getJobFileInfo
jobId
JobInfo
jobInfo
numFinishedMaps
Path
historyFilePath
getHistoryFile
FSDataInputStream
in
LOG
info
app
waitForState
job
JobState
SUCCEEDED
Service
STATE
STOPPED
JobHistory
jobHistory
init
conf
HistoryFileInfo
fileInfo
getJobFileInfo
jobId
JobHistoryParser
parser
JobInfo
jobInfo
Path
historyFilePath
getHistoryFile
FSDataInputStream
in
FileContext
fc
getFileContext
open
makeQualified
app
waitForState
job
JobState
SUCCEEDED
Service
STATE
STOPPED
jobHistory
JobHistory
init
conf
HistoryFileInfo
fileInfo
getJobFileInfo
jobId
JobHistoryParser
parser
JobInfo
jobInfo
Path
historyFilePath
getHistoryFile
FSDataInputStream
in
FileContext
fc
getFileContext
open
makeQualified
app
waitForState
job
JobState
FAILED
Service
STATE
STOPPED
JobHistory
jobHistory
init
conf
HistoryFileInfo
fileInfo
getJobFileInfo
jobId
JobHistoryParser
parser
JobInfo
jobInfo
Path
historyFilePath
getHistoryFile
FSDataInputStream
in
FileContext
fc
getFileContext
open
makeQualified
app
waitForState
job
JobState
KILLED
Service
STATE
STOPPED
JobHistory
jobHistory
init
conf
HistoryFileInfo
fileInfo
getJobFileInfo
jobId
JobHistoryParser
parser
JobInfo
jobInfo
Path
historyFilePath
getHistoryFile
FSDataInputStream
in
FileContext
fc
getFileContext
open
makeQualified
Path
histPath
getClass
getClassLoader
getResource
getFile
JobHistoryParser
parser
FileSystem
getLocal
Configuration
JobInfo
jobInfo
parse
Path
histPath
getClass
getClassLoader
getResource
getFile
JobHistoryParser
parser
FileSystem
getLocal
Configuration
JobInfo
jobInfo
parse
Path
histPath
getClass
getClassLoader
getResource
getFile
JobHistoryParser
parser
FileSystem
getLocal
Configuration
JobInfo
jobInfo
parse
application
rm
getApplicationReport
appId
IOException
e2
trackingUrl
getTrackingUrl
InetSocketAddress
serviceAddr
LOG
info
jobId
checkAndGetHSProxy
JobState
NEW
debug
IOException
e2
trackingUrl
application
getTrackingUrl
InetSocketAddress
serviceAddr
LOG
info
jobId
checkAndGetHSProxy
JobState
NEW
debug
Thread
sleep
getYarnApplicationState
rm
getApplicationReport
appId
LOG
debug
Thread
sleep
application
getYarnApplicationState
rm
getApplicationReport
appId
info
jobId
amAclDisabledStatusLogged
getNotRunningJob
JobState
RUNNING
UserGroupInformation
newUgi
createRemoteUser
getCurrentUser
getUserName
serviceAddr
NetUtils
createSocketAddrForHost
getHost
getRpcPort
LOG
info
jobId
amAclDisabledStatusLogged
getNotRunningJob
application
JobState
RUNNING
UserGroupInformation
newUgi
createRemoteUser
getCurrentUser
getUserName
serviceAddr
NetUtils
createSocketAddrForHost
getHost
getRpcPort
org
apache
hadoop
yarn
api
records
Token
clientToAMToken
getClientToAMToken
ClientToAMTokenIdentifier
token
ConverterUtils
convertFromYarn
addToken
debug
InetSocketAddress
finalServiceAddr
amAclDisabledStatusLogged
getNotRunningJob
application
JobState
RUNNING
UserGroupInformation
newUgi
createRemoteUser
getCurrentUser
getUserName
serviceAddr
NetUtils
createSocketAddrForHost
getHost
getRpcPort
org
apache
hadoop
yarn
api
records
Token
clientToAMToken
getClientToAMToken
ClientToAMTokenIdentifier
token
ConverterUtils
convertFromYarn
addToken
LOG
debug
InetSocketAddress
finalServiceAddr
instantiateAMProxy
LOG
debug
serviceAddr
InetSocketAddress
finalServiceAddr
instantiateAMProxy
info
jobId
amAclDisabledStatusLogged
getNotRunningJob
JobState
RUNNING
realProxy
Method
methodOb
MRClientProtocol
getMethod
method
argClass
YarnRuntimeException
e
maxClientRetry
conf
getInt
MRJobConfig
MR_CLIENT_MAX_RETRIES
DEFAULT_MR_CLIENT_MAX_RETRIES
IOException
lastException
MRClientProxy
getProxy
invoke
args
MRClientProxy
getProxy
methodOb
invoke
args
LOG
debug
jobId
e
getTargetException
realProxy
IOException
maxClientRetry
usingAMProxy
set
lastException
Thread
sleep
String
user
UserGroupInformation
getCurrentUser
getShortUserName
Path
path
MRApps
getStagingAreaDir
conf
Map
String
LocalResource
localResources
HashMap
Path
jobConfPath
jobSubmitDir
MRJobConfig
JOB_CONF_FILE
URL
yarnUrlForJobSubmitDir
fromPath
defaultFileContext
getDefaultFileSystem
resolvePath
makeQualified
setTokenRenewerConf
amContainer
conf
regex
Collection
String
tagsFromConf
jobConf
getTrimmedStringCollection
MRJobConfig
JOB_TAGS
ApplicationSubmissionContext
appContext
recordFactory
newRecordInstance
setApplicationId
applicationId
setQueue
get
JobContext
QUEUE_NAME
YarnConfiguration
DEFAULT_QUEUE_NAME
ReservationId
reservationID
parseReservationId
RESERVATION_ID
errMsg
LOG
warn
IOException
setReservationID
LOG
warn
MR_AM_RESOURCE_PREFIX
resourceName
resourceReq
getValue
getUnits
MRJobConfig
MR_AM_VMEM_MB
conf
get
capability
setVirtualCores
UnitsConversionUtil
convert
cpuVcoresSet
MR_AM_CPU_VCORES
ResourceInformation
resourceInformation
getResourceInformation
setUnits
setValue
setResourceInformation
setMemorySize
getInt
DEFAULT_MR_AM_VMEM_MB
DEFAULT_MR_AM_CPU_VCORES
Configuration
copy
clear
count
String
key
map
getKey
val
getValue
set
write
dob
ByteBuffer
appConf
wrap
getData
getLength
LOG
info
regex
Map
Entry
entry
itor
next
String
newProbName
FPROB_NAME
klass
newValue
System
getProperty
conf
get
ALL_PROBABILITIES
equals
set
ret
getFloat
DEFAULT_PROB
testType
TEST_TYPE_READ
TEST_TYPE_WRITE
TEST_TYPE_CLEANUP
isSequential
nrFiles
Integer
parseInt
args
i
fileSize
bufferSize
resFileName
testType
TEST_TYPE_READ
TEST_TYPE_WRITE
TEST_TYPE_CLEANUP
isSequential
nrFiles
Integer
parseInt
args
i
fileSize
bufferSize
resFileName
testType
TEST_TYPE_WRITE
TEST_TYPE_CLEANUP
isSequential
nrFiles
Integer
parseInt
args
i
fileSize
bufferSize
resFileName
LOG
info
sqrate
String
line
StringTokenizer
tokens
attr
nextToken
endsWith
tasks
Long
parseLong
med
rate
stdDev
Math
sqrt
abs
resultLines
testType
TEST_TYPE_WRITE
TEST_TYPE_READ
Date
System
currentTimeMillis
size
MEGA
time
execTime
PrintStream
res
FileOutputStream
File
resFileName
System
err
println
usage
exit
rootName
args
i
testType
TEST_TYPE_CLEANUP
bufferSize
Integer
parseInt
resFileName
viewStats
LOG
info
String
name
getFileName
i
Path
controlFile
INPUT_DIR
SequenceFile
Writer
writer
createWriter
fs
getConf
Text
LongWritable
CompressionType
NONE
logFile
jhLogFiles
getPath
toString
append
IOException
e
close
start
step
jhLogFiles
length
NUM_CREATE_THREADS
FileCreateDaemon
daemons
numRunningThreads
end
Math
min
tIdx
fs
prevValue
LOG
info
jhLogDir
FileCreateDaemon
createControlFile
fs
TestType
testType
bufferSize
DEFAULT_BUFFER_SIZE
nrBytes
MEGA
String
erasureCodePolicyName
nrFiles
skipSize
resFileName
DEFAULT_RES_FILE_NAME
compressionClass
storagePolicy
isSequential
version
TestDFSIO
getSimpleName
compressionClass
args
i
nrFiles
Integer
parseInt
nrBytes
parseSize
skipSize
bufferSize
resFileName
storagePolicy
erasureCodePolicyName
compressionClass
args
i
nrFiles
Integer
parseInt
nrBytes
parseSize
skipSize
bufferSize
resFileName
storagePolicy
erasureCodePolicyName
nrFiles
Integer
parseInt
args
i
nrBytes
parseSize
skipSize
bufferSize
resFileName
storagePolicy
erasureCodePolicyName
nrFiles
Integer
parseInt
args
i
nrBytes
parseSize
skipSize
bufferSize
resFileName
storagePolicy
erasureCodePolicyName
System
err
println
isValid
System
out
println
erasureCodePolicyName
ec
getPolicy
getName
config
set
ERASURE_CODE_POLICY_NAME_KEY
Collection
BlockStoragePolicy
storagePolicies
DistributedFileSystem
fs
getAllStoragePolicies
isValid
IOException
e
System
out
println
storagePolicy
policy
getName
config
set
STORAGE_POLICY_NAME_KEY
String
erasureCodePolicyName
getConf
get
ERASURE_CODE_POLICY_NAME_KEY
fs
mkdirs
path
Collection
ErasureCodingPolicyInfo
list
DistributedFileSystem
getAllErasureCodingPolicies
ErasureCodingPolicy
ec
info
getPolicy
setErasureCodingPolicy
getName
in
close
lines
med
rate
tasks
stdDev
Math
sqrt
abs
sqrate
DecimalFormat
df
String
resultLines
testType
Date
System
currentTimeMillis
format
toMB
size
msToSecs
time
execTime
PrintStream
res
FileOutputStream
File
resFileName
FileSystem
fs
get
conf
seed
Random
nextLong
System
exit
files
Integer
parseInt
args
i
megaBytes
noRead
noWrite
noSeek
fastCheck
LOG
info
seed
files
Integer
parseInt
args
i
megaBytes
noRead
noWrite
noSeek
fastCheck
LOG
info
seed
Configuration
conf
MiniDFSCluster
cluster
Builder
nameNodePort
port
numDataNodes
build
URI
uri
getFileSystem
getUri
timeTaken
bytesAppended
DataWriter
writer
getRandom
LOG
info
fn
Helper
toByteInfo
appendSize
startTime
Timer
now
os
fs
append
elapsed
GenerateOutput
stats
writeSegment
getTimeTaken
getBytesWritten
close
out
add
OperationOutput
OutputType
LONG
getType
ReportWriter
BYTES_WRITTEN
OK_TIME_TAKEN
LOG
info
cfg
getBaseDirectory
getDataPath
getOutputPath
getResultFile
getQueueName
shouldExitOnFirstError
String
duration
getDurationMilliseconds
getMapAmount
LOG
info
cfg
getBaseDirectory
getDataPath
getOutputPath
getResultFile
getQueueName
shouldExitOnFirstError
String
duration
getDurationMilliseconds
getMapAmount
getReducerAmount
LOG
info
cfg
getBaseDirectory
getDataPath
getOutputPath
getResultFile
getQueueName
shouldExitOnFirstError
String
duration
getDurationMilliseconds
getMapAmount
getReducerAmount
getOpCount
LOG
info
cfg
getBaseDirectory
getDataPath
getOutputPath
getResultFile
getQueueName
shouldExitOnFirstError
String
duration
getDurationMilliseconds
getMapAmount
getReducerAmount
getOpCount
String
duration
cfg
getDurationMilliseconds
LOG
info
getMapAmount
getReducerAmount
getOpCount
getTotalFiles
getDirSize
read
LOG
info
duration
cfg
getMapAmount
getReducerAmount
getOpCount
getTotalFiles
getDirSize
String
read
getReadSize
write
LOG
info
cfg
getTotalFiles
getDirSize
String
read
getReadSize
write
getWriteSize
append
read
cfg
getReadSize
LOG
info
String
write
getWriteSize
append
read
cfg
getReadSize
LOG
info
String
write
getWriteSize
append
getAppendSize
read
cfg
getReadSize
LOG
info
String
write
getWriteSize
append
getAppendSize
bsize
FSDataOutputStream
os
Path
fn
getCreateFile
Range
Long
writeSizeRange
getConfig
getWriteSize
writeSize
blockSize
determineBlockSize
replicationAmount
determineReplication
getBlockSize
betweenPositive
getRandom
bytesWritten
timeTaken
bufSize
getBufferSize
overWrite
DataWriter
writer
timeTaken
bufSize
getBufferSize
overWrite
DataWriter
writer
getRandom
LOG
info
fn
Helper
toByteInfo
writeSize
blockSize
replicationAmount
startTime
Timer
now
os
fs
create
elapsed
GenerateOutput
stats
writeSegment
bytesWritten
getBytesWritten
getTimeTaken
close
List
OperationOutput
out
run
fs
Path
fn
getDeleteFile
timeTaken
deleteStatus
startTime
Timer
now
delete
elapsed
add
OutputType
LONG
getType
ReportWriter
FAILURES
LOG
info
OK_TIME_TAKEN
SUCCESSES
Range
Long
readSizeRange
getConfig
getReadSize
readSize
String
readStrAm
MAX_VALUE
betweenPositive
getRandom
Helper
toByteInfo
timeTaken
chunkSame
chunkDiff
bytesRead
startTime
DataVerifier
vf
startTime
Timer
now
is
fs
open
fn
timeTaken
elapsed
VerifyOutput
vo
vf
verifyFile
readSize
getReadTime
chunkSame
getChunksSame
chunkDiff
getChunksDifferent
bytesRead
getBytesRead
close
out
add
OperationOutput
OutputType
LONG
getType
ReportWriter
OK_TIME_TAKEN
BYTES_READ
SUCCESSES
r
setStatus
msg
r
setStatus
msg
parsedOpts
argHolder
parse
outputHelp
LOG
error
e
info
Helper
stringifyArray
args
ConfigExtractor
config
ConfigMerger
cfgMerger
Configuration
cfg
getMerged
base
LOG
info
Helper
stringifyArray
args
ConfigExtractor
config
ConfigMerger
cfgMerger
Configuration
cfg
getMerged
parsedOpts
base
error
e
LOG
error
e
info
ConfigExtractor
dumpOptions
config
jobOk
LOG
error
info
ConfigExtractor
dumpOptions
config
e
jobOk
runJob
LOG
error
e
jobOk
info
runJob
config
writeReport
Path
dn
cfg
getOutputPath
List
OperationOutput
opList
splitTypes
get
op
ArrayList
add
data
put
noOperations
IOException
line
fileReader
close
File
resFile
cfg
getResultFile
Path
base
cfg
getBaseDirectory
byteAm
File
fn
getTestFile
DataWriter
writer
rnd
FileOutputStream
fs
GenerateOutput
ostat
writeSegment
byteAm
File
fn
getTestFile
DataWriter
writer
rnd
FileOutputStream
fs
GenerateOutput
ostat
writeSegment
LOG
info
toString
close
assertTrue
getBytesWritten
DataVerifier
vf
FileInputStream
fin
VerifyOutput
vfout
verifyFile
DataInputStream
waitOnTruncate
getConfig
shouldWaitOnTruncate
currentSize
fs
getFileStatus
fn
getLen
Range
Long
truncateSizeRange
getTruncateSize
getBlockSize
truncateSize
Math
max
betweenPositive
getRandom
timeTaken
LOG
info
Helper
toByteInfo
startTime
Timer
now
completed
truncate
waitForRecovery
elapsed
out
add
OperationOutput
OutputType
LONG
getType
ReportWriter
BYTES_WRITTEN
OK_TIME_TAKEN
SUCCESSES
operations
TreeMap
OperationType
OperationInfo
Map
OperationData
opinfo
cfg
getOperations
totalAm
getOpCount
opsLeft
NumberFormat
formatter
Formatter
getPercentFormatter
opData
get
type
info
distribution
getDistribution
amLeft
determineHowMany
opsLeft
amLeft
LOG
info
type
name
totalAm
formatter
format
opData
getPercent
amountLeft
Operation
op
factory
getOperation
OperationInfo
opInfo
operations
get
operation
ObserveableOp
fn
put
checkArgs
i
args
length
numberOfFiles
Long
parseLong
replicationFactorPerFile
Short
parseShort
baseDir
readFileAfterOpen
Boolean
parseBoolean
displayUsage
isHelpMessage
checkArgs
i
args
length
numberOfFiles
Long
parseLong
replicationFactorPerFile
Short
parseShort
baseDir
readFileAfterOpen
Boolean
parseBoolean
displayUsage
isHelpMessage
LOG
info
numberOfFiles
Long
parseLong
args
i
checkArgs
length
replicationFactorPerFile
Short
parseShort
baseDir
readFileAfterOpen
Boolean
parseBoolean
displayUsage
isHelpMessage
LOG
info
operation
checkArgs
i
args
length
replicationFactorPerFile
Short
parseShort
baseDir
readFileAfterOpen
Boolean
parseBoolean
displayUsage
isHelpMessage
LOG
info
operation
sdf
format
Date
startTime
Path
tempDir
dir
fs
delete
FileInputFormat
setInputPaths
job
mkdirs
LongWritable
tkey
Text
tval
SequenceFile
Writer
writer
createWriter
file
compressionType
DefaultCodec
set
append
close
fileLength
getFileStatus
getLen
FileStatus
list
fs
listStatus
dir
IOException
Path
file
SequenceFile
Writer
writer
createWriter
conf
BytesWritable
CompressionType
NONE
numBytesToWrite
fileSizeInMB
minKeySize
getInt
MIN_KEY
keySizeRange
MAX_KEY
minValueSize
MIN_VALUE
valueSizeRange
MAX_VALUE
randomKey
randomValue
Random
rand
ArrayList
Long
execTimes
JobConf
jobConf
masterJobConf
setJar
getJar
FileOutputFormat
setOutputPath
Path
OUTPUT_DIR
nextInt
Class
jobClassObj
conf
getClassByName
jobClass
status
ToolRunner
run
Tool
newInstance
args
checkJobExitStatus
LOG
error
System
exit
t
setDaemon
start
JobStatus
jobs
status
ToolRunner
run
conf
Tool
jobClassObj
newInstance
args
checkJobExitStatus
jobClass
LOG
error
System
exit
t
setDaemon
start
JobStatus
jobs
info
Thread
sleep
JobID
jobId
length
getJobID
RunningJob
rJob
jc
getJob
LOG
error
jobClass
System
exit
t
setDaemon
start
JobStatus
jobs
info
Thread
sleep
JobID
jobId
length
getJobID
RunningJob
rJob
jc
getJob
mapRecs
input
size
mapperBadRecords
assertEquals
counters
findCounter
TaskCounter
MAP_INPUT_RECORDS
getCounter
MAP_OUTPUT_RECORDS
redRecs
redBadRecords
REDUCE_SKIPPED_RECORDS
REDUCE_SKIPPED_GROUPS
REDUCE_INPUT_GROUPS
REDUCE_INPUT_RECORDS
REDUCE_OUTPUT_RECORDS
Path
skipDir
SkipBadRecords
getSkipOutputPath
conf
assertNotNull
skips
FileUtil
stat2Paths
getFileSystem
listStatus
List
String
mapSkipped
ArrayList
redSkipped
assertEquals
counters
findCounter
TaskCounter
REDUCE_INPUT_RECORDS
getCounter
redRecs
REDUCE_OUTPUT_RECORDS
Path
skipDir
SkipBadRecords
getSkipOutputPath
conf
assertNotNull
skips
FileUtil
stat2Paths
getFileSystem
listStatus
List
String
mapSkipped
ArrayList
redSkipped
LOG
info
skipPath
SequenceFile
Reader
reader
Object
key
ReflectionUtils
newInstance
getKeyClass
value
getValueClass
next
getCurrentValue
Object
value
ReflectionUtils
newInstance
reader
getValueClass
conf
key
next
getCurrentValue
LOG
debug
toString
redSkipped
add
mapSkipped
close
assertTrue
containsAll
mapperBadRecords
redBadRecords
Path
outputFiles
FileUtil
stat2Paths
getFileSystem
listStatus
getOutputDir
Utils
OutputFileUtils
OutputFilesFilter
List
String
mapperOutput
getProcessed
input
value
reader
getCurrentValue
LOG
debug
key
toString
redSkipped
add
mapSkipped
next
close
assertTrue
containsAll
mapperBadRecords
redBadRecords
Path
outputFiles
FileUtil
stat2Paths
getFileSystem
listStatus
getOutputDir
Utils
OutputFileUtils
OutputFilesFilter
List
String
mapperOutput
getProcessed
input
size
reducerOutput
Iterator
org
apache
hadoop
mapreduce
CounterGroup
it
counters
iterator
group
next
JobConf
job
conf
Reporter
reporter
NULL
Random
random
seed
nextLong
Reporter
reporter
NULL
Random
random
seed
nextLong
LOG
info
setSeed
localFs
delete
workDir
FileInputFormat
setInputPaths
job
length
numFiles
createFiles
InputFormat
IntWritable
BytesWritable
format
CombineSequenceFileInputFormat
key
value
numSplits
nextInt
SequenceFile
SYNC_INTERVAL
seed
random
nextLong
LOG
info
setSeed
localFs
delete
workDir
FileInputFormat
setInputPaths
job
length
numFiles
createFiles
InputFormat
IntWritable
BytesWritable
format
CombineSequenceFileInputFormat
key
value
numSplits
nextInt
SequenceFile
SYNC_INTERVAL
InputSplit
splits
getSplits
JobConf
job
defaultConf
Random
random
seed
nextLong
JobConf
job
defaultConf
Random
random
seed
nextLong
LOG
info
setSeed
localFs
delete
workDir
FileInputFormat
setInputPaths
length
numFiles
createFiles
CombineTextInputFormat
format
LongWritable
key
Text
value
numSplits
nextInt
seed
random
nextLong
LOG
info
setSeed
localFs
delete
workDir
FileInputFormat
setInputPaths
job
length
numFiles
createFiles
CombineTextInputFormat
format
LongWritable
key
Text
value
numSplits
nextInt
InputSplit
splits
getSplits
length
numFiles
createFiles
random
CombineTextInputFormat
format
LongWritable
key
Text
value
numSplits
nextInt
LOG
info
InputSplit
splits
getSplits
job
assertEquals
split
CombineFileSplit
getClass
BitSet
bits
numSplits
random
nextInt
length
LOG
info
InputSplit
splits
format
getSplits
job
assertEquals
split
CombineFileSplit
getClass
BitSet
bits
debug
RecordReader
LongWritable
Text
reader
getRecordReader
voidReporter
count
v
Integer
parseInt
value
toString
localFs
delete
workDir
Path
file
String
createFile
JobConf
job
defaultConf
FileInputFormat
setInputPaths
FixedLengthInputFormat
format
configure
InputSplit
splits
getSplits
exceptionThrown
RecordReader
LongWritable
BytesWritable
reader
getRecordReader
split
voidReporter
localFs
delete
workDir
Path
file
String
createFile
JobConf
job
defaultConf
FileInputFormat
setInputPaths
FixedLengthInputFormat
format
setRecordLength
configure
InputSplit
splits
getSplits
exceptionThrown
RecordReader
LongWritable
BytesWritable
reader
getRecordReader
split
voidReporter
localFs
delete
workDir
Path
file
String
createFile
JobConf
job
defaultConf
FileInputFormat
setInputPaths
FixedLengthInputFormat
format
setRecordLength
configure
InputSplit
splits
getSplits
exceptionThrown
RecordReader
LongWritable
BytesWritable
reader
getRecordReader
split
voidReporter
Path
file
workDir
fileName
toString
seed
Random
nextInt
LOG
info
random
MAX_TESTS
LongWritable
key
BytesWritable
value
totalRecords
recordLength
fileSize
totalRecords
recordLength
LOG
info
JobConf
job
defaultConf
ReflectionUtils
setConf
codec
ArrayList
String
recordList
createFile
file
assertTrue
localFs
exists
FixedLengthInputFormat
setRecordLength
numSplits
Math
max
floor
random
nextInt
JobConf
job
defaultConf
format
setRecordLength
FileInputFormat
setInputPaths
workDir
ReflectionUtils
setConf
codec
configure
writeFile
localFs
Path
fileName
toString
InputSplit
splits
getSplits
assertEquals
length
exceptionThrown
List
String
results
readSplit
split
JobConf
jc
mr
createJobConf
Path
outDir
getNewOutputDir
configureJob
setOutputCommitter
committer
JobClient
jobClient
RunningJob
job
submitJob
JobID
id
getID
waitForCompletion
JobConf
job
Path
file
workDir
Reporter
reporter
NULL
seed
Random
nextInt
JobConf
job
Path
file
workDir
Reporter
reporter
NULL
seed
Random
nextInt
LOG
info
random
localFs
delete
FileInputFormat
setInputPaths
LOG
debug
length
Writer
writer
OutputStreamWriter
localFs
create
file
write
Integer
toString
i
close
KeyValueTextInputFormat
format
configure
job
numSplits
random
nextInt
MAX_LENGTH
Writer
writer
OutputStreamWriter
localFs
create
file
write
Integer
toString
i
close
KeyValueTextInputFormat
format
configure
job
numSplits
random
nextInt
MAX_LENGTH
LOG
debug
InputSplit
splits
getSplits
writer
write
Integer
toString
i
close
KeyValueTextInputFormat
format
configure
job
numSplits
random
nextInt
MAX_LENGTH
LOG
debug
InputSplit
splits
getSplits
length
BitSet
bits
assertEquals
KeyValueLineRecordReader
readerClass
Text
key
reader
createKey
Class
keyClass
getClass
value
createValue
valueClass
count
v
Integer
parseInt
toString
LOG
debug
warn
j
getPos
assertFalse
bits
get
BufferedReader
reader
String
strLine
FileReader
entityFile
idPrefix
org
apache
hadoop
yarn
api
records
timelineservice
TimelineEntity
entity
FileSystemTimelineReaderImpl
getTimelineRecordFromJSON
trim
dfs
MiniDFSCluster
Builder
conf
build
fileSys
getFileSystem
Path
dir
System
getProperty
multiFileDir
fs
delete
mkdirs
Path
dir
System
getProperty
multiFileDir
fs
delete
mkdirs
LOG
info
numFiles
path
i
FSDataOutputStream
out
create
numBytes
rand
nextInt
MAX_BYTES
write
close
LOG
info
MAX_SPLIT_COUNT
SPLIT_COUNT_INCR
MAX_BYTES
MAX_NUM_FILES
NUM_FILES_INCR
MultiFileInputFormat
Text
format
DummyMultiFileInputFormat
FileSystem
fs
getLocal
job
Path
dir
initFiles
numFiles
BitSet
bits
LOG
info
SequenceFileInputFilter
setFilterClass
job
RegexFilter
setPattern
fs
delete
inDir
LOG
info
SequenceFileInputFilter
setFilterClass
job
PercentFilter
setFrequency
fs
delete
inDir
LOG
info
SequenceFileInputFilter
setFilterClass
job
PercentFilter
setFrequency
fs
delete
inDir
length
createSequenceFile
count
countRecords
LOG
info
SequenceFileInputFilter
setFilterClass
job
MD5Filter
setFrequency
fs
delete
inDir
assertEquals
sr
getIndicesCount
add
SortedRanges
Range
assertEquals
sr
getIndicesCount
remove
SortedRanges
Range
add
conf
setOutputKeyClass
LongWritable
setOutputValueClass
Text
setMapperClass
IdentityMapper
setReducerClass
IdentityReducer
FileInputFormat
setInputPaths
inDir
FileOutputFormat
setOutputPath
outDir
setNumMapTasks
numMaps
setNumReduceTasks
numReduces
RunningJob
runningJob
JobClient
runJob
assertTrue
isComplete
isSuccessful
fs
exists
Path
OUTPUT_FILENAME
fail
JobConf
job
defaultConf
Path
file
workDir
Reporter
reporter
NULL
seed
Random
nextInt
JobConf
job
defaultConf
Path
file
workDir
Reporter
reporter
NULL
seed
Random
nextInt
LOG
info
random
localFs
delete
FileInputFormat
setInputPaths
LOG
debug
length
Writer
writer
OutputStreamWriter
localFs
create
file
write
Integer
toString
i
close
TextInputFormat
format
configure
job
LongWritable
key
Text
value
numSplits
random
nextInt
MAX_LENGTH
Writer
writer
OutputStreamWriter
localFs
create
file
write
Integer
toString
i
close
TextInputFormat
format
configure
job
LongWritable
key
Text
value
numSplits
random
nextInt
MAX_LENGTH
LOG
debug
InputSplit
splits
getSplits
assertEquals
splits
length
getLength
BitSet
bits
LOG
debug
j
RecordReader
LongWritable
Text
reader
format
getRecordReader
job
reporter
count
v
Integer
parseInt
value
toString
warn
getPos
assertFalse
get
Path
file
workDir
codec
getDefaultExtension
FileSystem
localFs
getLocal
conf
delete
FileInputFormat
setInputPaths
length
LOG
info
Writer
writer
OutputStreamWriter
createOutputStream
create
write
Integer
toString
i
close
TextInputFormat
format
conf
setLong
splitpos
LongWritable
key
Text
value
InputSplit
splits
format
getSplits
LOG
info
length
BitSet
bits
debug
j
RecordReader
reader
getRecordReader
Reporter
NULL
counter
v
Integer
parseInt
toString
Text
value
InputSplit
splits
format
getSplits
conf
LOG
info
length
BitSet
bits
debug
j
RecordReader
LongWritable
reader
getRecordReader
Reporter
NULL
counter
v
Integer
parseInt
toString
warn
getPos
assertFalse
get
LOG
info
length
Writer
writer
OutputStreamWriter
codec
createOutputStream
localFs
create
file
write
Integer
toString
i
close
TextInputFormat
format
configure
conf
LongWritable
key
Text
value
numSplits
InputSplit
splits
getSplits
writer
write
Integer
toString
i
close
TextInputFormat
format
configure
conf
LongWritable
key
Text
value
LOG
info
numSplits
InputSplit
splits
getSplits
length
BitSet
bits
LOG
info
numSplits
InputSplit
splits
format
getSplits
conf
length
BitSet
bits
debug
j
RecordReader
LongWritable
Text
reader
getRecordReader
Reporter
NULL
counter
v
Integer
parseInt
value
toString
warn
getPos
assertFalse
get
LOG
info
splits
length
BitSet
bits
debug
j
RecordReader
LongWritable
Text
reader
format
getRecordReader
conf
Reporter
NULL
counter
v
Integer
parseInt
value
toString
warn
getPos
assertFalse
get
set
when
resourceMgrDelegate
submitApplication
any
ApplicationSubmissionContext
thenReturn
appId
ApplicationReport
report
mock
getApplicationId
getDiagnostics
failString
getYarnApplicationState
YarnApplicationState
FAILED
getApplicationReport
Credentials
credentials
File
jobxml
testWorkDir
OutputStream
out
FileOutputStream
conf
writeXml
close
yarnRunner
submitJob
jobId
getAbsolutePath
toString
job
setOutputFormat
SequenceFileOutputFormat
setMapperClass
Map
setReducerClass
IdentityReducer
setOutputKeyClass
BytesWritable
setOutputValueClass
JobClient
client
ClusterStatus
cluster
getClusterStatus
totalDataSize
dataSizePerMap
numMapsPerHost
getTaskTrackers
set
String
valueOf
setNumReduceTasks
setNumMapTasks
FileOutputFormat
setOutputPath
INPUT_DIR
FileSystem
fs
get
delete
BASE_DIR
LOG
info
job
setMapperClass
Map
setReducerClass
IdentityReducer
setOutputKeyClass
BytesWritable
setOutputValueClass
JobClient
client
ClusterStatus
cluster
getClusterStatus
totalDataSize
dataSizePerMap
numMapsPerHost
getTaskTrackers
set
String
valueOf
setNumReduceTasks
setNumMapTasks
FileOutputFormat
setOutputPath
INPUT_DIR
FileSystem
fs
get
delete
BASE_DIR
LOG
info
job
setOutputKeyClass
BytesWritable
setOutputValueClass
JobClient
client
ClusterStatus
cluster
getClusterStatus
totalDataSize
dataSizePerMap
numMapsPerHost
getTaskTrackers
set
String
valueOf
setNumReduceTasks
setNumMapTasks
FileOutputFormat
setOutputPath
INPUT_DIR
FileSystem
fs
get
delete
BASE_DIR
LOG
info
numSpillsPerMap
job
setOutputValueClass
BytesWritable
JobClient
client
ClusterStatus
cluster
getClusterStatus
totalDataSize
dataSizePerMap
numMapsPerHost
getTaskTrackers
set
String
valueOf
setNumReduceTasks
setNumMapTasks
FileOutputFormat
setOutputPath
INPUT_DIR
FileSystem
fs
get
delete
BASE_DIR
LOG
info
numSpillsPerMap
ClusterStatus
cluster
client
getClusterStatus
job
setNumMapTasks
numMapsPerHost
getTaskTrackers
setNumReduceTasks
ioSortMb
Math
ceil
FACTOR
dataSizePerMap
set
JobContext
IO_SORT_MB
String
valueOf
fs
FileSystem
get
LOG
info
startTime
System
currentTimeMillis
JobClient
runJob
endTime
delete
OUTPUT_DIR
JobConf
spilledJob
ThreadedMapBenchmark
numSpillsPerMap
LOG
info
context
getTaskAttemptID
getTaskID
jobs
size
String
jobIdStr
job
getJobId
JobId
jobId
TypeConverter
toYarn
JobID
forName
ApplicationId
appId
getAppId
Path
historyFilePath
getJobHistoryFilePath
confFilePath
getJobConfFilePath
JobInfo
jobInfo
parser
parseHistoryFile
Configuration
jobConf
parseConfiguration
LOG
info
context
getTaskAttemptID
getTaskID
jobs
size
String
jobIdStr
job
getJobId
JobId
jobId
TypeConverter
toYarn
JobID
forName
ApplicationId
appId
getAppId
Path
historyFilePath
getJobHistoryFilePath
confFilePath
getJobConfFilePath
JobInfo
jobInfo
parser
parseHistoryFile
Configuration
jobConf
parseConfiguration
totalTime
totalTime
Set
TimelineEntity
entitySet
converter
createTimelineEntities
jobInfo
jobConf
LOG
info
jobIdStr
UserGroupInformation
ugi
getCurrentUser
startWrite
System
nanoTime
context
getCounter
PerfCounters
TIMELINE_SERVICE_WRITE_FAILURES
increment
error
e
tlc
putEntities
entity
LOG
info
context
getTaskAttemptID
getTaskID
jobs
size
String
jobIdStr
job
getJobId
JobId
jobId
TypeConverter
toYarn
JobID
forName
ApplicationId
appId
getAppId
AppLevelTimelineCollector
collector
manager
putIfAbsent
JobInfo
jobInfo
parser
parseHistoryFile
getJobHistoryFilePath
Configuration
jobConf
parseConfiguration
getJobConfFilePath
LOG
info
jobIdStr
JobId
jobId
TypeConverter
toYarn
JobID
forName
ApplicationId
appId
getAppId
AppLevelTimelineCollector
collector
manager
putIfAbsent
JobInfo
jobInfo
parser
parseHistoryFile
job
getJobHistoryFilePath
Configuration
jobConf
parseConfiguration
getJobConfFilePath
TimelineCollectorContext
tlContext
getTimelineEntityContext
setFlowName
getJobname
setFlowRunId
getSubmitTime
setUserId
getUsername
totalTime
List
TimelineEntity
entitySet
converter
createTimelineEntities
jobInfo
jobConf
LOG
info
jobIdStr
UserGroupInformation
ugi
getCurrentUser
startWrite
System
nanoTime
context
getCounter
PerfCounters
TIMELINE_SERVICE_WRITE_FAILURES
increment
error
e
TimelineEntities
entities
addEntity
entity
collector
putEntities
ugi
FileSystem
fs
outDir
getFileSystem
conf
StringBuffer
result
Path
fileList
FileUtil
stat2Paths
listStatus
Utils
OutputFileUtils
OutputFilesFilter
String
entId
taskAttemptId
Integer
toString
i
TimelineEntity
entity
setEntityId
setEntityType
addOtherInfo
payLoad
TimelineEvent
event
setTimestamp
System
currentTimeMillis
setEventType
addEvent
UserGroupInformation
ugi
getCurrentUser
startWrite
nanoTime
tlc
putEntities
context
getCounter
PerfCounters
TIMELINE_SERVICE_WRITE_FAILURES
increment
event
setTimestamp
System
currentTimeMillis
addInfo
entity
addEvent
TimelineMetric
metric
setId
addValue
addMetric
addConfig
TimelineEntities
entities
addEntity
UserGroupInformation
ugi
getCurrentUser
startWrite
nanoTime
collector
putEntities
Thread
toInterrupt
currentThread
sleep
interrupt
LOG
info
job
submit
interrupter
start
waitForCompletion
Path
outputDir
getOutputPath
Configuration
conf
FileSystem
fs
getLocal
FileStatus
stats
listStatus
valueSum
FSDataInputStream
istream
open
f
getPath
BufferedReader
r
InputStreamReader
String
line
Integer
valueOf
trim
close
maxVal
NUMBER_FILE_VAL
expectedPerMapper
expectedSum
numMaps
CLI
jc
createJobClient
ByteArrayOutputStream
out
exitCode
runTool
conf
String
assertEquals
line
BufferedReader
br
InputStreamReader
ByteArrayInputStream
toByteArray
counter
CLI
jc
createJobClient
ByteArrayOutputStream
out
exitCode
runTool
conf
String
assertEquals
jobId
line
BufferedReader
br
InputStreamReader
ByteArrayInputStream
toByteArray
counter
CLI
jc
createJobClient
ByteArrayOutputStream
out
exitCode
runTool
conf
String
assertEquals
line
BufferedReader
br
InputStreamReader
ByteArrayInputStream
toByteArray
counter
CLI
jc
createJobClient
ByteArrayOutputStream
out
exitCode
runTool
conf
String
assertEquals
jobId
line
BufferedReader
br
InputStreamReader
ByteArrayInputStream
toByteArray
counter
attemptId
substring
CLI
jc
createJobClient
ByteArrayOutputStream
out
exitCode
runTool
conf
String
assertEquals
jobId
line
BufferedReader
br
InputStreamReader
ByteArrayInputStream
toByteArray
ByteArrayOutputStream
out
exitCode
runTool
conf
createJobClient
String
assertEquals
BufferedReader
br
InputStreamReader
ByteArrayInputStream
toByteArray
line
counter
Job
job
runJobInBackGround
conf
ByteArrayOutputStream
out
String
line
counter
exitCode
runTool
createJobClient
assertEquals
BufferedReader
br
InputStreamReader
ByteArrayInputStream
toByteArray
PipedInputStream
pis
PipedOutputStream
pos
exitCode
runTool
conf
jc
String
assertEquals
BufferedReader
br
InputStreamReader
line
PipedInputStream
pis
PipedOutputStream
pos
exitCode
runTool
conf
jc
String
assertEquals
BufferedReader
br
InputStreamReader
line
job
setNumReduceTasks
getConfiguration
set
MRConfig
FRAMEWORK_NAME
LOCAL_FRAMEWORK_NAME
setInt
MRJobConfig
IO_SORT_FACTOR
setInputFormatClass
FakeIF
setOutputFormatClass
NullOutputFormat
setMapperClass
Mapper
setReducerClass
SpillReducer
setMapOutputKeyClass
KeyWritable
setMapOutputValueClass
ValWritable
setSortComparatorClass
VariableComparator
Configuration
conf
setInt
Job
COMPLETION_POLL_INTERVAL_KEY
job
getInstance
getConfiguration
MRJobConfig
IO_SORT_MB
setClass
RandomFactory
RecordFactory
Random
r
seed
nextLong
Configuration
conf
setInt
Job
COMPLETION_POLL_INTERVAL_KEY
job
getInstance
getConfiguration
MRJobConfig
IO_SORT_MB
setBoolean
MAP_OUTPUT_COMPRESS
setClass
RandomFactory
RecordFactory
Random
r
seed
nextLong
errors
IntWritable
i
ArrayList
expectedValues
errors
IntWritable
i
ArrayList
expectedValues
LOG
info
key
toString
values
mark
next
add
errors
IntWritable
i
ArrayList
expectedValues
LOG
info
key
toString
values
mark
next
add
reset
count
ArrayList
IntWritable
expectedValues
LOG
info
key
toString
values
mark
i
next
add
reset
count
IntWritable
i
errors
count
ArrayList
expectedValues
expectedValues1
IntWritable
i
errors
count
ArrayList
expectedValues
expectedValues1
LOG
info
key
values
mark
next
LOG
info
key
values
mark
i
next
expectedValues
add
count
reset
i
values
next
LOG
info
key
expectedValues
add
count
reset
errors
values
mark
LOG
info
key
i
expectedValues1
add
count
errors
reset
expectedValues1
add
i
count
LOG
info
errors
values
reset
expectedValues
clear
next
expectedValues
clear
i
values
next
LOG
info
key
errors
expectedValues1
get
count
mark
add
LOG
info
key
i
errors
expectedValues1
get
count
values
mark
expectedValues
add
IntWritable
i
errors
count
ArrayList
expectedValues
expectedValues1
IntWritable
i
errors
count
ArrayList
expectedValues
expectedValues1
LOG
info
key
values
mark
next
LOG
info
key
values
mark
i
next
expectedValues
add
count
reset
i
values
next
LOG
info
key
expectedValues
add
count
reset
errors
errors
LOG
info
expectedValues
get
count
i
values
mark
key
expectedValues1
add
reset
clear
errors
values
mark
LOG
info
key
i
expectedValues1
add
count
reset
expectedValues
clear
next
LOG
info
expectedValues
clear
count
i
values
next
key
errors
expectedValues1
get
mark
i
values
next
LOG
info
key
errors
expectedValues1
get
count
mark
expectedValues
add
reset
errors
IntWritable
i
ArrayList
expectedValues
errors
IntWritable
i
ArrayList
expectedValues
LOG
info
key
values
mark
count
next
LOG
info
key
i
values
mark
expectedValues
add
count
reset
errors
next
expectedValues
add
i
count
values
reset
LOG
info
errors
next
key
Path
outputFiles
FileUtil
stat2Paths
localFs
listStatus
TEST_ROOT_DIR
Utils
OutputFileUtils
OutputFilesFilter
InputStream
is
open
BufferedReader
reader
InputStreamReader
String
line
readLine
StringTokenizer
tokeniz
key
nextToken
value
job
setEntityType
JOB
setEntityId
jobInfo
getJobId
toString
setStartTime
getSubmitTime
addPrimaryFilter
getJobname
getUsername
addOtherInfo
getJobQueueName
getLaunchTime
getFinishTime
getJobStatus
getPriority
getTotalMaps
getTotalReduces
getUberized
getErrorInfo
Set
TimelineEntity
entities
HashSet
Map
TaskID
TaskInfo
taskInfoMap
jobInfo
getAllTasks
TimelineEntity
task
setEntityType
TASK
setEntityId
taskInfo
getTaskId
toString
setStartTime
getStartTime
addOtherInfo
getFinishTime
getTaskType
getTaskStatus
getError
Set
TimelineEntity
taskAttempts
HashSet
Map
TaskAttemptID
TaskAttemptInfo
taskAttemptInfoMap
taskInfo
getAllTaskAttempts
TimelineEntity
taskAttempt
setEntityType
TASK_ATTEMPT
setEntityId
taskAttemptInfo
getAttemptId
toString
setStartTime
getStartTime
addOtherInfo
getFinishTime
getMapFinishTime
getShuffleFinishTime
getSortFinishTime
getTaskStatus
getState
getError
getContainerId
job
addInfo
jobInfo
getUsername
getJobQueueName
getSubmitTime
getLaunchTime
getFinishTime
getJobStatus
getPriority
getTotalMaps
getTotalReduces
getUberized
getErrorInfo
Counters
totalCounters
getTotalCounters
addMetrics
addConfiguration
conf
List
TimelineEntity
entities
ArrayList
Map
TaskID
TaskInfo
taskInfoMap
jobInfo
getAllTasks
Set
TimelineEntity
taskAttempts
HashSet
Map
TaskAttemptID
TaskAttemptInfo
taskAttemptInfoMap
taskInfo
getAllTaskAttempts
Job
job
getInstance
conf
Random
random
seed
nextLong
setSeed
localFs
delete
workDir
FileInputFormat
setInputPaths
length
numFiles
createFiles
TaskAttemptContext
context
MapReduceTestUtil
createDummyMapTaskAttemptContext
getConfiguration
InputFormat
IntWritable
BytesWritable
format
CombineSequenceFileInputFormat
numSplits
nextInt
SequenceFile
SYNC_INTERVAL
Job
job
getInstance
conf
Random
random
seed
nextLong
setSeed
localFs
delete
workDir
FileInputFormat
setInputPaths
length
numFiles
createFiles
TaskAttemptContext
context
MapReduceTestUtil
createDummyMapTaskAttemptContext
getConfiguration
InputFormat
IntWritable
BytesWritable
format
CombineSequenceFileInputFormat
numSplits
nextInt
SequenceFile
SYNC_INTERVAL
LOG
info
List
InputSplit
splits
getSplits
LOG
info
splits
size
assertEquals
InputSplit
split
get
CombineFileSplit
getClass
BitSet
bits
length
RecordReader
IntWritable
BytesWritable
reader
format
createRecordReader
context
MapContext
mcontext
MapContextImpl
job
getConfiguration
getTaskAttemptID
MapReduceTestUtil
createDummyReporter
initialize
CombineFileRecordReader
key
getCurrentKey
value
getCurrentValue
assertNotNull
k
Job
job
getInstance
Configuration
defaultConf
Random
random
seed
nextLong
Job
job
getInstance
Configuration
defaultConf
Random
random
seed
nextLong
LOG
info
setSeed
localFs
delete
workDir
FileInputFormat
setInputPaths
length
numFiles
createFiles
CombineTextInputFormat
format
numSplits
nextInt
Job
job
getInstance
Configuration
defaultConf
Random
random
seed
nextLong
LOG
info
setSeed
localFs
delete
workDir
FileInputFormat
setInputPaths
length
numFiles
createFiles
CombineTextInputFormat
format
numSplits
nextInt
List
InputSplit
splits
getSplits
localFs
delete
workDir
FileInputFormat
setInputPaths
job
length
numFiles
createFiles
random
CombineTextInputFormat
format
numSplits
nextInt
LOG
info
List
InputSplit
splits
getSplits
size
assertEquals
split
get
CombineFileSplit
getClass
BitSet
bits
assertEquals
CombineFileSplit
split
getClass
BitSet
bits
length
LOG
debug
TaskAttemptContext
context
MapReduceTestUtil
createDummyMapTaskAttemptContext
job
getConfiguration
RecordReader
LongWritable
Text
reader
format
createRecordReader
CombineFileRecordReader
MapContext
mcontext
MapContextImpl
getTaskAttemptID
createDummyReporter
initialize
count
key
getCurrentKey
assertNotNull
value
getCurrentValue
v
Integer
parseInt
toString
Path
file
workDir
String
createFile
Job
job
getInstance
defaultConf
FileInputFormat
setInputPaths
FixedLengthInputFormat
format
List
InputSplit
splits
getSplits
exceptionThrown
TaskAttemptContext
context
MapReduceTestUtil
createDummyMapTaskAttemptContext
getConfiguration
RecordReader
LongWritable
BytesWritable
reader
createRecordReader
split
MapContext
mcontext
MapContextImpl
getTaskAttemptID
createDummyReporter
initialize
createFile
file
Job
job
getInstance
defaultConf
FixedLengthInputFormat
format
setRecordLength
getConfiguration
FileInputFormat
setInputPaths
workDir
List
InputSplit
splits
getSplits
exceptionThrown
TaskAttemptContext
context
MapReduceTestUtil
createDummyMapTaskAttemptContext
RecordReader
LongWritable
BytesWritable
reader
createRecordReader
split
MapContext
mcontext
MapContextImpl
getTaskAttemptID
createDummyReporter
initialize
createFile
file
Job
job
getInstance
defaultConf
FixedLengthInputFormat
format
setRecordLength
getConfiguration
FileInputFormat
setInputPaths
workDir
List
InputSplit
splits
getSplits
exceptionThrown
TaskAttemptContext
context
MapReduceTestUtil
createDummyMapTaskAttemptContext
RecordReader
LongWritable
BytesWritable
reader
createRecordReader
split
MapContext
mcontext
MapContextImpl
getTaskAttemptID
createDummyReporter
initialize
Path
file
workDir
fileName
toString
seed
Random
nextInt
LOG
info
random
MAX_TESTS
LongWritable
key
BytesWritable
value
totalRecords
recordLength
fileSize
totalRecords
recordLength
LOG
info
Job
job
getInstance
defaultConf
ReflectionUtils
setConf
codec
getConfiguration
ArrayList
String
recordList
createFile
file
assertTrue
localFs
exists
FixedLengthInputFormat
setRecordLength
numSplits
Math
floor
random
nextInt
fileName
append
ReflectionUtils
setConf
codec
job
getConfiguration
writeFile
localFs
Path
workDir
toString
FixedLengthInputFormat
format
setRecordLength
FileInputFormat
setInputPaths
List
InputSplit
splits
getSplits
assertEquals
size
exceptionThrown
String
results
readSplit
split
Job
job
getInstance
Configuration
defaultConf
Path
file
workDir
seed
Random
nextInt
Job
job
getInstance
Configuration
defaultConf
Path
file
workDir
seed
Random
nextInt
LOG
info
random
localFs
delete
FileInputFormat
setInputPaths
MAX_LENGTH
MAX_LENGTH
LOG
debug
length
Writer
writer
OutputStreamWriter
localFs
create
file
write
Integer
toString
i
close
KeyValueTextInputFormat
format
numSplits
random
nextInt
LOG
debug
length
Writer
writer
OutputStreamWriter
localFs
create
file
write
Integer
toString
i
close
KeyValueTextInputFormat
format
numSplits
random
nextInt
MAX_LENGTH
List
InputSplit
splits
getSplits
job
writer
write
Integer
toString
i
close
KeyValueTextInputFormat
format
numSplits
random
nextInt
MAX_LENGTH
LOG
debug
List
InputSplit
splits
getSplits
job
size
BitSet
bits
length
count
key
reader
getCurrentKey
clazz
getClass
assertEquals
Text
value
getCurrentValue
k
Integer
parseInt
toString
v
LOG
debug
assertFalse
bits
get
Configuration
conf
job
getConfiguration
CompressionCodec
codec
ReflectionUtils
newInstance
getClassByName
IOException
Path
file
workDir
getDefaultExtension
seed
Random
nextInt
LOG
info
random
localFs
delete
FileInputFormat
setInputPaths
MAX_LENGTH
setMaxInputSplitSize
RecordReader
Text
reader
format
createRecordReader
splits
get
j
context
Class
clazz
getClass
MapContext
mcontext
MapContextImpl
job
getConfiguration
getTaskAttemptID
MapReduceTestUtil
createDummyReporter
initialize
key
value
count
getCurrentKey
getCurrentValue
k
Integer
parseInt
toString
v
assertEquals
MapContext
Text
mcontext
MapContextImpl
job
getConfiguration
context
getTaskAttemptID
reader
MapReduceTestUtil
createDummyReporter
splits
get
j
initialize
key
value
count
getCurrentKey
getCurrentValue
k
Integer
parseInt
toString
v
assertEquals
LOG
debug
assertFalse
bits
LOG
info
SequenceFileInputFilter
setFilterClass
job
RegexFilter
setPattern
getConfiguration
fs
delete
inDir
LOG
info
SequenceFileInputFilter
setFilterClass
job
PercentFilter
setFrequency
getConfiguration
fs
delete
inDir
LOG
info
SequenceFileInputFilter
setFilterClass
job
PercentFilter
setFrequency
getConfiguration
fs
delete
inDir
length
createSequenceFile
count
countRecords
LOG
info
SequenceFileInputFilter
setFilterClass
job
MD5Filter
setFrequency
getConfiguration
fs
delete
inDir
LOG
info
input
String
keySpecs
helper
get
toString
LOG
info
input
String
keySpecs
helper
get
toString
inputBytes
getBytes
e1
length
indices
getWordLengths
s1
start
getStartOffset
assertEquals
end
getEndOffset
LOG
info
keySpecs
inputBytes
input
getBytes
e1
length
indices
helper
getWordLengths
s1
start
getStartOffset
get
assertEquals
end
getEndOffset
LOG
info
e1
indices
helper
getWordLengths
inputBytes
s1
start
getStartOffset
keySpecs
get
assertEquals
end
getEndOffset
length
outputBytes
System
arraycopy
String
output
LOG
info
e1
indices
helper
getWordLengths
inputBytes
s1
start
getStartOffset
keySpecs
get
assertEquals
end
getEndOffset
length
outputBytes
System
arraycopy
String
output
tokenFetchTime
JHSDelegationTokenSecretManager
initialInterval
maxLifetime
renewInterval
store
jobHistoryServer
init
conf
start
MRClientProtocol
hsService
getClientService
getClientHandler
UserGroupInformation
loggedInUser
createRemoteUser
Assert
assertEquals
getShortUserName
setAuthenticationMethod
AuthenticationMethod
KERBEROS
Token
token
getDelegationToken
System
currentTimeMillis
clientUsingDT
getJobReport
jobReportRequest
Assert
assertEquals
e
getMessage
Thread
sleep
nextExpTime
renewDelegationToken
loggedInUser
hsService
token
renewalTime
System
currentTimeMillis
LOG
info
LOG
info
renewalTime
nextExpTime
Thread
sleep
clientUsingDT
getJobReport
jobReportRequest
Assert
assertEquals
e
getMessage
System
currentTimeMillis
fail
Thread
sleep
LOG
info
System
currentTimeMillis
clientUsingDT
getJobReport
jobReportRequest
fail
assertTrue
e
getCause
getMessage
contains
token
getDelegationToken
loggedInUser
hsService
getShortUserName
tokenFetchTime
getMRClientProtocol
jobHistoryServer
getClientService
getBindAddress
conf
TaskUmbilicalProtocol
mockTT
mock
doReturn
versionID
when
getProtocolVersion
anyString
anyLong
ProtocolSignature
getProtocolSignature
getName
anyInt
JobTokenSecretManager
sm
Server
server
RPC
Builder
conf
setProtocol
setInstance
setBindAddress
ADDRESS
setPort
setNumHandlers
setVerbose
setSecretManager
build
start
UserGroupInformation
current
getCurrentUser
InetSocketAddress
addr
NetUtils
getConnectAddress
String
jobId
getUserName
JobTokenIdentifier
tokenId
Text
Token
token
addTokenForJob
SecurityUtil
setTokenService
String
cwd
System
getProperty
pathname
Path
toUri
getPath
cwdParts
split
SEPARATOR
pathParts
common
StringBuilder
sb
parentDirsRequired
cwdParts
length
append
Path
SEPARATOR
pathParts
i
String
s
toString
substring
conf
set
MRConfig
FRAMEWORK_NAME
YARN_FRAMEWORK_NAME
String
stagingDir
get
MRJobConfig
MR_AM_STAGING_DIR
File
getTestWorkDir
getAbsolutePath
setBoolean
YarnConfiguration
NM_PMEM_CHECK_ENABLED
NM_VMEM_CHECK_ENABLED
CommonConfigurationKeys
FS_PERMISSIONS_UMASK_KEY
Path
stagingPath
FileContext
getFileContext
makeQualified
fc
toUri
conf
set
MRJobConfig
MR_AM_STAGING_DIR
File
getTestWorkDir
getAbsolutePath
setBoolean
YarnConfiguration
NM_PMEM_CHECK_ENABLED
NM_VMEM_CHECK_ENABLED
CommonConfigurationKeys
FS_PERMISSIONS_UMASK_KEY
Path
stagingPath
FileContext
getFileContext
makeQualified
get
fc
toUri
LOG
info
delete
Configuration
sleepConf
mrCluster
getConfig
Assume
assumeFalse
get
YarnConfiguration
RM_SCHEDULER
equals
FairScheduler
getCanonicalName
Configuration
sleepConf
mrCluster
getConfig
LOG
info
useCustomClasses
LOG
info
LOG
info
Path
localJobJarPath
makeJobJarWithLib
TEST_ROOT_DIR
toUri
toString
job
waitForCompletion
Counters
counterMR
getCounters
JobId
jobId
TypeConverter
toYarn
getJobID
ApplicationId
appID
getAppId
pollElapsed
Thread
sleep
LOG
warn
Assert
assertEquals
RMAppState
FINISHED
mrCluster
getResourceManager
getRMContext
getRMApps
get
getState
counterHS
LOG
info
LOG
info
LOG
info
bufferSize
conf
getInt
Constants
NATIVE_PROCESSOR_BUFFER_KB
context
job
getJobConf
Platforms
init
String
message
context
job
getJobConf
Platforms
init
String
message
LOG
error
InvalidJobConfException
Class
comparatorClass
getClass
MRJobConfig
KEY_COMPARATOR
RawComparator
get
Constants
MAP_SORT_CLASS
String
message
LOG
error
InvalidJobConfException
Class
comparatorClass
job
getClass
MRJobConfig
KEY_COMPARATOR
RawComparator
get
Constants
MAP_SORT_CLASS
String
message
job
get
MRJobConfig
KEY_COMPARATOR
LOG
error
InvalidJobConfException
Constants
MAP_SORT_CLASS
Class
keyCls
getMapOutputKeyClass
SuppressWarnings
INativeSerializer
serializer
NativeSerialization
getInstance
getSerializer
String
message
job
get
Constants
MAP_SORT_CLASS
LOG
error
InvalidJobConfException
Class
keyCls
getMapOutputKeyClass
SuppressWarnings
INativeSerializer
serializer
NativeSerialization
getInstance
getSerializer
getName
String
message
LOG
error
InvalidJobConfException
Class
keyCls
job
getMapOutputKeyClass
SuppressWarnings
INativeSerializer
serializer
NativeSerialization
getInstance
getSerializer
getName
SuppressWarnings
INativeSerializer
serializer
NativeSerialization
getInstance
getSerializer
keyCls
String
message
getName
LOG
error
InvalidJobConfException
IOException
ret
NativeRuntime
isNativeLibraryLoaded
LOG
error
message
InvalidJobConfException
String
keyCls
getName
IOException
ret
NativeRuntime
isNativeLibraryLoaded
codec
job
get
MRJobConfig
MAP_OUTPUT_COMPRESS_CODEC
configure
String
codec
job
get
MRJobConfig
MAP_OUTPUT_COMPRESS_CODEC
message
LOG
error
InvalidJobConfException
NativeRuntime
configure
updateInterval
getLong
Constants
NATIVE_STATUS_UPDATE_INTERVAL
NATIVE_STATUS_UPDATE_INTERVAL_DEFVAL
updater
StatusReportChecker
context
getReporter
start
handler
Class
clazz
conf
getClass
OutputUtil
NATIVE_TASK_OUTPUT_MANAGER
NativeTaskOutputFiles
Configuration
normalConf
ScenarioConfiguration
getNormalConfiguration
nativeConf
getNativeConfiguration
addResource
TestConstants
COMBINER_CONF_PATH
deafult_KVSize_Maximum
KVSize_Maximum
getInt
NATIVETASK_KVSIZE_MAX_LARGEKV_TEST
String
inputPath
NATIVETASK_COMBINER_TEST_INPUTDIR
nativeOutputPath
NATIVETASK_COMBINER_TEST_NATIVE_OUTPUTDIR
hadoopOutputPath
NATIVETASK_COMBINER_TEST_NORMAL_OUTPUTDIR
FileSystem
fs
get
max
i
min
Math
String
valueClassesStr
nativekvtestconf
get
TestConstants
NATIVETASK_KVTEST_VALUECLASSES
String
valueClassesStr
nativekvtestconf
get
TestConstants
NATIVETASK_KVTEST_VALUECLASSES
LOG
info
List
Class
valueClasses
parseClassNames
keyClassesStr
NATIVETASK_KVTEST_KEYCLASSES
ServerBootstrap
bootstrap
selector
timer
HashedWheelTimer
pipelineFact
HttpPipelineFactory
conf
RuntimeException
ex
setOption
getInt
SHUFFLE_LISTEN_QUEUE_SIZE
DEFAULT_SHUFFLE_LISTEN_QUEUE_SIZE
setPipelineFactory
port
SHUFFLE_PORT_CONFIG_KEY
DEFAULT_SHUFFLE_PORT
Channel
ch
bind
InetSocketAddress
accepted
add
getLocalAddress
getPort
set
Integer
toString
SHUFFLE
setPort
Options
options
createIfMissing
Path
dbPath
recoveryRoot
STATE_DB_NAME
Version
loadedVersion
loadVersion
userRsrc
put
jobId
toString
user
secretManager
addTokenForJob
jobToken
assumeTrue
NativeIO
isAvailable
Configuration
conf
setInt
ShuffleHandler
SHUFFLE_PORT_CONFIG_KEY
MAX_SHUFFLE_CONNECTIONS
set
CommonConfigurationKeysPublic
HADOOP_SECURITY_AUTHENTICATION
UserGroupInformation
setConfiguration
YarnConfiguration
NM_LOCAL_DIRS
ABS_LOG_DIR
getAbsolutePath
ApplicationId
appId
newInstance
parseLists
String
list
StringUtils
split
input
File
pathSeparatorChar
parseLists
String
list
StringUtils
split
input
File
pathSeparatorChar
LOG
info
item
expanded
expandEnvironmentVariables
System
getenv
parseLists
String
list
StringUtils
split
input
File
pathSeparatorChar
LOG
info
item
expanded
expandEnvironmentVariables
System
getenv
path
substring
length
files
listFiles
addJar
jar
lastIndex
target
indexOf
targetPath
Path
substring
length
alias
getName
lastIndex
target
indexOf
targetPath
Path
substring
length
alias
getName
LOG
info
FileSystem
fileSystem
getFileSystem
conf
targetStream
lastIndex
target
indexOf
targetPath
Path
substring
length
alias
getName
LOG
info
FileSystem
fileSystem
getFileSystem
conf
targetStream
initialReplication
FileSystem
fileSystem
targetPath
getFileSystem
conf
targetStream
LOG
info
initialReplication
DistributedFileSystem
dfs
HdfsDataOutputStreamBuilder
builder
createFile
overwrite
ecPolicyName
SystemErasureCodingPolicies
getReplicationPolicy
getName
replication
build
warn
getClass
create
FileSystem
fileSystem
targetPath
getFileSystem
conf
setReplication
finalReplication
FileSystem
fileSystem
targetPath
getFileSystem
conf
setReplication
finalReplication
LOG
info
startTime
System
currentTimeMillis
endTime
currentReplication
Thread
sleep
getSmallestReplicatedBlockCount
fileSystem
setReplication
targetPath
finalReplication
LOG
info
startTime
System
currentTimeMillis
endTime
currentReplication
Thread
sleep
getSmallestReplicatedBlockCount
error
String
format
timeout
acceptableReplication
beginUpload
LOG
info
Map
String
env
System
getenv
found
Matcher
matcher
pattern
jar
getAbsolutePath
LOG
info
found
excluded
checkSymlink
found
excluded
Matcher
matcher
pattern
jar
getAbsolutePath
LOG
info
checkSymlink
UploaderException
excluded
Matcher
matcher
pattern
jar
getAbsolutePath
LOG
info
checkSymlink
UploaderException
java
nio
file
Path
link
Files
readSymbolicLink
jar
toPath
jarPath
Paths
get
getAbsolutePath
String
linkString
toString
jarParent
getParent
linkPath
resolve
linkPathParent
normalizedLinkPath
normalize
initialReplication
Short
parseShort
parser
getCommandLine
getOptionValue
finalReplication
acceptableReplication
timeout
Integer
parseInt
ignoreSymlink
String
fs
path
isFullPath
startsWith
conf
getTrimmed
FS_DEFAULT_NAME_KEY
LOG
error
printHelp
opts
String
countAccessQuery
sumPageviewQuery
Statement
st
ResultSet
rs
connection
createStatement
executeQuery
next
totalPageview
getLong
sumPageview
String
countAccessQuery
sumPageviewQuery
Statement
st
ResultSet
rs
connection
createStatement
executeQuery
next
totalPageview
getLong
sumPageview
LOG
info
tasksToPick
Math
min
slotsPerHost
ceil
remainingSplits
hosts
size
Split
best
String
key
pathToKey
f
String
key
pathToKey
path
String
key
pathToKey
path
LOG
debug
List
FileStatus
result
ArrayList
fileStatus
getFileStatus
ObjectListing
objects
store
listObjects
maxKeys
objKey
objectSummary
getKey
List
FileStatus
result
ArrayList
fileStatus
getFileStatus
path
LOG
debug
key
ObjectListing
objects
store
listObjects
maxKeys
String
objKey
objectSummary
getKey
Path
keyPath
keyToPath
makeQualified
uri
workingDir
ObjectListing
objects
store
listObjects
key
maxKeys
String
objKey
objectSummary
getKey
LOG
debug
Path
keyPath
keyToPath
makeQualified
uri
workingDir
result
add
OSSFileStatus
getSize
getDefaultBlockSize
getLastModified
getTime
username
LOG
debug
objKey
Path
keyPath
keyToPath
objectSummary
getKey
makeQualified
uri
workingDir
result
add
OSSFileStatus
getSize
getDefaultBlockSize
getLastModified
getTime
username
prefix
Path
qualifiedPath
f
makeQualified
uri
workingDir
String
key
pathToKey
clientConf
setProxyHost
proxyHost
setProxyPort
proxyPort
LOG
warn
String
proxyUsername
conf
getTrimmed
PROXY_USERNAME_KEY
proxyPassword
PROXY_PASSWORD_KEY
msg
clientConf
setProxyPort
LOG
warn
String
proxyUsername
conf
getTrimmed
PROXY_USERNAME_KEY
proxyPassword
PROXY_PASSWORD_KEY
msg
error
IllegalArgumentException
setProxyUsername
setProxyPassword
setProxyDomain
PROXY_DOMAIN_KEY
setProxyWorkstation
PROXY_WORKSTATION_KEY
CopyObjectResult
copyResult
ossClient
copyObject
bucketName
srcKey
dstKey
statistics
incrementWriteOps
tries
instream
FileInputStream
file
UploadPartRequest
uploadRequest
setBucketName
bucketName
setKey
key
setUploadId
uploadId
setInputStream
setPartSize
length
setPartNumber
idx
UploadPartResult
uploadResult
ossClient
uploadPart
statistics
incrementWriteOps
getPartETag
v
conf
getInt
key
defVal
Preconditions
checkArgument
min
String
format
v
conf
getLong
key
defVal
Preconditions
checkArgument
min
String
format
Path
smallSeekFile
setPath
size
ContractTestUtils
generateTestFile
fs
LOG
info
FSDataInputStream
instream
open
seekTimes
pos
i
Path
smallSeekFile
setPath
size
ContractTestUtils
generateTestFile
fs
LOG
info
FSDataInputStream
instream
open
seekTimes
pos
i
seek
assertTrue
getPos
ContractTestUtils
generateTestFile
fs
smallSeekFile
size
LOG
info
FSDataInputStream
instream
open
seekTimes
pos
i
seek
assertTrue
getPos
Random
rand
Math
abs
nextLong
seekTimes
LOG
info
pos
size
i
instream
seek
assertTrue
getPos
Random
rand
Math
abs
nextLong
bufLen
sizeFlag
String
filename
Path
readTestFile
setPath
size
ContractTestUtils
generateTestFile
fs
testListEmptyRootDirectory
LOG
info
attempt
maxAttempts
Thread
sleep
currentThread
interrupt
fail
List
LogAggregationFileController
fileControllers
factory
getConfiguredLogAggregationFileControllerList
LOG
info
YarnConfiguration
LOG_AGGREGATION_FILE_FORMATS
fs
FileSystem
get
conf
previousTotal
Path
remoteRootLogDir
fileController
getRemoteRootLogDir
String
suffix
getRemoteRootLogDirSuffix
workingDir
getClass
getName
LOG
info
YarnConfiguration
LOG_AGGREGATION_FILE_FORMATS
fs
FileSystem
get
conf
previousTotal
Path
remoteRootLogDir
fileController
getRemoteRootLogDir
String
suffix
getRemoteRootLogDirSuffix
workingDir
getClass
getName
LOG
info
YarnConfiguration
LOG_AGGREGATION_FILE_FORMATS
fs
FileSystem
get
conf
previousTotal
Path
remoteRootLogDir
fileController
getRemoteRootLogDir
String
suffix
getRemoteRootLogDirSuffix
workingDir
getClass
getName
Path
workingDir
remoteRootLogDir
LOG
info
fileController
getClass
getName
suffix
checkFilesAndSeedApps
fs
filterAppsByAggregatedStatus
workingDirs
add
previousTotal
eligibleApplications
size
checkMaxEligible
checkFilesAndSeedApps
fs
remoteRootLogDir
suffix
workingDir
filterAppsByAggregatedStatus
workingDirs
add
previousTotal
eligibleApplications
size
checkMaxEligible
LOG
info
error
toString
StringBuilder
sb
opts
addOption
maxTotalLogsSizeOpt
memoryOpt
verboseOpt
forceOpt
noProxyOpt
CommandLineParser
parser
GnuParser
CommandLine
commandLine
parse
args
HelpFormatter
formatter
printHelp
System
exit
maxEligible
Integer
parseInt
getOptionValue
MAX_ELIGIBLE_APPS_OPTION
YarnClient
client
createYarnClient
init
getConf
start
AppInfo
app
it
next
ApplicationReport
report
getApplicationReport
ApplicationId
fromString
getAppId
LogAggregationStatus
aggStatus
getLogAggregationStatus
YarnClient
client
createYarnClient
init
getConf
start
AppInfo
app
it
next
ApplicationReport
report
getApplicationReport
ApplicationId
fromString
getAppId
LogAggregationStatus
aggStatus
getLogAggregationStatus
LOG
info
remove
AppInfo
app
it
next
ApplicationReport
report
client
getApplicationReport
ApplicationId
fromString
getAppId
LogAggregationStatus
aggStatus
getLogAggregationStatus
LOG
info
remove
setFinishTime
getFinishTime
Path
userLogPath
userIt
next
getPath
appLogPath
appIt
FileStatus
files
fs
listStatus
eligible
totalFileSize
FileStatus
files
fs
listStatus
appLogPath
eligible
totalFileSize
LOG
info
getName
file
getLen
totalFileSize
eligible
LOG
info
appLogPath
getName
file
getLen
maxTotalLogsSize
eligible
LOG
info
appLogPath
getName
totalFileSize
maxTotalLogsSize
userLogPath
AppInfo
context
setAppId
setUser
setSuffix
suffix
setRemoteRootLogDir
remoteRootLogDir
setWorkingDir
workingDir
eligibleApplications
add
LOG
info
appLogPath
getName
totalFileSize
maxTotalLogsSize
userLogPath
AppInfo
context
setAppId
setUser
setSuffix
suffix
setRemoteRootLogDir
remoteRootLogDir
setWorkingDir
workingDir
eligibleApplications
add
files
length
minNumLogFiles
LOG
info
appLogPath
getName
userLogPath
AppInfo
context
setAppId
setUser
setSuffix
suffix
setRemoteRootLogDir
remoteRootLogDir
setWorkingDir
workingDir
eligibleApplications
add
files
length
minNumLogFiles
String
dsArgs
ApplicationMaster
getProtectionDomain
getCodeSource
getLocation
getPath
Integer
toString
eligibleApplications
size
Long
memory
localScript
getAbsolutePath
handleOpts
args
Integer
exitCode
UserGroupInformation
loginUser
getLoginUser
checkNotEmpty
lastProvider
getCredentials
AmazonClientException
lastException
AWSCredentials
credentials
provider
Preconditions
checkNotNull
LOG
debug
e
lastProvider
getCredentials
AmazonClientException
lastException
AWSCredentials
credentials
provider
Preconditions
checkNotNull
LOG
debug
e
toString
p
getDelayKeyProbability
delay
key
contains
getDelayKeySubstring
trueWithProbability
String
key
deleteObjectRequest
getKey
String
key
item
getKey
Path
prefixCandidate
child
getParent
ancestorPath
ancestor
Preconditions
checkArgument
startsWith
nextParent
String
prefix
toString
maybeFail
S3Object
o
getObject
var1
S3Object
o
getObject
bucketName
key
Preconditions
checkArgument
retrying
retryCount
Exception
caught
RetryPolicy
RetryAction
retryAction
shouldRetry
String
key
maybeAddTrailingSlash
pathToKey
path
delimiter
recursive
delta
upload
getProgress
getBytesTransferred
lastBytesTransferred
blockCount
bytes
putObject
bytesSubmitted
uploadCurrentBlock
List
PartETag
partETags
multiPartUpload
waitForAllPartUploads
complete
LOG
info
key
statistics
commitUploaded
uploadCurrentBlock
List
PartETag
partETags
multiPartUpload
waitForAllPartUploads
bytes
bytesSubmitted
complete
LOG
info
key
statistics
commitUploaded
debug
writeOperationHelper
abort
writeFailed
ioe
bucket
name
getHost
initCannedAcls
conf
doBucketProbing
inputPolicy
S3AInputPolicy
getPolicy
getTrimmed
INPUT_FADVISE
INPUT_FADV_NORMAL
LOG
debug
changeDetectionPolicy
ChangeDetectionPolicy
magicCommitterEnabled
getBoolean
CommitConstants
MAGIC_COMMITTER_ENABLED
DEFAULT_MAGIC_COMMITTER_ENABLED
committerIntegration
MagicCommitIntegration
selectBinding
SelectBinding
writeHelper
blockUploadEnabled
FAST_UPLOAD
warn
blockOutputBuffer
FAST_UPLOAD_BUFFER
DEFAULT_FAST_UPLOAD_BUFFER
partSize
ensureOutputParameterInRange
MULTIPART_SIZE
LOG
debug
magicCommitterEnabled
committerIntegration
MagicCommitIntegration
selectBinding
SelectBinding
writeHelper
blockUploadEnabled
conf
getBoolean
FAST_UPLOAD
warn
blockOutputBuffer
getTrimmed
FAST_UPLOAD_BUFFER
DEFAULT_FAST_UPLOAD_BUFFER
partSize
ensureOutputParameterInRange
MULTIPART_SIZE
blockFactory
S3ADataBlocks
createFactory
blockOutputActiveBlocks
intOption
FAST_UPLOAD_ACTIVE_BLOCKS
DEFAULT_FAST_UPLOAD_ACTIVE_BLOCKS
authDirTtl
getTimeDuration
METADATASTORE_METADATA_TTL
DEFAULT_METADATASTORE_METADATA_TTL
TimeUnit
MILLISECONDS
ttlTimeProvider
S3Guard
TtlTimeProvider
setMetadataStore
getMetadataStore
allowAuthoritativeMetadataStore
METADATASTORE_AUTHORITATIVE
DEFAULT_METADATASTORE_AUTHORITATIVE
Preconditions
checkArgument
seconds
Date
purgeBefore
getTime
Preconditions
checkNotNull
client
Objects
requireNonNull
inputPolicy
Path
q
makeQualified
path
String
urlString
toUri
toString
bytesCopied
innerRename
src
dst
S3AFileStatus
srcStatus
innerGetFileStatus
src
StatusProbeEnum
ALL
LOG
debug
dst
RenameFailedException
withExitCode
isFile
dstStatus
Path
src
qualify
source
dst
dest
GetObjectMetadataRequest
request
bucket
key
generateSSECustomerKey
ifPresent
setSSECustomerKey
incrementStatistic
OBJECT_METADATA_REQUESTS
incrementReadOperations
incrementStatistic
OBJECT_LIST_REQUESTS
len
getPutRequestLength
putObjectRequest
len
getPutRequestLength
putObjectRequest
LOG
debug
keysToDelete
size
String
key
pathToKey
f
Path
path
qualify
f
String
key
pathToKey
Path
path
qualify
f
String
key
pathToKey
LOG
debug
entryPoint
INVOCATION_LIST_STATUS
List
S3AFileStatus
result
fileStatus
innerGetFileStatus
StatusProbeEnum
ALL
allowAuthoritative
DirListingMetadata
dirMeta
S3Guard
listChildrenWithTtl
metadataStore
ttlTimeProvider
dirMetaToStatuses
S3ListRequest
request
createListObjectsRequest
key
allowAuthoritative
f
DirListingMetadata
dirMeta
S3Guard
listChildrenWithTtl
metadataStore
path
ttlTimeProvider
dirMetaToStatuses
S3ListRequest
request
createListObjectsRequest
LOG
debug
Listing
FileStatusListingIterator
files
listing
createFileStatusListingIterator
ACCEPT_ALL
AcceptAllButSelfAndS3nDirs
result
ArrayList
getBatchSize
add
next
dirListingUnion
Path
f
qualify
p
Path
path
qualify
f
String
key
pathToKey
Path
path
qualify
f
String
key
pathToKey
LOG
debug
needEmptyDirectoryFlag
allowAuthoritative
PathMetadata
pm
S3Guard
getWithTtl
metadataStore
ttlTimeProvider
Set
tombstones
Collections
emptySet
S3AFileStatus
msStatus
getFileStatus
OffsetDateTime
deletedAt
ofInstant
Instant
ofEpochMilli
getModificationTime
ZoneOffset
UTC
FileNotFoundException
allowAuthoritative
path
PathMetadata
pm
S3Guard
getWithTtl
metadataStore
ttlTimeProvider
needEmptyDirectoryFlag
Set
Path
tombstones
Collections
emptySet
S3AFileStatus
msStatus
getFileStatus
OffsetDateTime
deletedAt
ofInstant
Instant
ofEpochMilli
getModificationTime
ZoneOffset
UTC
FileNotFoundException
LOG
debug
validTime
getNow
getMetadataTtl
msModTime
Set
Path
tombstones
Collections
emptySet
S3AFileStatus
msStatus
pm
getFileStatus
OffsetDateTime
deletedAt
ofInstant
Instant
ofEpochMilli
getModificationTime
ZoneOffset
UTC
FileNotFoundException
path
LOG
debug
validTime
ttlTimeProvider
getNow
getMetadataTtl
msModTime
s3AFileStatus
s3GetFileStatus
key
probes
needEmptyDirectoryFlag
s3ModTime
s3ModTime
s3AFileStatus
getModificationTime
LOG
debug
path
msModTime
S3Guard
putAndReturn
metadataStore
ttlTimeProvider
refreshEntry
pm
warn
msStatus
DirListingMetadata
children
listChildrenWithTtl
allowAuthoritative
LOG
debug
path
Preconditions
checkArgument
needEmptyDirectoryFlag
probes
contains
StatusProbeEnum
List
ObjectMetadata
meta
getObjectMetadata
key
listSize
Math
min
tombstones
size
max
maxKeys
S3ListRequest
request
createListObjectsRequest
dirKey
S3ListResult
listResult
listObjects
LOG
debug
logAtDebug
S3AFileStatus
Tristate
TRUE
path
username
FALSE
entryPoint
INVOCATION_COPY_FROM_LOCAL_FILE
entryPoint
INVOCATION_COPY_FROM_LOCAL_FILE
LOG
debug
srcKey
dstKey
ChangeTracker
changeTracker
keyToQualifiedPath
toString
changeDetectionPolicy
readContext
instrumentation
newInputStreamStatistics
getVersionMismatchCounter
srcAttributes
String
action
Invoker
readInvoker
getReadInvoker
ObjectMetadata
srcom
once
getObjectMetadata
String
sourceKMSId
srcom
getSSEAwsKmsKeyId
stateToClose
S3Guard
initiateBulkWrite
metadataStore
isDir
BulkOperationState
OperationType
Mkdir
Put
keyToPath
key
activeState
addAncestors
p
ttlTimeProvider
S3AFileStatus
status
createUploadFileStatus
length
getDefaultBlockSize
username
eTag
versionId
authoritative
setIsEmptyDirectory
Tristate
TRUE
allowAuthoritative
putAndReturn
putAuthDirectoryMarker
waitForCompletionIgnoringExceptions
deletion
Preconditions
checkArgument
length
entryPoint
INVOCATION_GET_FILE_CHECKSUM
Path
path
qualify
f
entryPoint
INVOCATION_LIST_FILES
Path
path
qualify
f
entryPoint
INVOCATION_LIST_FILES
Path
path
qualify
f
LOG
debug
recursive
entryPoint
INVOCATION_LIST_LOCATED_STATUS
Path
path
qualify
f
String
destKey
uploadId
upload
getKey
getUploadId
DateFormat
df
SimpleDateFormat
Path
path
qualify
rawPath
Configuration
options
parameters
getOptions
Set
String
mandatoryKeys
getMandatoryKeys
sql
get
SelectConstants
SELECT_SQL
isSelect
rejectUnknownMandatoryKeys
InternalSelectConstants
SELECT_OPTIONS
InternalConstants
STANDARD_OPENFILE_KEYS
FileStatus
providedStatus
getStatus
S3AFileStatus
fileStatus
Preconditions
checkArgument
equals
getPath
Set
String
mandatoryKeys
parameters
getMandatoryKeys
sql
options
get
SelectConstants
SELECT_SQL
isSelect
rejectUnknownMandatoryKeys
InternalSelectConstants
SELECT_OPTIONS
path
InternalConstants
STANDARD_OPENFILE_KEYS
FileStatus
providedStatus
getStatus
S3AFileStatus
fileStatus
Preconditions
checkArgument
equals
getPath
LOG
debug
rejectUnknownMandatoryKeys
mandatoryKeys
InternalSelectConstants
SELECT_OPTIONS
path
InternalConstants
STANDARD_OPENFILE_KEYS
FileStatus
providedStatus
parameters
getStatus
S3AFileStatus
fileStatus
Preconditions
checkArgument
equals
getPath
LOG
debug
S3ALocatedFileStatus
toS3AFileStatus
diff
targetPos
pos
available
wrappedStream
forwardSeekRange
Math
max
readahead
remainingInCurrentRequest
forwardSeekLimit
min
skipForward
LOG
debug
uri
streamStatistics
seekForwards
skipped
skip
incrementBytesRead
remaining
remainingInCurrentRequest
MutableMetric
metric
lookupMetric
name
MutableMetric
metric
lookupMetric
name
updated
opsCount
get
op
addAndGet
count
S3xLoginHelper
rejectSecretsInURIs
binding
AWSCredentialProviderList
credentials
buildAWSProviderList
conf
AWS_CREDENTIALS_PROVIDER
STANDARD_AWS_PROVIDERS
HashSet
v
conf
getInt
key
defVal
Preconditions
checkArgument
min
String
format
v
conf
getLong
key
defVal
Preconditions
checkArgument
min
String
format
v
conf
getLongBytes
key
defVal
Preconditions
checkArgument
min
String
format
Preconditions
checkArgument
StringUtils
isNotEmpty
bucket
String
bucketPrefix
FS_S3A_BUCKET_PREFIX
Preconditions
checkArgument
StringUtils
isNotEmpty
bucket
String
bucketPrefix
FS_S3A_BUCKET_PREFIX
LOG
debug
Configuration
dest
source
key
entry
getKey
value
getValue
stripped
substring
length
origin
join
getPropertySources
generic
FS_S3A_PREFIX
initProxySupport
conf
bucket
awsConf
initUserAgent
String
configKey
signerOverride
getTrimmed
awsConf
setMaxConnections
intOption
conf
MAXIMUM_CONNECTIONS
DEFAULT_MAXIMUM_CONNECTIONS
initProtocolSettings
setMaxErrorRetry
MAX_ERROR_RETRIES
DEFAULT_MAX_ERROR_RETRIES
setConnectionTimeout
ESTABLISH_TIMEOUT
DEFAULT_ESTABLISH_TIMEOUT
setSocketTimeout
SOCKET_TIMEOUT
DEFAULT_SOCKET_TIMEOUT
sockSendBuffer
SOCKET_SEND_BUFFER
DEFAULT_SOCKET_SEND_BUFFER
sockRecvBuffer
SOCKET_RECV_BUFFER
DEFAULT_SOCKET_RECV_BUFFER
requestTimeoutMillis
getTimeDuration
REQUEST_TIMEOUT
DEFAULT_REQUEST_TIMEOUT
TimeUnit
SECONDS
MILLISECONDS
awsConf
setMaxConnections
intOption
conf
MAXIMUM_CONNECTIONS
DEFAULT_MAXIMUM_CONNECTIONS
initProtocolSettings
setMaxErrorRetry
MAX_ERROR_RETRIES
DEFAULT_MAX_ERROR_RETRIES
setConnectionTimeout
ESTABLISH_TIMEOUT
DEFAULT_ESTABLISH_TIMEOUT
setSocketTimeout
SOCKET_TIMEOUT
DEFAULT_SOCKET_TIMEOUT
sockSendBuffer
SOCKET_SEND_BUFFER
DEFAULT_SOCKET_SEND_BUFFER
sockRecvBuffer
SOCKET_RECV_BUFFER
DEFAULT_SOCKET_RECV_BUFFER
requestTimeoutMillis
getTimeDuration
REQUEST_TIMEOUT
DEFAULT_REQUEST_TIMEOUT
TimeUnit
SECONDS
MILLISECONDS
LOG
debug
Integer
MAX_VALUE
setRequestTimeout
setSocketBufferSizeHints
String
signerOverride
getTrimmed
SIGNING_ALGORITHM
awsConf
setProxyHost
proxyHost
setProxyPort
proxyPort
LOG
warn
String
proxyUsername
lookupPassword
bucket
conf
PROXY_USERNAME
proxyPassword
PROXY_PASSWORD
msg
LOG
warn
awsConf
setProxyPort
String
proxyUsername
lookupPassword
bucket
conf
PROXY_USERNAME
proxyPassword
PROXY_PASSWORD
msg
error
IllegalArgumentException
setProxyUsername
setProxyPassword
setProxyDomain
getTrimmed
PROXY_DOMAIN
setProxyWorkstation
PROXY_WORKSTATION
LOG
warn
awsConf
setProxyPort
String
proxyUsername
lookupPassword
bucket
conf
PROXY_USERNAME
proxyPassword
PROXY_PASSWORD
msg
error
IllegalArgumentException
setProxyUsername
setProxyPassword
setProxyDomain
getTrimmed
PROXY_DOMAIN
setProxyWorkstation
PROXY_WORKSTATION
debug
getProxyHost
getProxyPort
valueOf
getProxyUsername
getProxyPassword
getProxyDomain
getProxyWorkstation
Collection
String
customCredentials
conf
getStringCollection
S3A_SECURITY_CREDENTIAL_PROVIDER_PATH
hadoopCredentials
CREDENTIAL_PROVIDER_PATH
List
all
Lists
newArrayList
addAll
joined
StringUtils
join
String
baseKey
genericKey
startsWith
FS_S3A_PREFIX
substring
length
k
FS_S3A_BUCKET_PREFIX
bucket
Map
Class
Exception
RetryPolicy
b
createExceptionMap
Configuration
conf
getConfiguration
limit
getInt
S3GUARD_CONSISTENCY_RETRY_LIMIT
S3GUARD_CONSISTENCY_RETRY_LIMIT_DEFAULT
interval
getTimeDuration
S3GUARD_CONSISTENCY_RETRY_INTERVAL
S3GUARD_CONSISTENCY_RETRY_INTERVAL_DEFAULT
TimeUnit
MILLISECONDS
retryPolicy
retryUpToMaximumCountWithProportionalSleep
Collection
String
prefixes
getCommonPrefixes
S3ObjectSummary
summaries
getObjectSummaries
Collection
String
prefixes
getCommonPrefixes
S3ObjectSummary
summaries
getObjectSummaries
log
debug
size
checkNotNull
uploadId
partETags
LOG
debug
prefix
count
List
MultipartUpload
multipartUploads
owner
listMultipartUploads
checkNotNull
uploadId
checkArgument
uploadStream
sourceFile
size
partNumber
DEFAULT_UPLOAD_PART_COUNT_LIMIT
checkNotNull
uploadId
partETags
String
bucketName
request
getBucketName
Preconditions
checkArgument
bucket
equals
String
bucketName
request
getBucketName
Preconditions
checkArgument
bucket
equals
LOG
debug
source
getExpression
AWSSecurityTokenServiceClientBuilder
builder
standard
Preconditions
checkArgument
credentials
withClientConfiguration
awsConf
withCredentials
destIsStandardEndpoint
STS_STANDARD
equals
stsEndpoint
isNotEmpty
stsRegion
String
parts
customSigner
split
message
LOG
error
IllegalArgumentException
maybeRegisterSigner
ownerConf
Class
AwsSignerInitializer
clazz
getClassByName
RuntimeException
format
e
requireServiceStarted
AbstractS3ATokenIdentifier
tokenIdentifier
createTokenIdentifier
policy
encryptionSecrets
renewer
Token
token
secretManager
setKind
getKind
serviceInit
conf
checkState
hasDelegationTokenBinding
E_DELEGATION_TOKENS_DISABLED
Class
AbstractDelegationTokenBinding
binding
getClass
DelegationConstants
DELEGATION_TOKEN_BINDING
SessionTokenBinding
tokenBinding
newInstance
bindToFileSystem
getCanonicalUri
getStoreContext
getPolicyProvider
init
tokenBindingName
getKind
toString
serviceStart
tokenBinding
start
bindToAnyDelegationToken
checkState
credentialProviders
isPresent
E_ALREADY_DEPLOYED
boundDT
Optional
of
token
AbstractS3ATokenIdentifier
dti
extractIdentifier
LOG
debug
service
Token
token
credentials
getToken
Text
tokenKind
getKind
Preconditions
checkArgument
numThreads
LOG
debug
commit
MaybeIOE
outcome
String
destKey
validate
getDestinationKey
l
innerCommit
operationState
String
destKey
commit
getDestinationKey
origin
getFilename
uploadId
getUploadId
Preconditions
checkArgument
pendingDir
RemoteIterator
LocatedFileStatus
pendingFiles
ls
pendingDir
recursive
LOG
info
MaybeIOE
NONE
outcome
debug
Path
pendingFile
next
getPath
abortSingleCommit
SinglePendingCommit
load
fs
length
localFile
SinglePendingCommit
commitData
setDestinationKey
destKey
setBucket
fs
getBucket
touch
System
currentTimeMillis
setUploadId
uploadId
setUri
destURI
setText
partition
setLength
offset
numParts
uploadPartSize
PathIOException
destPath
toString
String
format
size
Math
min
length
offset
uploadPartSize
UploadPartRequest
part
writeOperations
newUploadPartRequest
destKey
uploadId
partNumber
localFile
setLastPart
numParts
UploadPartResult
partResult
uploadPart
parts
add
getPartETag
commitData
bindCommitData
statistics
commitUploaded
progress
threw
String
fsUri
fs
getUri
toString
List
String
elements
splitPathToElements
path
PutTracker
tracker
destKey
keyOfFinalDestination
key
pendingsetPath
CommitConstants
PENDING_SUFFIX
owner
getInstrumentation
incrementCounter
Statistic
COMMITTER_MAGIC_FILES_CREATED
MagicCommitTracker
getBucket
getWriteOperationHelper
AbstractS3ACommitterFactory
factory
chooseCommitterFactory
fileSystem
outputPath
context
getConfiguration
PathOutputCommitter
committer
createTaskCommitter
AbstractS3ACommitterFactory
factory
Configuration
fsConf
fileSystem
getConf
String
name
getTrimmed
FS_S3A_COMMITTER_NAME
COMMITTER_NAME_FILE
taskConf
size
futures
size
futures
LOG
debug
oldNumFinished
numFinished
stream
filter
Future
isDone
count
Preconditions
checkArgument
StringUtils
isNotEmpty
uploadId
parts
isEmpty
SinglePendingCommit
commitData
touch
System
currentTimeMillis
setDestinationKey
getDestKey
setBucket
bucket
setUri
path
toUri
toString
setUploadId
setText
setLength
bytesWritten
bindCommitData
bytes
toBytes
Preconditions
checkArgument
StringUtils
isNotEmpty
uploadId
parts
isEmpty
SinglePendingCommit
commitData
touch
System
currentTimeMillis
setDestinationKey
getDestKey
setBucket
bucket
setUri
path
toUri
toString
setUploadId
setText
setLength
bytesWritten
bindCommitData
bytes
toBytes
LOG
info
size
pendingPartKey
PendingSet
commits
innerCommitTask
context
Pair
PendingSet
List
LocatedFileStatus
IOException
loaded
actions
loadSinglePendingCommits
taskAttemptPath
pendingSet
getKey
failures
getValue
LOG
error
abortPendingUploads
context
getCommits
get
String
jobId
valueOf
getJobID
taskId
getTaskAttemptID
commit
setJobId
setTaskId
Path
jobAttemptPath
getJobAttemptPath
TaskAttemptID
taskAttemptID
taskOutcomePath
getTaskID
toString
CommitConstants
PENDINGSET_SUFFIX
Path
outputPath
getOutputPath
FileSystem
fs
getDestFS
ConflictResolution
conflictResolution
getConflictResolutionMode
context
getConf
preCommitJob
context
pending
Path
outputPath
getOutputPath
FileSystem
fs
getDestFS
Configuration
fsConf
getConf
Map
Path
String
partitions
ConcurrentHashMap
FileSystem
sourceFS
pending
getSourceFS
Tasks
Submitter
submitter
buildSubmitter
context
PendingSet
pendingSet
load
path
lastParent
parent
commit
destinationPath
getParent
put
fs
getDestFS
Path
attemptPath
getTaskAttemptPath
context
Preconditions
checkNotNull
Path
workPath
getWorkPath
Path
attemptPath
getTaskAttemptPath
context
FileSystem
fs
getTaskAttemptFilesystem
FileStatus
stats
listStatus
count
commitTaskInternal
context
getTaskOutput
LOG
debug
getRole
Configuration
conf
context
getConfiguration
Path
attemptPath
getTaskAttemptPath
FileSystem
attemptFS
getTaskAttemptFilesystem
LOG
debug
getRole
Configuration
conf
context
getConfiguration
Path
attemptPath
getTaskAttemptPath
FileSystem
attemptFS
getTaskAttemptFilesystem
commitsAttemptPath
wrappedCommitter
commitsFS
getFileSystem
commitCount
taskOutput
size
Queue
SinglePendingCommit
commits
ConcurrentLinkedQueue
LOG
debug
getRole
Configuration
conf
context
getConfiguration
Path
attemptPath
getTaskAttemptPath
FileSystem
attemptFS
getTaskAttemptFilesystem
commitsAttemptPath
wrappedCommitter
commitsFS
getFileSystem
commitCount
taskOutput
size
Queue
SinglePendingCommit
commits
ConcurrentLinkedQueue
info
LOG
warn
getRole
threw
context
progress
PendingSet
pendingCommits
commitCount
Path
path
stat
getPath
File
localFile
toUri
String
relative
Paths
getRelativePath
attemptPath
partition
getPartition
key
getFinalKey
destPath
getDestS3AFS
keyToQualifiedPath
SinglePendingCommit
commit
getCommitOperations
uploadFileToPendingCommit
uploadPartSize
PendingSet
pendingCommits
commitCount
Path
path
stat
getPath
File
localFile
toUri
String
relative
Paths
getRelativePath
attemptPath
partition
getPartition
key
getFinalKey
context
destPath
getDestS3AFS
keyToQualifiedPath
SinglePendingCommit
commit
getCommitOperations
uploadFileToPendingCommit
uploadPartSize
LOG
debug
getRole
commits
add
File
localFile
path
toUri
getPath
String
relative
Paths
getRelativePath
attemptPath
partition
getPartition
key
getFinalKey
context
Path
destPath
getDestS3AFS
keyToQualifiedPath
SinglePendingCommit
commit
getCommitOperations
uploadFileToPendingCommit
uploadPartSize
LOG
debug
getRole
commits
add
pendingCommits
size
commitsAttemptPath
save
commitsFS
threw
LOG
error
description
getJobContext
getJobID
path
limit
RemoteIterator
LocatedFileStatus
lf
getDestFS
listFiles
info
status
next
List
DeleteObjectsRequest
KeyVersion
keys
deleteRequest
getKeys
size
incrementStatistic
STORE_IO_THROTTLED
instrumentation
addValueToQuantiles
STORE_IO_THROTTLE_RATE
String
newRevisionId
policy
getRevisionId
copyResult
executeOnlyOnce
StoreContext
context
getStoreContext
Path
path
status
getPath
executeOnlyOnce
StoreContext
context
getStoreContext
Path
path
status
getPath
LOG
debug
recursive
isFile
isEmptyDirectory
Tristate
TRUE
String
key
pathToKey
Path
path
status
getPath
LOG
debug
recursive
isFile
isEmptyDirectory
Tristate
TRUE
String
key
context
pathToKey
checkArgument
UNKNOWN
error
PathIsNotEmptyDirectoryException
toString
LOG
debug
path
checkArgument
status
isEmptyDirectory
Tristate
UNKNOWN
key
error
getPath
recursive
PathIsNotEmptyDirectoryException
toString
deleteObjectAtPath
deleteDirectoryTree
operationState
S3Guard
initiateBulkWrite
metadataStore
BulkOperationState
OperationType
Delete
path
resetDeleteList
deleteFuture
LOG
debug
dirKey
RemoteIterator
S3ALocatedFileStatus
locatedFiles
callbacks
listFilesAndEmptyDirectories
path
status
S3AFileStatus
child
next
toS3AFileStatus
queueForDeletion
submitNextBatch
maybeAwaitCompletion
deleteFuture
objects
listObjects
extraFilesDeleted
deletionKey
maybeAwaitCompletion
deleteFuture
LOG
debug
RemoteIterator
S3AFileStatus
objects
callbacks
listObjects
path
dirKey
extraFilesDeleted
queueForDeletion
deletionKey
next
submitNextBatch
metadataStore
deleteSubtree
operationState
IOUtils
cleanupWithLogger
DeleteObjectsResult
result
List
Path
undeletedObjects
ArrayList
Invoker
once
status
getPath
toString
callbacks
removeKeys
keyList
state
auditDeletedKeys
metadataStore
deletePaths
pathList
DeletedObject
deletedObjects
getDeletedObjects
LOG
warn
size
removeIf
kv
getKey
equals
del
List
Path
removed
ArrayList
Iterator
Map
Entry
Marker
entries
surplusMarkers
entrySet
iterator
entry
next
path
getKey
remove
LOG
debug
dirMarkerTracker
StoreContext
storeContext
getStoreContext
Map
Path
DirMarkerTracker
Marker
leafMarkers
getLeafMarkers
surplus
getSurplusMarkers
DurationInfo
duration
size
source
entry
getPath
String
key
getKey
newDestKey
dstKey
substring
srcKey
length
childDestPath
keyToPath
List
Path
undeletedObjects
ArrayList
List
Path
undeletedObjects
ArrayList
LOG
debug
keys
size
nonauth
Queue
DDBPathMetadata
queue
ArrayDeque
isRoot
path
baseData
metastore
get
ExitUtil
ExitException
LauncherExitCodes
EXIT_NOT_FOUND
add
LOG
info
Pair
of
dirs
dir
poll
Path
p
getFileStatus
getPath
queue
add
baseData
LOG
info
Pair
of
dirs
DDBPathMetadata
dir
poll
Path
p
getFileStatus
getPath
debug
prettyPrint
warn
nonauth
verifyAuthDir
requireAuth
LOG
info
Pair
of
dirs
DDBPathMetadata
dir
queue
poll
Path
p
getFileStatus
getPath
debug
prettyPrint
warn
nonauth
verifyAuthDir
requireAuth
nonauth
verifyAuthDir
dir
requireAuth
LOG
info
p
DirListingMetadata
entry
metastore
listChildren
Collection
PathMetadata
listing
getListing
files
subdirs
queue
add
DDBPathMetadata
e
S3AFileSystem
fs
getFilesystem
Path
rootPath
qualify
Listing
listing
getListing
S3ListRequest
request
createListObjectsRequest
count
RemoteIterator
S3AFileStatus
st
createFileStatusListingIterator
ACCEPT_ALL
AcceptAllButSelfAndS3nDirs
next
ServiceLauncher
Service
serviceLauncher
NAME
conf
checkNotNull
fs
getConf
store
DynamoDBMetadataStore
getMetadataStore
DumpS3GuardDynamoTable
dump
destFile
uri
ExitUtil
ExitException
ex
launchService
Collections
emptyList
LOG
info
Pair
Long
r
getScanEntryResult
getLeft
getRight
getRawObjectStoreCount
ServiceLauncher
Service
serviceLauncher
NAME
conf
checkNotNull
fs
getConf
store
DynamoDBMetadataStore
getMetadataStore
DumpS3GuardDynamoTable
dump
destFile
uri
ExitUtil
ExitException
ex
launchService
Collections
emptyList
LOG
info
Pair
Long
r
getScanEntryResult
getLeft
getRight
getRawObjectStoreCount
getTreewalkCount
store
DynamoDBMetadataStore
checkNotNull
fs
getMetadataStore
DumpS3GuardDynamoTable
dump
destFile
uri
ExitUtil
ExitException
ex
serviceLauncher
launchService
conf
Collections
emptyList
LOG
info
Pair
Long
r
getScanEntryResult
getLeft
getRight
getRawObjectStoreCount
getTreewalkCount
getListStatusCount
getSecondScanResult
Preconditions
checkNotNull
conf
Class
DynamoDBClientFactory
cls
getClass
S3GUARD_DDB_CLIENT_FACTORY_IMPL
S3GUARD_DDB_CLIENT_FACTORY_IMPL_DEFAULT
Preconditions
checkNotNull
fs
checkArgument
S3AFileSystem
bindToOwnerFilesystem
String
bucket
owner
getBucket
confRegion
conf
getTrimmed
S3GUARD_DDB_REGION_KEY
region
Preconditions
checkNotNull
fs
checkArgument
S3AFileSystem
bindToOwnerFilesystem
String
bucket
owner
getBucket
confRegion
conf
getTrimmed
S3GUARD_DDB_REGION_KEY
region
LOG
debug
getBucketLocation
URI
uri
getUri
message
RolePolicies
S3_GET_BUCKET_LOCATION
checkPath
path
checkPath
path
checkPath
path
LOG
debug
tableName
region
PathMetadata
meta
get
checkPath
path
checkPath
path
LOG
debug
tableName
region
wantEmptyDirectoryFlag
DDBPathMetadata
result
innerGet
DDBPathMetadata
meta
makeDirStatus
username
path
Item
item
getConsistentItem
itemToPathMetadata
LOG
debug
tableName
region
FileStatus
status
getFileStatus
QuerySpec
spec
withHashKey
pathToParentKeyAttribute
withConsistentRead
withFilterExpression
IS_DELETED
withValueMap
DELETE_TRACKING_VALUE_MAP
IteratorSupport
QueryOutcome
it
table
query
iterator
meta
DDBPathMetadata
makeDirStatus
username
path
Item
item
getConsistentItem
itemToPathMetadata
LOG
debug
tableName
region
FileStatus
status
getFileStatus
QuerySpec
spec
withHashKey
pathToParentKeyAttribute
withConsistentRead
withFilterExpression
IS_DELETED
withValueMap
DELETE_TRACKING_VALUE_MAP
IteratorSupport
QueryOutcome
it
table
query
iterator
getPath
checkPath
path
Map
Path
Pair
EntryOrigin
DDBPathMetadata
ancestry
HashMap
Map
Path
Pair
EntryOrigin
DDBPathMetadata
ancestry
HashMap
LOG
debug
pathsToCreate
size
List
sortedPaths
ArrayList
sort
PathOrderComparators
TOPMOST_PM_FIRST
Preconditions
checkArgument
entry
path
getFileStatus
getPath
Path
path
entry
getFileStatus
getPath
LOG
debug
DDBPathMetadata
oldEntry
ancestorState
put
addAncestors
oldWasDir
isDirectory
newIsDir
warn
PathIOException
toString
String
format
E_INCONSISTENT_UPDATE
LOG
warn
oldEntry
entry
ancestorState
put
path
PathIOException
toString
String
format
E_INCONSISTENT_UPDATE
debug
addAncestors
ancestry
Pair
of
EntryOrigin
Requested
Path
parent
getParent
DDBPathMetadata
md
newEntry
Item
item
getConsistentItem
LOG
debug
path
entry
addAncestors
ancestry
put
Pair
of
EntryOrigin
Requested
Path
parent
getParent
DDBPathMetadata
md
newEntry
Item
item
getConsistentItem
itemToPathMetadata
username
Retrieved
delay
conf
getTimeDuration
S3GUARD_DDB_BACKGROUND_SLEEP_MSEC_KEY
S3GUARD_DDB_BACKGROUND_SLEEP_MSEC_DEFAULT
TimeUnit
MILLISECONDS
Set
Path
parentPathSet
HashSet
clearedParentPathSet
deletionBatch
sort
PathOrderComparators
TOPMOST_PATH_LAST
processBatchWriteRequest
state
pathToKey
removeAuthoritativeDirFlag
addAll
clear
DDBPathMetadata
md
PathMetadataDynamoDBTranslation
itemToPathMetadata
item
username
path
getFileStatus
getPath
tombstone
isDeleted
parentPathSet
add
parentPath
itemCount
deleteBatchOperation
apply
deletionBatch
clear
Thread
sleep
delay
currentThread
interrupt
InterruptedIOException
translateDynamoDBException
keyPrefix
e
AtomicReference
IOException
rIOException
LOG
debug
DDBPathMetadata
ddbPathMetadata
get
path
LOG
debug
DDBPathMetadata
ddbPathMetadata
get
path
DDBPathMetadata
ddbPathMetadata
get
path
LOG
debug
setAuthoritativeDir
setLastUpdated
ttlTimeProvider
getNow
LOG
debug
path
ddbPathMetadata
setAuthoritativeDir
setLastUpdated
ttlTimeProvider
getNow
String
msg
format
error
e
rIOException
set
metas
Preconditions
checkNotNull
table
TableDescription
desc
getTableDescription
ProvisionedThroughputDescription
current
getProvisionedThroughput
currentRead
getReadCapacityUnits
newRead
getLongParam
parameters
S3GUARD_DDB_TABLE_CAPACITY_READ_KEY
currentWrite
getWriteCapacityUnits
newWrite
S3GUARD_DDB_TABLE_CAPACITY_WRITE_KEY
IOException
E_ON_DEMAND_NO_SET_CAPACITY
LOG
info
tableHandler
provisionTableBlocking
instrumentation
throttled
eventCount
throttleEventCount
addAndGet
LOG
warn
text
ex
toString
Preconditions
checkArgument
operationState
AncestorState
state
String
simpleDestKey
pathToParentKey
dest
destPathKey
opId
stateAsString
LOG
debug
List
DDBPathMetadata
dirsToUpdate
ArrayList
Path
path
entry
getKey
md
getValue
key
setAuthoritativeDir
setLastUpdated
ttlTimeProvider
getNow
String
stateStr
AncestorState
stateAsString
state
tombstone
itemExists
item
isDir
getBoolAttribute
IS_DIR
auth
IS_AUTHORITATIVE
String
stateStr
AncestorState
stateAsString
state
table
dynamoDB
getTable
tableName
table
dynamoDB
getTable
tableName
LOG
debug
TableDescription
description
describe
LOG
debug
description
tableArn
getTableArn
String
status
getTableStatus
waitForTableActive
table
verifyVersionCompatibility
Item
versionMarker
getVersionMarkerItem
Long
created
extractCreationTimeFromMarker
Item
versionMarkerItem
getVersionMarkerItem
versionMarkerFromTag
canReadDdbTags
getVersionMarkerFromTags
table
amazonDynamoDB
LOG
debug
error
IOException
E_NO_VERSION_MARKER_AND_NOT_EMPTY
tableName
versionMarkerFromTag
getVersionMarkerFromTags
table
amazonDynamoDB
LOG
debug
canReadDdbTags
versionMarkerItem
error
IOException
E_NO_VERSION_MARKER_AND_NOT_EMPTY
tableName
info
putVersionMarkerItemToTable
tagTableWithVersionMarker
canReadDdbTags
LOG
debug
versionMarkerItem
versionMarkerFromTag
error
IOException
E_NO_VERSION_MARKER_AND_NOT_EMPTY
tableName
info
putVersionMarkerItemToTable
tagTableWithVersionMarker
tagVersionMarker
extractVersionFromMarker
LOG
error
IOException
E_NO_VERSION_MARKER_AND_NOT_EMPTY
tableName
info
putVersionMarkerItemToTable
tagTableWithVersionMarker
tagVersionMarker
extractVersionFromMarker
versionMarkerFromTag
throwExceptionOnVersionMismatch
E_INCOMPATIBLE_TAG_VERSION
LOG
info
tableName
putVersionMarkerItemToTable
tagVersionMarker
extractVersionFromMarker
versionMarkerFromTag
throwExceptionOnVersionMismatch
E_INCOMPATIBLE_TAG_VERSION
itemVersionMarker
versionMarkerItem
E_INCOMPATIBLE_ITEM_VERSION
tagTableWithVersionMarker
Preconditions
checkArgument
status
isDirectory
totalCountOfEntriesWritten
Path
basePath
getPath
MetadataStore
ms
getStore
countOfFilesWritten
countOfDirsWritten
RemoteIterator
S3ALocatedFileStatus
it
getFilesystem
listFilesAndEmptyDirectoriesForceNonAuth
basePath
located
next
S3AFileStatus
child
Path
path
getPath
isDirectory
DynamoDBMetadataStore
makeDirStatus
getOwner
dirCache
add
toS3AFileStatus
parentsWritten
putParentsIfNotPresent
operationState
PathMetadata
existingEntry
S3Guard
getWithTtl
ms
path
S3AFileStatus
existingStatus
getFileStatus
String
existingEtag
getETag
childEtag
child
setVersionId
getVersionId
countOfFilesWritten
S3AFileStatus
existingStatus
existingEntry
getFileStatus
String
existingEtag
getETag
childEtag
child
setVersionId
getVersionId
countOfFilesWritten
t
isDirectory
String
childEtag
child
getETag
setVersionId
existingStatus
getVersionId
countOfFilesWritten
t
isDirectory
LOG
info
path
debug
S3Guard
putWithTtl
ms
PathMetadata
getFilesystem
getTtlTimeProvider
operationState
Path
path
standardize
p
DirListingMetadata
listing
getDirListingMeta
Preconditions
checkNotNull
meta
S3AFileStatus
status
getFileStatus
Path
path
standardize
getPath
LOG
debug
path
PathMetadata
pmd
tombstone
ttlTimeProvider
getNow
entry
setPathMetadata
setDirListingMetadata
localCache
invalidate
Path
parent
getParent
DirListingMetadata
dir
getDirListingMeta
List
PathMetadata
entriesToAdd
ArrayList
List
PathMetadata
entriesToAdd
ArrayList
LOG
debug
sourcePath
MetadataStore
store
getMetadataStore
checkArgument
pathsToDelete
contains
destPath
S3Guard
addMoveFile
sourceAttributes
getLen
blockSize
getOwner
destAttributes
getETag
getVersionId
URI
uri
getUri
String
host
getHost
prefix
DynamoDBMetadataStore
ddbms
getStore
S3GuardTableAccess
tableAccess
ExpressionSpecBuilder
builder
withKeyCondition
S
PARENT
beginsWith
LOG
info
prefix
ddbms
Iterable
DDBPathMetadata
entries
wrapWithRetries
tableAccess
scanMetadata
builder
List
Path
list
ArrayList
p
e
getFileStatus
getPath
String
type
isFile
tombstone
isDeleted
add
count
size
filesFound
type
LOG
info
p
list
add
count
size
filesFound
DurationInfo
duration
ddbms
toString
getInvoker
retry
prefix
tableAccess
delete
path
close
durationMillis
value
timePerEntry
Preconditions
checkNotNull
fs
Configuration
conf
getConf
MetadataStore
msInstance
Class
msClass
getMetadataStoreClass
ReflectionUtils
newInstance
Preconditions
checkNotNull
fs
Configuration
conf
getConf
MetadataStore
msInstance
Class
msClass
getMetadataStoreClass
ReflectionUtils
newInstance
LOG
debug
getSimpleName
getScheme
initialize
ttlTimeProvider
e
String
message
get
S3_METADATA_STORE_IMPL
Set
Path
deleted
dirMeta
listTombstones
Map
PathMetadata
dirMetaMap
getListing
stream
collect
Collectors
toMap
pm
getFileStatus
getPath
statusPath
s
pathMetadata
get
shouldUpdate
getModificationTime
DIR_MERGE_UPDATES_ALL_RECORDS_NONAUTH
PathMetadata
pathMetadata
dirMetaMap
get
statusPath
shouldUpdate
s
getModificationTime
getFileStatus
DIR_MERGE_UPDATES_ALL_RECORDS_NONAUTH
LOG
debug
entriesToAdd
add
dirMeta
put
PathMetadata
pathMetadata
ms
get
path
needEmptyDirectoryFlag
LOG
debug
ttl
timeProvider
getMetadataTtl
Queue
S3AFileStatus
queue
ArrayDeque
add
root
currentDir
poll
Path
currentDirPath
getPath
List
FileStatus
s3DirListing
Arrays
asList
rawFS
listStatus
compareAuthoritativeDirectoryFlag
comparePairs
stream
filter
pm
isDirectory
map
cast
forEach
children
status
collect
toList
ComparePair
compareResult
compareS3DirContentToMs
addAll
scannedItems
size
List
FileStatus
s3DirListing
Arrays
asList
rawFS
listStatus
currentDirPath
compareAuthoritativeDirectoryFlag
comparePairs
stream
filter
pm
isDirectory
map
S3AFileStatus
cast
forEach
queue
add
children
status
collect
toList
ComparePair
compareResult
compareS3DirContentToMs
currentDir
addAll
scannedItems
size
LOG
error
e
stopwatch
stop
S3GuardFsckViolationHandler
handler
metadataStore
logError
comparePair
info
now
TimeUnit
SECONDS
Path
path
s3FileStatus
getPath
Preconditions
checkArgument
basePath
isAbsolute
List
ComparePair
comparePairs
ArrayList
String
rootStr
toString
FileNotFoundException
baseMeta
DDBPathMetadata
S3AFileStatus
Tristate
UNKNOWN
basePath
username
DDBTreeNode
root
ddbTree
addNode
setRoot
ExpressionSpecBuilder
builder
withCondition
S
beginsWith
pathToParentKey
IteratorSupport
Item
ScanOutcome
resultIterator
table
scan
buildForScan
iterator
pmd
itemToPathMetadata
item
ddbTreeNode
ViolationHandler
handler
violation
getHandler
getDeclaredConstructor
S3GuardFsck
ComparePair
newInstance
comparePair
sB
append
errorStr
fixStr
LOG
error
LOG
debug
path
URI
uri
toUri
Configuration
conf
getConf
String
nullStore
NullMetadataStore
getName
set
S3_METADATA_STORE_IMPL
bucket
getHost
S3AUtils
setBucketOption
S3GUARD_METASTORE_NULL
updatedBucketOption
getBucketOption
exit
ret
errorln
e
getMessage
printHelp
E_USAGE
LOG
debug
getExitCode
toString
EXIT_NOT_FOUND
ExitCodeProvider
ec
stream
FutureIOSupport
awaitFuture
builder
build
storeNotFound
e
bytesRead
SuppressWarnings
Scanner
scanner
BufferedReader
InputStreamReader
StandardCharsets
UTF_8
useDelimiter
linesRead
String
l
nextLine
length
println
out
FileSystem
destFS
destPath
getFileSystem
getConf
describe
maxAttempts
testListEmptyRootDirectory
LOG
info
attempt
e
Thread
sleep
currentThread
interrupt
fail
describe
Path
path
FileSystem
fs
getFileSystem
writeTestDataset
readAtEndAndReturn
in
temp
offset
READAHEAD
seek
l
read
assertTrue
describe
Path
path
FileSystem
fs
getFileSystem
writeTestDataset
readAtEndAndReturn
in
temp
offset
READAHEAD
seek
l
read
describe
Path
path
FileSystem
fs
getFileSystem
writeTestDataset
readAtEndAndReturn
in
temp
offset
READAHEAD
seek
readByte
assertDatasetEquals
FileSystem
fs
getFileSystem
defaultBlockSize
getDefaultBlockSize
assertEquals
S3AFileSystem
DEFAULT_BLOCKSIZE
newBlockSize
getConf
setLong
Constants
FS_S3A_BLOCK_SIZE
Path
dir
path
file
createFile
dataset
FileStatus
fileStatus
getFileStatus
getBlockSize
found
listing
listStatus
assumeEnabled
Configuration
conf
createConfiguration
set
Constants
SERVER_SIDE_ENCRYPTION_ALGORITHM
S3AContract
contract
createContract
init
FileSystem
fileSystem
getTestFileSystem
assertNotNull
URI
fsURI
getUri
assumeEnabled
Configuration
conf
createConfiguration
set
Constants
SERVER_SIDE_ENCRYPTION_ALGORITHM
S3AEncryptionMethods
SSE_C
getMethod
SERVER_SIDE_ENCRYPTION_KEY
S3AContract
contract
createContract
init
FileSystem
fileSystem
getTestFileSystem
assertNotNull
URI
fsURI
getUri
Configuration
conf
createConfiguration
set
Constants
SERVER_SIDE_ENCRYPTION_ALGORITHM
S3AEncryptionMethods
SSE_C
getMethod
SERVER_SIDE_ENCRYPTION_KEY
S3AContract
contract
createContract
init
FileSystem
fileSystem
getTestFileSystem
assertNotNull
URI
fsURI
getUri
assumeEnabled
Configuration
conf
createConfiguration
set
Constants
SERVER_SIDE_ENCRYPTION_ALGORITHM
S3AEncryptionMethods
SSE_S3
getMethod
SERVER_SIDE_ENCRYPTION_KEY
S3AContract
contract
createContract
init
FileSystem
fileSystem
getTestFileSystem
assertNotNull
URI
fsURI
getUri
tmpFile
delete
URI
localFileURI
toURI
FileSystem
localFS
get
getFileSystem
getConf
Path
localPath
len
data
dataset
writeDataset
S3AFileSystem
s3a
remotePath
methodPath
copyFromLocalFile
verifyFileContents
assumeNoDefaultEncryption
S3AFileSystem
fs
getFileSystem
Path
file1
touchFile
EtagChecksum
checksum1
getFileChecksum
Set
MultipartTestUtils
IdKey
uploads
HashSet
ourUploads
listing
toIdKey
list
next
writeDataset
fs
testpath
dataset
length
S3AFileStatus
originalStatus
getFileStatus
writeDataset
fs
testpath
dataset
length
S3AFileStatus
originalStatus
getFileStatus
LOG
debug
getVersionId
getETag
newStatus
writeDataset
fs
testpath
dataset
length
S3AFileStatus
originalStatus
getFileStatus
LOG
debug
getVersionId
getETag
newStatus
writeDataset
fs
testpath
dataset
length
S3AFileStatus
originalStatus
getFileStatus
LOG
debug
getVersionId
getETag
newStatus
getMetadataInconsistencyCount
getObjectInconsistencyCount
stubTemporaryUnavailable
s3ClientSpy
stubTemporaryWrongVersion
callCount
callCount
S3Object
s3Object
invocation
callRealMethod
callCount
String
message
copyInconsistentCallCount
callCount
ObjectMetadata
objectMetadata
invocation
callRealMethod
callCount
Configuration
conf2
conf
S3AUtils
clearBucketOption
bucket
AWS_CREDENTIALS_PROVIDER
ACCESS_KEY
SECRET_KEY
SESSION_TOKEN
MarshalledCredentials
mc
fromSTSCredentials
sessionCreds
updateConfigWithSessionCreds
set
TEMPORARY_AWS_CREDENTIALS
createAndVerifyFile
fs
path
TEST_FILE_SIZE
getSessionToken
fail
getUri
S3AUtils
clearBucketOption
conf2
bucket
AWS_CREDENTIALS_PROVIDER
ACCESS_KEY
SECRET_KEY
SESSION_TOKEN
MarshalledCredentials
mc
fromSTSCredentials
sessionCreds
updateConfigWithSessionCreds
set
TEMPORARY_AWS_CREDENTIALS
createAndVerifyFile
fs
path
TEST_FILE_SIZE
getSessionToken
fail
getUri
LOG
info
ex
toString
describe
IllegalArgumentException
ex
expectedSessionRequestFailure
EU_IRELAND
S3AFileSystem
fs
getFileSystem
String
rootDir
mkdirs
path
numOfPaths
fileNames
add
index
DEFAULT_DELAY_KEY_SUBSTRING
filesAndEmptyDirectories
writeTextFile
fs
Path
dir
fileName
RemoteIterator
LocatedFileStatus
statusIterator
listFiles
baseTestDir
recursive
Collection
listedFiles
HashSet
FileStatus
status
next
assertTrue
isFile
getPath
describe
assumeV2ListAPI
S3AFileSystem
fs
getFileSystem
Path
root
path
DEFAULT_DELAY_KEY_SUBSTRING
mkdirs
i
touch
j
clearInconsistency
String
key
pathToKey
LOG
info
ListObjectsV2Result
preDeleteDelimited
listObjectsV2
preDeleteUndelimited
String
leftContents
expected
stream
map
n
toString
collect
Collectors
joining
rightContents
actual
summary
allowAuthoritative
authoritative
Path
testFilePath
path
UUID
randomUUID
AtomicLong
now
metadataTtl
get
guardedFs
setTtlTimeProvider
testTimeProvider
createAndAwaitFs
testFilePath
originalText
deleteGuardedTombstoned
rawFS
newText
checkListingDoesNotContainPath
willExpire
set
metadataTtl
get
guardedFs
setTtlTimeProvider
testTimeProvider
createAndAwaitFs
testFilePath
originalText
deleteGuardedTombstoned
now
rawFS
newText
checkListingDoesNotContainPath
willExpire
set
LOG
info
getNow
getMetadataTtl
intercept
FileNotFoundException
toString
readBytesToString
length
String
newRead
String
text
writeTextFile
guardedFs
testFilePath
awaitFileStatus
rawFS
deleteFile
FileStatus
status
getFileStatus
allowAuthoritative
authoritative
Path
testFilePath
path
UUID
randomUUID
allowAuthoritative
authoritative
allowAuthoritative
authoritative
String
testFile
testDir
rUUID
Path
testDirPath
path
testFilePath
guardedFs
qualify
text
writeTextFile
awaitFileStatus
rawFS
FileStatus
origList
listStatus
assertEquals
length
DirListingMetadata
dirListingMetadata
realMs
listChildren
assertListingAuthority
allowAuthoritative
deleteFile
interceptFuture
FileNotFoundException
openFile
build
intercept
open
close
S3AFileStatus
status
getFileStatus
describe
Path
dir
path
testFilePath
createAndAwaitFs
guardedFs
describe
Path
dir
path
testFilePath
createAndAwaitFs
guardedFs
LOG
info
delete
awaitDeletedFileDisappearance
rawFS
awaitListingContainsChild
sibling
mkdirs
describe
Path
dir
path
testFilePath
createAndAwaitFs
guardedFs
LOG
info
delete
awaitDeletedFileDisappearance
rawFS
awaitListingContainsChild
sibling
mkdirs
anyFailure
WriteOperationHelper
writeHelper
fs
getWriteOperationHelper
data
dataset
len
InputStream
in
ByteArrayInputStream
String
uploadId
initiateMultiPartUpload
key
UploadPartRequest
req
newUploadPartRequest
partNo
PartETag
partEtag
uploadPart
getPartETag
String
key
fs
pathToKey
path
MultipartUtils
UploadIterator
uploads
listUploads
MultipartUpload
upload
next
getWriteOperationHelper
abortMultipartUpload
getKey
getUploadId
LOG_EVENT
describe
Configuration
conf
createValidRoleConf
describe
Configuration
conf
createValidRoleConf
describe
String
roleARN
getAssumedRoleARN
Configuration
conf
createAssumedRoleConfig
Path
path
getFileSystem
getUri
SinglePendingCommit
pending
fullOperations
uploadFileToPendingCommit
src
dest
uploadPartSize
progress
save
fs
Path
readOnlyDir
name
CommitConstants
PENDING_SUFFIX
assertTrue
delete
assertCount
range
Pair
PendingSet
List
LocatedFileStatus
IOException
pendingCommits
operations
loadSinglePendingCommits
commits
getLeft
getCommits
assertEquals
size
CommitOperations
MaybeIOE
maybeIOE
commitContext
commit
c
path
destinationPath
assertCommitAccessDenied
setup
regionName
determineRegion
getFileSystem
getBucket
LOG
info
path
S3ATestUtils
MetricDiff
getMetric
fs
Statistic
OBJECT_METADATA_REQUESTS
listMetric
OBJECT_LIST_REQUESTS
FileStatus
st
filter
globStatus
LOG
info
path
S3ATestUtils
MetricDiff
getMetric
fs
Statistic
OBJECT_METADATA_REQUESTS
listMetric
OBJECT_LIST_REQUESTS
FileStatus
st
filter
globStatus
String
resultStr
StringUtils
join
fail
format
String
p
MODEL
toJson
policy
Token
AbstractS3ATokenIdentifier
token
requireNonNull
lookupS3ADelegationToken
submittedCredentials
uri
assertEquals
kind
getKind
tid
decodeIdentifier
removeBaseAndBucketOverrides
conf
DELEGATION_TOKEN_BINDING
File
file
fetchTokens
String
csv
FileUtils
readFileToString
ex
e
timer
end
Outcome
id
startTime
NanoTimerStats
stats
success
throttled
List
throttledEvents
ArrayList
outcome
completionService
take
get
ContractTestUtils
NanoTimer
Exception
exception
writeln
csvout
add
NanoTimerStats
stats
success
throttled
List
Outcome
throttledEvents
ArrayList
outcome
completionService
take
get
ContractTestUtils
NanoTimer
timer
Exception
ex
exception
writeln
csvout
add
LOG
info
i
ContractTestUtils
NanoTimer
timer
outcome
Exception
ex
exception
writeln
csvout
stats
add
LOG
info
i
throttled
throttledEvents
success
close
jobTimer
end
csvFile
tokens
getCount
duration
FileSystem
resourceFS
EXTRA_JOB_RESOURCE_PATH
getFileSystem
getConfiguration
FileStatus
status
getFileStatus
job
setOutputKeyClass
Text
setOutputValueClass
IntWritable
FileInputFormat
addInputPath
input
FileOutputFormat
setOutputPath
output
setMaxMapAttempts
setMaxReduceAttempts
URI
partitionUri
EXTRA_JOB_RESOURCE_PATH
toString
addCacheFile
describe
submit
JobStatus
status
getStatus
assertEquals
MockJob
NAME
getSchedulingInfo
State
RUNNING
getState
Credentials
submittedCredentials
requireNonNull
getSubmittedCredentials
Collection
Token
TokenIdentifier
tokens
getAllTokens
FileInputFormat
addInputPath
job
input
FileOutputFormat
setOutputPath
output
setMaxMapAttempts
setMaxReduceAttempts
URI
partitionUri
EXTRA_JOB_RESOURCE_PATH
toString
addCacheFile
describe
submit
JobStatus
status
getStatus
assertEquals
MockJob
NAME
getSchedulingInfo
State
RUNNING
getState
Credentials
submittedCredentials
requireNonNull
getSubmittedCredentials
Collection
Token
TokenIdentifier
tokens
getAllTokens
LOG
info
size
describe
EnumSet
AWSPolicyProvider
AccessLevel
access
of
READ
WRITE
S3AFileSystem
fs
getFileSystem
List
RoleModel
Statement
rules
listAWSPolicyRules
assertTrue
isEmpty
String
ruleset
toJson
Policy
describe
S3AFileSystem
fs
getFileSystem
Credentials
cred
Token
tokens
addDelegationTokens
YARN_RM
assertEquals
length
token
requireNonNull
describe
delegationTokens
start
Credentials
cred
createDelegationTokens
UserGroupInformation
ugi
getCurrentUser
addCredentials
Token
tokens
getAllTokens
toArray
token0
Text
service
getService
Text
tokenKind
getTokenKind
AbstractS3ATokenIdentifier
origTokenId
requireNonNull
lookupToken
creds
uri
UserGroupInformation
currentUser
getCurrentUser
addCredentials
getCredentials
Configuration
conf
getConfiguration
String
bucket
fs
getBucket
disableFilesystemCaching
unsetHadoopCredentialProviders
removeBaseAndBucketOverrides
ACCESS_KEY
SECRET_KEY
SESSION_TOKEN
SERVER_SIDE_ENCRYPTION_ALGORITHM
SERVER_SIDE_ENCRYPTION_KEY
DELEGATION_TOKEN_ROLE_ARN
DELEGATION_TOKEN_ENDPOINT
set
bindProviderList
CountInvocationsProvider
NAME
originalCount
getInvocationCount
Path
testPath
path
describe
ExitUtil
disableSystemExit
S3AFileSystem
fs
getFileSystem
Configuration
conf
getConf
URI
fsUri
getUri
String
fsurl
toString
File
tokenfile
createTempTokenFile
tokenFilePath
getAbsolutePath
doAs
bobUser
DelegationTokenFetcher
main
args
assertTrue
exists
s
printTokensToString
Path
toURI
ByteArrayOutputStream
dtUtilContent
DtUtilShell
dt
setOut
PrintStream
reset
r
doAs
aliceUser
ToolRunner
run
getConfiguration
args
String
s
toString
describe
unsetHadoopCredentialProviders
conf
set
DELEGATION_TOKEN_CREDENTIALS_PROVIDER
TemporaryAWSCredentialsProvider
NAME
session
setSecretsInConfiguration
delegationTokens2
bindToFileSystem
fs
getCanonicalUri
createStoreContext
createDelegationOperations
init
start
Token
AbstractS3ATokenIdentifier
newDT
getBoundOrNewDT
EncryptionSecrets
resetTokenBindingToDT
boundId
getDecodedIdentifier
get
SuccessData
successData
loadSuccessFile
fs
outputPath
origin
String
commitDetails
toString
SuccessData
successData
loadSuccessFile
fs
outputPath
origin
String
commitDetails
toString
LOG
info
committerName
SuccessData
successData
loadSuccessFile
fs
outputPath
origin
String
commitDetails
toString
LOG
info
committerName
dumpMetrics
ContractTestUtils
assertPathExists
fs
outputPath
origin
Path
success
_SUCCESS
FileStatus
status
verifyPathExists
assertTrue
isFile
getLen
jobConf
setBoolean
FS_S3A_COMMITTER_STAGING_UNIQUE_FILENAMES
isUniqueFilenames
bindCommitter
CommitConstants
S3A_COMMITTER_FACTORY
committerName
KEY_SCALE_TESTS_ENABLED
isScaleTest
String
staging
stagingFilesDir
getRoot
getAbsolutePath
commit
validate
Path
path
getFileSystem
keyToQualifiedPath
getDestinationKey
FileStatus
status
getFileStatus
S3AFileSystem
fs
getFileSystem
Path
pendingDataPath
magicFile
getParent
filename
PENDING_SUFFIX
FileStatus
fileStatus
verifyPathExists
assertTrue
getLen
String
data
read
Path
destFile3
subdir
List
destinations
Lists
newArrayList
destFile1
destFile2
SinglePendingCommit
commits
ArrayList
commit1
actions
uploadFileToPendingCommit
localFile
destination
DEFAULT_MULTIPART_SIZE
progress
add
resetFailures
assertPathDoesNotExist
destDir
LOG
info
MetricDiff
writes
fs
Statistic
S3GUARD_METADATASTORE_RECORD_WRITES
commitContext
commitOrFail
get
String
firstCommitContextString
toString
AmazonS3Client
mockClient
mock
Object
lock
LOG
debug
mockClient
errors
failOnInit
AmazonClientException
results
requests
size
String
uploadId
UUID
randomUUID
toString
InitiateMultipartUploadRequest
req
getArgumentAt
invocation
put
activeUploads
getKey
uploads
add
newResult
get
LOG
debug
mockClient
errors
failOnUpload
info
AmazonClientException
results
parts
size
UploadPartRequest
req
getArgumentAt
invocation
add
String
etag
UUID
randomUUID
toString
List
etags
tagsByUpload
get
getUploadId
Lists
newArrayList
put
List
String
etags
results
tagsByUpload
get
req
getUploadId
Lists
newArrayList
put
add
etag
newResult
LOG
debug
mockClient
errors
failOnCommit
AmazonClientException
commits
size
CompleteMultipartUploadRequest
getArgumentAt
invocation
errors
failOnCommit
AmazonClientException
results
commits
size
CompleteMultipartUploadRequest
req
getArgumentAt
invocation
String
uploadId
getUploadId
removeUpload
add
newResult
LOG
debug
mockClient
CompleteMultipartUploadRequest
req
getArgumentAt
invocation
String
uploadId
getUploadId
removeUpload
results
commits
add
newResult
LOG
debug
mockClient
errors
failOnAbort
AmazonClientException
aborts
size
AbortMultipartUploadRequest
id
Configuration
baseConf
String
sources
getPropertySources
FS_S3A_COMMITTER_STAGING_CONFLICT_MODE
sourceStr
Arrays
stream
collect
Collectors
joining
completedStage
d
StringBuilder
results
append
DurationInfo
duration
completedStages
get
s
String
format
stage
accept
text
toString
File
resultsFile
createTempFile
FileUtils
write
StandardCharsets
UTF_8
describe
multiDelete
S3AFileSystem
fs
getFileSystem
roleFS
mkdirs
writableDir
List
Path
createdFiles
createFiles
readOnlyDir
dirDepth
fileCount
dirCount
expectedFileCount
size
assertFileCount
result
roleFS
rename
src
dest
result
roleFS
rename
src
dest
LOG
error
result
roleFS
rename
src
dest
LOG
error
ContractTestUtils
ls
getFileSystem
getParent
c
List
ExpectedProbe
expected
Arrays
asList
expectedA
resetMetricDiffs
assumeProbesEnabled
T
r
eval
call
String
text
toString
List
ExpectedProbe
expected
Arrays
asList
expectedA
resetMetricDiffs
assumeProbesEnabled
T
r
eval
call
String
text
toString
LOG
info
Path
path
numDelete
numPut
root
fileSystem
makeQualified
oldDir
newDir
newMetas
add
PathMetadata
basicFileStatus
Path
newDir
i
Collection
pathsToDelete
ms
put
DirListingMetadata
oldDir
oldMetas
UNCHANGED_ENTRIES
putState
assertEquals
listChildren
withoutTombstones
numEntries
Assertions
assertThat
getListing
describedAs
containsExactlyInAnyOrderElementsOf
assertTrue
CollectionUtils
isEqualCollection
ArrayList
size
meta
getFileStatus
getPath
AncestorState
state
checkNotNull
initiateBulkWrite
BulkOperationState
OperationType
Put
getDest
ThrottleTracker
throttleTracker
move
String
subdir
base
Path
subDirPath
strToPath
createNewDirs
subFile
subFilePath
putListStatusFiles
DDBPathMetadata
subDirMetadataOrig
ms
get
Assertions
assertThat
isAuthoritativeDir
describedAs
isTrue
now
getTime
oldTime
MINUTE
putFile
getFile
basePath
DirListingMetadata
listing
listChildren
childText
prettyPrint
describe
String
target
System
getProperty
File
buildDir
getAbsoluteFile
name
destFile
DumpS3GuardDynamoTable
dumpStore
ddbmsStatic
getFileSystem
getConf
fsUri
storeFile
SCAN_CSV
describe
Assume
assumeTrue
expectThrottling
S3AFileSystem
fs
getFileSystem
String
fsSummary
toString
S3AStorageStatistics
statistics
getStorageStatistics
describe
S3GuardTableAccess
tableAccess
ddbms
ExpressionSpecBuilder
builder
String
path
withCondition
S
PARENT
beginsWith
Iterable
DDBPathMetadata
entries
wrapWithRetries
scanMetadata
List
Path
list
ArrayList
p
e
getFileStatus
getPath
ExecutorService
executorService
Executors
newFixedThreadPool
THREADS
List
Callable
ExecutionOutcome
tasks
ArrayList
AtomicInteger
throttleExceptions
outcome
ContractTestUtils
NanoTimer
t
skipped
action
call
completed
List
Callable
ExecutionOutcome
tasks
ArrayList
THREADS
AtomicInteger
throttleExceptions
outcome
ContractTestUtils
NanoTimer
t
skipped
action
call
completed
LOG
info
e
j
ContractTestUtils
NanoTimer
t
outcome
skipped
action
call
completed
LOG
info
e
j
debug
toString
throttleExceptions
incrementAndGet
add
throttled
LOG
info
e
j
debug
toString
throttleExceptions
incrementAndGet
outcome
add
throttled
error
operation
exceptions
tracker
probe
t
elapsedTimeMs
List
Future
ExecutionOutcome
futures
executorService
invokeAll
tasks
getTestTimeoutMillis
TimeUnit
MILLISECONDS
Thread
r
count
getAndIncrement
ThreadPoolExecutor
executor
prestartAllCoreThreads
Future
Exception
futures
concurrentOps
index
f
ContractTestUtils
NanoTimer
timer
result
store
initialize
conf
S3Guard
TtlTimeProvider
LOG
error
e
getClass
getMessage
LOG
info
result
run
S3GuardTool
Fsck
NAME
getFileSystem
getBucket
describe
result
run
S3GuardTool
Fsck
NAME
DDB_MS_CONSISTENCY_FLAG
getFileSystem
getBucket
describe
result
run
S3GuardTool
Fsck
NAME
FIX_FLAG
getFileSystem
getBucket
describe
result
run
S3GuardTool
Fsck
NAME
FIX_FLAG
DDB_MS_CONSISTENCY_FLAG
getFileSystem
getBucket
S3GuardTool
BucketInfo
cmd
toClose
getFileSystem
getConf
setStore
getMetadataStore
String
output
exec
getName
GUARDED_FLAG
getUri
toString
S3GuardTool
cmd
toClose
SetCapacity
getFileSystem
getConf
setStore
getMetadataStore
String
output
exec
getName
READ_FLAG
WRITE_FLAG
getUri
toString
S3GuardTool
Uploads
cmd
fs
getConf
ByteArrayOutputStream
buf
allOptions
add
getName
addAll
Arrays
asList
options
SECONDS_FLAG
String
valueOf
ageSeconds
path
toString
exec
toArray
line
fields
split
parsedUploads
Integer
parseInt
describe
width
getConf
getInt
KEY_DIRECTORY_COUNT
DEFAULT_DIRECTORY_COUNT
depth
operations
getLong
KEY_OPERATION_COUNT
DEFAULT_OPERATION_COUNT
List
PathMetadata
origMetas
ArrayList
createDirTree
BUCKET_ROOT
Path
origPaths
metasToPaths
movedMetas
moveMetas
movedPaths
count
populateMetadataStore
ms
NanoTimer
moveTimer
msec
timer
duration
msecPerOp
count
blocks
filesize
uploadBlockSize
blocksPerMB
_1MB
S3AFileSystem
fs
getFileSystem
StorageStatistics
storageStatistics
getStorageStatistics
String
putRequests
Statistic
OBJECT_PUT_REQUESTS
getSymbol
putBytes
OBJECT_PUT_BYTES
putRequestsActive
OBJECT_PUT_REQUESTS_ACTIVE
putBytesPending
OBJECT_PUT_BYTES_PENDING
ContractTestUtils
NanoTimer
timer
S3AInstrumentation
OutputStreamStatistics
streamStatistics
blocksPer10MB
ProgressCallback
progress
getOutputStreamStatistics
out
S3AInstrumentation
OutputStreamStatistics
streamStatistics
blocksPer10MB
blocksPerMB
ProgressCallback
progress
timer
getOutputStreamStatistics
out
LOG
info
getWrappedStream
write
data
written
block
uploadBlockSize
percentage
filesize
elapsedTime
ProgressCallback
progress
timer
streamStatistics
getOutputStreamStatistics
out
LOG
info
getWrappedStream
write
data
written
block
uploadBlockSize
percentage
filesize
elapsedTime
writtenMB
_1MB
String
format
filesizeMB
storageStatistics
getLong
putBytes
gaugeValue
putBytesPending
putRequests
putRequestsActive
ProgressCallback
progress
timer
streamStatistics
getOutputStreamStatistics
out
LOG
info
getWrappedStream
write
data
written
block
uploadBlockSize
percentage
filesize
elapsedTime
writtenMB
_1MB
String
format
filesizeMB
storageStatistics
getLong
putBytes
gaugeValue
putBytesPending
putRequests
putRequestsActive
streamStatistics
out
write
data
written
block
uploadBlockSize
percentage
filesize
elapsedTime
timer
writtenMB
_1MB
LOG
info
String
format
filesizeMB
storageStatistics
getLong
putBytes
gaugeValue
putBytesPending
putRequests
putRequestsActive
ContractTestUtils
NanoTimer
closeTimer
close
end
written
block
uploadBlockSize
percentage
filesize
elapsedTime
timer
writtenMB
_1MB
LOG
info
String
format
filesizeMB
storageStatistics
getLong
putBytes
gaugeValue
putBytesPending
putRequests
putRequestsActive
out
streamStatistics
ContractTestUtils
NanoTimer
closeTimer
close
end
logFSState
bandwidth
assumeHugeFileExists
String
encryption
getConf
getTrimmed
SERVER_SIDE_ENCRYPTION_ALGORITHM
encrypted
eof
size
ContractTestUtils
NanoTimer
timer
readAtByte0
readAtByte0Again
readAtEOF
in
readFully
buffer
end
ops
bufferSize
readAtByte0
ContractTestUtils
NanoTimer
in
readFully
buffer
end
ops
readAtEOF
eof
bufferSize
readAtByte0Again
LOG
info
mb
Math
max
size
_1MB
logFSState
assumeHugeFileExists
describe
hugefile
S3AFileSystem
fs
getFileSystem
FileStatus
status
getFileStatus
size
getLen
blocks
uploadBlockSize
data
ContractTestUtils
NanoTimer
timer
in
readFully
LOG
info
mb
Math
max
_1MB
end
assumeHugeFileExists
describe
hugefile
hugefileRenamed
S3AFileSystem
fs
getFileSystem
FileStatus
status
getFileStatus
size
getLen
delete
ContractTestUtils
NanoTimer
timer
rename
mb
Math
max
_1MB
end
FileStatus
status
fs
getFileStatus
hugefile
size
getLen
delete
hugefileRenamed
ContractTestUtils
NanoTimer
timer
rename
mb
Math
max
_1MB
end
LOG
info
toHuman
nanosPerOperation
bandwidth
logFSState
destFileStatus
assertEquals
timer2
StringBuilder
sb
getFileSystem
getStorageStatistics
forEach
kv
append
toString
describe
File
results
deleteFiles
requests
pageSize
File
csvFile
dataDir
String
format
requestCount
entries
throttle
describe
Path
basePath
path
S3AFileSystem
fs
getFileSystem
base
pathToKey
List
DeleteObjectsRequest
KeyVersion
fileList
buildDeleteRequest
FileWriter
out
Csvout
csvout
Outcome
writeSchema
ContractTestUtils
NanoTimer
jobTimer
id
i
startTime
System
currentTimeMillis
Thread
currentThread
setName
ex
e
timer
end
id
Outcome
startTime
NanoTimerStats
stats
success
throttled
List
throttledEvents
ArrayList
outcome
completionService
take
get
ContractTestUtils
NanoTimer
Exception
exception
writeln
csvout
add
NanoTimerStats
stats
success
throttled
List
Outcome
throttledEvents
ArrayList
outcome
completionService
take
get
ContractTestUtils
NanoTimer
timer
Exception
ex
exception
writeln
csvout
add
LOG
info
i
ContractTestUtils
NanoTimer
timer
outcome
Exception
ex
exception
writeln
csvout
stats
add
LOG
info
i
throttled
throttledEvents
success
close
jobTimer
end
csvFile
requestCount
getCount
duration
LOG
info
AtomicInteger
count
Thread
r
getAndIncrement
ThreadPoolExecutor
executor
prestartAllCoreThreads
Future
Boolean
futures
concurrentRenames
index
i
NanoTimer
timer
result
fs
rename
source
target
Path
finalParentDir
scaleTestDir
finalDir
S3AFileSystem
fs
getFileSystem
rm
mkdirs
srcDir
createFiles
count
FileStatus
statuses
listStatus
nSrcFiles
length
sourceSize
Arrays
stream
mapToLong
getLen
sum
assertEquals
ContractTestUtils
NanoTimer
renameTimer
rename
end
renameTimer
end
LOG
info
bandwidthDescription
sourceSize
String
format
nanosPerOperation
count
Assertions
assertThat
lsR
fs
srcParentDir
describedAs
isEqualTo
assertPathDoesNotExist
Path
srcDir
filenameOfIndex
finalDir
listStatus
hasSize
assertPathExists
ContractTestUtils
NanoTimer
deleteTimer
assertDeleted
scale
getConf
getInt
KEY_DIRECTORY_COUNT
DEFAULT_DIRECTORY_COUNT
width
depth
files
MetricDiff
metadataRequests
fs
OBJECT_METADATA_REQUESTS
listRequests
OBJECT_LIST_REQUESTS
listContinueRequests
OBJECT_CONTINUE_LIST_REQUESTS
listStatusCalls
INVOCATION_LIST_FILES
getFileStatusCalls
INVOCATION_GET_FILE_STATUS
NanoTimer
createTimer
TreeScanResults
created
createSubdirs
listDir
emptyDepth
emptyWidth
add
end
remaining
blockSize
blockId
i
NanoTimer
blockTimer
reads
readTimer
bytesRead
in
read
block
offset
count
end
NanoTimer
readTimer
bytesRead
in
read
block
offset
remaining
reads
count
end
LOG
debug
blockSize
duration
nanosPerOperation
bandwidthDescription
warn
blockTimer
blockId
String
bw
offset
bytesRead
count
readTimer
end
LOG
debug
reads
blockSize
remaining
duration
nanosPerOperation
bandwidthDescription
warn
blockTimer
blockId
String
bw
info
Assert
assertTrue
resetCount
maxResetCount
getS3AInputStream
in
resetConnection
in
openTestFile
policy
readahead
len
testDataStatus
getLen
NanoTimer
timer
blockCount
blockSize
readOps
length
buffer
offset
read
in
currentPos
bytesRead
assertEquals
fs
streamStatistics
openOperations
i
sourceData
assertStreamOpenedExactlyOnce
readahead
readTimer
end
bandwidth
length
buffer
offset
read
in
currentPos
bytesRead
readOps
assertEquals
fs
streamStatistics
openOperations
i
sourceData
assertStreamOpenedExactlyOnce
readahead
readTimer
end
bandwidth
LOG
info
toHuman
nanosPerOperation
assertEquals
sourceData
currentPos
buffer
describe
in
readCount
NanoTimer
timer
LOG
info
seek
r
read
assertTrue
List
String
result
ArrayList
stats
scanner
useDelimiter
CSV_INPUT_RECORD_DELIMITER_DEFAULT
l
nextLine
size
selection
String
listing
prepareToPrint
describe
lines
String
line
S3AFileSystem
fs
getFileSystem
len
getFileStatus
path
getLen
fullData
actualLen
IOUtils
read
sourceStream
seekRange
SelectInputStream
sis
seekStream
getWrappedStream
S3AInstrumentation
InputStreamStatistics
streamStats
getS3AStreamStatistics
seek
assertEquals
PathIOException
ex
intercept
SEEK_UNSUPPORTED
intercept
PathIOException
SelectInputStream
SEEK_UNSUPPORTED
seekStream
readFully
buffer
assertPosition
pos
setReadahead
assertEquals
Constants
DEFAULT_READAHEAD_RANGE
sis
getReadahead
target
getPos
seekRange
seek
fullData
read
streamStats
bytesSkippedOnSeek
IllegalArgumentException
S3AInputStream
E_NEGATIVE_READAHEAD_VALUE
logIntercepted
expectSeekEOF
actualLen
assertEquals
Constants
DEFAULT_READAHEAD_RANGE
sis
getReadahead
target
seekStream
getPos
seekRange
seek
assertPosition
fullData
read
streamStats
bytesSkippedOnSeek
intercept
IllegalArgumentException
S3AInputStream
E_NEGATIVE_READAHEAD_VALUE
setReadahead
buffer
logIntercepted
expectSeekEOF
actualLen
LOG
info
assertFalse
seekToNewSource
describe
len
getFileSystem
getFileStatus
csvPath
getLen
FutureDataInputStreamBuilder
builder
openFile
must
SELECT_ODD_ENTRIES
CompletableFuture
FSDataInputStream
future
build
bytes
actual
select
read
describe
JobConf
conf
createJobConf
inputMust
CSV_INPUT_HEADER
CSV_HEADER_OPT_USE
CSV_OUTPUT_QUOTE_FIELDS
CSV_OUTPUT_QUOTE_FIELDS_AS_NEEEDED
String
sql
SELECT_TO_DATE
List
records
expectRecordsRead
ALL_ROWS_COUNT
describe
selectConf
set
CSV_INPUT_HEADER
CSV_HEADER_OPT_USE
List
String
lines
verifySelectionCount
ALL_ROWS_COUNT_WITH_HEADER
parseToLines
select
getFileSystem
brokenCSV
describe
selectConf
set
CSV_INPUT_HEADER
CSV_HEADER_OPT_USE
List
String
lines
verifySelectionCount
ALL_ROWS_COUNT_WITH_HEADER
parseToLines
select
getFileSystem
brokenCSV
describe
lineCount
LINE_COUNT
S3AFileSystem
landsatFS
getLandsatGZ
getFileSystem
getConfiguration
S3ATestUtils
MetricDiff
selectCount
Statistic
OBJECT_SELECT_REQUESTS
run
selectConf
selectTool
D
v
CSV_OUTPUT_QUOTE_CHARACTER
CSV_OUTPUT_QUOTE_FIELDS
CSV_OUTPUT_QUOTE_FIELDS_AS_NEEEDED
o
OPT_HEADER
CSV_HEADER_OPT_USE
OPT_COMPRESSION
COMPRESSION_OPT_GZIP
OPT_LIMIT
Integer
toString
OPT_OUTPUT
localFile
landsatSrc
SELECT_SUNNY_ROWS_NO_LIMIT
List
String
lines
IOUtils
readLines
FileInputStream
Charset
defaultCharset
describe
selectConf
set
CSV_INPUT_HEADER
CSV_HEADER_OPT_IGNORE
String
sql
LIMITED
List
list
selectLandsatFile
describe
S3ATestUtils
MetricDiff
selectCount
getLandsatFS
Statistic
OBJECT_SELECT_REQUESTS
List
String
list
selectLandsatFile
selectConf
SELECT_ENTITY_ID_ALL_CLOUDS
describe
FileContext
fc
S3ATestUtils
createTestFileContext
getConfiguration
List
String
list
parseToLines
select
getLandsatGZ
selectConf
SELECT_ENTITY_ID_ALL_CLOUDS
SELECT_LIMIT
intercept
PathIOException
SelectInputStream
SEEK_UNSUPPORTED
seekStream
readFully
buffer
target
getPos
seekRange
seek
assertEquals
dataset
read
streamStats
bytesSkippedOnSeek
offset
increment
_1KB
jobConf
set
FS_S3A_COMMITTER_NAME
StagingCommitter
NAME
setBoolean
FS_S3A_COMMITTER_STAGING_UNIQUE_FILENAMES
String
query
ITestS3SelectLandsat
SELECT_PROCESSING_LEVEL_NO_LIMIT
inputMust
SELECT_SQL
SELECT_INPUT_COMPRESSION
COMPRESSION_OPT_GZIP
SELECT_INPUT_FORMAT
SELECT_FORMAT_CSV
CSV_INPUT_HEADER
CSV_HEADER_OPT_USE
SELECT_OUTPUT_FORMAT
CSV_OUTPUT_QUOTE_FIELDS
CSV_OUTPUT_QUOTE_FIELDS_AS_NEEEDED
enablePassthroughCodec
exitCode
job
waitForCompletion
assertEquals
Path
successPath
output
SuccessData
success
load
fs
jobConf
setBoolean
FS_S3A_COMMITTER_STAGING_UNIQUE_FILENAMES
String
query
ITestS3SelectLandsat
SELECT_PROCESSING_LEVEL_NO_LIMIT
inputMust
SELECT_SQL
SELECT_INPUT_COMPRESSION
COMPRESSION_OPT_GZIP
SELECT_INPUT_FORMAT
SELECT_FORMAT_CSV
CSV_INPUT_HEADER
CSV_HEADER_OPT_USE
SELECT_OUTPUT_FORMAT
CSV_OUTPUT_QUOTE_FIELDS
CSV_OUTPUT_QUOTE_FIELDS_AS_NEEEDED
enablePassthroughCodec
exitCode
job
waitForCompletion
assertEquals
Path
successPath
output
SuccessData
success
load
fs
LOG
info
inputMust
jobConf
CSV_OUTPUT_QUOTE_FIELDS
CSV_OUTPUT_QUOTE_FIELDS_AS_NEEEDED
enablePassthroughCodec
exitCode
job
waitForCompletion
assertEquals
Path
successPath
output
SuccessData
success
load
fs
LOG
info
query
AtomicLong
parts
path
status
getPath
incrementAndGet
String
result
readStringFromFile
List
String
lines
org
apache
commons
io
IOUtils
readLines
reader
job
setJarByClass
WordCount
setMapperClass
TokenizerMapper
setCombinerClass
IntSumReducer
setReducerClass
setOutputKeyClass
Text
setOutputValueClass
IntWritable
FileInputFormat
addInputPath
input
FileOutputFormat
setOutputPath
output
exitCode
waitForCompletion
assertEquals
Path
success
_SUCCESS
FileStatus
status
fs
getFileStatus
assertTrue
getLen
SuccessData
successData
load
String
commitDetails
toString
Object
args
invocation
getArguments
String
name
Preconditions
checkArgument
StringUtils
isNotEmpty
accountName
String
accountPrefix
AZURE_AD_ACCOUNT_PREFIX
operationStatus
threadsEnabled
threadCount
ThreadPoolExecutor
ioThreadPool
start
Time
monotonicNow
Math
min
contents
length
getThreadPool
LOG
warn
operation
key
config
ioThreadPool
getThreadPool
threadCount
threadsEnabled
LOG
warn
operation
key
config
debug
started
AzureFileSystemThreadRunnable
runnable
contents
threadOperation
execute
LOG
warn
operation
threadCount
debug
started
AzureFileSystemThreadRunnable
runnable
contents
threadOperation
ioThreadPool
execute
error
key
config
shutdown
awaitTermination
Long
MAX_VALUE
TimeUnit
DAYS
AzureFileSystemThreadRunnable
runnable
contents
threadOperation
operation
ioThreadPool
execute
started
LOG
error
key
config
shutdown
awaitTermination
Long
MAX_VALUE
TimeUnit
DAYS
shutdownNow
Thread
currentThread
interrupt
threadsNotUsed
threadCount
threadsUsed
get
started
LOG
error
operation
key
config
ioThreadPool
shutdown
awaitTermination
Long
MAX_VALUE
TimeUnit
DAYS
shutdownNow
Thread
currentThread
interrupt
threadsNotUsed
threadCount
runnable
threadsUsed
get
warn
threadsEnabled
ioThreadPool
shutdown
awaitTermination
Long
MAX_VALUE
TimeUnit
DAYS
shutdownNow
Thread
currentThread
interrupt
LOG
error
operation
key
threadsNotUsed
threadCount
runnable
threadsUsed
get
warn
threadsEnabled
info
IOException
lastException
LOG
error
operation
key
threadsNotUsed
threadCount
runnable
threadsUsed
get
warn
threadsEnabled
info
IOException
lastException
operationStatus
storageInteractionLayer
StorageInterfaceImpl
SecureStorageInterfaceImpl
useLocalSasKeyMode
conf
configureAzureStorageSession
createAzureStorageSession
pageBlobDirs
getDirectorySet
KEY_PAGE_BLOB_DIRECTORIES
LOG
debug
setToString
userAgentId
get
USER_AGENT_ID_KEY
USER_AGENT_ID_DEFAULT
blockBlobWithCompationDirs
KEY_BLOCK_BLOB_WITH_COMPACTION_DIRECTORIES
atomicRenameDirs
KEY_ATOMIC_RENAME_DIRECTORIES
String
hbaseRoot
verifyAndConvertToStandardFormat
sessionConfiguration
cpuCores
Runtime
getRuntime
availableProcessors
concurrentWrites
sessionConfiguration
getInt
KEY_CONCURRENT_CONNECTION_VALUE_OUT
Math
min
DEFAULT_CONCURRENT_WRITES
minBackoff
KEY_MIN_BACKOFF_INTERVAL
DEFAULT_MIN_BACKOFF_INTERVAL
maxBackoff
KEY_MAX_BACKOFF_INTERVAL
DEFAULT_MAX_BACKOFF_INTERVAL
deltaBackoff
KEY_BACKOFF_INTERVAL
DEFAULT_BACKOFF_INTERVAL
maxRetries
KEY_MAX_IO_RETRIES
DEFAULT_MAX_RETRY_ATTEMPTS
storageInteractionLayer
setRetryPolicyFactory
RetryExponentialRetry
selfThrottlingEnabled
getBoolean
KEY_SELF_THROTTLE_ENABLE
DEFAULT_SELF_THROTTLE_ENABLE
selfThrottlingReadFactor
getFloat
KEY_SELF_THROTTLE_READ_FACTOR
DEFAULT_SELF_THROTTLE_READ_FACTOR
selfThrottlingWriteFactor
KEY_SELF_THROTTLE_WRITE_FACTOR
DEFAULT_SELF_THROTTLE_WRITE_FACTOR
autoThrottlingEnabled
KEY_AUTO_THROTTLE_ENABLE
DEFAULT_AUTO_THROTTLE_ENABLE
ClientThrottlingIntercept
initializeSingleton
instrumentation
setAccountName
accountName
String
containerName
getContainerFromAuthority
sessionUri
setContainerName
connectUsingCredentials
connectToAzureStorageInSecureMode
propertyValue
sessionConfiguration
get
KEY_ACCOUNT_SAS_PREFIX
connectUsingSASCredentials
getAccountKeyFromConfiguration
String
errMsg
format
sessionUri
AssertionError
LOG
debug
key
FileMetadata
defaultPermissionNoBlobMetadata
BlobMaterialization
Implicit
hadoopBlockSize
CloudBlobWrapper
blob
getBlobReference
downloadAttributes
getInstrumentedContext
BlobProperties
properties
getProperties
LOG
debug
key
FileMetadata
defaultPermissionNoBlobMetadata
BlobMaterialization
Implicit
hadoopBlockSize
CloudBlobWrapper
blob
getBlobReference
downloadAttributes
getInstrumentedContext
BlobProperties
properties
getProperties
getLastModified
getTime
getPermissionStatus
Explicit
Throwable
t
e
getCause
StorageException
se
SelfRenewingLease
lease
acquireLease
key
delete
LOG
warn
e3
getMessage
free
flush
ioThreadPool
shutdown
LOG
error
key
NativeAzureFileSystemHelper
logAllLiveStackTraces
AzureException
Thread
currentThread
interrupt
lease
free
IOException
lastLocalException
uploadRetryAttempts
startTime
System
nanoTime
blob
uploadBlock
blockId
accessCondition
ByteArrayInputStream
dataPayload
array
position
BlobRequestOptions
opContext
IOException
lastLocalException
uploadRetryAttempts
startTime
System
nanoTime
blob
commitBlockList
blockEntries
accessCondition
BlobRequestOptions
opContext
reductionFactor
consecutiveNoErrorCount
analysisPeriodMs
RAPID_SLEEP_DECREASE_TRANSITION_PERIOD_MS
RAPID_SLEEP_DECREASE_FACTOR
SLEEP_DECREASE_FACTOR
newSleepDuration
sleepDuration
additionalDelayNeeded
bytesSuccessful
bytesFailed
periodMs
operationsFailed
operationsSuccessful
maxSleepDuration
minSleepDuration
SLEEP_INCREASE_FACTOR
Math
max
min
initialize
uri
conf
store
createDefaultStore
instrumentation
AzureFileSystemInstrumentation
AzureFileSystemMetricsSystem
fileSystemStarted
metricsSourceName
newMetricsSourceName
String
sourceDesc
registerSource
setConf
ugi
UserGroupInformation
getCurrentUser
URI
create
getScheme
getAuthority
workingDir
Path
getShortUserName
makeQualified
getUri
getWorkingDirectory
appendSupportEnabled
getBoolean
APPEND_SUPPORT_ENABLE_PROPERTY_NAME
FileMetadata
parentMetadata
String
parentKey
pathToKey
parentPath
store
retrieveMetadata
Throwable
innerException
checkForAzureStorageException
e
IOException
f
IOException
f
parentPath
AzureException
LOG
debug
parentKey
store
storeEmptyFolder
createPermissionStatus
FsPermission
getDefault
updateParentFolderLastModifiedTime
key
WasbAuthorizationException
String
format
AzureException
f
parentPath
LOG
debug
parentKey
store
storeEmptyFolder
createPermissionStatus
FsPermission
getDefault
updateParentFolderLastModifiedTime
key
WasbAuthorizationException
String
format
instrumentation
fileDeleted
e
LOG
debug
f
parentKey
store
storeEmptyFolder
createPermissionStatus
FsPermission
getDefault
WasbAuthorizationException
String
format
parentPath
ArrayList
FileMetadata
fileMetadataList
isPartialDelete
start
Time
monotonicNow
getFolderContentsToDelete
metaFile
LOG
debug
f
parentKey
store
storeEmptyFolder
createPermissionStatus
FsPermission
getDefault
WasbAuthorizationException
String
format
parentPath
ArrayList
FileMetadata
fileMetadataList
isPartialDelete
start
Time
monotonicNow
getFolderContentsToDelete
metaFile
Throwable
innerException
checkForAzureStorageException
e
store
storeEmptyFolder
parentKey
createPermissionStatus
FsPermission
getDefault
WasbAuthorizationException
String
format
parentPath
f
ArrayList
FileMetadata
fileMetadataList
isPartialDelete
start
Time
monotonicNow
getFolderContentsToDelete
metaFile
Throwable
innerException
checkForAzureStorageException
e
end
LOG
debug
size
String
parentKey
pathToKey
parentPath
FileMetadata
parentMetadata
store
retrieveMetadata
Throwable
innerException
checkForAzureStorageException
e
IOException
f
e
IOException
f
parentPath
AzureException
LOG
debug
parentKey
store
storeEmptyFolder
createPermissionStatus
FsPermission
getDefault
updateParentFolderLastModifiedTime
key
instrumentation
fileDeleted
instrumentation
fileDeleted
Throwable
innerException
checkForAzureStorageException
e
LOG
debug
f
String
parentKey
pathToKey
parentPath
FileMetadata
parentMetadata
Throwable
innerException
checkForAzureStorageException
e
IOException
f
parentPath
LOG
debug
parentKey
store
storeEmptyFolder
createPermissionStatus
FsPermission
getDefault
start
Time
monotonicNow
FileMetadata
contents
list
key
AZURE_LIST_ALL
AZURE_UNBOUNDED_DEPTH
e
IOException
f
parentPath
LOG
debug
parentKey
store
storeEmptyFolder
createPermissionStatus
FsPermission
getDefault
start
Time
monotonicNow
FileMetadata
contents
list
key
AZURE_LIST_ALL
AZURE_UNBOUNDED_DEPTH
Throwable
innerException
checkForAzureStorageException
FileMetadata
currentFolder
foldersToProcess
pop
Path
currentPath
makeAbsolute
getPath
canDeleteChildren
performAuthCheck
WasbAuthorizationOperations
WRITE
pathToDelete
LOG
debug
fileMetadataList
store
list
getKey
AZURE_LIST_ALL
maxListingDepth
filePath
childItem
LOG
debug
currentPath
canDeleteChildren
FileMetadata
fileMetadataList
store
list
currentFolder
getKey
AZURE_LIST_ALL
maxListingDepth
Path
filePath
makeAbsolute
childItem
getPath
error
foldersToProcess
push
folderContentsMap
put
FileMetadata
fileMetadataList
store
list
currentFolder
getKey
AZURE_LIST_ALL
maxListingDepth
canDeleteChildren
Path
filePath
makeAbsolute
childItem
getPath
LOG
error
foldersToProcess
push
folderContentsMap
put
currentPath
String
pathToRemove
Path
absolutePath
makeAbsolute
f
String
key
pathToKey
FileStatus
store
getHadoopBlockSize
FsPermission
getDefault
makeQualified
getUri
getWorkingDirectory
FileMetadata
meta
retrieveMetadata
Throwable
innerException
NativeAzureFileSystemHelper
checkForAzureStorageException
ex
FileNotFoundException
format
renamed
conditionalRedoFolderRenames
listing
listWithErrorHandling
key
AZURE_LIST_ALL
FileMetadata
result
ArrayList
status
length
add
updateFileStatusPath
fileMetadata
getPath
toArray
String
currentKey
pathToKey
current
FileMetadata
currentMetadata
store
retrieveMetadata
Path
ancestor
getPath
FolderRenamePending
renamePending
Path
absoluteSrcPath
makeAbsolute
src
srcParentFolder
getParent
String
srcKey
pathToKey
performAuthCheck
WasbAuthorizationOperations
WRITE
performStickyBitCheckForRenameOperation
Throwable
innerException
checkForAzureStorageException
ex
Throwable
innerException
checkForAzureStorageException
ex
LOG
debug
srcKey
Path
absoluteDstPath
makeAbsolute
dst
dstParentFolder
getParent
String
dstKey
pathToKey
FileMetadata
dstMetadata
store
retrieveMetadata
LOG
debug
srcKey
ex
Path
absoluteDstPath
makeAbsolute
dst
dstParentFolder
getParent
String
dstKey
pathToKey
FileMetadata
dstMetadata
store
retrieveMetadata
Throwable
innerException
NativeAzureFileSystemHelper
checkForAzureStorageException
ex
Path
absoluteDstPath
makeAbsolute
dst
dstParentFolder
getParent
String
dstKey
pathToKey
FileMetadata
dstMetadata
store
retrieveMetadata
Throwable
innerException
NativeAzureFileSystemHelper
checkForAzureStorageException
LOG
debug
dstMetadata
store
retrieveMetadata
dstKey
Throwable
innerException
NativeAzureFileSystemHelper
checkForAzureStorageException
ex
LOG
debug
performAuthCheck
absoluteDstPath
WasbAuthorizationOperations
WRITE
pathToKey
makeAbsolute
Path
dst
src
getName
Throwable
innerException
NativeAzureFileSystemHelper
checkForAzureStorageException
ex
LOG
debug
dstKey
performAuthCheck
absoluteDstPath
WasbAuthorizationOperations
WRITE
pathToKey
makeAbsolute
Path
dst
src
getName
FileMetadata
parentOfDestMetadata
LOG
debug
dstKey
ex
performAuthCheck
absoluteDstPath
WasbAuthorizationOperations
WRITE
pathToKey
makeAbsolute
Path
dst
src
getName
FileMetadata
parentOfDestMetadata
store
retrieveMetadata
getParent
LOG
debug
dst
performAuthCheck
dstParentFolder
WasbAuthorizationOperations
WRITE
absoluteDstPath
FileMetadata
srcMetadata
store
retrieveMetadata
srcKey
Throwable
innerException
NativeAzureFileSystemHelper
checkForAzureStorageException
ex
src
performAuthCheck
dstParentFolder
WasbAuthorizationOperations
WRITE
absoluteDstPath
FileMetadata
srcMetadata
store
retrieveMetadata
srcKey
Throwable
innerException
NativeAzureFileSystemHelper
checkForAzureStorageException
ex
LOG
debug
src
store
updateFolderLastModifiedTime
parentKey
lease
String
errorCode
StorageException
e2
e
getCause
getErrorCode
FileNotFoundException
LOG
warn
getMessage
free
String
srcKey
pathToKey
srcPath
FileMetadata
srcMetadata
store
retrieveMetadata
String
owner
FileMetadata
meta
key
pathToKey
absolutePath
store
retrieveMetadata
getOwner
String
owner
FileMetadata
meta
key
pathToKey
absolutePath
store
retrieveMetadata
getOwner
LOG
debug
Throwable
innerException
NativeAzureFileSystemHelper
checkForAzureStorageException
ex
isfileNotFoundException
StorageException
isFileNotFoundException
errorMsg
String
errorMsg
String
errorMsg
String
errorMsg
String
errorMsg
Token
token
iterToken
sleepMultiple
writeFactor
operationIsRead
readFactor
sleepDuration
lastLatency
Thread
sleep
currentThread
interrupt
sendEvent
getRequestResult
setStartDate
Date
isFirstRequest
RetryPolicy
RetryAction
a
retryPolicy
shouldRetry
ioe
retry
FAIL
isRetry
action
RetryDecision
RETRY
isFailoverAndRetry
FAILOVER_AND_RETRY
LOG
debug
url
delayMillis
Thread
sleep
warn
e
getMessage
currentThread
interrupt
WasbRemoteCallException
uri
ensureAuthority
configuration
initialize
setConf
abfsCounters
AbfsCountersImpl
uri
abfsStore
AzureBlobFileSystemStore
isSecureScheme
configuration
LOG
trace
AbfsConfiguration
abfsConfiguration
getAbfsConfiguration
setWorkingDirectory
getHomeDirectory
createFileSystem
checkException
ex
AzureServiceErrorCode
FILE_SYSTEM_ALREADY_EXISTS
delegationTokenEnabled
isDelegationTokenManagerEnabled
AbfsConfiguration
abfsConfiguration
abfsStore
getAbfsConfiguration
setWorkingDirectory
getHomeDirectory
createFileSystem
checkException
ex
AzureServiceErrorCode
FILE_SYSTEM_ALREADY_EXISTS
LOG
trace
delegationTokenEnabled
isDelegationTokenManagerEnabled
debug
uri
delegationTokenManager
getDelegationTokenManager
bind
getUri
configuration
createFileSystem
checkException
ex
AzureServiceErrorCode
FILE_SYSTEM_ALREADY_EXISTS
LOG
trace
delegationTokenEnabled
abfsConfiguration
isDelegationTokenManagerEnabled
debug
uri
delegationTokenManager
getDelegationTokenManager
bind
getUri
configuration
AbfsClientThrottlingIntercept
initializeSingleton
isAutoThrottlingEnabled
isNamespaceEnabled
getIsNamespaceEnabled
isNamespaceEnabled
getIsNamespaceEnabled
Instant
startAggregate
abfsPerfTracker
getLatencyInstant
countAggregate
shouldContinue
isNamespaceEnabled
getIsNamespaceEnabled
Instant
startAggregate
abfsPerfTracker
getLatencyInstant
countAggregate
shouldContinue
QueryParams
qp
add
RESOURCE_NAME
authority
tenantGuid
httperror
ex
token
getTokenSingleCall
authEndpoint
body
headers
httpMethod
isMsi
e
httpErrorCode
isRecoverableFailure
HttpException
String
format
getClass
getTypeName
getMessage
succeeded
shouldRetry
tokenFetchRetryPolicy
retryCount
jp
nextToken
fieldName
getCurrentName
fieldValue
getText
token
setAccessToken
expiryPeriodInSecs
Integer
parseInt
expiresOnInSecs
Long
parseLong
close
expiryPeriodInSecs
Integer
parseInt
fieldValue
expiresOnInSecs
Long
parseLong
jp
nextToken
close
LOG
debug
token
setExpiry
Date
UnsupportedOperationException
expiry
System
currentTimeMillis
reductionFactor
consecutiveNoErrorCount
analysisPeriodMs
RAPID_SLEEP_DECREASE_TRANSITION_PERIOD_MS
RAPID_SLEEP_DECREASE_FACTOR
SLEEP_DECREASE_FACTOR
newSleepDuration
sleepDuration
additionalDelayNeeded
bytesSuccessful
bytesFailed
periodMs
operationsFailed
operationsSuccessful
maxSleepDuration
minSleepDuration
SLEEP_INCREASE_FACTOR
Math
max
min
IllegalArgumentException
AbfsRestOperation
op
AbfsPerfTracker
tracker
client
getAbfsPerfTracker
LOG
trace
path
position
offset
length
read
b
tolerateOobAppends
eTag
cachedSasToken
get
update
getSasToken
LOG
debug
n
IOException
FSExceptionMessages
STREAM_IS_CLOSED
EOFException
NEGATIVE_SEEK
CANNOT_SEEK_PAST_EOF
streamStatistics
seek
fCursor
bCursor
limit
seekInBuffer
queue
offer
latencyDetails
Instant
trackerStop
now
elapsed
Duration
between
trackerStart
toMillis
AbfsIoUtils
dumpHeadersToDebugLog
httpOperation
getConnection
getRequestProperties
AbfsClientThrottlingIntercept
sendingRequest
operationType
abfsCounters
sendRequest
buffer
bufferOffset
bufferLength
incrementCounter
AbfsStatistic
SEND_REQUESTS
BYTES_SENT
processResponse
GET_RESPONSES
BYTES_RECEIVED
getBytesReceived
LOG
warn
String
format
getUrl
getHost
AbfsIoUtils
dumpHeadersToDebugLog
httpOperation
getConnection
getRequestProperties
AbfsClientThrottlingIntercept
sendingRequest
operationType
abfsCounters
sendRequest
buffer
bufferOffset
bufferLength
incrementCounter
AbfsStatistic
SEND_REQUESTS
BYTES_SENT
processResponse
GET_RESPONSES
BYTES_RECEIVED
getBytesReceived
LOG
warn
String
format
getUrl
getHost
debug
toString
ex
incrementCounter
AbfsStatistic
BYTES_RECEIVED
httpOperation
getBytesReceived
LOG
warn
String
format
getUrl
getHost
debug
toString
ex
method
url
InvalidAbfsRestOperationException
AbfsRestOperationException
HttpException
String
gmtTime
getGMTTime
connection
setRequestProperty
HttpHeaderConfigurations
X_MS_DATE
stringToSign
canonicalize
accountName
contentLength
computedBase64Signature
computeHmac256
signature
format
AUTHORIZATION
signedExpiryLen
start
token
indexOf
signedExpiry
OffsetDateTime
MIN
end
String
seValue
substring
URLDecoder
decode
LOG
error
ex
seDate
parse
DateTimeFormatter
ISO_DATE_TIME
LOG
error
seValue
ex
OffsetDateTime
MIN
seDate
parse
DateTimeFormatter
ISO_DATE_TIME
String
signedKeyExpiry
signedKeyExpiryLen
start
token
indexOf
end
skeValue
substring
LOG
error
seValue
ex
String
signedKeyExpiry
signedKeyExpiryLen
start
token
indexOf
seDate
end
skeValue
substring
URLDecoder
decode
OffsetDateTime
MIN
LOG
debug
fileLocation
errorRecord
File
file
LineIterator
it
FileUtils
lineIterator
String
line
nextLine
cache
put
split
COLON
keyIndex
size
FileSystem
fs
accountUsingInputStreamV1
getFileSystem
testFileStatus
getFileStatus
TEST_FILE_PATH
testFileLength
getLen
assumeHugeFileExists
maxAttempts
maxAcceptableRatio
v1ElapsedMs
v2ElapsedMs
ratio
Double
MAX_VALUE
sequentialRead
accountUsingInputStreamV1
getFileSystem
accountUsingInputStreamV2
assumeHugeFileExists
maxAttempts
maxAcceptableRatio
beforeSeekElapsedMs
afterSeekElapsedMs
ratio
Double
MAX_VALUE
sequentialRead
accountUsingInputStreamV2
getFileSystem
buffer
KILOBYTE
totalBytesRead
bytesRead
inputStream
read
seek
NanoTimer
timer
elapsedTimeMs
assumeHugeFileExists
maxAttempts
maxAcceptableRatio
v1ElapsedMs
v2ElapsedMs
ratio
Double
MAX_VALUE
randomRead
accountUsingInputStreamV1
getFileSystem
accountUsingInputStreamV2
assumeHugeFileExists
minBytesToRead
MEGABYTE
Random
random
buffer
KILOBYTE
totalBytesRead
bytesRead
NanoTimer
timer
inputStream
read
seek
nextInt
testFileLength
length
elapsedTimeMs
close
assertTrue
content
isEmpty
String
message
term
assertTrue
content
isEmpty
String
message
term
setUp
Configuration
conf
getConfiguration
threads
AzureTestUtils
getTestPropertyInt
NUMBER_OF_THREADS
filesPerThread
NUMBER_OF_FILES_PER_THREAD
expectedFileCount
String
basePath
fs
getWorkingDirectory
toUri
getPath
TEST_DIR_PATH
substring
ArrayList
Callable
Integer
tasks
threads
mkdirs
ContractTestUtils
NanoTimer
timer
written
blobName
UUID
randomUUID
toString
CloudBlockBlob
blob
container
getBlockBlobReference
uploadText
written
String
blobName
basePath
UUID
randomUUID
toString
CloudBlockBlob
blob
container
getBlockBlobReference
uploadText
LOG
error
e
info
List
Future
Integer
futures
executorService
invokeAll
tasks
getTestTimeoutMillis
TimeUnit
MILLISECONDS
elapsedMs
timer
elapsedTimeMs
ContractTestUtils
NanoTimer
timer
FileStatus
fileList
fs
listStatus
TEST_DIR_PATH
elapsedMs
elapsedTimeMs
ContractTestUtils
NanoTimer
timer
FileStatus
fileList
fs
listStatus
TEST_DIR_PATH
elapsedMs
elapsedTimeMs
LOG
info
String
format
length
Map
Path
foundInList
HashMap
expectedFileCount
put
fileStatus
getPath
Map
Path
FileStatus
foundInList
HashMap
expectedFileCount
put
fileStatus
getPath
LOG
info
isDirectory
assertEquals
fileList
length
ContractTestUtils
NanoTimer
initialStatusCallTimer
RemoteIterator
LocatedFileStatus
listing
fs
listFiles
TEST_DIR_PATH
initialListTime
elapsedTimeMs
timer
next
path
removed
remove
assertNotNull
elapsedMs
ContractTestUtils
NanoTimer
timer
fs
delete
TEST_DIR_PATH
elapsedMs
elapsedTimeMs
AtomicInteger
successfulRenameCount
AtomicReference
IOException
unexpectedError
Path
dest
path
List
Thread
threads
ArrayList
threadNumber
i
src
latch
await
Long
MAX_VALUE
TimeUnit
SECONDS
output
write
getBytes
LOG
info
Path
path
methodPath
fs
create
assertPathExists
NativeAzureFileSystem
nfs
String
fullKey
pathToKey
makeAbsolute
AzureNativeFileSystemStore
store
getStore
CountDownLatch
leaseAttemptComplete
beginningDeleteAttempt
SelfRenewingLease
lease
acquireLease
testFileStatus
fs
getFileStatus
TEST_FILE_PATH
testFileLength
getLen
describe
count
CloudStorageAccount
storageAccount
getTestAccount
getRealAccount
CloudBlobClient
blobClient
createCloudBlobClient
Iterable
CloudBlobContainer
containers
listContainers
CONTAINER_PREFIX
describe
count
CloudStorageAccount
storageAccount
getTestAccount
getRealAccount
CloudBlobClient
blobClient
createCloudBlobClient
Iterable
CloudBlobContainer
containers
listContainers
CONTAINER_PREFIX
StorageStatistics
statistics
getFileSystem
getStorageStatistics
Iterator
LongStatistic
longStatistics
getLongStatistics
next
data
SOURCE_DATA
blocks
filesize
UPLOAD_BLOCKSIZE
blocksPerMB
S_1M
NativeAzureFileSystem
fs
getFileSystem
ContractTestUtils
NanoTimer
timer
blocksPer10MB
mkdirs
hugefile
getParent
out
write
written
block
percentage
elapsedTime
NANOSEC
writtenMB
ContractTestUtils
NanoTimer
timer
readAtByte0
readAtByte0Again
readAtEOF
in
readFully
buffer
end
ops
eof
bufferSize
in
readFully
buffer
readAtByte0
end
ops
readAtEOF
ContractTestUtils
NanoTimer
eof
bufferSize
readAtByte0Again
LOG
info
mb
Math
max
filesize
S_1M
logFSState
timer
assumeHugeFileExists
describe
hugefile
NativeAzureFileSystem
fs
getFileSystem
FileStatus
status
getFileStatus
filesize
getLen
blocks
UPLOAD_BLOCKSIZE
data
ContractTestUtils
NanoTimer
timer
in
readFully
LOG
info
mb
Math
max
S_1M
end
remaining
blockSize
blockId
i
NanoTimer
blockTimer
reads
readTimer
bytesRead
in
read
block
offset
count
end
NanoTimer
readTimer
bytesRead
in
read
block
offset
remaining
reads
count
end
LOG
debug
blockSize
duration
nanosPerOperation
bandwidthDescription
warn
blockTimer
blockId
String
bw
count
bytesRead
readTimer
end
LOG
debug
reads
blockSize
remaining
duration
nanosPerOperation
bandwidthDescription
warn
blockTimer
blockId
String
bw
info
Assert
assertTrue
resetCount
maxResetCount
IOUtils
closeStream
in
assumeHugeFileExists
describe
hugefile
hugefileRenamed
NativeAzureFileSystem
fs
getFileSystem
FileStatus
status
getFileStatus
filesize
getLen
delete
ContractTestUtils
NanoTimer
timer
rename
mb
Math
max
S_1M
end
FileStatus
status
fs
getFileStatus
hugefile
filesize
getLen
delete
hugefileRenamed
ContractTestUtils
NanoTimer
timer
rename
mb
Math
max
S_1M
end
LOG
info
toHuman
nanosPerOperation
bandwidth
logFSState
destFileStatus
assertEquals
timer2
FILE_SIZE
getBandwidthGaugeUpdater
suppressAutoUpdate
Date
start
OutputStream
outputStream
getFileSystem
create
filePath
write
nonZeroByteArray
close
uploadDurationMs
getTime
logOpResponseCount
base
assertWebResponsesInRange
triggerUpdate
bytesWritten
AzureMetricsTestUtil
getCurrentBytesWritten
getInstrumentation
assertTrue
totalBytesWritten
getCurrentTotalBytesWritten
uploadRate
getLongGaugeValue
WASB_UPLOAD_RATE
outputStream
write
nonZeroByteArray
FILE_SIZE
close
uploadDurationMs
Date
getTime
start
logOpResponseCount
base
assertWebResponsesInRange
getBandwidthGaugeUpdater
triggerUpdate
bytesWritten
AzureMetricsTestUtil
getCurrentBytesWritten
getInstrumentation
assertTrue
totalBytesWritten
getCurrentTotalBytesWritten
uploadRate
getLongGaugeValue
WASB_UPLOAD_RATE
LOG
info
expectedRate
uploadLatency
WASB_UPLOAD_LATENCY
InputStream
inputStream
getFileSystem
open
filePath
count
close
downloadDurationMs
Date
getTime
start
assertEquals
FILE_SIZE
logOpResponseCount
base
assertWebResponsesInRange
getBandwidthGaugeUpdater
triggerUpdate
totalBytesRead
AzureMetricsTestUtil
getCurrentTotalBytesRead
getInstrumentation
bytesRead
getCurrentBytesRead
assertTrue
downloadRate
getLongGaugeValue
WASB_DOWNLOAD_RATE
inputStream
close
downloadDurationMs
Date
getTime
start
assertEquals
FILE_SIZE
count
logOpResponseCount
base
assertWebResponsesInRange
getBandwidthGaugeUpdater
triggerUpdate
totalBytesRead
AzureMetricsTestUtil
getCurrentTotalBytesRead
getInstrumentation
bytesRead
getCurrentBytesRead
assertTrue
downloadRate
getLongGaugeValue
WASB_DOWNLOAD_RATE
LOG
info
expectedRate
downloadLatency
WASB_DOWNLOAD_LATENCY
base
getBaseWebResponses
assertEquals
AzureMetricsTestUtil
getCurrentBytesWritten
getInstrumentation
Path
filePath
FILE_SIZE
getBandwidthGaugeUpdater
suppressAutoUpdate
OutputStream
outputStream
getFileSystem
create
write
close
logOpResponseCount
assertWebResponsesInRange
triggerUpdate
totalBytesWritten
getCurrentTotalBytesWritten
assertTrue
uploadRate
getLongGaugeValue
WASB_UPLOAD_RATE
assertEquals
AzureMetricsTestUtil
getCurrentBytesWritten
getInstrumentation
Path
filePath
FILE_SIZE
getBandwidthGaugeUpdater
suppressAutoUpdate
OutputStream
outputStream
getFileSystem
create
write
close
logOpResponseCount
base
assertWebResponsesInRange
triggerUpdate
totalBytesWritten
getCurrentTotalBytesWritten
assertTrue
uploadRate
getLongGaugeValue
WASB_UPLOAD_RATE
LOG
info
uploadLatency
WASB_UPLOAD_LATENCY
uploadLatency
AzureMetricsTestUtil
getLongGaugeValue
getInstrumentation
WASB_UPLOAD_LATENCY
LOG
info
assertTrue
InputStream
inputStream
getFileSystem
open
filePath
count
close
assertEquals
FILE_SIZE
logOpResponseCount
base
assertWebResponsesInRange
getBandwidthGaugeUpdater
triggerUpdate
totalBytesRead
getCurrentTotalBytesRead
downloadRate
WASB_DOWNLOAD_RATE
assertTrue
uploadLatency
InputStream
inputStream
getFileSystem
open
filePath
count
close
assertEquals
FILE_SIZE
logOpResponseCount
base
assertWebResponsesInRange
getBandwidthGaugeUpdater
triggerUpdate
totalBytesRead
AzureMetricsTestUtil
getCurrentTotalBytesRead
getInstrumentation
downloadRate
getLongGaugeValue
WASB_DOWNLOAD_RATE
LOG
info
downloadLatency
WASB_DOWNLOAD_LATENCY
describe
AzureBlobFileSystem
fs
getFileSystem
AzureBlobFileSystemStore
abfss
getAbfsStore
Path
seekStatPath
path
getMethodName
AbfsOutputStream
out
AbfsInputStream
in
createAbfsOutputStreamWithFlushEnabled
write
defBuffer
hflush
openFileForRead
getFsStatistics
result
read
ONE_MB
AzureBlobFileSystemStore
abfss
fs
getAbfsStore
Path
seekStatPath
path
getMethodName
AbfsOutputStream
out
AbfsInputStream
in
createAbfsOutputStreamWithFlushEnabled
write
defBuffer
hflush
openFileForRead
getFsStatistics
result
read
ONE_MB
LOG
info
seek
AbfsInputStreamStatisticsImpl
stats
getStreamStatistics
in
abfss
openFileForRead
seekStatPath
fs
getFsStatistics
result
read
defBuffer
ONE_MB
LOG
info
seek
AbfsInputStreamStatisticsImpl
stats
getStreamStatistics
toString
assertEquals
OPERATIONS
getSeekOperations
getBackwardSeekOperations
getForwardSeekOperations
getBytesBackwardsOnSeek
getBytesSkippedOnSeek
getSeekInBuffer
close
describe
AzureBlobFileSystem
fs
getFileSystem
AzureBlobFileSystemStore
abfss
getAbfsStore
Path
readStatPath
path
getMethodName
AbfsOutputStream
out
AbfsInputStream
in
createAbfsOutputStreamWithFlushEnabled
write
defBuffer
hflush
openFileForRead
getFsStatistics
read
AbfsInputStreamStatisticsImpl
stats
getStreamStatistics
AbfsOutputStream
out
AbfsInputStream
in
createAbfsOutputStreamWithFlushEnabled
fs
readStatPath
write
defBuffer
hflush
abfss
openFileForRead
getFsStatistics
read
AbfsInputStreamStatisticsImpl
stats
getStreamStatistics
LOG
info
toString
assertEquals
OPERATIONS
getBytesRead
getReadOperations
getRemoteReadOperations
close
describe
AzureBlobFileSystem
fs
getFileSystem
Path
nullStatFilePath
path
getMethodName
oneKbBuff
ONE_KB
AbfsInputStreamContext
abfsInputStreamContext
getConfiguration
getSasTokenRenewPeriodForStreamsInSeconds
withReadBufferSize
getReadBufferSize
withReadAheadQueueDepth
getReadAheadQueueDepth
withStreamStatistics
build
AbfsOutputStream
out
AbfsInputStream
in
createAbfsOutputStreamWithFlushEnabled
write
hflush
AbfsRestOperation
abfsRestOperation
getAbfsClient
getPathStatus
toUri
getPath
getResult
getResponseHeader
assertNotEquals
read
seek
AzureBlobFileSystem
fs
getFileSystem
Path
getResponsePath
path
getMethodName
Map
String
Long
metricMap
testResponseString
getResponses
bytesReceived
FSDataOutputStream
out
FSDataInputStream
in
create
write
getBytes
hflush
getInstrumentationMap
getResponsesBeforeTest
get
CONNECTIONS_MADE
getStatName
open
result
read
String
testReadWriteOps
statistics
reset
assertReadWriteOps
getWriteOps
getReadOps
FSDataOutputStream
outForOneOperation
FSDataInputStream
inForOneOperation
fs
create
smallOperationsFile
write
getBytes
hflush
open
result
read
length
Assume
assumeFalse
getFileSystem
getIsNamespaceEnabled
createTestFile
assumeHugeFileExists
AzureBlobFileSystem
abFs
NativeAzureFileSystem
wasbFs
getWasbFileSystem
maxAttempts
maxAcceptableRatio
v1ElapsedMs
v2ElapsedMs
ratio
Double
MAX_VALUE
randomRead
buffer
SEQUENTIAL_READ_BUFFER_SIZE
totalBytesRead
bytesRead
inputStream
read
seek
ContractTestUtils
NanoTimer
timer
elapsedTimeMs
assumeHugeFileExists
minBytesToRead
MEGABYTE
Random
random
buffer
KILOBYTE
totalBytesRead
bytesRead
ContractTestUtils
NanoTimer
timer
inputStream
read
seek
nextInt
TEST_FILE_SIZE
length
elapsedTimeMs
close
initialized
owner
UserGroupInformation
getCurrentUser
Preconditions
checkState
initialized
fsURI
uri
canonicalServiceName
toString
Token
TokenIdentifier
token
credentials
getToken
Text
serviceName
assertEquals
StubAbfsTokenIdentifier
TOKEN_KIND
getKind
tokenService
getService
toString
abfsId
decodeIdentifier
ByteArrayOutputStream
dtUtilContent
DtUtilShell
dt
setOut
PrintStream
reset
r
doAs
aliceUser
ToolRunner
run
conf
args
String
s
toString
maxLatencyWhenDisabledMs
minLatencyWhenDisabledMs
numTasks
aggregateLatency
AbfsPerfTracker
abfsPerfTracker
accountName
filesystemName
List
Callable
Long
tasks
ArrayList
Instant
startGet
now
getClientLatency
latencyGet
Duration
between
toMillis
maxLatencyWhenDisabledMs
minLatencyWhenDisabledMs
numTasks
aggregateLatency
AbfsPerfTracker
abfsPerfTracker
accountName
filesystemName
List
Callable
Long
tasks
ArrayList
Instant
startRecord
now
getClientLatency
latencyRecord
Duration
between
toMillis
Assume
assumeTrue
getAuthType
AuthType
SharedKey
count
CloudStorageAccount
storageAccount
AzureBlobStorageTestAccount
createTestAccount
CloudBlobClient
blobClient
createCloudBlobClient
Iterable
CloudBlobContainer
containers
listContainers
TEST_CONTAINER_PREFIX
Assume
assumeTrue
getAuthType
AuthType
SharedKey
count
CloudStorageAccount
storageAccount
AzureBlobStorageTestAccount
createTestAccount
CloudBlobClient
blobClient
createCloudBlobClient
Iterable
CloudBlobContainer
containers
listContainers
TEST_CONTAINER_PREFIX
sb
append
path
sv
sr
String
stringToSign
toString
numOfValues
reporter
setStatus
key
toString
aRecord
TaggedMapOutput
arg1
next
clone
job
Text
tag
getTag
ResetableIterator
data
retv
get
createResetableIterator
put
add
largestNumOfValues
OptionsParser
usage
DistCpConstants
INVALID_ARGUMENT
context
DistCpContext
parse
argv
checkSplitLargeFile
setTargetPathExists
LOG
info
error
e
System
err
println
getMessage
execute
context
DistCpContext
OptionsParser
parse
argv
checkSplitLargeFile
setTargetPathExists
LOG
info
error
e
System
err
println
getMessage
usage
DistCpConstants
INVALID_ARGUMENT
execute
setTargetPathExists
LOG
info
context
error
e
System
err
println
getMessage
OptionsParser
usage
DistCpConstants
INVALID_ARGUMENT
execute
DUPLICATE_INPUT
LOG
error
e
System
err
println
getMessage
OptionsParser
usage
DistCpConstants
INVALID_ARGUMENT
execute
DUPLICATE_INPUT
OptionsParser
usage
DistCpConstants
INVALID_ARGUMENT
execute
LOG
error
e
DUPLICATE_INPUT
ACLS_NOT_SUPPORTED
Path
workDir
context
getAtomicWorkPath
targetPath
getParent
WIP_PREFIX
getName
rand
nextInt
FileSystem
workFS
getFileSystem
configuration
IllegalArgumentException
CopyOutputFormat
setWorkingDirectory
job
setCommitDirectory
logPath
getLogPath
metaFolder
ArrayList
DiffInfo
diffList
distCpSync
prepareDiffListForCopyListing
Path
sourceRoot
context
getSourcePaths
get
FileSystem
sourceFS
getFileSystem
getConf
List
FileStatusInfo
fileStatuses
Lists
newArrayList
diff
setTarget
getTarget
addToFileListing
fileListWriter
FileStatus
sourceStatus
getFileStatus
FileSystem
sourceFS
path
getFileSystem
getConf
preserveAcls
context
shouldPreserve
FileAttribute
ACL
preserveXAttrs
XATTR
preserveRawXAttrs
shouldPreserveRawXattrs
makeQualified
FileStatus
rootStatus
getFileStatus
Path
sourcePathRoot
computeSourceRootPath
sourceFiles
listStatus
explore
length
LinkedList
CopyListingFileStatus
rootCopyListingStatus
DistCpUtils
toCopyListingFileStatus
getBlocksPerChunk
writeToFileListingRoot
fileListWriter
ArrayList
sourceDirs
LinkedList
CopyListingFileStatus
rootCopyListingStatus
DistCpUtils
toCopyListingFileStatus
sourceFS
rootStatus
preserveAcls
preserveXAttrs
preserveRawXAttrs
context
getBlocksPerChunk
writeToFileListingRoot
fileListWriter
sourcePathRoot
ArrayList
FileStatus
sourceDirs
LOG
debug
sourceStatus
getPath
sourceCopyListingStatus
isDirectory
addToFileListing
statusList
FileStatusInfo
fs
writeToFileListing
syncOrOverwrite
context
shouldSyncFolder
shouldOverwrite
Path
metaFolder
conf
get
DistCpConstants
CONF_LABEL_META_FOLDER
FileSystem
fs
getFileSystem
Path
sourceListing
spath
SequenceFile
Reader
sourceReader
conf
file
targetRoot
get
DistCpConstants
CONF_LABEL_TARGET_WORK_PATH
CopyListingFileStatus
srcFileStatus
Text
srcRelPath
lastFileStatus
LinkedList
allChunkPaths
targetFile
toString
targetFileChunkPath
DistCpUtils
getSplitChunkPath
String
attrSymbols
conf
get
DistCpConstants
CONF_LABEL_PRESERVE_STATUS
syncOrOverwrite
syncFolder
overwrite
Path
trackDir
conf
get
DistCpConstants
CONF_LABEL_TRACK_MISSING
sourceListing
CONF_LABEL_LISTING_FILE_PATH
Path
trackDir
conf
get
DistCpConstants
CONF_LABEL_TRACK_MISSING
sourceListing
CONF_LABEL_LISTING_FILE_PATH
LOG
info
sourceSortedListing
SOURCE_SORTED_FILE
Path
trackDir
conf
get
DistCpConstants
CONF_LABEL_TRACK_MISSING
sourceListing
CONF_LABEL_LISTING_FILE_PATH
LOG
info
sourceSortedListing
SOURCE_SORTED_FILE
DistCpUtils
sortListing
targetListing
TARGET_LISTING_FILE
sortedTargetListing
TARGET_SORTED_FILE
listTargetFiles
LOG
info
listingStart
System
currentTimeMillis
Path
sourceListing
conf
get
DistCpConstants
CONF_LABEL_LISTING_FILE_PATH
FileSystem
clusterFS
getFileSystem
sortedSourceListing
DistCpUtils
sortListing
sourceListingCompleted
LOG
info
listingStart
System
currentTimeMillis
Path
sourceListing
conf
get
DistCpConstants
CONF_LABEL_LISTING_FILE_PATH
FileSystem
clusterFS
getFileSystem
sortedSourceListing
DistCpUtils
sortListing
sourceListingCompleted
formatDuration
targetListing
getParent
sortedTargetListing
toString
targetFinalPath
listTargetFiles
totalLen
getFileStatus
getLen
SequenceFile
Reader
sourceReader
file
targetReader
deletionStart
skippedDeletes
deletedDirectories
DeletedDirTracker
tracker
CopyListingFileStatus
srcFileStatus
Text
srcRelPath
trgtFileStatus
trgtRelPath
FileSystem
targetFS
targetFinalPath
getFileSystem
conf
showProgress
srcAvailable
sourceReader
next
Path
targetEntry
getPath
CopyListingFileStatus
trgtFileStatus
Text
trgtRelPath
FileSystem
targetFS
targetFinalPath
getFileSystem
conf
showProgress
srcAvailable
sourceReader
next
srcRelPath
srcFileStatus
Path
targetEntry
getPath
LOG
debug
equals
srcAvailable
sourceReader
next
srcRelPath
srcFileStatus
Path
targetEntry
trgtFileStatus
getPath
LOG
debug
trgtRelPath
equals
showProgress
info
deletedEntries
deletedDirectories
filesDeleted
showProgress
LOG
info
targetEntry
deletedEntries
deletedDirectories
filesDeleted
trgtFileStatus
missingDeletes
e
LOG
info
targetEntry
deletedEntries
deletedDirectories
filesDeleted
trgtFileStatus
missingDeletes
e
deletedEntries
deletedDirectories
filesDeleted
LOG
info
targetEntry
trgtFileStatus
missingDeletes
e
toString
debug
failedDeletes
e
LOG
info
targetEntry
toString
debug
failedDeletes
skippedDeletes
showProgress
taskAttemptContext
progress
setStatus
targetReader
getPosition
totalLen
targetFS
CopyListing
target
GlobbedCopyListing
Configuration
conf
Path
targetFinalPath
get
DistCpConstants
CONF_LABEL_TARGET_FINAL_PATH
List
targets
ArrayList
add
resultNonePath
getPathWithoutSchemeAndAuthority
toString
startsWith
HDFS_RESERVED_RAW_DIRECTORY_NAME
RAW_NONE_PATH
NONE_PATH
threads
getInt
CONF_LABEL_LISTSTATUS_THREADS
DEFAULT_LISTSTATUS_THREADS
Path
workDir
conf
get
DistCpConstants
CONF_LABEL_TARGET_WORK_PATH
finalDir
CONF_LABEL_TARGET_FINAL_PATH
FileSystem
targetFS
getFileSystem
Path
workDir
conf
get
DistCpConstants
CONF_LABEL_TARGET_WORK_PATH
finalDir
CONF_LABEL_TARGET_FINAL_PATH
FileSystem
targetFS
getFileSystem
LOG
info
Path
workDir
conf
get
DistCpConstants
CONF_LABEL_TARGET_WORK_PATH
finalDir
CONF_LABEL_TARGET_FINAL_PATH
FileSystem
targetFS
getFileSystem
LOG
info
error
IOException
result
rename
warn
exists
taskAttemptContext
setStatus
LOG
debug
targetFile
allChunkPaths
size
FileSystem
dstfs
getFileSystem
conf
srcfs
sourceFile
Path
firstChunkFile
removeFirst
restChunkFiles
toArray
getFileStatus
i
f
concat
Path
sourcePath
sourceFileStatus
getPath
LOG
isDebugEnabled
debug
relPath
target
targetWorkPath
makeQualified
targetFS
getUri
getWorkingDirectory
toString
EnumSet
DistCpOptions
FileAttribute
fileAttributes
getFileAttributeSettings
context
preserveRawXattrs
getConfiguration
getBoolean
DistCpConstants
CONF_LABEL_PRESERVE_RAWXATTRS
String
description
setStatus
IOException
RetriableFileCopyCommand
CopyReadException
e
FileStatus
targetStatus
targetFS
getFileStatus
target
LOG
isDebugEnabled
debug
ignore
getFileType
sourceCurrStatus
createTargetDirsWithRetry
description
context
sourceStatus
FileAction
action
checkUpdate
sourceFS
Path
tmpTarget
LOG
isDebugEnabled
debug
target
ignore
IOException
getFileType
targetStatus
sourceCurrStatus
createTargetDirsWithRetry
description
context
sourceStatus
FileAction
action
checkUpdate
sourceFS
Path
tmpTarget
info
getPath
updateSkipCounters
write
Text
sourceFileStatus
getLen
LOG
info
source
getPath
target
toAppend
action
FileAction
APPEND
useTempTarget
directWrite
Path
targetPath
getTempFile
context
toAppend
action
FileAction
APPEND
useTempTarget
directWrite
Path
targetPath
getTempFile
target
context
LOG
info
Configuration
configuration
getConfiguration
FileSystem
targetFS
getFileSystem
sourcePath
source
getPath
sourceFS
FileChecksum
sourceChecksum
fileAttributes
contains
FileAttribute
CHECKSUMTYPE
getFileChecksum
offset
getFileStatus
getLen
getChunkOffset
bytesRead
copyToFile
sourceStatus
DistCpUtils
compareFileLengthsAndChecksums
skipCrc
Path
targetWorkPath
context
getConfiguration
get
DistCpConstants
CONF_LABEL_TARGET_WORK_PATH
root
target
equals
getParent
tempFile
getTaskAttemptID
toString
String
valueOf
System
currentTimeMillis
List
InputSplit
splits
ArrayList
numSplits
nBytesPerSplit
Math
ceil
totalSizeBytes
CopyListingFileStatus
srcFileStatus
Text
srcRelPath
currentSplitSize
lastSplitStart
lastPosition
Path
listingFilePath
getListingFilePath
configuration
CopyListingFileStatus
srcFileStatus
Text
srcRelPath
currentSplitSize
lastSplitStart
lastPosition
Path
listingFilePath
getListingFilePath
configuration
LOG
debug
nBytesPerSplit
numSplits
totalSizeBytes
SequenceFile
Reader
reader
getListingFileReader
FileSplit
split
SequenceFile
Reader
reader
getListingFileReader
configuration
FileSplit
split
listingFilePath
lastSplitStart
lastPosition
LOG
debug
currentSplitSize
splits
add
srcFileStatus
getChunkLength
getPosition
close
String
taskId
taskAttemptContext
getTaskAttemptID
getTaskID
toString
Path
acquiredFilePath
getChunkRootPath
LinkedList
CopyListingFileStatus
copyListingFileStatus
clfs
toCopyListingFileStatusHelper
fileSystem
fileStatus
preserveAcls
preserveXAttrs
preserveRawXAttrs
getLen
blockSize
getBlockSize
curPos
LOG
debug
clfs
copyListingFileStatus
add
i
curLength
blockLocations
getLength
CopyListingFileStatus
clfs1
setChunkOffset
setChunkLength
copyListingFileStatus
add
clfs
i
curLength
blockLocations
getLength
CopyListingFileStatus
clfs1
setChunkOffset
curPos
setChunkLength
LOG
debug
validatePaths
DistCpContext
options
Assert
fail
TestDistCpUtils
delete
fs
srcPaths
clear
add
Path
mkdirs
create
target
close
fs
FileSystem
get
getConf
List
Path
srcPaths
ArrayList
add
TestDistCpUtils
createFile
target
listingFile
DistCpOptions
options
Builder
build
DistCpContext
context
CopyListing
listing
getCopyListing
CREDENTIALS
buildListing
Assert
fail
DistCpOptions
options
Builder
srcPaths
target
withSyncFolder
build
CopyListing
listing
SimpleCopyListing
getConf
CREDENTIALS
buildListing
listingFile
DistCpContext
Assert
fail
assertThat
getBytesToCopy
isEqualTo
getNumberOfPaths
TestDistCpUtils
delete
fs
FileSystem
fs
pathToListFile
getFileSystem
config
CopyListingFileStatus
currentVal
Text
currentKey
idx
reader
getCurrentValue
Assert
assertEquals
srcFiles
size
makeQualified
get
getPath
TestDistCpUtils
createFile
fs
decoyFile
toString
targetFile
List
Path
srcPaths
ArrayList
add
sourceFile
DistCpOptions
options
Builder
build
CopyListing
listing
SimpleCopyListing
getConf
CREDENTIALS
listFile
testRoot
buildListing
DistCpContext
reader
SequenceFile
Reader
file
CopyListingFileStatus
fileStatus
Text
relativePath
Assert
assertTrue
next
equals
fail
FSDataInputStream
srcIn
fs
open
srcStat
getPath
dstIn
dstStat
readSrc
HdfsClientConfigKeys
DFS_BLOCK_SIZE_DEFAULT
readDst
srcBytesRead
tgtBytesRead
srcIdx
tgtIdx
totalComparedBytes
read
tgtBytesRead
dstIn
read
readDst
tgtIdx
LOG
info
totalComparedBytes
Assert
fail
srcStat
dstStat
tgtBytesRead
dstIn
read
readDst
tgtIdx
LOG
info
totalComparedBytes
Assert
fail
srcStat
dstStat
String
testRoot
FsShell
shell
fs
getConf
LOG
info
String
testRoot
FsShell
shell
fs
getConf
LOG
info
execCmd
args
ToolRunner
run
conf
DistCp
contents2
getBytes
Assert
assertEquals
contents1
length
addEntries
listFile
createWithContents
Path
target
root
runTest
checkResult
FSDataInputStream
is
fs
open
dstContents
readFully
close
assertArrayEquals
describe
Path
srcDir
inputDir
ContractTestUtils
assertIsFile
remoteFS
outputFileNew1
assertPathExists
localFS
trackDir
Path
sortedSourceListing
DistCpConstants
SOURCE_SORTED_FILE
sortedTargetListing
TARGET_SORTED_FILE
assertPathsExist
outputFile2
outputFile3
outputFile4
outputSubDir4
Map
String
sourceFiles
HashMap
targetFiles
CopyListingFileStatus
copyStatus
Text
name
key
toString
path
getPath
ContractTestUtils
assertIsFile
localFS
sortedTargetListing
assertPathsExist
remoteFS
outputFile2
outputFile3
outputFile4
outputSubDir4
Map
String
Path
sourceFiles
HashMap
targetFiles
CopyListingFileStatus
copyStatus
Text
name
key
toString
path
getPath
LOG
info
put
RemoteIterator
LocatedFileStatus
files
fs
listFiles
dir
CopyListing
listing
GlobbedCopyListing
conf
CREDENTIALS
Path
listingFile
String
valueOf
rand
nextLong
buildListing
context
set
CONF_LABEL_TARGET_WORK_PATH
targetBase
CONF_LABEL_TARGET_FINAL_PATH
OutputCommitter
committer
CopyCommitter
taskAttemptContext
commitJob
jobContext
Assert
fail
sourcePath
sourceBase
srcFilename
CopyListingFileStatus
sourceCurrStatus
fs
getFileStatus
assertFalse
DistCpUtils
checksumsAreEqual
getLen
Configuration
configuration
System
setProperty
set
Configuration
configuration
System
setProperty
set
LOG
debug
get
copyMapper
setup
context
Path
path
SOURCE_PATH
manyBytes
appendFile
ScheduledExecutorService
scheduledExecutorService
Executors
newSingleThreadScheduledExecutor
maxAppendAttempts
appendCount
Thread
sleep
maxAppendAttempts
appendCount
appendFile
path
Thread
sleep
LOG
error
e
Assert
fail
getMessage
scheduledExecutorService
schedule
task
TimeUnit
MILLISECONDS
copyMapper
map
Text
DistCpUtils
getRelativePath
Path
SOURCE_PATH
CopyListingFileStatus
cluster
getFileSystem
getFileStatus
context
deleteState
createSourceData
FileSystem
fs
cluster
getFileSystem
CopyMapper
copyMapper
StubContext
stubContext
getConfiguration
Mapper
Text
CopyListingFileStatus
Context
context
getContext
mkdirs
SOURCE_PATH
touchFile
TARGET_PATH
setup
map
getFileStatus
Path
Assert
assertTrue
e
getMessage
startsWith
LOG
error
e
RuntimeException
EnumSet
DistCpOptions
FileAttribute
preserveStatus
allOf
remove
ACL
XATTR
context
getConfiguration
set
DistCpConstants
CONF_LABEL_PRESERVE_STATUS
DistCpUtils
packAttributes
touchFile
SOURCE_PATH
mkdirs
TARGET_PATH
cluster
getFileSystem
setPermission
Path
FsPermission
FileSystem
get
FileSystem
get
cluster
getConfiguration
LOG
error
e
Assert
fail
getMessage
RuntimeException
copyMapper
setup
context
map
Text
CopyListingFileStatus
tmpFS
getFileStatus
Path
SOURCE_PATH
assertTrue
StubContext
stubContext
getConfiguration
getContext
LOG
error
e
RuntimeException
touchFile
SOURCE_PATH
mkdirs
TARGET_PATH
cluster
getFileSystem
setPermission
Path
FsPermission
FsAction
READ
FileSystem
get
FileSystem
get
cluster
getConfiguration
LOG
error
e
Assert
fail
getMessage
RuntimeException
copyMapper
setup
context
map
Text
CopyListingFileStatus
tmpFS
getFileStatus
Path
SOURCE_PATH
FileSystem
get
cluster
getConfiguration
LOG
error
e
Assert
fail
getMessage
RuntimeException
copyMapper
setup
context
map
Text
CopyListingFileStatus
tmpFS
getFileStatus
Path
SOURCE_PATH
assertThat
stubContext
getWriter
values
size
isEqualTo
assertTrue
toString
startsWith
contains
FileSystem
get
cluster
getConfiguration
LOG
error
e
Assert
fail
getMessage
RuntimeException
copyMapper
setup
context
map
Text
CopyListingFileStatus
tmpFS
getFileStatus
Path
SOURCE_PATH
deleteState
createSourceData
FileSystem
fs
cluster
getFileSystem
CopyMapper
copyMapper
StubContext
stubContext
getConfiguration
Mapper
Text
CopyListingFileStatus
Context
context
getContext
touchFile
SOURCE_PATH
mkdirs
TARGET_PATH
setup
map
getFileStatus
Path
Assert
assertTrue
e
getMessage
startsWith
stubContext
getContext
LOG
error
e
RuntimeException
touchFile
SOURCE_PATH
mkdirs
TARGET_PATH
cluster
getFileSystem
setPermission
Path
FsPermission
FsAction
NONE
context
getConfiguration
setBoolean
DistCpOptionSwitch
IGNORE_FAILURES
getConfigLabel
ignoreFailures
FileSystem
get
mkdirs
TARGET_PATH
cluster
getFileSystem
setPermission
Path
SOURCE_PATH
FsPermission
FsAction
NONE
context
getConfiguration
setBoolean
DistCpOptionSwitch
IGNORE_FAILURES
getConfigLabel
ignoreFailures
FileSystem
get
LOG
error
e
RuntimeException
context
getConfiguration
setBoolean
DistCpOptionSwitch
IGNORE_FAILURES
getConfigLabel
ignoreFailures
FileSystem
get
cluster
LOG
error
e
RuntimeException
copyMapper
setup
map
Text
CopyListingFileStatus
tmpFS
getFileStatus
Path
SOURCE_PATH
Assert
assertTrue
LOG
error
e
RuntimeException
copyMapper
setup
context
map
Text
CopyListingFileStatus
tmpFS
getFileStatus
Path
SOURCE_PATH
Assert
assertTrue
ignoreFailures
assertFalse
job
getConfiguration
set
DistCpConstants
CONF_LABEL_TARGET_WORK_PATH
CopyOutputFormat
setCommitDirectory
Path
JobContext
context
JobContextImpl
jobID
outputFormat
checkOutputSpecs
Assert
fail
setWorkingDirectory
AtomicInteger
r
status
isDirectory
deletedDirs
deletedFiles
incrementAndGet
Configuration
configuration
System
setProperty
set
Configuration
configuration
System
setProperty
set
LOG
debug
get
allTokens
ByteBuffer
wrap
dob
getData
getLength
AMRMClientAsync
AbstractCallbackHandler
allocListener
RMCallbackHandler
amRMClient
createAMRMClientAsync
init
conf
start
containerListener
createNMCallbackHandler
nmClientAsync
NMClientAsyncImpl
String
appMasterHostname
NetUtils
getHostname
registerApplicationMaster
Supplier
Boolean
exitCritera
isComplete
Optional
Properties
namenodeProperties
empty
ContainerRequest
nnContainerRequest
setupContainerAskForRM
amOptions
getNameNodeMemoryMB
getNameNodeVirtualCores
getNameNodeNodeLabelExpression
amRMClient
init
conf
start
containerListener
createNMCallbackHandler
nmClientAsync
NMClientAsyncImpl
String
appMasterHostname
NetUtils
getHostname
registerApplicationMaster
Supplier
Boolean
exitCritera
isComplete
Optional
Properties
namenodeProperties
empty
ContainerRequest
nnContainerRequest
setupContainerAskForRM
amOptions
getNameNodeMemoryMB
getNameNodeVirtualCores
getNameNodeNodeLabelExpression
LOG
info
toString
addContainerRequest
Path
namenodeInfoPath
remoteStoragePath
DynoConstants
NN_INFO_FILE_NAME
String
appMasterHostname
NetUtils
getHostname
amRMClient
registerApplicationMaster
Supplier
Boolean
exitCritera
isComplete
Optional
Properties
namenodeProperties
empty
ContainerRequest
nnContainerRequest
setupContainerAskForRM
amOptions
getNameNodeMemoryMB
getNameNodeVirtualCores
getNameNodeNodeLabelExpression
LOG
info
toString
addContainerRequest
Path
namenodeInfoPath
remoteStoragePath
DynoConstants
NN_INFO_FILE_NAME
DynoInfraUtils
waitForAndGetNameNodeProperties
conf
cleanup
namenodeServiceRpcAddress
getNameNodeServiceRpcAddr
get
ContainerRequest
nnContainerRequest
setupContainerAskForRM
amOptions
getNameNodeMemoryMB
getNameNodeVirtualCores
getNameNodeNodeLabelExpression
LOG
info
toString
amRMClient
addContainerRequest
Path
namenodeInfoPath
remoteStoragePath
DynoConstants
NN_INFO_FILE_NAME
namenodeProperties
DynoInfraUtils
waitForAndGetNameNodeProperties
exitCritera
conf
cleanup
namenodeServiceRpcAddress
getNameNodeServiceRpcAddr
get
getNameNodeHdfsUri
waitForNameNodeStartup
cleanup
namenodeServiceRpcAddress
DynoInfraUtils
getNameNodeServiceRpcAddr
namenodeProperties
get
toString
LOG
info
getNameNodeHdfsUri
waitForNameNodeStartup
exitCritera
blockListFiles
Collections
synchronizedList
getDataNodeBlockListingFiles
numTotalDataNodes
size
error
markCompleted
numTotalDataNodeContainers
Math
ceil
max
amOptions
getDataNodesPerCluster
LOG
info
namenodeProperties
get
DynoInfraUtils
getNameNodeHdfsUri
toString
waitForNameNodeStartup
exitCritera
namenodeServiceRpcAddress
blockListFiles
Collections
synchronizedList
getDataNodeBlockListingFiles
numTotalDataNodes
size
error
markCompleted
numTotalDataNodeContainers
Math
ceil
max
amOptions
getDataNodesPerCluster
getDataNodeMemoryMB
getDataNodeVirtualCores
ContainerRequest
datanodeAsk
setupContainerAskForRM
getDataNodeNodeLabelExpression
Path
blockListDirPath
System
getenv
get
DynoConstants
BLOCK_LIST_PATH_ENV
LOG
info
yarnClient
start
YarnClusterMetrics
clusterMetrics
getYarnClusterMetrics
LOG
info
yarnClient
start
YarnClusterMetrics
clusterMetrics
getYarnClusterMetrics
getNumNodeManagers
QueueInfo
queueInfo
getQueueInfo
amQueue
LOG
info
yarnClient
start
YarnClusterMetrics
clusterMetrics
getYarnClusterMetrics
getNumNodeManagers
QueueInfo
queueInfo
getQueueInfo
amQueue
getQueueName
getCurrentCapacity
getMaximumCapacity
getApplications
size
getChildQueues
YarnClientApplication
app
createApplication
GetNewApplicationResponse
appResponse
getNewApplicationResponse
maxMem
getMaximumResourceCapability
getMemorySize
LOG
info
yarnClient
start
YarnClusterMetrics
clusterMetrics
getYarnClusterMetrics
getNumNodeManagers
QueueInfo
queueInfo
getQueueInfo
amQueue
getQueueName
getCurrentCapacity
getMaximumCapacity
getApplications
size
getChildQueues
YarnClientApplication
app
createApplication
GetNewApplicationResponse
appResponse
getNewApplicationResponse
maxMem
getMaximumResourceCapability
getMemorySize
maxVCores
getVirtualCores
Resource
capability
Records
newRecord
setMemorySize
amMemory
setVirtualCores
amVCores
appContext
setResource
ByteBuffer
fsTokens
wrap
Files
readAllBytes
Paths
get
tokenFileLocation
Credentials
credentials
String
tokenRenewer
getConf
YarnConfiguration
RM_PRINCIPAL
IOException
Token
tokens
fs
addDelegationTokens
List
String
vargs
ArrayList
add
Environment
JAVA_HOME
$
appMasterHeapSize
Math
round
amMemory
ApplicationMaster
getCanonicalName
amOptions
addToVargs
ApplicationConstants
LOG_DIR_EXPANSION_VAR
String
srcScheme
srcSchemes
iterator
next
srcPathString
Joiner
on
join
srcPaths
List
File
srcFiles
srcURIs
stream
map
URI
getSchemeSpecificPart
collect
Collectors
toList
Path
dstPathBase
getRemoteStoragePath
getConf
appId
shouldArchive
size
get
isDirectory
resource
getType
LocalResourceType
ARCHIVE
Arrays
ARCHIVE_FILE_TYPES
noneMatch
suffix
getName
endsWith
IllegalArgumentException
format
getResourcePath
dstPath
FileSystem
remoteFS
getFileSystem
List
File
filesToZip
childFiles
srcFiles
get
listFiles
IllegalArgumentException
Lists
newArrayList
ZipOutputStream
zout
outputStream
addFileToZipRecursively
fileToZip
getParentFile
close
loggedApplicationInfo
success
Supplier
Boolean
exitCritera
Apps
isApplicationFinalState
infraAppState
Optional
Properties
namenodeProperties
empty
DynoInfraUtils
waitForAndGetNameNodeProperties
getConf
getNameNodeInfoPath
LOG
props
get
loggedApplicationInfo
success
Supplier
Boolean
exitCritera
Apps
isApplicationFinalState
infraAppState
Optional
Properties
namenodeProperties
empty
DynoInfraUtils
waitForAndGetNameNodeProperties
getConf
getNameNodeInfoPath
LOG
props
get
info
getNameNodeHdfsUri
loggedApplicationInfo
success
Supplier
Boolean
exitCritera
Apps
isApplicationFinalState
infraAppState
Optional
Properties
namenodeProperties
empty
DynoInfraUtils
waitForAndGetNameNodeProperties
getConf
getNameNodeInfoPath
LOG
props
get
info
getNameNodeHdfsUri
getNameNodeWebUri
namenodeProperties
DynoInfraUtils
waitForAndGetNameNodeProperties
exitCritera
getConf
getNameNodeInfoPath
LOG
Properties
props
get
info
getNameNodeHdfsUri
getNameNodeWebUri
getNameNodeTrackingUri
waitForNameNodeStartup
waitForNameNodeReadiness
numTotalDataNodes
LOG
error
ioe
launchAndMonitorWorkloadDriver
namenodeProperties
get
namenodeMonitoringThread
start
Thread
sleep
debug
ApplicationReport
report
yarnClient
getApplicationReport
infraAppId
LOG
error
ioe
launchAndMonitorWorkloadDriver
namenodeProperties
get
namenodeMonitoringThread
start
Thread
sleep
debug
ApplicationReport
report
yarnClient
getApplicationReport
infraAppId
Thread
sleep
LOG
debug
ApplicationReport
report
yarnClient
getApplicationReport
infraAppId
loggedApplicationInfo
info
getTrackingUrl
getApplicationId
getId
getClientToAMToken
getDiagnostics
getHost
getQueue
getRpcPort
getStartTime
getYarnApplicationState
getFinalApplicationStatus
getUser
infraAppState
success
workloadConf
setInt
AuditReplayMapper
NUM_THREADS_KEY
workloadThreadsPerMapper
setDouble
RATE_FACTOR_KEY
workloadRateFactor
set
configPair
getKey
getValue
workloadJob
WorkloadDriver
getJobForSubmission
nameNodeURI
toString
workloadStartTime
submit
monitorAndPrintJob
Thread
sleep
workloadAppState
getJobState
LOG
info
warn
LOG
info
workloadAppState
workloadJob
getJobState
warn
ioe
Thread
currentThread
interrupt
getJobID
killJob
workloadAppState
workloadJob
getJobState
LOG
warn
ioe
Thread
currentThread
interrupt
info
getJobID
killJob
error
Thread
currentThread
interrupt
LOG
info
workloadJob
getJobID
killJob
error
ioe
infraAppId
forceKillApplication
log
info
version
File
destinationFile
destinationDir
String
format
HADOOP_TAR_FILENAME_FORMAT
lastUnderRepBlocks
Long
MAX_VALUE
Thread
sleep
TimeUnit
MINUTES
toMillis
underRepBlocks
parseLong
fetchNameNodeJMXValue
nameNodeProperties
FSNAMESYSTEM_JMX_QUERY
JMX_MISSING_BLOCKS
FSNAMESYSTEM_STATE_JMX_QUERY
JMX_UNDER_REPLICATED_BLOCKS
blockDecrease
String
liveNodeListString
NAMENODE_INFO_JMX_QUERY
JMX_LIVE_NODES_LIST
Set
datanodesToReport
parseStaleDataNodeList
blockThreshold
log
info
lastPrintedValue
decreasing
Double
MAX_VALUE
MIN_VALUE
value
retryCount
startTime
Time
monotonicNow
parseDouble
fetchNameNodeJMXValue
nameNodeProperties
jmxBeanQuery
jmxProperty
objectDepth
currentNodeAddr
parser
getCurrentName
JsonToken
valueToken
nextToken
IOException
String
format
liveNodeJsonString
numBlocks
getIntValue
objectDepth
currentNodeAddr
parser
getCurrentName
JsonToken
valueToken
nextToken
IOException
String
format
liveNodeJsonString
numBlocks
getIntValue
log
debug
dataNodesToReport
add
Configuration
conf
baseConf
set
NN_URI
nnURI
setBoolean
MRJobConfig
MAP_SPECULATIVE
String
startTimeString
SimpleDateFormat
format
Date
startTimestampMs
t
addToQueue
AuditReplayCommand
getPoisonPill
highestTimestamp
Optional
Exception
threadException
empty
join
drainCounters
context
drainCommandLatencies
of
getException
progressExecutor
shutdown
RuntimeException
get
LOG
info
System
currentTimeMillis
startTimestampMs
totalCommands
getCounter
REPLAYCOUNTERS
TOTALCOMMANDS
getValue
percentageOfInvalidOps
TOTALINVALIDCOMMANDS
currentEpoch
System
currentTimeMillis
delay
startTimestampMs
LOG
info
delay
Thread
sleep
warn
AuditReplayCommand
cmd
commandQueue
take
replayCountersMap
get
REPLAYCOUNTERS
TOTALCOMMANDS
increment
getDelay
TimeUnit
MILLISECONDS
LATECOMMANDS
LATECOMMANDSTOTALTIME
TOTALINVALIDCOMMANDS
LOG
warn
delay
AuditReplayCommand
cmd
commandQueue
take
replayCountersMap
get
REPLAYCOUNTERS
TOTALCOMMANDS
increment
getDelay
TimeUnit
MILLISECONDS
LATECOMMANDS
LATECOMMANDSTOTALTIME
TOTALINVALIDCOMMANDS
error
e
workloadStartTime
System
currentTimeMillis
Job
workloadJob
WorkloadDriver
getJobForSubmission
conf
dfs
getUri
toString
AuditReplayMapper
success
waitForCompletion
assertTrue
Counters
counters
getCounters
assertEquals
findCounter
REPLAYCOUNTERS
TOTALCOMMANDS
getValue
TOTALINVALIDCOMMANDS
getFileStatus
Path
isFile
isDirectory
assertFalse
exists
auditOutputPath
String
auditOutput
IOUtils
auditOutputFile
StandardCharsets
UTF_8
isIgnoreFailures
System
out
println
USAGE
logpath
Path
args
idx
ToolRunner
printGenericCommandUsage
ops
add
FileOperation
isIgnoreFailures
System
out
println
USAGE
logpath
Path
args
idx
ToolRunner
printGenericCommandUsage
ops
add
FileOperation
String
randomId
getRandomId
JobClient
jClient
jobconf
Path
stagingArea
JobSubmissionFiles
getStagingDir
getClusterHandle
IOException
ie
jobdir
NAME
FsPermission
mapredSysPerms
JOB_DIR_PERMISSION
FileSystem
mkdirs
getFs
LOG
info
JOB_DIR_LABEL
log
FileOutputFormat
setOutputPath
FileStatus
srcstat
fs
getFileStatus
op
src
opCount
opWriter
append
Text
toString
Stack
Path
pathstack
push
stat
getPath
sync
synCount
f
RunningJobStatus
job
getCurrentJob
jobId
String
oldStage
stage
name
newStage
value
command
add
LAST_SNAPSHOT_NAME
CURRENT_SNAPSHOT_NAME
mapNum
bandWidth
srcParam
dstParam
Configuration
config
conf
DistCp
distCp
OptionsParser
parse
toArray
String
Job
job
createAndSubmitJob
BalanceProcedureScheduler
scheduler
getConf
init
Collection
BalanceJob
jobs
getAllJobs
unfinished
LOG
info
job
toString
Thread
sleep
TimeUnit
SECONDS
toMillis
FSDataInputStream
in
Path
logPath
getLatestStateJobPath
job
FileSystem
fs
get
workUri
conf
open
readFields
LOG
debug
workPath
fs
mkdirs
BalanceJob
jobs
statuses
length
StringBuilder
builder
append
i
Builder
build
setId
getPath
getName
delayQueue
add
DelayWrapper
job
delayInMilliseconds
seed
r
nextLong
setSeed
System
out
println
name
getMethodName
conf
HdfsConfiguration
set
SingleUGIResolver
USER
singleUser
GROUP
singleGroup
DFSConfigKeys
DFS_PROVIDER_STORAGEUUID
DFS_PROVIDER_STORAGEUUID_DEFAULT
setBoolean
DFS_NAMENODE_PROVIDED_ENABLED
setClass
DFS_PROVIDED_ALIASMAP_CLASS
TextFileRegionAliasMap
BlockAliasMap
DFS_PROVIDED_ALIASMAP_TEXT_WRITE_DIR
nnDirPath
toString
DFS_PROVIDED_ALIASMAP_TEXT_READ_FILE
Path
fileNameFromBlockPoolID
bpid
DFS_PROVIDED_ALIASMAP_TEXT_DELIMITER
MiniDFSCluster
HDFS_MINIDFS_BASEDIR_PROVIDED
File
providedPath
toUri
imageDir
conf
setClass
DFSConfigKeys
DFS_PROVIDED_ALIASMAP_CLASS
TextFileRegionAliasMap
BlockAliasMap
set
DFS_PROVIDED_ALIASMAP_TEXT_WRITE_DIR
nnDirPath
toString
DFS_PROVIDED_ALIASMAP_TEXT_READ_FILE
Path
fileNameFromBlockPoolID
bpid
DFS_PROVIDED_ALIASMAP_TEXT_DELIMITER
MiniDFSCluster
HDFS_MINIDFS_BASEDIR_PROVIDED
File
providedPath
toUri
imageDir
LOG
info
mkdirs
nnDir
newFile
filePrefix
i
fileSuffix
Path
file
filename
FileSystem
fs
cluster
getFileSystem
newReplication
Path
file
filename
FileSystem
fs
cluster
getFileSystem
newReplication
LOG
info
setReplication
DFSTestUtil
waitForReplication
DistributedFileSystem
DFSClient
client
InetSocketAddress
getNameNodePort
getConfiguration
getAndCheckBlockLocations
baseFileLen
List
Integer
nnIndexes
cluster
getNNIndexes
providedNameservice
nn1
get
nn2
verifyFileSystemContents
fail
LOG
info
e
transitionToActive
transitionToStandby
fail
LOG
info
e
cluster
transitionToActive
nn1
verifyFileSystemContents
transitionToStandby
nn2
shutdownNameNodes
MiniDFSNNTopology
topologies
simpleHATopology
simpleFederatedTopology
simpleHAFederatedTopology
conf
setClass
ImageWriter
Options
UGI_CLASS
FsUGIResolver
UGIResolver
String
packageName
policies
createImage
FSTreeWalk
providedPath
nnDirPath
FixedBlockResolver
racks
compress
isCompressionEmulationEnabled
conf
ratio
getMapInputCompressionEmulationRatio
numCompressedFiles
FileStatus
outFileStatuses
fs
listStatus
inputDir
Utils
OutputFileUtils
OutputFilesFilter
CompressionCodec
codec
compressionCodecs
getCodec
status
getPath
compressedDataSize
getLen
LOG
info
StringUtils
humanReadableInt
RuntimeException
toString
COMPRESSION_EMULATION_ENABLE
ratio
uncompressedDataSize
byteCount
bytesSync
Map
Entry
entry
it
next
LongWritable
fileSize
Long
parseLong
getValue
toString
BytesWritable
filePath
getKey
getBytes
charsetUTF8
get
src_writer
sync
append
close
fs
deleteOnExit
distCacheFilesList
Map
Entry
entry
it
next
LongWritable
fileSize
Long
parseLong
getValue
toString
BytesWritable
filePath
getKey
getBytes
charsetUTF8
byteCount
get
bytesSync
src_writer
sync
append
close
fs
deleteOnExit
distCacheFilesList
conf
setInt
GenerateDistCacheData
GRIDMIX_DISTCACHE_FILE_COUNT
fileCount
setLong
GRIDMIX_DISTCACHE_BYTE_COUNT
configureRandomBytesDataGenerator
job
submit
setMapperClass
GenDataMapper
setNumReduceTasks
setMapOutputKeyClass
NullWritable
setMapOutputValueClass
BytesWritable
setInputFormatClass
GenDataFormat
setOutputFormatClass
RawBytesOutputFormat
setJarByClass
GenerateData
FileInputFormat
addInputPath
Path
Configuration
conf
getConf
Configuration
conf
getConf
LOG
error
inputDir
STARTUP_FAILED_ERROR
CompressionEmulationUtil
setupDataGeneratorConfig
GenerateData
genData
genbytes
info
StringUtils
TraditionalBinaryPrefix
long2String
launchGridmixJob
FsShell
shell
run
String
toString
Path
inputDir
getGridmixInputDataPath
ioPath
GridmixJobSubmissionPolicy
policy
getJobSubmissionPolicy
conf
numThreads
conf
getInt
GRIDMIX_SUB_THR
noOfSubmitterThreads
queueDep
GRIDMIX_QUE_DEP
submitter
createJobSubmitter
monitor
FilePool
inputDir
userResolver
statistics
distCacheEmulator
DistributedCacheEmulator
ioPath
factory
createJobFactory
traceIn
scratchDir
startFlag
jobCreator
setDistCacheEmulator
addJobStatsListeners
addClusterStatsObservers
summarizer
getExecutionSummarizer
getClusterSummarizer
start
genbytes
StringUtils
TraditionalBinaryPrefix
string2long
argv
i
LOG
error
ARGS_ERROR
userRsrc
URI
printUsage
System
err
warn
LOG
error
userResolver
getClass
printUsage
System
err
ARGS_ERROR
warn
userRsrc
ioPath
Path
argv
length
traceIn
e
toString
printStackTrace
FileSystem
inputFs
getFileSystem
conf
startThreads
conf
traceIn
ioPath
scratchDir
startFlag
userResolver
Path
inputDir
getGridmixInputDataPath
exitCode
writeInputData
genbytes
stats
GenerateData
publishDataStatistics
submitter
refreshFilePool
shouldGenerate
setupEmulation
summarizer
start
factory
statistics
Path
inputDir
getGridmixInputDataPath
ioPath
exitCode
writeInputData
genbytes
stats
GenerateData
publishDataStatistics
conf
submitter
refreshFilePool
shouldGenerate
setupEmulation
traceIn
scratchDir
summarizer
start
factory
statistics
LOG
error
e
toString
exitCode
summarizer
start
conf
factory
statistics
LOG
error
e
toString
debug
abort
STARTUP_FAILED_ERROR
startFlag
countDown
join
Long
MAX_VALUE
Throwable
badTraceException
simulatedClusterDefaultValue
destConf
getLong
clusterValueKey
defaultValue
originalClusterDefaultValue
sourceConf
originalJobValue
jobValueKey
scaleFactor
simulatedJobValue
String
jobID
job
getJob
getConfiguration
get
Gridmix
ORIGINAL_JOB_ID
TaskInfo
info
jobdesc
getTaskInfo
TaskType
REDUCE
i
reduceByteRatio
getInputBytes
mapOutputBytesTotal
reduceRecordRatio
getInputRecords
mapOutputRecordsTotal
InputStriper
striper
inputDir
mapInputBytesTotal
List
InputSplit
splits
ArrayList
nSpec
reds
maps
specBytes
specRecords
ResourceUsageMetrics
metrics
j
getOutputBytes
getOutputRecords
List
InputSplit
splits
ArrayList
reds
mapTasksOnly
jobdesc
getNumberReduces
maps
getNumberMaps
nSpec
i
redDurations
ReduceTaskAttemptInfo
info
getSuccessfulAttemptInfo
TaskType
REDUCE
j
Math
min
reduceMaxSleepTime
getMergeRuntime
getReduceRuntime
seq
GridmixJob
getJobSeqId
stats
getJob
LOG
debug
System
currentTimeMillis
Boolean
TRUE
toString
loadStatus
getJobLoad
mapCapacity
getMapCapacity
reduceCapacity
getReduceCapacity
maxMapLoad
overloadMapTaskMapSlotRatio
maxReduceLoad
overloadReduceTaskReduceSlotRatio
totalMapTasks
ClusterStats
getSubmittedMapTasks
totalReduceTasks
getSubmittedReduceTasks
LOG
debug
System
currentTimeMillis
Boolean
TRUE
toString
loadStatus
getJobLoad
mapCapacity
getMapCapacity
reduceCapacity
getReduceCapacity
maxMapLoad
overloadMapTaskMapSlotRatio
maxReduceLoad
overloadReduceTaskReduceSlotRatio
totalMapTasks
ClusterStats
getSubmittedMapTasks
totalReduceTasks
getSubmittedReduceTasks
LOG
debug
System
currentTimeMillis
Boolean
TRUE
toString
loadStatus
getJobLoad
mapCapacity
getMapCapacity
reduceCapacity
getReduceCapacity
maxMapLoad
overloadMapTaskMapSlotRatio
maxReduceLoad
overloadReduceTaskReduceSlotRatio
totalMapTasks
ClusterStats
getSubmittedMapTasks
totalReduceTasks
getSubmittedReduceTasks
currentReduceSlotsBackFill
maxReduceLoad
incompleteReduceTasks
incompleteMapTasks
totalMapTasks
LOG
debug
warn
id
blacklistedJobs
add
mapSlotsBackFill
maxMapLoad
reduceSlotsBackFill
retainAll
seenJobIDs
size
loadStatus
updateMapLoad
FileSystem
fs
dfsCluster
getFileSystem
String
path
user
Path
homeDirectory
Configuration
conf
FileSystem
fs
getLocal
getRaw
delete
base
Random
r
seed
nextLong
setSeed
SleepJob
SleepMapper
test
Configuration
conf
setInt
JobContext
NUM_REDUCES
CompressionEmulationUtil
setCompressionEmulationEnabled
setBoolean
MRJobConfig
MAP_OUTPUT_COMPRESS
TaskAttemptID
taskId
FakeRecordLLReader
reader
LoadRecordGkNullWriter
writer
OutputCommitter
committer
CustomOutputCommitter
StatusReporter
reporter
TaskAttemptContextImpl
DummyReporter
SleepSplit
split
getSleepSplit
MapContext
LongWritable
GridmixKey
NullWritable
mapcontext
MapContextImpl
Context
context
WrappedMapper
getMapContext
start
System
currentTimeMillis
CompressionEmulationUtil
setCompressionEmulationEnabled
conf
setBoolean
MRJobConfig
MAP_OUTPUT_COMPRESS
TaskAttemptID
taskId
FakeRecordLLReader
reader
LoadRecordGkNullWriter
writer
OutputCommitter
committer
CustomOutputCommitter
StatusReporter
reporter
TaskAttemptContextImpl
DummyReporter
SleepSplit
split
getSleepSplit
MapContext
LongWritable
GridmixKey
NullWritable
mapcontext
MapContextImpl
Context
context
WrappedMapper
getMapContext
start
System
currentTimeMillis
LOG
info
key
value
test
map
Random
r
seed
nextLong
setSeed
Random
r
seed
nextLong
setSeed
Random
r
s
nextLong
setSeed
Random
r
s
nextLong
setSeed
Random
r
s
nextLong
setSeed
policy
GridmixJobSubmissionPolicy
REPLAY
LOG
info
System
currentTimeMillis
doSubmission
policy
GridmixJobSubmissionPolicy
STRESS
LOG
info
System
currentTimeMillis
doSubmission
policy
GridmixJobSubmissionPolicy
SERIAL
LOG
info
System
currentTimeMillis
doSubmission
JobCreator
LOADJOB
name
policy
GridmixJobSubmissionPolicy
REPLAY
LOG
info
System
currentTimeMillis
doSubmission
JobCreator
LOADJOB
name
Configuration
conf
GridmixKey
key
GridmixRecord
val
policy
GridmixJobSubmissionPolicy
SERIAL
LOG
info
System
currentTimeMillis
doSubmission
JobCreator
SLEEPJOB
name
policy
GridmixJobSubmissionPolicy
REPLAY
LOG
info
System
currentTimeMillis
doSubmission
JobCreator
SLEEPJOB
name
policy
GridmixJobSubmissionPolicy
STRESS
LOG
info
System
currentTimeMillis
doSubmission
JobCreator
SLEEPJOB
name
Properties
props
brokerList
conf
getString
BROKER_LIST
Instant
instant
ofEpochMilli
timestamp
LocalDateTime
ldt
ofInstant
zoneId
String
date
format
dateFormat
time
timeFormat
jsonLines
append
hostname
record
name
tag
toString
replaceAll
value
metric
Iterable
AbstractMetric
metrics
Lists
newArrayList
metric
when
record
name
thenReturn
SubsetConfiguration
conf
mock
getString
KafkaSink
BROKER_LIST
String
topic
TOPIC
kafkaSink
init
Producer
Integer
mockProducer
KafkaProducer
setProducer
StringBuilder
jsonLines
recordToJson
reasonClosed
reason
String
data
JSONUtil
toJSON
AuthenticationRequestWrapper
authenticationRequest
IOException
fault
String
errorMessage
format
req
getMethod
uri
statusCode
resp
getStatusLine
HttpResponse
resp
execWithDebugOutput
req
client
statusCode
getStatusLine
getStatusCode
workingDir
makeAbsolute
dir
IllegalArgumentException
BlockLocation
FileStatus
listOfFileBlocks
store
listSubPaths
file
getPath
List
URI
locations
ArrayList
addAll
getObjectLocation
fileStatus
SwiftOperationFailedException
SwiftFileStatus
srcMetadata
getObjectMetadata
src
dstMetadata
dst
LOG
debug
Path
srcParent
getParent
dstParent
fileStatus
destPath
toObjectPath
dst
childCount
childStats
size
copyThenDeleteObject
srcObject
SwiftUtils
debug
LOG
copyObject
stat
deleteObject
getPath
swiftRestClient
delete
reasonClosed
reason
EOFException
FSExceptionMessages
NEGATIVE_SEEK
offset
targetPos
pos
LOG
debug
SwiftUtils
rangeOffset
chompBytes
LOG
debug
SwiftUtils
pos
targetPos
offset
rangeOffset
chompBytes
e
trace
backupStream
close
SwiftUtils
debug
LOG
delete
backupFile
partUpload
uploadSuccess
attempt
bytesUploaded
uploadFilePartAttempt
List
DurationStats
statistics
lastFs
getOperationStatistics
String
msg
format
args
System
out
printf
describe
createFile
path
FileStatus
status
fs
getFileStatus
firstWriteLen
out
write
src
expected
getExpectedPartitionsWritten
PART_SIZE_BYTES
SwiftUtils
debug
LOG
assertPartitionsWritten
remainder
len
close
Header
headers
fs
getStore
getObjectHeaders
path
expected
getExpectedPartitionsWritten
firstWriteLen
PART_SIZE_BYTES
SwiftUtils
debug
LOG
assertPartitionsWritten
out
remainder
len
write
src
close
Header
headers
fs
getStore
getObjectHeaders
path
info
header
toString
dest
readDataset
firstWriteLen
out
write
src
expected
getExpectedPartitionsWritten
PART_SIZE_BYTES
SwiftUtils
debug
LOG
assertPartitionsWritten
remainder
len
close
Header
headers
fs
getStore
getObjectHeaders
path
expected
getExpectedPartitionsWritten
firstWriteLen
PART_SIZE_BYTES
SwiftUtils
debug
LOG
assertPartitionsWritten
out
remainder
len
write
src
close
Header
headers
fs
getStore
getObjectHeaders
path
info
header
toString
dest
readDataset
String
initialpath
Path
ipath
SwiftObjectPath
objectPath
fromPath
URI
endpoint
ENDPOINT
uri
SwiftRestClient
pathToURI
String
initialpath
Path
ipath
SwiftObjectPath
objectPath
fromPath
URI
endpoint
ENDPOINT
uri
SwiftRestClient
pathToURI
LOG
info
assumeEnabled
SwiftRestClient
client
createClient
authenticate
Path
path
SwiftObjectPath
sobject
fromPath
serviceURI
stuff
upload
ByteArrayInputStream
length
Duration
head
Header
responseHeaders
headRequest
NEWEST
finished
assumeEnabled
SwiftRestClient
client
createClient
authenticate
Path
path
SwiftObjectPath
sobject
fromPath
serviceURI
stuff
upload
ByteArrayInputStream
length
Duration
head
Header
responseHeaders
headRequest
NEWEST
finished
LOG
info
stuff
client
upload
sobject
ByteArrayInputStream
length
Duration
head
Header
responseHeaders
headRequest
SwiftRestClient
NEWEST
finished
LOG
info
header
toString
delete
headers
Assert
fail
FileStatus
status2
fs
listStatus
dir
ls2
finished
assertEquals
count
length
SwiftTestUtils
noteAction
String
name
format
l
Path
p
Duration
d
result
readBytesToString
readStats
add
rm2
delete
assertEquals
count
status2
length
SwiftTestUtils
noteAction
String
name
format
l
Path
p
dir
Duration
d
result
readBytesToString
fs
finished
readStats
add
rm2
delete
LOG
info
getUri
String
name
format
l
Path
p
dir
Duration
d
result
SwiftTestUtils
readBytesToString
fs
length
assertEquals
finished
readStats
add
noteAction
rm2
delete
LOG
info
getUri
writeStats
toString
logParserUtil
parseLog
logFile
RecurrenceId
recurrenceId
pipelineId
runId
Map
List
ResourceSkyline
jobHistory
skylineStore
getHistory
String
skyline
gson
toJson
skylineStoreType
RLESparseResourceAllocation
result
skylineStore
getEstimation
pipelineId
String
skyline
gson
toJson
rleType
RecurrenceId
recurrenceId
pipelineId
runId
skylineStore
deleteHistory
inputValidator
validate
recurrenceId
resourceSkylines
writeLock
lock
List
ResourceSkyline
filteredInput
eliminateNull
jobHistory
skylineStore
get
String
oldJobIds
ArrayList
add
resourceSkyline
getJobId
StringBuilder
errMsg
append
List
ResourceSkyline
filteredInput
eliminateNull
resourceSkylines
jobHistory
skylineStore
get
recurrenceId
String
oldJobIds
ArrayList
add
resourceSkyline
getJobId
StringBuilder
errMsg
append
LOGGER
error
toString
DuplicateRecurrenceIdException
addAll
List
ResourceSkyline
jobHistory
skylineStore
get
recurrenceId
String
oldJobIds
ArrayList
add
resourceSkyline
getJobId
StringBuilder
errMsg
append
LOGGER
error
toString
DuplicateRecurrenceIdException
addAll
filteredInput
info
put
inputValidator
validate
pipelineId
resourceSkyline
writeLock
lock
estimationStore
put
inputValidator
validate
recurrenceId
resourceSkylines
writeLock
lock
List
ResourceSkyline
filteredInput
eliminateNull
skylineStore
put
writeLock
lock
List
ResourceSkyline
filteredInput
eliminateNull
resourceSkylines
skylineStore
put
recurrenceId
LOGGER
info
StringBuilder
errMsg
append
error
toString
EmptyResourceSkylineException
inputValidator
validate
recurrenceId
readLock
lock
String
pipelineId
getPipelineId
inputValidator
validate
recurrenceId
readLock
lock
String
pipelineId
getPipelineId
LOGGER
info
Collections
unmodifiableMap
skylineStore
runId
getRunId
Map
RecurrenceId
List
ResourceSkyline
result
HashMap
index
entry
getKey
put
getValue
RecurrenceId
index
entry
getKey
result
put
getValue
LOGGER
info
recurrenceId
Collections
unmodifiableMap
warn
skylineStore
get
StringBuilder
sb
append
StringBuilder
sb
append
validate
recurrenceId
StringBuilder
sb
append
validate
pipelineId
StringBuilder
sb
append
indexJobITimeK
indexJobI
jobLen
timeK
cJobITimeK
containerNums
regularizationConstraint
set
uaPredict
cJobI
generateOverAllocationConstraints
lpModel
oa
x
generateUnderAllocationConstraints
ua
Expression
objective
addExpression
generateObjective
numJobs
eps
Result
lpResult
minimise
TreeMap
Long
Resource
treeMap
RLESparseResourceAllocation
result
DefaultResourceCalculator
ReservationInterval
riAdd
containerSpec
resourceSkylines
get
getContainerSpec
String
pipelineId
RecurrenceId
jobHistory
keySet
toArray
getPipelineId
resource
Queue
Pair
LoggedJob
JobTraceReader
heap
PriorityQueue
job
reader
nextJob
LOG
error
EMPTY_JOB_TRACE
info
getSubmitTime
approximateTime
startsAfter
skippedCount
debug
LoggedJob
job
reader
nextJob
LOG
error
EMPTY_JOB_TRACE
info
getSubmitTime
approximateTime
startsAfter
skippedCount
debug
approximateTime
job
getSubmitTime
startsAfter
reader
nextJob
skippedCount
LOG
debug
error
EMPTY_JOB_TRACE
info
firstJobSubmitTime
lastJobSubmitTime
numberJobs
currentIntervalEnd
Long
MIN_VALUE
lastJobSubmitTime
firstJobSubmitTime
numberJobs
currentIntervalEnd
Long
MIN_VALUE
Path
nextSegment
Outputter
LoggedJob
tempGen
LOG
debug
Configuration
conf
getConf
Random
tempNameGenerator
job
getSubmitTime
Random
tempNameGenerator
lastJobSubmitTime
job
getSubmitTime
numberJobs
tempGen
close
nextSegment
Path
tempDir
nextLong
LOG
debug
FileSystem
fs
getFileSystem
conf
input
close
LOG
info
currentFileName
CodecPool
returnDecompressor
inputDecompressor
inputCodec
inputDirectoryCursor
fileFirstLine
inputDirectoryFiles
task
setPreferredLocations
locations
setTaskID
taskID
setStartTime
Long
parseLong
startTime
setFinishTime
finishTime
Pre21JobHistoryConstants
Values
typ
stat
status
valueOf
LOG
error
e
setTaskStatus
jobBeingTraced
getMapTasks
add
task
tasksInCurrentJob
put
taskID
setTaskID
LoggedTaskAttempt
attempt
attemptsInCurrentJob
get
attemptID
attemptAlreadyExists
setAttemptID
getAttempts
Pre21JobHistoryConstants
Values
stat
status
valueOf
Pair
String
line
readBalancedLine
HadoopLogsAnalyzer
analyzer
result
ToolRunner
run
args
System
exit
LOG
error
e
printStackTrace
staticDebugOutput
LOG
info
obtainCounters
obtainFailedDueToAttemptId
List
LoggedLocation
loc
getPreferredLocations
LOG
info
numNMs
numRacks
nodeManagerResource
numAMs
numTasks
Math
ceil
AMSimulator
am
entry
getValue
UserGroupInformation
ugi
createRemoteUser
user
rm
getClientRMService
submitReservation
reservationRequest
init
heartbeatInterval
containerList
resourceManager
slsRunnner
startTime
finishTime
simUser
simQueue
tracked
oldApp
baseTimeMS
amResource
nodeLabelExpr
params
appIdAMSim
amtype
allContainers
addAll
pendingContainers
totalContainers
size
AllocateResponse
response
responseQueue
take
ContainerId
containerId
cs
getContainerId
ContainerId
containerId
cs
getContainerId
LOG
debug
appId
ContainerSimulator
containerSimulator
assignedContainers
remove
finishedContainers
completedContainers
add
isFinished
info
lastStep
LOG
debug
appId
containerId
ContainerSimulator
containerSimulator
assignedContainers
remove
finishedContainers
completedContainers
add
isFinished
info
lastStep
error
pendingContainers
finishedContainers
completedContainers
add
containerSimulator
isFinished
LOG
info
appId
lastStep
error
containerId
pendingContainers
assignedContainers
remove
isAMContainerRunning
lastStep
LOG
error
appId
containerId
pendingContainers
add
assignedContainers
remove
isAMContainerRunning
info
isFinished
AllocateResponse
response
responseQueue
take
ContainerId
containerId
cs
getContainerId
ContainerId
containerId
cs
getContainerId
LOG
debug
appId
assignedMaps
remove
mapFinished
finishedContainers
assignedReduces
reduceFinished
isFinished
assignedMaps
remove
containerId
mapFinished
finishedContainers
LOG
debug
appId
assignedReduces
reduceFinished
isFinished
info
lastStep
LOG
debug
appId
containerId
assignedReduces
remove
reduceFinished
finishedContainers
isFinished
info
lastStep
pendingFailedMaps
add
assignedMaps
assignedReduces
remove
containerId
reduceFinished
finishedContainers
isFinished
LOG
info
appId
lastStep
debug
pendingFailedMaps
add
assignedMaps
pendingFailedReduces
isFinished
LOG
info
appId
lastStep
debug
containerId
pendingFailedMaps
add
assignedMaps
remove
pendingFailedReduces
assignedReduces
lastStep
LOG
debug
appId
containerId
pendingFailedMaps
add
assignedMaps
remove
pendingFailedReduces
assignedReduces
info
isAMContainerRunning
isFinished
LOG
debug
appId
containerId
pendingFailedMaps
add
assignedMaps
remove
pendingFailedReduces
assignedReduces
info
isAMContainerRunning
isFinished
ContainerSimulator
cs
scheduledMaps
List
ResourceRequest
ask
packageRequests
mergeLists
pendingMaps
scheduledMaps
PRIORITY_MAP
LOG
debug
appId
size
addAll
clear
pendingFailedMaps
pendingReduces
scheduledReduces
PRIORITY_REDUCE
LOG
debug
appId
pendingMaps
size
scheduledMaps
addAll
clear
ask
packageRequests
mergeLists
pendingFailedMaps
PRIORITY_MAP
pendingReduces
scheduledReduces
PRIORITY_REDUCE
init
heartbeatInterval
containerList
rm
se
traceStartTime
traceFinishTime
user
queue
isTracked
oldAppId
baselineStartTimeMS
amContainerResource
nodeLabelExpr
params
appIdAMSim
amtype
allStreams
addAll
duration
AllocateResponse
response
responseQueue
take
ContainerId
containerId
cs
getContainerId
AllocateResponse
response
responseQueue
take
ContainerId
containerId
cs
getContainerId
LOG
debug
appId
pendingStreams
add
assignedStreams
remove
isAMContainerRunning
isFinished
info
ContainerId
containerId
cs
getContainerId
LOG
debug
appId
pendingStreams
add
assignedStreams
remove
isAMContainerRunning
isFinished
info
isAMContainerRunning
isFinished
LOG
info
appId
debug
List
ResourceRequest
ask
ArrayList
ContainerId
release
packageRequests
mergeLists
pendingStreams
scheduledStreams
PRIORITY_MAP
ContainerSimulator
cs
runningContainers
remove
getId
completedContainerList
add
ns
setResponseId
responseId
setNodeHealthStatus
NodeHealthStatus
newInstance
pMemUsed
Math
round
node
getTotalCapability
getMemorySize
resourceUtilizationRatio
cpuUsed
getVirtualCores
ResourceUtilization
resourceUtilization
setContainersUtilization
setNodeUtilization
beatRequest
setNodeStatus
NodeHeartbeatResponse
beatResponse
rm
getResourceTrackerService
nodeHeartbeat
cpuUsed
node
getTotalCapability
getVirtualCores
resourceUtilizationRatio
ResourceUtilization
resourceUtilization
newInstance
pMemUsed
ns
setContainersUtilization
setNodeUtilization
beatRequest
setNodeStatus
NodeHeartbeatResponse
beatResponse
rm
getResourceTrackerService
nodeHeartbeat
amContainerList
remove
containerId
LOG
debug
getNodeID
cs
runningContainers
timeIntervalMS
conf
getInt
SLSConfiguration
METRICS_RECORD_INTERVAL_MS
METRICS_RECORD_INTERVAL_MS_DEFAULT
File
dir
metricsOutputDir
String
workloadJson
ObjectMapper
mapper
configure
INTERN_FIELD_NAMES
FAIL_ON_UNKNOWN_PROPERTIES
SynthTraceJobProducer
Workload
wl
readValue
JDKRandomGenerator
rand
setSeed
init
bucket0
bucket1
bucket2
bucket3
time
generateSubmissionTime
LOG
info
time
bucket0
bucket1
bucket2
bucket3
Assert
assertTrue
Configuration
conf
set
SynthTraceJobProducer
SLS_SYNTHETIC_TRACE_FILE
stjp
Configuration
conf
set
SynthTraceJobProducer
SLS_SYNTHETIC_TRACE_FILE
stjp
LOG
info
toString
SynthJob
js
getNextJob
jobCount
Configuration
conf
set
SynthTraceJobProducer
SLS_SYNTHETIC_TRACE_FILE
stjp
Configuration
conf
set
SynthTraceJobProducer
SLS_SYNTHETIC_TRACE_FILE
stjp
LOG
info
toString
SynthJob
js
getNextJob
jobCount
Configuration
conf
set
SynthTraceJobProducer
SLS_SYNTHETIC_TRACE_FILE
stjp
Configuration
conf
set
SynthTraceJobProducer
SLS_SYNTHETIC_TRACE_FILE
stjp
LOG
info
toString
SynthJob
js
getNextJob
jobCount
f
LOG
info
Arrays
asList
argvSplit
Environment
childEnv
StreamUtil
env
clone
addJobConfToEnvironment
job_
addEnvironment
get
envPut
System
getProperty
ProcessBuilder
builder
environment
putAll
toMap
sim
start
clientOut_
DataOutputStream
BufferedOutputStream
getOutputStream
BUFFER_SIZE
clientIn_
DataInputStream
BufferedInputStream
getInputStream
clientErr_
getErrorStream
startTime_
currentTimeMillis
error
e
String
s
job
get
minRecWrittenToEnableSkip_
Long
parseLong
LOG
info
clientOut_
flush
close
warn
io
waitOutputThreads
sim
destroy
String
info
numRecInfo
IOException
outerrThreadsThrowable
numRecRead_
maybeLogRecord
inWriter_
writeKey
key
writeValue
value
clientOut_
flush
numRecSkipped_
numExceptions_
numRec_
String
recordStr
record
start
Math
min
len
statusMaxRecordChars_
nextStatusRec_
status
getStatus
File
wd
getAbsoluteFile
RunJar
unJar
jar_
MATCH_ANY
jc_
JobClient
jobConf_
running_
submitJob
jobId_
getID
LOG
info
error
output_
jc_
JobClient
jobConf_
running_
submitJob
jobId_
getID
LOG
info
error
output_
fe
getMessage
numRec_
String
recordStr
record
start
Math
min
len
statusMaxRecordChars_
nextStatusRec_
status
getStatus
ResourceInformation
ri
value
conf
getLong
resourceTypesKey
Map
String
ResourceInformation
resourceInformationMap
HashMap
resourceNames
conf
getStrings
YarnConfiguration
RESOURCE_TYPES
resourceUnits
get
resourceName
UNITS
resourceTypeName
TYPE
ResourceTypes
COUNTABLE
toString
Long
minimumAllocation
getLong
MINIMUM_ALLOCATION
maximumAllocation
MAXIMUM_ALLOCATION
MAX_VALUE
YarnRuntimeException
resourceType
valueOf
resourceTags
getTrimmedStrings
TAGS
Set
resourceTagSet
HashSet
Collections
addAll
InputStream
ris
getConfInputStream
resourceFile
conf
List
ResourceInformation
result
ArrayList
Map
String
customResourcesMap
configuration
getValByRegex
Pattern
quote
prefix
YARN_IO_OPTIONAL
resourceName
resource
getKey
substring
length
Matcher
matcher
RESOURCE_REQUEST_VALUE_PATTERN
getValue
errorMsg
response
solr
query
Iterator
SolrDocument
list
getResults
listIterator
d
next
AppStoreEntry
entry
setId
get
toString
setOrg
setName
setDesc
setIcon
setLike
Integer
parseInt
setDownload
apps
add
query
setFilterQueries
setRows
QueryResponse
response
solr
Iterator
SolrDocument
appList
getResults
listIterator
d
next
AppEntry
entry
setId
get
toString
setName
setApp
setYarnfile
mapper
readValue
Service
list
add
entry
setDownload
Integer
parseInt
d
get
toString
Service
yarnApp
mapper
readValue
String
name
Random
r
low
high
seed
nextInt
seed2
RandomWord
getNewWord
toLowerCase
java
util
UUID
randomUUID
substring
setName
setApp
SolrQuery
query
setQuery
id
setFilterQueries
setRows
QueryResponse
response
solr
Iterator
SolrDocument
appList
getResults
listIterator
d
next
entry
setId
get
toString
setApp
setName
setYarnfile
mapper
readValue
Service
SolrClient
solr
getSolrClient
ObjectMapper
mapper
configure
DeserializationFeature
FAIL_ON_UNKNOWN_PROPERTIES
SolrInputDocument
buffer
setField
java
util
UUID
randomUUID
toString
substring
app
getOrganization
getName
getDescription
getIcon
String
yarnFile
writeValueAsString
SolrClient
solr
getSolrClient
ObjectMapper
mapper
configure
DeserializationFeature
FAIL_ON_UNKNOWN_PROPERTIES
SolrInputDocument
buffer
setField
java
util
UUID
randomUUID
toString
substring
app
getOrg
getName
getDesc
getIcon
getLike
getDownload
String
yarnFile
writeValueAsString
String
name
service
getName
app
SolrQuery
query
setQuery
setFilterQueries
setRows
QueryResponse
response
solr
Iterator
SolrDocument
appList
getResults
listIterator
d
next
get
toString
sb
append
temp
String
keytab
System
getenv
kerberos
setPrincipalName
toString
setKeytab
app
setKerberosPrincipal
response
asc
getApiClient
post
ClientResponse
mapper
writeValueAsString
message
getEntity
RuntimeException
getStatus
LOG
info
Map
String
envs
System
getenv
Log4jPropertyHelper
updateLog4jConfiguration
ApplicationMaster
log4jPath
LOG
warn
e
appName
cliParser
getOptionValue
printUsage
opts
dumpOutDebugInfo
homeDirectory
hasOption
Path
System
getenv
ApplicationConstants
Environment
USER
name
String
placementSpec
decodedSpec
getDecodedPlacementSpec
LOG
warn
e
appName
cliParser
getOptionValue
printUsage
opts
dumpOutDebugInfo
homeDirectory
hasOption
Path
System
getenv
ApplicationConstants
Environment
USER
name
String
placementSpec
decodedSpec
getDecodedPlacementSpec
info
numTotalContainers
globalNumOfContainers
Integer
parseInt
Base64
Decoder
decoder
getDecoder
decodedBytes
decode
placementSpecifications
getBytes
StandardCharsets
UTF_8
String
decodedSpec
LOG
info
Credentials
credentials
UserGroupInformation
getCurrentUser
getCredentials
DataOutputBuffer
dob
writeTokenStorageToStream
Iterator
Token
iter
getAllTokens
iterator
token
next
publishApplicationAttemptEvent
timelineClient
appAttemptID
toString
DSEvent
DS_APP_ATTEMPT_START
domainId
appSubmitterUgi
appMasterHostname
NetUtils
getHostname
Map
Set
String
PlacementConstraint
placementConstraintMap
HashMap
allocationTags
Strings
isNullOrEmpty
spec
sourceTag
Collections
emptySet
singleton
put
constraint
RegisterApplicationMasterResponse
response
amRMClient
registerApplicationMaster
appMasterRpcPort
appMasterTrackingUrl
resourceProfiles
getResourceProfiles
ResourceUtils
reinitializeResources
getResourceTypes
maxMem
getMaximumResourceCapability
getMemorySize
LOG
info
appMasterHostname
NetUtils
getHostname
Map
Set
String
PlacementConstraint
placementConstraintMap
HashMap
allocationTags
Strings
isNullOrEmpty
spec
sourceTag
Collections
emptySet
singleton
put
constraint
RegisterApplicationMasterResponse
response
amRMClient
registerApplicationMaster
appMasterRpcPort
appMasterTrackingUrl
resourceProfiles
getResourceProfiles
ResourceUtils
reinitializeResources
getResourceTypes
maxMem
getMaximumResourceCapability
getMemorySize
LOG
info
maxVCores
getVirtualCores
Priority
pri
newInstance
requestPriority
ContainerRequest
request
getTaskResourceCapability
ExecutionTypeRequest
containerType
enforceExecType
containerResourceProfile
allocId
allocIdCounter
incrementAndGet
SchedulingRequest
sReq
newInstance
Priority
requestPriority
ExecutionTypeRequest
Collections
singleton
spec
sourceTag
ResourceSizing
getTaskResourceCapability
setPlacementConstraint
constraint
TimelineEntity
entity
setEntityId
container
getId
toString
setEntityType
DSEntity
DS_CONTAINER
setDomainId
domainId
addPrimaryFilter
USER_TIMELINE_FILTER_NAME
ugi
getShortUserName
APPID_TIMELINE_FILTER_NAME
getApplicationAttemptId
getApplicationId
TimelineEvent
event
setTimestamp
System
currentTimeMillis
setEventType
DSEvent
DS_CONTAINER_START
addEventInfo
getNodeId
getResource
addEvent
processTimelineResponseErrors
putContainerEntity
timelineClient
entity
setEntityId
container
getContainerId
toString
setEntityType
DSEntity
DS_CONTAINER
setDomainId
domainId
addPrimaryFilter
USER_TIMELINE_FILTER_NAME
ugi
getShortUserName
APPID_TIMELINE_FILTER_NAME
getApplicationAttemptId
getApplicationId
TimelineEvent
event
setTimestamp
System
currentTimeMillis
setEventType
DSEvent
DS_CONTAINER_END
addEventInfo
getState
name
getExitStatus
DIAGNOSTICS
getDiagnostics
addEvent
processTimelineResponseErrors
putContainerEntity
timelineClient
org
apache
hadoop
yarn
api
records
timelineservice
TimelineEntity
entity
setId
containerId
toString
setType
DSEntity
DS_CONTAINER
addInfo
appSubmitterUgi
getShortUserName
TimelineEvent
event
setTimestamp
System
currentTimeMillis
DSEvent
DS_CONTAINER_END
DIAGNOSTICS
diagnostics
addEvent
timelineV2Client
putEntitiesAsync
TimelineEntity
entityV1
setEntityId
containerId
toString
setEntityType
DSEntity
DS_CONTAINER
setDomainId
domainId
addPrimaryFilter
USER_TIMELINE_FILTER_NAME
appSubmitterUgi
getShortUserName
APPID_TIMELINE_FILTER_NAME
getApplicationAttemptId
getApplicationId
TimelineEvent
eventV1
setTimestamp
System
currentTimeMillis
setEventType
DSEvent
DS_CONTAINER_END
addEventInfo
DIAGNOSTICS
diagnostics
addEvent
processTimelineResponseErrors
putContainerEntity
timelineClient
entity
setCreatedTime
ts
addInfo
appSubmitterUgi
getShortUserName
org
apache
hadoop
yarn
api
records
timelineservice
TimelineEvent
event
setId
appEvent
toString
setTimestamp
addEvent
setIdPrefix
TimelineServiceHelper
invertLong
appAttemptID
getAttemptId
timelineV2Client
putEntitiesAsync
result
Client
client
LOG
info
doRun
init
args
System
exit
err
println
e
getLocalizedMessage
printUsage
run
LOG
info
yarnClient
start
YarnClusterMetrics
clusterMetrics
getYarnClusterMetrics
LOG
info
yarnClient
start
YarnClusterMetrics
clusterMetrics
getYarnClusterMetrics
getNumNodeManagers
List
NodeReport
clusterNodeReports
getNodeReports
NodeState
RUNNING
LOG
info
yarnClient
start
YarnClusterMetrics
clusterMetrics
getYarnClusterMetrics
getNumNodeManagers
List
NodeReport
clusterNodeReports
getNodeReports
NodeState
RUNNING
node
getNodeId
getHttpAddress
getRackName
getNumContainers
QueueInfo
queueInfo
getQueueInfo
amQueue
IllegalArgumentException
String
format
getQueueName
getCurrentCapacity
getMaximumCapacity
getApplications
size
getChildQueues
QueueUserACLInfo
listAclInfo
getQueueAclsInfo
prepareTimelineDomain
Map
String
Resource
profiles
yarnClient
getResourceProfiles
List
appProfiles
ArrayList
add
amResourceProfile
containerResourceProfile
message
LOG
error
Thread
sleep
LOG
debug
ApplicationReport
report
yarnClient
getApplicationReport
appId
info
getId
getClientToAMToken
getDiagnostics
getHost
getQueue
getRpcPort
getStartTime
getYarnApplicationState
toString
getFinalApplicationStatus
getTrackingUrl
getUser
YarnApplicationState
state
FinalApplicationStatus
dsStatus
Thread
sleep
LOG
debug
ApplicationReport
report
yarnClient
getApplicationReport
appId
info
getId
getClientToAMToken
getDiagnostics
getHost
getQueue
getRpcPort
getStartTime
getYarnApplicationState
toString
getFinalApplicationStatus
getTrackingUrl
getUser
YarnApplicationState
state
FinalApplicationStatus
dsStatus
String
relativePath
ApplicationMaster
getRelativePath
appName
appId
fileDstPath
Path
dst
fs
getHomeDirectory
TimelineClient
timelineClient
createTimelineClient
init
conf
start
LOG
warn
domainId
TimelineDomain
domain
setId
setReaders
viewACLs
length
setWriters
modifyACLs
putDomain
timelineClient
TimelineClient
createTimelineClient
init
conf
start
LOG
warn
domainId
TimelineDomain
domain
setId
setReaders
viewACLs
length
setWriters
modifyACLs
putDomain
info
TimelineUtils
dumpTimelineRecordtoJSON
run
initializeNodeLabels
NMContainerMonitor
mon
Thread
t
start
String
args
TestDistributedShell
APPMASTER_JAR
LOG
info
Client
client
Configuration
distShellTest
yarnCluster
getConfig
initSuccess
init
Assert
assertTrue
result
run
NMContainerMonitor
mon
Thread
t
start
String
args
distShellTest
APPMASTER_JAR
getSleepCommand
LOG
info
Client
client
Configuration
yarnCluster
getConfig
initSuccess
init
Assert
assertTrue
result
run
LOG
info
String
tmpRoot
timelineV2StorageDir
File
separator
tmpRootFolder
Assert
assertTrue
isDirectory
basePath
YarnConfiguration
DEFAULT_RM_CLUSTER_ID
UserGroupInformation
getCurrentUser
getShortUserName
defaultFlow
appReport
getName
TimelineUtils
DEFAULT_FLOW_VERSION
getStartTime
appId
toString
String
outputDirPathForEntity
basePath
File
separator
entityType
String
args
APPMASTER_JAR
getSleepCommand
LOG
info
Client
client
TestDSFailedAppMaster
getName
Configuration
yarnCluster
getConfig
init
result
run
String
args
APPMASTER_JAR
getSleepCommand
LOG
info
Configuration
conf
yarnCluster
getConfig
setInt
YarnConfiguration
RM_AM_MAX_ATTEMPTS
Client
client
TestDSSleepingAppMaster
getName
init
result
run
String
args
APPMASTER_JAR
getSleepCommand
LOG
info
Configuration
conf
yarnCluster
getConfig
setInt
YarnConfiguration
RM_AM_MAX_ATTEMPTS
Client
client
TestDSSleepingAppMaster
getName
init
result
run
String
args
APPMASTER_JAR
LOG
info
Client
client
Configuration
yarnCluster
getConfig
initSuccess
init
Assert
assertTrue
result
run
String
args
APPMASTER_JAR
LOG
info
Client
client
Configuration
yarnCluster
getConfig
initSuccess
init
Assert
assertTrue
result
run
customShellScript
delete
Assert
fail
PrintWriter
fileWriter
write
close
System
out
println
getAbsolutePath
String
args
APPMASTER_JAR
LOG
info
Client
client
Configuration
yarnCluster
getConfig
initSuccess
init
assertTrue
result
run
String
args
APPMASTER_JAR
Shell
WINDOWS
LOG
info
Client
client
ContainerLaunchFailAppMaster
getName
Configuration
yarnCluster
getConfig
initSuccess
init
Assert
assertTrue
result
run
appContext
setApplicationName
appName
Priority
pri
Records
newRecord
setPriority
amPriority
setQueue
amQueue
ContainerLaunchContext
amContainer
setAMContainerSpec
setUnmanagedAM
LOG
info
rmClient
submitApplication
ApplicationReport
appReport
monitorApplication
appId
EnumSet
of
YarnApplicationState
ACCEPTED
KILLED
FAILED
FINISHED
ApplicationAttemptReport
attemptReport
monitorCurrentAppAttempt
YarnApplicationAttemptState
LAUNCHED
ApplicationAttemptId
attemptId
getApplicationAttemptId
ContainerLaunchContext
amContainer
Records
newRecord
appContext
setAMContainerSpec
setUnmanagedAM
LOG
info
rmClient
submitApplication
ApplicationReport
appReport
monitorApplication
appId
EnumSet
of
YarnApplicationState
ACCEPTED
KILLED
FAILED
FINISHED
ApplicationAttemptReport
attemptReport
monitorCurrentAppAttempt
YarnApplicationAttemptState
LAUNCHED
ApplicationAttemptId
attemptId
getApplicationAttemptId
launchAM
appState
getYarnApplicationState
FinalApplicationStatus
appStatus
getFinalApplicationStatus
ApplicationReport
appReport
monitorApplication
appId
EnumSet
of
YarnApplicationState
ACCEPTED
KILLED
FAILED
FINISHED
ApplicationAttemptReport
attemptReport
monitorCurrentAppAttempt
YarnApplicationAttemptState
LAUNCHED
ApplicationAttemptId
attemptId
getApplicationAttemptId
LOG
info
launchAM
appState
getYarnApplicationState
FinalApplicationStatus
appStatus
getFinalApplicationStatus
success
attemptId
rmClient
getApplicationReport
appId
getCurrentApplicationAttemptId
ApplicationAttemptReport
attemptReport
getApplicationAttemptReport
LOG
info
getYarnApplicationAttemptState
attemptState
Thread
sleep
warn
String
errmsg
foundAMCompletedTime
StringBuilder
expectedFinalState
first
append
state
name
Thread
sleep
LOG
debug
ApplicationReport
report
rmClient
getApplicationReport
appId
LOG
info
conf
setInt
YarnConfiguration
RM_SCHEDULER_MINIMUM_ALLOCATION_MB
yarnCluster
MiniYARNCluster
TestUnmanagedAMLauncher
getSimpleName
init
start
Configuration
yarnClusterConfig
getConfig
LOG
info
conf
setInt
YarnConfiguration
RM_SCHEDULER_MINIMUM_ALLOCATION_MB
yarnCluster
MiniYARNCluster
TestUnmanagedAMLauncher
getSimpleName
init
start
Configuration
yarnClusterConfig
getConfig
get
RM_ADDRESS
LOG
info
conf
setInt
YarnConfiguration
RM_SCHEDULER_MINIMUM_ALLOCATION_MB
yarnCluster
MiniYARNCluster
TestUnmanagedAMLauncher
getSimpleName
init
start
Configuration
yarnClusterConfig
getConfig
get
RM_ADDRESS
RM_WEBAPP_ADDRESS
String
webapp
assertTrue
startsWith
String
webapp
yarnClusterConfig
get
YarnConfiguration
RM_WEBAPP_ADDRESS
assertTrue
startsWith
LOG
info
URL
url
Thread
currentThread
getContextClassLoader
getResource
RuntimeException
ByteArrayOutputStream
bytesOut
writeXml
close
OutputStream
os
FileOutputStream
File
getPath
write
toByteArray
sleep
LOG
error
String
args
classpath
javaHome
TestUnmanagedAMLauncher
getCanonicalName
info
YarnApplicationAttemptState
attemptState
rmClient
getApplicationAttemptReport
attemptId
getYarnApplicationAttemptState
Assert
assertTrue
equals
LAUNCHED
launchAM
initSuccess
launcher
init
result
run
useKerberos
UserGroupInformation
isSecurityEnabled
List
String
rmServers
getRMHAWebAddresses
conf
StringBuilder
diagnosticsMsg
Client
client
create
setFollowRedirects
sb
append
scheme
host
path
username
getCurrentUser
getShortUserName
Client
client
create
setFollowRedirects
StringBuilder
sb
append
scheme
host
path
String
username
UserGroupInformation
getCurrentUser
getShortUserName
LOG
debug
e
Builder
builder
resource
toString
type
MediaType
APPLICATION_JSON
server
split
challenge
YarnClientUtils
generateToken
String
username
UserGroupInformation
getCurrentUser
getShortUserName
sb
append
LOG
debug
e
Builder
builder
client
resource
toString
type
MediaType
APPLICATION_JSON
server
host
split
challenge
YarnClientUtils
generateToken
header
HttpHeaders
AUTHORIZATION
ClientResponse
test
get
scheme
String
username
UserGroupInformation
getCurrentUser
getShortUserName
sb
append
LOG
debug
e
Builder
builder
client
resource
toString
type
MediaType
APPLICATION_JSON
server
host
split
challenge
YarnClientUtils
generateToken
header
HttpHeaders
AUTHORIZATION
ClientResponse
test
get
scheme
String
output
LOG
error
EXIT_EXCEPTION_THROWN
ServiceStatus
ss
response
getEntity
getDiagnostics
EXIT_EXCEPTION_THROWN
LOG
error
ServiceStatus
ss
response
getEntity
output
getDiagnostics
String
info
EXIT_SUCCESS
String
yarnHome
System
getenv
ApplicationConstants
Environment
HADOOP_YARN_HOME
key
examplesDirs
StringUtils
split
examplesDirStr
file
File
MessageFormat
format
dir
fileName
YarnException
Path
filePath
getAbsolutePath
result
EXIT_SUCCESS
Service
service
setName
appName
setState
ServiceState
FLEX
Component
component
entry
getKey
Long
numberOfContainers
parseLong
getValue
setNumberOfContainers
addComponent
String
buffer
jsonSerDeser
toJson
ClientResponse
response
getApiClient
getServicePath
put
processResponse
appName
appIdOrName
ServiceApiUtil
validateNameFormat
getConfig
ClientResponse
response
getApiClient
getServicePath
get
StringBuilder
sb
append
toString
getStatus
output
getEntity
String
Service
service
setName
appName
String
componentName
ServiceApiUtil
parseComponentName
instance
Component
component
getComponent
addComponent
addDecommissionedInstance
buffer
jsonSerDeser
toJson
ClientResponse
response
getApiClient
getServicePath
put
result
processResponse
String
dirPath
conf
get
YarnServiceConf
YARN_SERVICES_SYSTEM_SERVICE_DIRECTORY
systemServiceDir
Path
String
dirPath
conf
get
YarnServiceConf
YARN_SERVICES_SYSTEM_SERVICE_DIRECTORY
systemServiceDir
Path
LOG
info
fs
getFileSystem
loginUGI
UserGroupInformation
isSecurityEnabled
getLoginUser
getCurrentUser
ServiceClient
serviceClient
UserGroupInformation
userUgi
getProxyUser
user
createServiceClient
LOG
info
service
launchServices
warn
e
getCause
getMessage
String
message
getName
UserGroupInformation
userUgi
getProxyUser
user
serviceClient
createServiceClient
LOG
info
service
launchServices
warn
e
getCause
getMessage
String
message
getName
error
serviceClient
actionBuild
service
LOG
info
getName
getVersion
tryStart
serviceClient
actionBuild
service
LOG
info
getName
getVersion
tryStart
tryStart
serviceClient
actionBuild
service
LOG
info
getName
e
actionStartAndGetId
LOG
info
systemServiceDir
RemoteIterator
FileStatus
iterLaunchType
list
launchType
next
debug
getPath
scanForUserServiceDefinition
syncUserServices
asyncUserServices
badDirSkipCounter
LOG
info
userDirPath
RemoteIterator
FileStatus
iterUsers
list
userDir
next
getPath
getName
String
userName
iterServices
serviceCache
filename
FileStatus
userDir
iterUsers
next
LOG
info
getPath
getName
String
userName
RemoteIterator
iterServices
list
serviceCache
filename
LOG
info
filename
badFileNameExtensionSkipCounter
Service
service
getServiceDefinition
serviceCache
getPath
Set
services
userServices
get
userName
HashSet
put
count
ignoredUserServices
containsKey
warn
getName
Service
service
String
version
VersionInfo
getBuildVersion
ServiceStatus
serviceStatus
UserGroupInformation
ugi
getProxyUser
request
ServiceClient
sc
getServiceClient
init
YARN_CONFIG
start
ApplicationId
applicationId
actionCreate
service
close
serviceStatus
setDiagnostics
setState
ACCEPTED
setUri
CONTEXT_ROOT
SERVICE_ROOT_PATH
getName
formatResponse
Status
e
getMessage
ApplicationId
applicationId
sc
actionCreate
service
close
serviceStatus
setDiagnostics
setState
ACCEPTED
setUri
CONTEXT_ROOT
SERVICE_ROOT_PATH
getName
formatResponse
Status
e
getMessage
FORBIDDEN
getCause
BAD_REQUEST
UserGroupInformation
ugi
getProxyUser
request
LOG
info
appName
Service
app
getServiceFromClient
Response
ok
build
formatResponse
Status
FORBIDDEN
e
getMessage
serviceStatus
setDiagnostics
setCode
ERROR_CODE_APP_NAME_INVALID
status
NOT_FOUND
entity
Service
app
getServiceFromClient
ugi
appName
Response
ok
build
formatResponse
Status
FORBIDDEN
e
getMessage
serviceStatus
setDiagnostics
setCode
ERROR_CODE_APP_NAME_INVALID
status
NOT_FOUND
entity
LOG
error
INTERNAL_SERVER_ERROR
IllegalArgumentException
UserGroupInformation
ugi
getProxyUser
request
LOG
info
appName
stopService
formatResponse
Status
FORBIDDEN
e
getMessage
BAD_REQUEST
error
getCause
NOT_FOUND
result
ServiceClient
sc
getServiceClient
init
YARN_CONFIG
start
Exception
stopException
actionStop
appName
destroy
ServiceClient
sc
getServiceClient
init
YARN_CONFIG
start
Exception
stopException
result
actionStop
appName
destroy
LOG
info
e
actionDestroy
UserGroupInformation
ugi
getProxyUser
request
startService
appName
ugi
upgradeService
updateServiceData
cancelUpgradeService
updateLifetime
decommissionInstances
formatResponse
Status
BAD_REQUEST
e
getCause
getMessage
FORBIDDEN
upgradeService
updateServiceData
ugi
cancelUpgradeService
appName
updateLifetime
decommissionInstances
formatResponse
Status
BAD_REQUEST
e
getCause
getMessage
FORBIDDEN
String
message
cancelUpgradeService
appName
ugi
updateLifetime
updateServiceData
decommissionInstances
formatResponse
Status
BAD_REQUEST
e
getCause
getMessage
FORBIDDEN
String
message
LOG
error
NOT_FOUND
UserGroupInformation
ugi
getProxyUser
request
UserGroupInformation
ugi
getProxyUser
request
componentCountStrings
put
c
getName
getNumberOfContainers
toString
result
ServiceClient
sc
init
YARN_CONFIG
start
actionFlex
appName
Integer
valueOf
close
String
message
ServiceStatus
status
ServiceClient
sc
getServiceClient
init
YARN_CONFIG
start
actionUpgradeExpress
service
initiateUpgrade
close
instances
addAll
c
getDecommissionedInstances
result
ServiceClient
sc
init
YARN_CONFIG
start
actionDecommissionInstances
appName
Integer
valueOf
close
String
message
bindAddress
getConfig
getSocketAddr
API_SERVER_ADDRESS
DEFAULT_API_SERVER_ADDRESS
DEFAULT_API_SERVER_PORT
URI
uri
create
NetUtils
getHostPortString
bindAddress
apiServer
HttpServer2
Builder
setName
setConf
getConfig
setSecurityEnabled
UserGroupInformation
isSecurityEnabled
setUsernameConfKey
RM_WEBAPP_SPNEGO_USER_NAME_KEY
setKeytabConfKey
RM_WEBAPP_SPNEGO_KEYTAB_FILE_KEY
addEndpoint
build
String
apiPackages
ApiServer
getPackage
getName
SEP
GenericExceptionHandler
YarnJacksonJaxbJsonProvider
addJerseyResourcePackage
logger
info
start
URI
uri
create
NetUtils
getHostPortString
bindAddress
apiServer
HttpServer2
Builder
setName
setConf
getConfig
setSecurityEnabled
UserGroupInformation
isSecurityEnabled
setUsernameConfKey
RM_WEBAPP_SPNEGO_USER_NAME_KEY
setKeytabConfKey
RM_WEBAPP_SPNEGO_KEYTAB_FILE_KEY
addEndpoint
build
String
apiPackages
ApiServer
getPackage
getName
SEP
GenericExceptionHandler
YarnJacksonJaxbJsonProvider
addJerseyResourcePackage
logger
info
start
toString
URI
uri
create
NetUtils
getHostPortString
bindAddress
apiServer
HttpServer2
Builder
setName
setConf
getConfig
setSecurityEnabled
UserGroupInformation
isSecurityEnabled
setUsernameConfKey
RM_WEBAPP_SPNEGO_USER_NAME_KEY
setKeytabConfKey
RM_WEBAPP_SPNEGO_KEYTAB_FILE_KEY
addEndpoint
build
String
apiPackages
ApiServer
getPackage
getName
SEP
GenericExceptionHandler
YarnJacksonJaxbJsonProvider
addJerseyResourcePackage
logger
info
start
toString
conf
Collections
singletonList
getWebAppContext
getContextPath
getResourceBase
getWar
ComponentEvent
event
component
getName
FLEX
setDesired
getNumberOfContainers
context
scheduler
getDispatcher
getEventHandler
handle
ComponentInstanceEvent
event
ContainerId
fromString
containerId
ComponentInstanceEventType
UPGRADE
String
componentName
ServiceApiUtil
parseComponentName
instance
ComponentEvent
event
DECOMMISSION_INSTANCE
setInstanceName
context
scheduler
getDispatcher
getEventHandler
handle
failureCountPerNode
clear
context
scheduler
getAmRMClient
updateBlacklist
ArrayList
blackListedNodes
org
apache
hadoop
yarn
service
api
records
Component
component
componentsToUpgrade
get
ComponentInstanceEvent
upgradeEvent
ContainerId
fromString
container
getId
cancelUpgrade
ComponentInstanceEventType
UPGRADE
CANCEL_UPGRADE
ComponentEvent
needUpgradeEvent
component
getName
cancelUpgrade
ComponentEventType
UPGRADE
CANCEL_UPGRADE
setTargetSpec
setUpgradeVersion
upgradeVersion
Service
targetSpec
ServiceApiUtil
loadServiceUpgrade
fs
getName
upgradeVersion
setId
serviceSpec
getId
setState
ServiceState
STABLE
Map
String
Component
allComps
scheduler
getAllComponents
comp
get
compSpec
getComponentSpec
getState
jsonSerDeser
save
getFileSystem
getServiceJsonPath
LOG
error
e
upgradeVersionToDel
cancelUpgrade
cancelledVersion
Map
String
Component
allComps
scheduler
getAllComponents
comp
get
compSpec
getName
setState
getComponentSpec
getState
jsonSerDeser
save
fs
getFileSystem
ServiceApiUtil
getServiceJsonPath
targetSpec
LOG
error
e
upgradeVersionToDel
cancelUpgrade
cancelledVersion
upgradeVersion
info
deleteClusterUpgradeDir
compDirVersionToDel
serviceSpec
getVersion
List
org
apache
hadoop
yarn
service
api
records
Component
compsNeedUpgradeList
componentsFinder
findTargetComponentSpecs
sourceSpec
targetSpec
RestartPolicyEnum
restartPolicy
component
getRestartPolicy
ComponentRestartPolicy
restartPolicyHandler
getRestartPolicyHandler
org
apache
hadoop
yarn
service
api
records
ServiceState
curState
serviceSpec
getState
setState
state
credentials
UserGroupInformation
getCurrentUser
getCredentials
doSecureLogin
SliderFileSystem
fs
conf
setAppDir
appDir
context
loadApplicationJson
addCredentials
removeHdfsDelegationToken
getLoginUser
set
entry
getKey
getValue
ContainerId
amContainerId
getAMContainerId
ApplicationAttemptId
attemptId
getApplicationAttemptId
Credentials
copy
UserGroupInformation
getCurrentUser
getCredentials
Iterator
Token
iter
getAllTokens
iterator
token
next
File
keytab
String
format
KEYTAB_LOCATION
getServiceName
File
keytab
String
format
KEYTAB_LOCATION
getServiceName
LOG
info
preInstalledKeytab
context
service
serviceKeytab
getKerberosPrincipal
getKeytab
URI
uri
File
keytab
String
format
KEYTAB_LOCATION
getServiceName
LOG
info
preInstalledKeytab
context
service
serviceKeytab
getKerberosPrincipal
getKeytab
URI
uri
principal
servicePrincipalName
getPrincipalName
UserGroupInformation
getLoginUser
getShortUserName
URI
uri
preInstalledKeytab
keytab
File
LOG
info
String
principal
context
service
servicePrincipalName
getKerberosPrincipal
getPrincipalName
UserGroupInformation
getLoginUser
getShortUserName
getCurrentUser
principalName
SecurityUtil
getServerPrincipal
ServiceUtils
getLocalHostName
getConfig
loginUserFromKeytab
getAbsolutePath
opts
addOption
YARNFILE_OPTION
getOption
setRequired
SERVICE_NAME_OPTION
KEYTAB_OPTION
PRINCIPAL_NAME_OPTION
GenericOptionsParser
parser
conf
args
CommandLine
cmdLine
getCommandLine
serviceMaster
serviceDefPath
getOptionValue
serviceName
serviceKeytab
servicePrincipalName
init
start
app
context
service
executorService
Executors
newScheduledThreadPool
RegistryOperations
registryClient
Configuration
conf
getConfig
String
username
HadoopKerberosName
principal
trim
getServiceName
LOG
info
executorService
shutdownNow
DefaultMetricsSystem
shutdown
Map
ContainerId
ComponentInstance
liveInst
getLiveInstances
instance
getValue
getCompInstanceName
getContainerSpec
getState
ContainerState
STOPPED
serviceTimelinePublisher
componentInstanceFinished
getKey
KILLED_AFTER_APP_COMPLETION
getDiagnostics
toString
finalApplicationStatus
serviceAttemptUnregistered
context
diagnostics
amRMClient
unregisterApplicationMaster
List
Container
containersFromPrevAttempt
response
getContainersFromPreviousAttempts
List
Container
containersFromPrevAttempt
response
getContainersFromPreviousAttempts
LOG
info
size
Map
String
ServiceRecord
existingRecords
HashMap
existingComps
yarnRegistryOperations
listComponents
Map
String
ServiceRecord
existingRecords
HashMap
List
existingComps
yarnRegistryOperations
listComponents
LOG
info
size
e
getMessage
record
getComponent
existingComp
put
warn
LOG
info
e
getMessage
ServiceRecord
record
yarnRegistryOperations
getComponent
existingComp
existingRecords
put
warn
container
getId
remove
RegistryPathUtils
encodeYarnID
toString
Component
comp
componentsById
get
getAllocationRequestId
ComponentEvent
event
getName
CONTAINER_RECOVERED
setContainer
setInstance
getComponentInstance
description
handle
ComponentEvent
event
comp
getName
CONTAINER_RECOVERED
setContainer
container
setInstance
getComponentInstance
record
description
handle
LOG
info
getId
amRMClient
releaseAssignedContainer
ApplicationId
appId
fromString
app
String
componentName
get
YarnRegistryAttributes
YARN_COMPONENT
Component
component
componentsByName
ComponentInstance
compInstance
ContainerId
containerId
YARN_ID
unRecoveredInstances
put
LOG
info
attemptId
service
getName
ServiceRecord
serviceRecord
set
YarnRegistryAttributes
YARN_ID
getApplicationId
toString
YARN_PERSISTENCE
PersistencePolicies
APPLICATION
description
yarnRegistryOperations
registerSelf
LOG
info
attemptId
service
getName
ServiceRecord
serviceRecord
set
YarnRegistryAttributes
YARN_ID
getApplicationId
toString
YARN_PERSISTENCE
PersistencePolicies
APPLICATION
description
yarnRegistryOperations
registerSelf
getSelfRegistrationPath
getAbsoluteSelfRegistrationPath
isFirstAttempt
getAttemptId
deleteChildren
shouldTerminate
componentIsDominant
component
getComponentSpec
getConfiguration
getPropertyBool
CONTAINER_STATE_REPORT_AS_SERVICE_STATE
ComponentRestartPolicy
restartPolicy
getRestartPolicyHandler
isSucceeded
hasCompletedSuccessfully
org
apache
hadoop
yarn
service
api
records
ComponentState
state
SUCCEEDED
FAILED
shouldTerminate
componentIsDominant
component
getComponentSpec
getConfiguration
getPropertyBool
CONTAINER_STATE_REPORT_AS_SERVICE_STATE
ComponentRestartPolicy
restartPolicy
getRestartPolicyHandler
isSucceeded
hasCompletedSuccessfully
org
apache
hadoop
yarn
service
api
records
ComponentState
state
SUCCEEDED
FAILED
LOG
info
getName
getState
setState
shouldTerminate
Set
String
succeededComponents
HashSet
failedComponents
ComponentRestartPolicy
restartPolicy
comp
getRestartPolicyHandler
comp
getComponentSpec
setState
org
apache
hadoop
yarn
service
api
records
ComponentState
SUCCEEDED
LOG
info
getName
getState
FAILED
serviceTimelinePublisher
componentFinished
systemClock
getTime
shouldTerminate
nFailed
getNumFailedInstances
failedComponents
add
succeededComponents
String
yarnHome
System
getenv
ApplicationConstants
Environment
HADOOP_YARN_HOME
key
examplesDirs
StringUtils
split
examplesDirStr
file
File
MessageFormat
format
dir
fileName
YarnException
Path
filePath
getAbsolutePath
YarnException
ErrorStrings
SERVICE_UPGRADE_DISABLED
Service
persistedService
ServiceApiUtil
loadService
fs
service
getName
cachedAppInfo
put
AppInfo
ApplicationId
fromString
getId
getKerberosPrincipal
getPrincipalName
String
message
getVersion
LOG
error
foundNotNeverComp
Component
RestartPolicyEnum
NEVER
String
message
service
getName
getVersion
LOG
error
YarnException
foundNotNeverComp
Component
RestartPolicyEnum
NEVER
Service
liveService
getStatus
YarnException
persistedService
getName
cachedAppInfo
put
AppInfo
ApplicationId
fromString
getId
getKerberosPrincipal
getPrincipalName
String
componentName
ServiceApiUtil
parseComponentName
parseAndValidateComponentInstanceName
instance
appName
getConfig
Component
component
getComponent
IllegalArgumentException
addDecommissionedInstance
setNumberOfContainers
Math
max
getNumberOfContainers
writeAppDefinition
fs
ApplicationReport
appReport
yarnClient
getApplicationReport
message
getYarnApplicationState
ApplicationReport
appReport
yarnClient
getApplicationReport
getAppId
service
getName
String
message
getYarnApplicationState
FlexComponentsRequestProto
Builder
requestBuilder
newBuilder
String
name
persistedComp
getName
original
put
getNumberOfContainers
setNumberOfContainers
componentCounts
get
countBuilder
setName
addComponents
build
keySet
removeAll
YarnException
ServiceApiUtil
writeAppDefinition
fs
persistedService
ApplicationId
appId
getAppId
serviceName
message
persistedComp
setNumberOfContainers
componentCounts
get
name
countBuilder
setName
getName
getNumberOfContainers
requestBuilder
addComponents
build
keySet
removeAll
original
YarnException
ServiceApiUtil
writeAppDefinition
fs
persistedService
ApplicationId
appId
getAppId
serviceName
String
message
LOG
error
ApplicationReport
appReport
yarnClient
getApplicationReport
getYarnApplicationState
componentCounts
keySet
removeAll
original
YarnException
ServiceApiUtil
writeAppDefinition
fs
persistedService
ApplicationId
appId
getAppId
serviceName
String
message
LOG
error
ApplicationReport
appReport
yarnClient
getApplicationReport
getYarnApplicationState
Service
liveService
getStatus
ServiceApiUtil
validateNameFormat
serviceName
getConfig
ApplicationId
currentAppId
getAppId
ServiceApiUtil
validateNameFormat
serviceName
getConfig
ApplicationId
currentAppId
getAppId
LOG
info
cleanUpRegistry
EXIT_COMMAND_ARGUMENT_ERROR
ApplicationReport
report
yarnClient
getApplicationReport
getYarnApplicationState
String
msg
killApplication
EXIT_COMMAND_ARGUMENT_ERROR
String
msg
serviceName
report
getYarnApplicationState
yarnClient
killApplication
currentAppId
LOG
info
cleanUpRegistry
EXIT_SUCCESS
YarnException
ClientAMProtocol
proxy
createAMProxy
cachedAppInfo
remove
StopRequestProto
request
newBuilder
build
String
msg
serviceName
report
getYarnApplicationState
yarnClient
killApplication
currentAppId
LOG
info
cleanUpRegistry
EXIT_SUCCESS
YarnException
ClientAMProtocol
proxy
createAMProxy
cachedAppInfo
remove
StopRequestProto
request
newBuilder
build
stop
cachedAppInfo
remove
serviceName
StopRequestProto
request
newBuilder
build
proxy
stop
LOG
info
yarnClient
killApplication
currentAppId
cleanUpRegistry
EXIT_SUCCESS
startTime
System
currentTimeMillis
pollCount
proxy
stop
request
LOG
info
serviceName
yarnClient
killApplication
currentAppId
cleanUpRegistry
EXIT_SUCCESS
startTime
System
currentTimeMillis
pollCount
Thread
sleep
report
getApplicationReport
yarnClient
killApplication
currentAppId
serviceName
LOG
info
cleanUpRegistry
EXIT_SUCCESS
startTime
System
currentTimeMillis
pollCount
Thread
sleep
report
getApplicationReport
cleanUpRegistry
serviceName
EXIT_SUCCESS
startTime
System
currentTimeMillis
pollCount
Thread
sleep
report
yarnClient
getApplicationReport
currentAppId
LOG
info
ServiceApiUtil
validateNameFormat
serviceName
getConfig
verifyNoLiveAppInRM
Path
appDir
fs
buildClusterDirPath
FileSystem
fileSystem
getFileSystem
cachedAppInfo
remove
ret
EXIT_SUCCESS
ServiceApiUtil
validateNameFormat
serviceName
getConfig
verifyNoLiveAppInRM
Path
appDir
fs
buildClusterDirPath
FileSystem
fileSystem
getFileSystem
cachedAppInfo
remove
ret
EXIT_SUCCESS
LOG
info
String
message
YarnException
cachedAppInfo
remove
serviceName
ret
EXIT_SUCCESS
LOG
info
appDir
String
message
YarnException
EXIT_NOT_FOUND
Path
publicResourceDir
fs
getBasePath
LOG
info
serviceName
appDir
String
message
YarnException
ret
EXIT_NOT_FOUND
Path
publicResourceDir
fs
getBasePath
LOG
info
serviceName
appDir
ret
EXIT_NOT_FOUND
Path
publicResourceDir
fs
getBasePath
String
message
YarnException
deleteZKNode
IOException
e
Path
publicResourceDir
fs
getBasePath
serviceName
LOG
info
String
message
YarnException
deleteZKNode
IOException
e
ret
EXIT_OTHER_FAILURE
LOG
info
serviceName
publicResourceDir
String
message
YarnException
deleteZKNode
IOException
e
ret
EXIT_OTHER_FAILURE
CuratorFramework
curatorFramework
getCuratorClient
String
user
RegistryUtils
currentUser
zkPath
ServiceRegistryUtils
mkServiceHomePath
serviceName
delete
deletingChildrenIfNeeded
forPath
Path
libPath
fs
buildClusterDirPath
serviceName
ProviderUtils
addProviderJar
localResources
ServiceMaster
SERVICE_CORE_JAR
dependencyLibTarGzip
getDependencyTarGzip
ServiceApiUtil
validateNameFormat
serviceName
getConfig
Service
liveService
getStatus
Path
appDir
checkAppExistOnHdfs
service
loadService
fs
validateAndResolveService
verifyNoLiveAppInRM
ApplicationId
appId
submitApp
cachedAppInfo
put
AppInfo
getKerberosPrincipal
getPrincipalName
setId
toString
appJson
writeAppDefinition
ServiceApiUtil
validateNameFormat
serviceName
getConfig
Service
liveService
getStatus
Path
appDir
checkAppExistOnHdfs
service
loadService
fs
validateAndResolveService
verifyNoLiveAppInRM
ApplicationId
appId
submitApp
cachedAppInfo
put
AppInfo
getKerberosPrincipal
getPrincipalName
setId
toString
appJson
writeAppDefinition
LOG
info
getName
String
principalName
service
getKerberosPrincipal
getPrincipalName
LOG
warn
getName
URI
keytabURI
getKeytab
YarnException
e
LOG
warn
service
getName
URI
keytabURI
getKerberosPrincipal
getKeytab
YarnException
e
info
Path
keytabPath
principalName
ServiceApiUtil
validateNameFormat
serviceName
getConfig
Service
appSpec
setName
setState
ServiceState
STOPPED
ApplicationId
currentAppId
getAppId
appSpec
setId
currentAppId
toString
ApplicationReport
appReport
yarnClient
getApplicationReport
LOG
info
warn
setState
convertState
getYarnApplicationState
ApplicationTimeout
lifetime
getApplicationTimeouts
get
ApplicationTimeoutType
LIFETIME
setLifetime
getRemainingTime
String
currentUser
RegistryUtils
dependencyLibTarGzip
fs
getDependencyTarGzip
Path
destinationFolder
YarnServiceConstants
DEPENDENCY_TAR_GZ_FILE_NAME
DEPENDENCY_TAR_GZ_FILE_EXT
System
out
println
String
format
toUri
EXIT_SUCCESS
libDirs
ServiceUtils
getLibDirs
File
tempLibTarGzipFile
EXIT_UNAUTHORIZED
createTempFile
tarGzipFolder
createJarFilter
copyLocalFileToHdfs
FsPermission
DEPENDENCY_DIR_PERMISSIONS
AccessControlList
yarnAdminAcl
getConfig
get
YarnConfiguration
YARN_ADMIN_ACL
DEFAULT_YARN_ADMIN_ACL
dfsAdminAcl
DFSConfigKeys
DFS_ADMIN
UserGroupInformation
ugi
getCurrentUser
healthThresholdPercent
YarnServiceConf
getInt
CONTAINER_HEALTH_THRESHOLD_PERCENT
DEFAULT_CONTAINER_HEALTH_THRESHOLD_PERCENT
componentSpec
getConfiguration
scheduler
getConfig
healthThresholdPercent
YarnServiceConf
getInt
CONTAINER_HEALTH_THRESHOLD_PERCENT
DEFAULT_CONTAINER_HEALTH_THRESHOLD_PERCENT
componentSpec
getConfiguration
scheduler
getConfig
LOG
info
getName
error
window
getLong
CONTAINER_HEALTH_THRESHOLD_WINDOW_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_WINDOW_SEC
initDelay
CONTAINER_HEALTH_THRESHOLD_INIT_DELAY_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_INIT_DELAY_SEC
pollFrequency
CONTAINER_HEALTH_THRESHOLD_POLL_FREQUENCY_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_POLL_FREQUENCY_SEC
LOG
info
componentSpec
getName
error
healthThresholdPercent
window
YarnServiceConf
getLong
CONTAINER_HEALTH_THRESHOLD_WINDOW_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_WINDOW_SEC
getConfiguration
scheduler
getConfig
initDelay
CONTAINER_HEALTH_THRESHOLD_INIT_DELAY_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_INIT_DELAY_SEC
pollFrequency
CONTAINER_HEALTH_THRESHOLD_POLL_FREQUENCY_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_POLL_FREQUENCY_SEC
LOG
error
healthThresholdPercent
componentSpec
getName
window
YarnServiceConf
getLong
CONTAINER_HEALTH_THRESHOLD_WINDOW_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_WINDOW_SEC
getConfiguration
scheduler
getConfig
initDelay
CONTAINER_HEALTH_THRESHOLD_INIT_DELAY_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_INIT_DELAY_SEC
pollFrequency
CONTAINER_HEALTH_THRESHOLD_POLL_FREQUENCY_SEC
DEFAULT_CONTAINER_HEALTH_THRESHOLD_POLL_FREQUENCY_SEC
LOG
info
componentSpec
getName
count
org
apache
hadoop
yarn
service
api
records
Resource
componentResource
getResource
resource
newInstance
calcMemoryMB
getCpus
String
resourceName
entry
getKey
warn
ResourceInformation
specInfo
getValue
ri
getUnit
getTags
getAttributes
setResourceInformation
ContainerRequest
request
newBuilder
capability
priority
allocationRequestId
allocateId
relaxLocality
build
org
apache
hadoop
yarn
service
api
records
ComponentState
curState
componentSpec
getState
setState
state
Component
comp
compInstance
getComponent
hasContainerFailed
failureBeforeLaunch
event
getStatus
ComponentRestartPolicy
restartPolicy
getRestartPolicyHandler
ContainerState
containerState
FAILED
SUCCEEDED
getContainerSpec
setState
requestContainers
reInsertPendingInstance
StringBuilder
builder
append
getCompInstanceId
getContainerId
System
lineSeparator
getExitStatus
FAILED_BEFORE_LAUNCH_DIAG
getDiagnostics
UPGRADE_FAILED
LOG
error
toString
hasContainerFailed
failureBeforeLaunch
event
getStatus
ComponentRestartPolicy
restartPolicy
comp
getRestartPolicyHandler
ContainerState
containerState
FAILED
SUCCEEDED
compInstance
getContainerSpec
setState
requestContainers
reInsertPendingInstance
StringBuilder
builder
append
getCompInstanceId
getContainerId
System
lineSeparator
getExitStatus
FAILED_BEFORE_LAUNCH_DIAG
getDiagnostics
UPGRADE_FAILED
LOG
error
toString
info
LOG
error
builder
toString
info
event
getContainerId
containerState
exitStatus
failureBeforeLaunch
getStatus
ContainerExitStatus
INVALID
getExitStatus
compInstance
serviceTimelinePublisher
componentInstanceFinished
containerDiag
comp
markAsFailed
markAsSucceeded
writeLock
lock
ContainerState
curState
containerSpec
getState
setState
state
doRegistryUpdate
ObjectMapper
mapper
Map
String
List
ports
container
setExposedPorts
LOG
warn
e
setContainerStatus
status
getContainerId
serviceTimelinePublisher
componentInstanceIPHostUpdated
containerRec
cleanupRegistry
cleanupRegistry
containerId
deleted
fs
delete
compInstanceDir
String
cmdStr
ServiceUtils
join
commands
String
cmdStr
ServiceUtils
join
commands
log
debug
containerLaunchContext
setCommands
log
debug
localResources
size
String
key
entry
getKey
LocalResource
val
getValue
readyContainerCount
component
getNumReadyInstances
thresholdFraction
healthThresholdPercent
readyContainerFraction
desiredContainerCount
healthChanged
prevReadyContainerFraction
String
readyContainerPercentStr
format
currentTimestamp
System
nanoTime
firstOccurrenceTimestamp
Date
date
LOG
info
component
getName
date
getTime
elapsedTime
currentTimestamp
firstOccurrenceTimestamp
elapsedTimeSecs
TimeUnit
SECONDS
convert
NANOSECONDS
warn
readyContainerPercentStr
healthThresholdPercent
healthThresholdWindowSecs
String
exitDiag
format
getScheduler
getDiagnostics
append
Thread
sleep
error
e
ExitUtil
terminate
elapsedTime
currentTimestamp
firstOccurrenceTimestamp
elapsedTimeSecs
TimeUnit
SECONDS
convert
NANOSECONDS
LOG
warn
component
getName
readyContainerPercentStr
healthThresholdPercent
healthThresholdWindowSecs
String
exitDiag
format
getScheduler
getDiagnostics
append
Thread
sleep
error
e
ExitUtil
terminate
logMsg
LOG
warn
component
getName
readyContainerPercentStr
healthThresholdPercent
elapsedTimeSecs
healthThresholdWindowSecs
String
exitDiag
format
getScheduler
getDiagnostics
append
Thread
sleep
error
e
ExitUtil
terminate
logMsg
info
readyContainerCount
desiredContainerCount
status
String
ip
instance
getContainerStatus
getIPs
get
HttpURLConnection
connection
URL
url
urlString
replace
HOST_TOKEN
getConnection
timeout
rc
getResponseCode
error
log
info
fail
IOException
succeed
e
Path
compInstanceDir
initCompInstanceDir
fs
compLaunchContext
instance
log
info
compPublicResourceDir
debug
instance
getCompInstanceName
System
lineSeparator
tokensForSubstitution
ConfigFile
configFile
originalFile
copy
String
fileName
Path
getDestFile
getName
setDestFile
replaceAll
Pattern
quote
token
getKey
getValue
remoteFile
LocalResourceVisibility
visibility
getVisibility
launcher
addLocalResource
symlink
localResource
destFile
toString
log
info
configFile
e
org
apache
hadoop
conf
Configuration
confCopy
set
entry
getKey
getValue
String
val
replaceAll
Pattern
quote
token
String
path
RegistryUtils
componentPath
user
serviceClass
instanceName
componentName
String
path
RegistryUtils
componentPath
user
serviceClass
instanceName
containerId
log
warn
isServiceMetrics
isComponentMetrics
String
appId
tag
value
isServiceMetrics
isComponentMetrics
String
appId
tag
value
log
debug
record
serviceTimelinePublisher
publishMetrics
metrics
ServiceTimelineEntityType
SERVICE_ATTEMPT
toString
timestamp
Configuration
conf
URL
resURL
getResourceUrl
resource
Path
src
localFile
toString
subdirPath
tempPath
subdir
fileSystem
mkdirs
destPath
destFileName
UserGroupInformation
currentUser
getCurrentUser
UserGroupInformation
currentUser
getCurrentUser
LOG
debug
Oid
mechOid
KerberosUtil
getOidInstance
GSSManager
manager
getInstance
GSSName
serverName
createName
server
NT_HOSTBASED_SERVICE
GSSContext
gssContext
createContext
canonicalize
DEFAULT_LIFETIME
requestMutualAuth
requestCredDeleg
inToken
outToken
initSecContext
length
dispose
Oid
mechOid
KerberosUtil
getOidInstance
GSSManager
manager
getInstance
GSSName
serverName
createName
server
NT_HOSTBASED_SERVICE
GSSContext
gssContext
createContext
canonicalize
DEFAULT_LIFETIME
requestMutualAuth
requestCredDeleg
inToken
outToken
initSecContext
length
dispose
LOG
debug
String
BASE_64_CODEC
encode
StandardCharsets
US_ASCII
useKerberos
UserGroupInformation
isSecurityEnabled
URI
resource
url
Client
client
create
Builder
builder
type
MediaType
APPLICATION_JSON
String
challenge
generateToken
getHost
header
HttpHeaders
AUTHORIZATION
validateDockerClientConfiguration
service
conf
IllegalArgumentException
e
Configuration
globalConf
getConfiguration
Set
String
componentNames
HashSet
List
Component
componentsToRemove
ArrayList
componentsToAdd
maxCompLength
RegistryConstants
MAX_FQDN_LABEL_LENGTH
Long
toString
MAX_VALUE
length
format
RestApiErrorMessages
ERROR_COMPONENT_NAME_INVALID
comp
getName
ERROR_COMPONENT_NAME_CONFLICTS_WITH_SERVICE_NAME
Configuration
globalConf
service
getConfiguration
Set
String
componentNames
HashSet
List
Component
componentsToRemove
ArrayList
componentsToAdd
maxCompLength
RegistryConstants
MAX_FQDN_LABEL_LENGTH
Long
toString
MAX_VALUE
length
IllegalArgumentException
format
RestApiErrorMessages
ERROR_COMPONENT_NAME_INVALID
comp
getName
ERROR_COMPONENT_NAME_CONFLICTS_WITH_SERVICE_NAME
maxCompLength
Long
toString
MAX_VALUE
length
IllegalArgumentException
String
format
RestApiErrorMessages
ERROR_COMPONENT_NAME_INVALID
comp
getName
ERROR_COMPONENT_NAME_CONFLICTS_WITH_SERVICE_NAME
service
ERROR_ARTIFACT_ID_INVALID
LOG
info
componentsToRemove
add
List
Component
externalComponents
getComponents
fs
getArtifact
getId
override
getComponent
c
String
dockerClientConfig
service
getDockerClientConfig
Path
dockerClientConfigPath
FileSystem
fs
getFileSystem
conf
Path
serviceJson
getServiceJsonPath
fs
serviceName
Path
versionPath
fs
buildClusterUpgradeDirPath
serviceName
version
versionedDef
FsPermission
appDirPermission
fs
createWithPermissions
appDir
Path
appJson
writeAppDefinition
service
result
List
String
dependencies
service
getDependencies
org
apache
hadoop
conf
Configuration
ServiceClient
sc
init
start
Service
dependentService
getStatus
dependent
InetAddress
getByName
name
String
dnsURI
format
addr
Hashtable
Object
env
put
Context
INITIAL_CONTEXT_FACTORY
PROVIDER_URL
DirContext
ictx
InitialDirContext
Attributes
attrs
getAttributes
IOException
my_class
String
class_file
getName
replaceAll
Enumeration
URL
urlEnumeration
loader
getResources
url
nextElement
toReturn
getPath
substring
length
URLDecoder
decode
jarFilePath
File
Path
path
getComponentDir
serviceVersion
compName
fileSystem
delete
Path
path
getAppDir
serviceVersion
fileSystem
delete
Path
path
service
getName
RuntimeException
e
yarnRegistryView
AllocateResponse
AllocateResponseBuilder
builder
newBuilder
LOG
info
List
Container
allocatedContainers
LinkedList
Iterator
itor
feedContainers
iterator
c
next
org
apache
hadoop
yarn
service
component
Component
componentsById
get
getAllocationRequestId
conf
set
YarnConfiguration
NM_VMEM_PMEM_RATIO
NM_CONTAINER_MON_RESOURCE_CALCULATOR
LinuxResourceCalculatorPlugin
getName
NM_CONTAINER_MON_PROCESS_TREE
ProcfsBasedProcessTree
setBoolean
YARN_MINICLUSTER_CONTROL_RESOURCE_MONITORING
TIMELINE_SERVICE_ENABLED
setInt
NM_MAX_PER_DISK_UTILIZATION_PERCENTAGE
setLong
DEBUG_NM_DELETE_DELAY_SEC
AM_RESOURCE_MEM
YarnServiceConf
READINESS_CHECK_INTERVAL
NM_VMEM_CHECK_ENABLED
NM_PMEM_CHECK_ENABLED
HttpServer2
FILTER_INITIALIZER_PROPERTY
zkCluster
TestingCluster
start
RM_ZK_ADDRESS
getConnectString
conf
set
YARN_SERVICE_BASE_PATH
basedir
getAbsolutePath
yarnCluster
MiniYARNCluster
getClass
getSimpleName
numNodeManager
init
start
waitForNMsToRegister
URL
url
Thread
currentThread
getContextClassLoader
getResource
RuntimeException
Configuration
yarnClusterConfig
getConfig
YarnConfiguration
YARN_APPLICATION_CLASSPATH
File
getPath
getParent
ByteArrayOutputStream
bytesOut
writeXml
close
OutputStream
os
FileOutputStream
expectedTotalContainers
countTotalContainers
exampleApp
Multimap
String
allContainers
HashMultimap
create
Service
retrievedApp
client
getStatus
getName
totalReadyContainers
clear
LOG
info
getComponents
size
expectedTotalContainers
countTotalContainers
exampleApp
Multimap
String
allContainers
HashMultimap
create
Service
retrievedApp
client
getStatus
getName
totalReadyContainers
clear
LOG
info
getComponents
size
component
expectedTotalContainers
countTotalContainers
exampleApp
Multimap
String
allContainers
HashMultimap
create
Service
retrievedApp
client
getStatus
getName
totalReadyContainers
clear
LOG
info
getComponents
size
component
toString
Service
retrievedApp
client
getStatus
exampleApp
getName
totalReadyContainers
allContainers
clear
LOG
info
getComponents
size
component
toString
container
getState
put
getId
totalReadyContainers
allContainers
clear
LOG
info
retrievedApp
getComponents
size
component
getName
toString
container
getState
put
getId
compA
getConfiguration
getEnv
put
Artifact
artifact
setType
TypeEnum
TARBALL
exampleApp
addComponent
MockServiceAM
am
init
conf
start
ServiceScheduler
scheduler
context
syncSysFs
close
stop
conf
setBoolean
YarnConfiguration
YARN_MINICLUSTER_FIXED_PORTS
YARN_MINICLUSTER_USE_RPC
setInt
RM_MAX_COMPLETED_APPLICATIONS
DEFAULT_RM_MAX_COMPLETED_APPLICATIONS
setConf
setupInternal
NUM_NMS
ServiceClient
client
createClient
getConf
Service
exampleApp
createExampleApplication
actionCreate
Multimap
String
containersBeforeFailure
waitForAllCompToBeReady
LOG
info
getYarnCluster
restartResourceManager
getActiveRMIndex
GenericTestUtils
waitFor
getResourceManager
getServiceState
org
apache
hadoop
service
STATE
STARTED
Assert
assertTrue
waitForNodeManagersToConnect
ApplicationId
exampleAppId
fromString
getId
ApplicationAttemptId
applicationAttemptId
getYarnClient
getApplicationReport
getCurrentApplicationAttemptId
ApplicationId
exampleAppId
fromString
exampleApp
getId
ApplicationAttemptId
applicationAttemptId
client
getYarnClient
getApplicationReport
getCurrentApplicationAttemptId
LOG
info
failApplicationAttempt
ApplicationReport
ar
getAttemptId
getYarnApplicationState
YarnApplicationState
RUNNING
RuntimeException
e
Multimap
String
containersAfterFailure
waitForAllCompToBeReady
Assert
assertEquals
compName
containersBeforeFailure
get
size
component
getConfiguration
getEnv
put
client
initiateUpgrade
service
waitForServiceToBeInState
ServiceState
UPGRADING
SliderFileSystem
fs
getConf
Service
fromFs
ServiceApiUtil
loadServiceUpgrade
getName
getVersion
Assert
assertEquals
liveService
getStatus
actionUpgrade
getComponent
getContainers
waitForAllCompToBeReady
actionStart
waitForServiceToBeStable
active
ComponentState
STABLE
getState
waitForServiceToBeStable
client
service
Component
component
getComponents
iterator
next
setState
ServiceState
EXPRESS_UPGRADING
setVersion
getConfiguration
getEnv
put
component2
getComponent
actionUpgradeExpress
waitForServiceToBeExpressUpgrading
Service
active
getStatus
getName
Assert
assertEquals
getVersion
ComponentState
STABLE
getState
waitForServiceToBeStable
client
service
setState
ServiceState
UPGRADING
setVersion
component
getConfiguration
getEnv
put
initiateUpgrade
waitForServiceToBeInState
Service
liveService
getStatus
getName
Container
container
getComponent
getContainers
iterator
next
actionUpgrade
Lists
newArrayList
Thread
sleep
actionCancelUpgrade
active
Assert
assertEquals
ComponentState
STABLE
getState
Assert
assertNotEquals
ServiceState
STABLE
service
getState
assertEquals
ComponentState
FLEXING
component
getContainers
size
compCounts
HashMap
put
exampleApp
getComponent
setNumberOfContainers
client
flexByRestService
getName
waitForServiceToBeStable
fail
getStatus
Service
orig
ExampleAppJson
loadResource
OVERRIDE_JSON
Configuration
global
getConfiguration
assertEquals
getProperty
getFiles
size
simple
getComponent
getProperties
master
worker
Configuration
master
orig
getComponent
getConfiguration
assertEquals
getProperty
getFiles
size
worker
LOG
info
getProperties
assertNull
SliderFileSystem
sfs
ServiceTestUtils
initMockFs
ServiceApiUtil
validateAndResolveService
YarnConfiguration
global
assertEquals
global
getFiles
size
simple
orig
getComponent
getConfiguration
getProperties
getProperty
Set
ConfigFile
files
HashSet
Map
String
props
HashMap
put
add
destFile
type
TypeEnum
PROPERTIES
properties
XML
Collections
singletonMap
assertTrue
contains
get
master
assertTrue
files
contains
simple
getFiles
get
master
orig
getComponent
getConfiguration
LOG
info
assertEquals
getProperties
size
getProperty
props
put
clear
add
ConfigFile
destFile
type
TypeEnum
PROPERTIES
properties
XML
Collections
singletonMap
worker
assertEquals
global
getProperties
size
orig
getComponents
simple
getComponent
getConfiguration
getProperty
master
Configuration
worker
artifact
setType
Artifact
TypeEnum
SERVICE
ServiceApiUtil
validateAndResolveService
app
sfs
CONF_DNS_ENABLED
Assert
fail
EXCEPTION_PREFIX
assertEquals
ERROR_ARTIFACT_ID_INVALID
e
getMessage
TARBALL
String
format
ERROR_ARTIFACT_ID_FOR_COMP_INVALID
compName
DOCKER
setId
mySession
getRemote
flush
String
message
consoleReader
read
sendString
Thread
sleep
inputThread
join
disconnect
maxThreadPoolSize
conf
getInt
YarnConfiguration
NM_CLIENT_ASYNC_THREAD_POOL_MAX_SIZE
DEFAULT_NM_CLIENT_ASYNC_THREAD_POOL_MAX_SIZE
Set
String
allNodes
HashSet
event
events
take
LOG
error
e
add
getNodeId
toString
threadPoolSize
threadPool
getCorePoolSize
nodeNum
size
idealThreadPoolSize
Math
min
maxThreadPoolSize
newThreadPoolSize
INITIAL_THREAD_POOL_SIZE
String
nodeId
token
getNodeId
toString
Preconditions
checkNotNull
container
updateContainerRequest
ContainerManagementProtocolProxyData
proxy
cmProxy
get
containerManagerBindAddr
proxy
activeCallers
Map
String
ExecutionType
TreeMap
Resource
ResourceRequestInfo
locationMap
remoteRequestsTable
get
priority
HashMap
put
Map
String
ExecutionType
TreeMap
Resource
ResourceRequestInfo
locationMap
remoteRequestsTable
get
priority
HashMap
put
LOG
debug
execTypeMap
resourceName
capabilityMap
execType
AMRMClientImpl
ResourceReverseComparator
ResourceRequestInfo
retVal
Map
String
ExecutionType
TreeMap
Resource
locationMap
remoteRequestsTable
get
priority
ResourceRequestInfo
resourceRequestInfo
get
priority
resourceName
execTypeReq
getExecutionType
capability
addLogAggregationDelegationToken
appContext
getAMContainerSpec
LOG
warn
e
rmClient
submitApplication
request
pollCount
startTime
System
currentTimeMillis
EnumSet
YarnApplicationState
waitingStates
of
NEW
NEW_SAVING
SUBMITTED
failToSubmitStates
FAILED
KILLED
ApplicationReport
appReport
getApplicationReport
applicationId
state
getYarnApplicationState
LOG
warn
e
rmClient
submitApplication
request
pollCount
startTime
System
currentTimeMillis
EnumSet
YarnApplicationState
waitingStates
of
NEW
NEW_SAVING
SUBMITTED
failToSubmitStates
FAILED
KILLED
ApplicationReport
appReport
getApplicationReport
applicationId
state
getYarnApplicationState
YarnException
getDiagnostics
info
ApplicationReport
appReport
getApplicationReport
applicationId
YarnApplicationState
state
getYarnApplicationState
YarnException
getDiagnostics
LOG
info
elapsedMillis
System
currentTimeMillis
startTime
Thread
sleep
submitPollIntervalMillis
dibb
reset
tokens
credentials
readTokenStorageStream
rewind
Configuration
conf
getConfig
String
masterPrincipal
YarnClientUtils
getRmPrincipal
IOException
LOG
debug
LogAggregationFileControllerFactory
factory
LogAggregationFileController
fileController
getFileControllerForWrite
Path
remoteRootLogDir
getRemoteRootLogDir
FileSystem
fs
getFileSystem
org
apache
hadoop
security
token
Token
finalTokens
addDelegationTokens
Credentials
credentials
DataInputByteBuffer
dibb
ByteBuffer
tokens
clc
getTokens
reset
readTokenStorageStream
rewind
org
apache
hadoop
security
token
Token
TimelineDelegationTokenIdentifier
timelineDelegationToken
getTimelineDelegationToken
addToken
timelineService
request
setApplicationId
applicationId
setDiagnostics
diagnostics
pollCount
startTime
System
currentTimeMillis
KillApplicationResponse
response
rmClient
forceKillApplication
LOG
info
elapsedMillis
YarnException
QueueMetrics
queueMetrics
List
QueueInfo
queuesInfo
client
getRootQueueInfos
LOG
error
ie
ArrayList
qInfo
getQueueInfo
queueName
add
UserGroupInformation
currentUser
getCurrentUser
UserGroupInformation
currentUser
getCurrentUser
LOG
debug
Oid
mechOid
KerberosUtil
getOidInstance
GSSManager
manager
getInstance
GSSName
serverName
createName
server
NT_HOSTBASED_SERVICE
GSSContext
gssContext
createContext
canonicalize
DEFAULT_LIFETIME
requestMutualAuth
requestCredDeleg
inToken
outToken
initSecContext
length
dispose
Oid
mechOid
KerberosUtil
getOidInstance
GSSManager
manager
getInstance
GSSName
serverName
createName
server
NT_HOSTBASED_SERVICE
GSSContext
gssContext
createContext
canonicalize
DEFAULT_LIFETIME
requestMutualAuth
requestCredDeleg
inToken
outToken
initSecContext
length
dispose
LOG
debug
String
BASE_64_CODEC
encode
StandardCharsets
US_ASCII
ContainerReport
mockReport
mock
doReturn
nodeId
when
getAssignedNode
getNodeHttpAddress
cli
setConf
conf
exitCode
run
String
appId
toString
LOG
info
sysOutStream
assertTrue
contains
logMessage
containerId1
containerId2
containerId3
LOG
info
sysOutStream
toString
assertTrue
exitCode
contains
logMessage
containerId1
containerId2
containerId3
createEmptyLog
reset
cli
run
String
appId
appAttemptId1
errOutBytes
reset
sysOutBytes
LOG
info
Joiner
on
join
args
ret
nodeAttributesCLI
run
errOutput
String
toByteArray
Charsets
UTF_8
sysOutput
errOutBytes
reset
sysOutBytes
LOG
info
Joiner
on
join
args
ret
nodeAttributesCLI
run
errOutput
String
toByteArray
Charsets
UTF_8
sysOutput
LOG
error
t
e
FATAL
System
err
println
ExitUtil
halt
terminate
String
rmClusterId
configuration
get
YarnConfiguration
RM_CLUSTER_ID
DEFAULT_RM_CLUSTER_ID
protocol
YarnConfiguration
yarnConf
conf
InetSocketAddress
rmAddress
proxy
getRMAddress
putEntities
entities
List
TimelineEntity
entitiesToDBStore
ArrayList
entitiesToSummaryCache
entitiesToEntityCache
Path
attemptDir
attemptDirCache
getAppAttemptDir
appAttemptId
add
entity
summaryLogPath
SUMMARY_LOG_PREFIX
toString
List
TimelineEntity
entitiesToEntityCache
ArrayList
Path
attemptDir
attemptDirCache
getAppAttemptDir
appAttemptId
entitiesToSummaryCache
add
entity
entitiesToDBStore
summaryLogPath
SUMMARY_LOG_PREFIX
toString
LOG
debug
logFDsCache
writeSummaryEntityLogs
fs
objMapper
isAppendSupported
Path
domainLogPath
attemptDirCache
getAppAttemptDir
appAttemptId
DOMAIN_LOG_PREFIX
toString
File
jsonFile
path
LOG
error
e
getMessage
printStackTrace
System
err
Configuration
conf
YarnConfiguration
TimelineClient
client
createTimelineClient
init
start
Token
TimelineDelegationTokenIdentifier
token
getDelegationToken
UserGroupInformation
getCurrentUser
getUserName
addToken
TimelinePutResponse
response
putEntities
entities
getEntities
toArray
TimelineEntity
size
Token
TimelineDelegationTokenIdentifier
token
client
getDelegationToken
UserGroupInformation
getCurrentUser
getUserName
addToken
TimelinePutResponse
response
putEntities
entities
getEntities
toArray
TimelineEntity
size
LOG
info
error
getEntityType
getEntityId
getErrorCode
hasError
putDomain
domain
TimelinePutResponse
response
client
putEntities
entities
getEntities
toArray
TimelineEntity
size
LOG
info
error
getEntityType
getEntityId
getErrorCode
hasError
putDomain
domain
getId
e
UserGroupInformation
ugi
getCurrentUser
realUgi
getRealUser
String
doAsUser
authUgi
getShortUserName
DelegationTokenAuthenticatedURL
Token
token
connector
TimelineConnector
addIfService
timelineReaderWebAppAddress
WebAppUtils
getTimelineReaderWebAppURLWithoutScheme
conf
baseUri
constructResURI
RESOURCE_URI_STR_V2
ClientResponse
resp
connector
getClient
resource
base
path
queryParams
params
accept
MediaType
APPLICATION_JSON
get
String
msg
getStatus
getEntity
LOG
warn
TimelineDelegationTokenIdentifier
KIND_NAME
collectorAddr
timelineServiceAddress
String
service
delegationToken
getService
currentTimelineToken
org
apache
hadoop
security
token
Token
timelineToken
getIdentifier
array
getPassword
Text
getKind
InetSocketAddress
serviceAddr
isEmpty
NetUtils
createSocketAddr
SecurityUtil
getTokenServiceAddr
setTokenService
authUgi
addToken
doPutObjects
base
path
params
obj
Throwable
cause
ue
getCause
IOException
InterruptedIOException
initCause
ie
String
msg
IOException
InterruptedIOException
initCause
ie
String
msg
LOG
error
YarnException
resp
close
warn
che
stringType
getEntity
retries
pollTimelineServiceAddress
maxServiceRetries
String
errMessage
doPostingObject
obj
path
Throwable
cause
e
getCause
IOException
InterruptedIOException
initCause
ie
String
msg
doPostingObject
obj
path
Throwable
cause
e
getCause
IOException
InterruptedIOException
initCause
ie
String
msg
LOG
error
resp
getStatus
WebResource
webResource
client
resource
resURI
drained
eventQueue
isEmpty
waitForDrained
notify
Event
event
take
LOG
warn
ie
dispatch
blockNewEvents
LOG
info
endTime
System
currentTimeMillis
getConfig
getLong
YarnConfiguration
DISPATCHER_DRAIN_EVENTS_TIMEOUT
DEFAULT_DISPATCHER_DRAIN_EVENTS_TIMEOUT
waitForDrained
wait
EventHandler
Event
registeredHandler
eventDispatchers
get
eventType
qSize
eventQueue
size
RPC
setProtocolEngine
conf
pbProtocol
ProtobufRpcEngine2
Server
server
Builder
setProtocol
setInstance
blockingService
setBindAddress
addr
getHostName
setPort
getPort
setNumHandlers
numHandlers
setVerbose
setSecretManager
secretManager
setPortRangeConfig
portRangeConfig
build
Path
remoteRootLogDir
getRemoteRootLogDir
FsPermission
perms
remoteFS
getFileStatus
getPermission
LOG
warn
TLDIR_PERMISSIONS
remoteExists
YarnRuntimeException
e
qualified
makeQualified
getUri
getWorkingDirectory
mkdirs
YarnRuntimeException
remoteRootLogDir
e
Path
qualified
makeQualified
remoteFS
getUri
getWorkingDirectory
LOG
warn
mkdirs
FsPermission
TLDIR_PERMISSIONS
setPermission
info
getScheme
fsSupportsChmod
UserGroupInformation
loginUser
getLoginUser
String
primaryGroupName
conf
get
YarnConfiguration
NM_REMOTE_APP_LOG_DIR_GROUPNAME
remoteFS
mkdirs
qualified
FsPermission
TLDIR_PERMISSIONS
setPermission
LOG
info
getScheme
fsSupportsChmod
UserGroupInformation
loginUser
getLoginUser
String
primaryGroupName
conf
get
YarnConfiguration
NM_REMOTE_APP_LOG_DIR_GROUPNAME
getPrimaryGroupName
warn
fsSupportsChmod
UserGroupInformation
loginUser
getLoginUser
String
primaryGroupName
conf
get
YarnConfiguration
NM_REMOTE_APP_LOG_DIR_GROUPNAME
getPrimaryGroupName
LOG
warn
debug
remoteFS
setOwner
qualified
getShortUserName
FileSystem
remoteFS
getFileSystem
conf
Path
appDir
LogAggregationUtils
getRemoteAppLogDir
remoteRootLogDir
appId
user
remoteRootLogDirSuffix
curDir
makeQualified
getUri
getWorkingDirectory
rootLogDir
LinkedList
pathsToCreate
addFirst
getParent
createDir
path
APP_DIR_PERMISSIONS
List
FileStatus
statusList
ArrayList
status
s1
getModificationTime
s2
remove
get
i
remoteFS
delete
getPath
s1
getModificationTime
s2
FileStatus
remove
statusList
get
i
remoteFS
delete
getPath
LOG
error
e
ApplicationId
appId
params
getAppId
ContainerId
containerId
getContainerId
NodeId
nodeId
getNodeId
String
appOwner
getAppOwner
logEntity
getLogEntity
start
getStartIndex
end
getEndIndex
startTime
getStartTime
endTime
getEndTime
List
FileStatus
nodeFiles
LogAggregationUtils
getRemoteNodeFileList
conf
fileController
getRemoteRootLogDir
getRemoteRootLogDirSuffix
html
h1
toString
String
logEntity
params
getLogEntity
start
getStartIndex
end
getEndIndex
startTime
getStartTime
endTime
getEndTime
List
FileStatus
nodeFiles
LogAggregationUtils
getRemoteNodeFileList
conf
appId
appOwner
fileController
getRemoteRootLogDir
getRemoteRootLogDirSuffix
html
h1
containerId
toString
LOG
error
ex
getMessage
Map
Long
checkSumFiles
parseCheckSumFiles
nodeFiles
LogAggregationUtils
getRemoteNodeFileList
conf
appId
appOwner
fileController
getRemoteRootLogDir
getRemoteRootLogDirSuffix
html
h1
containerId
toString
LOG
error
ex
getMessage
Map
String
Long
checkSumFiles
parseCheckSumFiles
logEntity
List
FileStatus
fileToRead
getNodeLogFileToRead
nodeId
html
h1
__
remoteUser
logEntity
thisNodeFile
getPath
getName
LOG
error
String
compressAlgo
indexedLogsMeta
getCompressName
List
IndexedFileLogMeta
candidates
ArrayList
add
log
cbuf
bufferSize
InputStream
in
compressName
createDecompressionStream
BoundedRangeFileInputStream
fsin
candidate
getStartIndex
getFileCompressedSize
decompressor
LogAggregationIndexedFileController
getFSInputBufferSize
conf
logLength
getFileSize
html
pre
__
p
getFileName
Times
format
getLastModifiedTime
Long
toString
range
checkParseRange
start
end
startTime
endTime
processContainerLog
foundLog
fsDataIStream
fileContext
open
remoteLogPath
fileLength
end
getFileStatus
getLen
seek
Integer
SIZE
Byte
UUID_LENGTH
offset
readInt
LOG
warn
uuidRead
uuidReadLen
read
uuid
createUUID
appId
String
message
logFile
getAbsolutePath
e
getMessage
record
increcleanupOldLogTimes
closeWriter
Path
renamedPath
getRollingMonitorInterval
getRemoteNodeLogFileForApp
getParent
getName
getLogUploadTimeStamp
rename
isUploadedLogsInThisCycle
FileSystem
remoteFS
getFileSystem
conf
getRemoteNodeTmpLogFileForApp
delete
nodeFiles
HarFs
get
p
toUri
conf
listStatusIterator
logUploadedTime
thisNodeFile
getModificationTime
reader
AggregatedLogFormat
LogReader
getPath
String
owner
Map
ApplicationAccessType
appAcls
getApplicationOwner
getApplicationAcls
LOG
error
logEntity
e
reader
AggregatedLogFormat
LogReader
conf
thisNodeFile
getPath
String
owner
Map
ApplicationAccessType
appAcls
getApplicationOwner
getApplicationAcls
LOG
error
logEntity
e
remoteUser
request
getRemoteUser
html
h1
__
getName
String
remoteUser
request
getRemoteUser
html
h1
__
logEntity
thisNodeFile
getPath
getName
LOG
error
AggregatedLogFormat
ContainerLogsReader
logReader
reader
getContainerLogsReader
containerId
foundLog
readContainerLogs
start
end
desiredLogType
logUploadedTime
startTime
endTime
ex
Set
String
knownLabels
labelCollections
keySet
NodeId
nodeId
entry
getKey
labels
getValue
msg
StringUtils
join
LOG
error
IOException
newLabels
HashSet
getLabelsByNode
addAll
format
size
getHost
Set
String
knownLabels
labelCollections
keySet
NodeId
nodeId
entry
getKey
labels
getValue
msg
StringUtils
join
IOException
msg
Set
String
originalLabels
nodeExisted
Node
nm
getNMInNodeSet
nodeId
labels
Host
host
nodeCollections
get
getHost
originalLabels
nm
labels
nodeExisted
Host
host
nodeCollections
get
nodeId
getHost
String
msg
LOG
error
IOException
schema
schma
fsWorkingPath
fsStorePath
manager
mgr
initFileSystem
conf
fs
mkdirs
loadFromMirror
mirrorPath
oldMirrorPath
editLogPath
Path
fsWorkingPath
schema
editLogName
loadManagerFromEditLog
writingMirrorPath
mirrorName
StoreOp
op
FSStoreOpHandler
getMirrorOp
storeType
write
os
manager
fs
delete
rename
editlogOs
create
close
editLogPath
Path
fsWorkingPath
schema
editLogName
loadManagerFromEditLog
writingMirrorPath
mirrorName
StoreOp
op
FSStoreOpHandler
getMirrorOp
storeType
write
os
manager
fs
delete
oldMirrorPath
rename
mirrorPath
editlogOs
create
close
LOG
info
toString
Class
authorizerClass
conf
getClass
YarnConfiguration
YARN_AUTHORIZATION_PROVIDER
ConfiguredYarnAuthorizer
authorizer
YarnAuthorizationProvider
ReflectionUtils
newInstance
init
FileAppender
fApp
File
file
System
getProperty
targetFilename
layout
getAbsolutePath
LOG
warn
ie
setName
AdHocLogDumper
AD_HOC_DUMPER_APPENDER
setThreshold
targetLevel
Object
obj
appenders
nextElement
AppenderSkeleton
appender
appenderLevels
put
getName
getThreshold
currentEffectiveLevel
IOException
configFile
ObjectMapper
mapper
JsonFactory
factory
getJsonFactory
JsonParser
parser
createJsonParser
contents
JsonNode
rootNode
readTree
Credentials
credentials
Iterator
String
iter
get
CONFIG_AUTHS_KEY
getFieldNames
registryUrl
next
registryCred
CONFIG_AUTH_KEY
asText
TokenIdentifier
tokenId
DockerCredentialTokenIdentifier
applicationId
Token
token
getBytes
Charset
forName
getKind
Text
addToken
Credentials
credentials
DataInputByteBuffer
dibb
tokens
rewind
reset
readTokenStorageStream
foundDockerCred
ObjectMapper
mapper
ObjectNode
rootNode
createObjectNode
registryUrlNode
DockerCredentialTokenIdentifier
ti
tk
decodeIdentifier
registryCredNode
put
getRegistryUrl
CONFIG_AUTH_KEY
String
getPassword
Charset
forName
IOException
e
LOG
debug
sCopy
resource
getType
getPattern
Path
destinationTmp
destDirPath
createDir
cachePerms
dFinal
files
makeQualified
getName
verifyAndCopy
changePermissions
getFileSystem
conf
BigInteger
processTotalJiffies
getTotalProcessJiffies
in
BufferedReader
fReader
ProcessSmapMemoryInfo
memoryMappingInfo
List
String
lines
IOUtils
readLines
line
trim
Matcher
address
ADDRESS_PATTERN
matcher
setPermission
group
pInfo
getMemoryInfoList
add
memInfo
MEM_INFO_PATTERN
key
pInfo
getMemoryInfoList
add
memoryMappingInfo
Matcher
memInfo
MEM_INFO_PATTERN
matcher
line
String
key
group
trim
value
replace
KB
LOG
debug
setMemInfo
warn
t
getMessage
error
f
toString
e
String
processesStr
processesInfoStr
split
Map
ProcessInfo
allProcs
HashMap
procInfoSplitCount
procInfo
processStr
pInfo
pid
vmem
Long
parseLong
workingSet
cpuTimeMs
put
procInfoSplitCount
String
procInfo
processStr
split
ProcessInfo
pInfo
pid
vmem
Long
parseLong
workingSet
cpuTimeMs
allProcs
put
LOG
debug
nfe
rhsShares
maxLength
diff
max
calculateShares
clusterRes
lhs
rhs
lhsShares
calculateSharesForTwoMandatoryResources
Arrays
sort
compareShares
rc
prefix
webApp
name
Router
Dest
dest
router
resolve
method
pathInfo
error
e
setStatus
res
SC_INTERNAL_SERVER_ERROR
render
ErrorPage
SC_NOT_FOUND
devMode
String
key
path
Dest
dest
routes
get
LOG
debug
key
dest
action
resolveAction
method
path
Map
Entry
String
Dest
lower
routes
lowerEntry
getValue
LOG
debug
className
Class
found
forName
LOG
info
Object
outputName
specClass
implClass
out
PrintWriter
hamlet
basename
String
pkg
pkgName
outputPkg
getPackage
getName
puts
implClassName
getSimpleName
initLut
genImpl
genMethods
top
close
LOG
info
Object
outputName
specClass
implClass
out
PrintWriter
hamlet
basename
String
pkg
pkgName
outputPkg
getPackage
getName
puts
implClassName
getSimpleName
initLut
genImpl
genMethods
top
close
nestLevel
context
ContainerLaunchContext
containerLaunchContext
recordFactory
newRecordInstance
ApplicationId
applicationId
newInstance
ApplicationAttemptId
applicationAttemptId
ContainerId
containerId
newContainerId
NodeId
nodeId
Resource
resource
ContainerTokenIdentifier
containerTokenIdentifier
System
currentTimeMillis
Priority
Token
containerToken
newContainerToken
getBytes
StartContainerRequest
scRequest
List
list
ArrayList
add
StartContainersRequest
allRequests
proxy
startContainers
ContainerManagementProtocol
proxy
rpc
getProxy
server
getListenerAddress
conf
ApplicationId
applicationId
newInstance
ApplicationAttemptId
applicationAttemptId
ContainerId
containerId
newContainerId
NodeId
nodeId
Resource
resource
ContainerTokenIdentifier
containerTokenIdentifier
System
currentTimeMillis
Priority
Token
containerToken
newContainerToken
getBytes
List
increaseTokens
ArrayList
add
ContainerUpdateRequest
request
updateContainer
Method
m
methods
i
mod
getModifiers
String
name
getName
propertyName
substring
Type
valueType
getGenericParameterTypes
GetSetPair
p
ret
get
setMethod
Iterator
Map
Entry
itr
entrySet
iterator
cur
next
gsp
getValue
Method
m
methods
i
mod
getModifiers
String
name
getName
propertyName
substring
Type
valueType
getGenericParameterTypes
GetSetPair
p
ret
get
setMethod
Iterator
Map
Entry
itr
entrySet
iterator
cur
next
gsp
getValue
mod
m
getModifiers
String
name
getName
propertyName
substring
Type
valueType
getGenericParameterTypes
GetSetPair
p
ret
get
setMethod
Iterator
Map
Entry
itr
entrySet
iterator
cur
next
gsp
getValue
LOG
info
format
TimelineEvent
event
setTimestamp
System
currentTimeMillis
setEventType
i
addEventInfo
entity
addEvent
addRelatedEntity
addPrimaryFilter
addOtherInfo
setDomainId
j
entities
addEntity
LOG
info
TimelineEvents
events
EventsOfOneEntity
partEvents
setEntityId
j
setEntityType
TimelineEvent
event
setTimestamp
System
currentTimeMillis
setEventType
i
addEventInfo
addEvent
LOG
info
TimelinePutResponse
TimelinePutErrors
TimelinePutError
error1
setEntityId
setErrorCode
NO_START_TIME
addError
List
response
ArrayList
add
error2
IO_EXCEPTION
addErrors
LOG
info
TimelineEvent
event2
setId
addInfo
Arrays
asList
Assert
assertTrue
getInfo
get
Boolean
setTimestamp
entity
addEvent
assertFalse
event1
equals
event3
assertEquals
assertNotEquals
setCreatedTime
event2
setTimestamp
entity
addEvent
Assert
assertFalse
event1
equals
TimelineEvent
event3
setId
assertEquals
assertNotEquals
setCreatedTime
addRelatesToEntity
addIsRelatedToEntity
LOG
info
TimelineUtils
dumpTimelineRecordtoJSON
TimelineEntities
entities
appAttempt
setId
ApplicationAttemptId
newInstance
ApplicationId
toString
ContainerEntity
container
ContainerId
newContainerId
cluster
addChild
TimelineEntityType
YARN_FLOW_RUN
flow1
getId
setParent
YARN_CLUSTER
flow2
YARN_APPLICATION
app1
app2
YARN_APPLICATION_ATTEMPT
YARN_CONTAINER
ContainerEntity
container
setId
ContainerId
newContainerId
ApplicationAttemptId
newInstance
ApplicationId
toString
cluster
addChild
TimelineEntityType
YARN_FLOW_RUN
flow1
getId
setParent
YARN_CLUSTER
flow2
YARN_APPLICATION
app1
app2
YARN_APPLICATION_ATTEMPT
appAttempt
YARN_CONTAINER
LOG
info
TimelineUtils
dumpTimelineRecordtoJSON
container
setId
ContainerId
newContainerId
ApplicationAttemptId
newInstance
ApplicationId
toString
cluster
addChild
TimelineEntityType
YARN_FLOW_RUN
flow1
getId
setParent
YARN_CLUSTER
flow2
YARN_APPLICATION
app1
app2
YARN_APPLICATION_ATTEMPT
appAttempt
YARN_CONTAINER
LOG
info
TimelineUtils
dumpTimelineRecordtoJSON
cluster
addChild
TimelineEntityType
YARN_FLOW_RUN
toString
flow1
getId
setParent
YARN_CLUSTER
flow2
YARN_APPLICATION
app1
app2
YARN_APPLICATION_ATTEMPT
appAttempt
YARN_CONTAINER
container
LOG
info
TimelineUtils
dumpTimelineRecordtoJSON
flow1
setParent
TimelineEntityType
YARN_CLUSTER
toString
cluster
getId
addChild
YARN_FLOW_RUN
flow2
YARN_APPLICATION
app1
app2
YARN_APPLICATION_ATTEMPT
appAttempt
YARN_CONTAINER
container
LOG
info
TimelineUtils
dumpTimelineRecordtoJSON
flow1
addChild
TimelineEntityType
YARN_FLOW_RUN
toString
flow2
getId
setParent
YARN_APPLICATION
app1
app2
YARN_APPLICATION_ATTEMPT
appAttempt
YARN_CONTAINER
container
LOG
info
TimelineUtils
dumpTimelineRecordtoJSON
cluster
flow2
setParent
TimelineEntityType
YARN_FLOW_RUN
toString
flow1
getId
addChild
YARN_APPLICATION
app1
app2
YARN_APPLICATION_ATTEMPT
appAttempt
YARN_CONTAINER
container
LOG
info
TimelineUtils
dumpTimelineRecordtoJSON
cluster
UserEntity
user
setId
addInfo
QueueEntity
queue
setId
addInfo
setParent
TimelineEntityType
YARN_QUEUE
toString
addChild
localFS
FileContext
getLocalFSFileContext
localActiveDir
File
getClass
getSimpleName
getAbsoluteFile
delete
Path
getAbsolutePath
mkdir
Path
workDirPath
testWorkDir
getAbsolutePath
String
stderr
writeSrcFile
srcFilePath1
stdout
data
testContainerId1
toString
UserGroupInformation
ugi
getCurrentUser
logWriter
initialize
conf
remoteAppLogFile
LogKey
logKey
randomUser
LogValue
logValue
spy
Collections
singletonList
srcFileRoot
when
getUser
thenReturn
getShortUserName
append
BufferedReader
in
FileReader
File
toUri
getRawPath
line
StringBuffer
sb
List
LogAggregationFileController
fileControllers
factory
getConfiguredLogAggregationFileControllerList
FileSystem
fs
get
getConf
Path
logPath
getRemoteAppLogDir
appId
APP_OWNER
lostDescendant
TEST_ROOT_DIR
File
separator
file
shellScript
FileUtils
writeStringToFile
lowestDescendant
StandardCharsets
UTF_8
Thread
t
RogueTaskThread
start
String
pid
getRogueTaskPID
LOG
info
ProcfsBasedProcessTree
p
createProcessTree
updateProcessTree
leaf
sleep
p
updateProcessTree
LOG
info
String
lostpid
getPidFromPidFile
lostDescendant
Assert
assertTrue
contains
processTreeDump
getProcessTreeDump
destroyProcessTree
pid
isAlive
isAnyProcessInTreeAlive
memInfos
ProcessTreeSmapMemInfo
String
cmdLines
numProcesses
createMemoryMappingInfo
writeStatFiles
procfsRootDir
pids
procInfos
writeCmdLineFiles
ProcfsBasedProcessTree
processTree
createProcessTree
getAbsolutePath
SystemClock
getInstance
updateProcessTree
processTreeDump
getProcessTreeDump
File
pidDir
procfsRootDir
pid
FileUtils
forceMkdir
LOG
info
req
LOG
info
req
res
String
names
CsiConfigUtils
getCsiDriverNames
conf
String
driverEndpoint
CsiConfigUtils
getCsiDriverEndpoint
driverName
conf
LOG
debug
request
Csi
NodePublishVolumeRequest
req
ProtoTranslatorFactory
getTranslator
convertTo
LOG
debug
request
Csi
NodeUnpublishVolumeRequest
req
ProtoTranslatorFactory
getTranslator
convertTo
EpollEventLoopGroup
group
server
NettyServerBuilder
forAddress
GrpcHelper
getSocketAddress
socketAddress
channelType
EpollServerDomainSocketChannel
workerEventLoopGroup
bossEventLoopGroup
addService
FakeCsiIdentityService
build
start
ApplicationReportExt
app
convertToApplicationReport
entity
field
checkAccess
ApplicationAttemptReport
appAttempt
getApplicationAttempt
appReport
getCurrentApplicationAttemptId
setHost
getHost
setRpcPort
getRpcPort
setTrackingUrl
getTrackingUrl
setOriginalTrackingUrl
getOriginalTrackingUrl
LOG
warn
getApplicationId
e
webApp
WebApps
$for
ApplicationHistoryClientService
ahsClientService
with
conf
withAttribute
YarnConfiguration
TIMELINE_SERVICE_WEBAPP_ADDRESS
get
withCSRFProtection
TIMELINE_CSRF_PREFIX
withXFSProtection
TIMELINE_XFS_PREFIX
at
bindAddress
build
ahsWebApp
HttpServer2
httpServer
String
names
getTrimmedStrings
TIMELINE_SERVICE_UI_NAMES
WebAppContext
webAppContext
getWebAppContext
webPath
TIMELINE_SERVICE_UI_WEB_PATH_PREFIX
name
onDiskPath
TIMELINE_SERVICE_UI_ON_DISK_PATH_PREFIX
uiWebAppContext
setContextPath
setWar
setResourceBase
ALL_URLS
FilterHolder
filterHolders
getServletHandler
getFilters
mergeApplicationHistoryData
historyData
startData
readStartData
ApplicationFinishData
finishData
parseApplicationFinishData
entry
value
readFinishData
LOG
warn
appId
info
HistoryFileReader
Entry
entry
hfReader
next
ApplicationAttemptId
appAttemptId
fromString
key
id
ApplicationAttemptHistoryData
historyData
historyDataMap
get
newInstance
FinalApplicationStatus
UNDEFINED
put
mergeApplicationAttemptHistoryData
parseApplicationAttemptStartData
value
parseApplicationAttemptFinishData
LOG
info
appId
mergeApplicationAttemptHistoryData
historyData
startData
readStartData
ApplicationAttemptFinishData
finishData
parseApplicationAttemptFinishData
entry
value
readFinishData
LOG
warn
appAttemptId
info
mergeContainerHistoryData
historyData
startData
readStartData
ContainerFinishData
finishData
parseContainerFinishData
entry
value
readFinishData
LOG
warn
containerId
info
HistoryFileReader
Entry
entry
hfReader
next
ContainerId
containerId
fromString
key
id
ContainerHistoryData
historyData
historyDataMap
get
newInstance
Long
MIN_VALUE
MAX_VALUE
Integer
put
mergeContainerHistoryData
parseContainerStartData
value
parseContainerFinishData
LOG
info
appAttemptId
key
createPrimaryFilterKey
entity
getEntityId
getEntityType
revStartTime
primaryFilter
getKey
primaryFilterValue
writeBatch
put
EMPTY_BYTES
writePrimaryFilterEntries
primaryFilters
Map
String
Object
otherInfo
getOtherInfo
createOtherInfoKey
i
value
GenericObjectMapper
write
getValue
createDomainIdKey
key
createPrimaryFilterKey
entity
getEntityId
getEntityType
revStartTime
primaryFilter
getKey
primaryFilterValue
writeBatch
put
EMPTY_BYTES
writePrimaryFilterEntries
primaryFilters
Map
String
Object
otherInfo
getOtherInfo
createOtherInfoKey
i
value
GenericObjectMapper
write
getValue
createDomainIdKey
handleError
entity
response
TimelinePutError
NO_DOMAIN
writeBatch
put
key
getDomainId
getBytes
Charset
forName
writePrimaryFilterEntries
primaryFilters
db
write
LOG
error
getEntityId
getEntityType
de
IO_EXCEPTION
e
writeBatch
put
key
entity
getDomainId
getBytes
Charset
forName
writePrimaryFilterEntries
primaryFilters
db
write
LOG
error
getEntityId
getEntityType
de
handleError
response
TimelinePutError
IO_EXCEPTION
e
lock
unlock
writeLocks
returnLock
IOUtils
cleanupWithLogger
typePrefix
kb
getBytesForLookup
add
reverseTimestamp
iterator
seek
entityKey
peekNext
getKey
KeyParser
kp
length
String
entityId
getNextString
prefixlen
getOffset
deletePrefix
System
arraycopy
writeBatch
db
createWriteBatch
writeBatch
db
createWriteBatch
LOG
debug
entityType
entityId
delete
createStartTimeLookupKey
EntityIdentifier
entityIdentifier
startTimeReadCache
remove
startTimeWriteCache
key
iterator
peekNext
getKey
kp
KeyParser
prefixlen
PRIMARY_FILTERS_COLUMN
length
writeBatch
delete
key
kp
KeyParser
prefixlen
PRIMARY_FILTERS_COLUMN
length
String
name
getNextString
Object
value
GenericObjectMapper
read
getOffset
deleteKeysWithPrefix
addPrimaryFilterToKey
deletePrefix
pfIterator
LOG
debug
entityType
entityId
RELATED_ENTITIES_COLUMN
type
id
relatedEntityStartTime
getStartTime
LOG
debug
entityType
entityId
name
value
kp
KeyParser
key
prefixlen
RELATED_ENTITIES_COLUMN
length
String
type
getNextString
id
relatedEntityStartTime
getStartTime
warn
writeBatch
delete
createReverseRelatedEntityKey
INVISIBLE_REVERSE_RELATED_ENTITIES_COLUMN
typeCount
deleteLock
writeLock
lock
iterator
getDbIterator
pfIterator
InterruptedException
seeked
totalCount
InterruptedException
seeked
typeCount
totalCount
LOG
error
entityType
e
IOUtils
cleanupWithLogger
iterator
pfIterator
deleteLock
writeLock
unlock
Version
loadedVersion
loadVersion
nextRollingCheckMillis
timestamp
evictionThreshold
computeCurrentCheckMillis
currentTimeMillis
getTimeToLive
evictionThreshold
computeCurrentCheckMillis
currentTimeMillis
getTimeToLive
LOG
info
getName
fdf
format
Iterator
Entry
Long
DB
iterator
rollingdbs
entrySet
entry
next
LOG
info
getName
Iterator
Entry
Long
DB
iterator
rollingdbsToEvict
entrySet
entry
next
IOUtils
cleanupWithLogger
getValue
String
dbName
fdf
format
getKey
Path
path
rollingDBPath
localFS
setPermission
dbPath
LEVELDB_DIR_UMASK
IOException
domainDBPath
starttimeDBPath
ownerDBPath
options
maxOpenFiles
conf
getInt
TIMELINE_SERVICE_LEVELDB_MAX_OPEN_FILES
DEFAULT_TIMELINE_SERVICE_LEVELDB_MAX_OPEN_FILES
writeBufferSize
TIMELINE_SERVICE_LEVELDB_WRITE_BUFFER_SIZE
DEFAULT_TIMELINE_SERVICE_LEVELDB_WRITE_BUFFER_SIZE
Long
revStartTime
getStartTimeLong
entityId
entityType
domainId
TimelineDataManager
DEFAULT_DOMAIN_ID
String
relatedDomainIdBytes
UTF_8
TimelinePutError
error
setEntityId
entity
getEntityId
setEntityType
getEntityType
setErrorCode
FORBIDDEN_RELATION
response
addError
key
createRelatedEntityKey
relatedEntityId
relatedEntityType
relatedEntityStartTime
WriteBatch
relatedWriteBatch
relatedRollingWriteBatch
getWriteBatch
put
EMPTY_BYTES
putCount
RollingWriteBatch
indexRollingWriteBatch
indexUpdates
get
roundedStartTime
WriteBatch
indexWriteBatch
indexRollingWriteBatch
getWriteBatch
putCount
writePrimaryFilterEntries
primaryFilters
markerKey
EMPTY_BYTES
LOG
error
entity
getEntityId
getEntityType
e
TimelinePutError
setEntityId
setEntityType
setErrorCode
IO_EXCEPTION
response
addError
Long
relatedEntityStartAndInsertTime
getAndSetStartTime
relatedEntity
getId
getType
readReverseOrderedLong
revStartTime
IOException
relatedStartTimeLong
ReadOptions
readOptions
fillCache
iterator
seekToFirst
writeBatch
starttimedb
createWriteBatch
Map
Entry
current
next
entityKey
getKey
entityValue
getValue
startTime
readReverseOrderedLong
batchSize
startTimesCount
delete
iterator
seekToFirst
writeBatch
starttimedb
createWriteBatch
Map
Entry
current
next
entityKey
getKey
entityValue
getValue
startTime
readReverseOrderedLong
batchSize
startTimesCount
delete
LOG
debug
write
startTime
readReverseOrderedLong
entityValue
batchSize
startTimesCount
writeBatch
delete
entityKey
LOG
debug
starttimedb
write
IOUtils
cleanupWithLogger
createWriteBatch
totalCount
batchSize
startTimesCount
writeBatch
delete
entityKey
LOG
debug
starttimedb
write
IOUtils
cleanupWithLogger
createWriteBatch
totalCount
Version
loadedVersion
loadVersion
Options
options
Path
dbPath
getConfig
get
YarnConfiguration
TIMELINE_SERVICE_LEVELDB_STATE_STORE_PATH
DB_NAME
FileSystem
localFS
getLocal
IOException
setPermission
LEVELDB_DIR_UMASK
IOUtils
cleanupWithLogger
LOG
JniDBFactory
factory
createIfMissing
db
open
File
toString
IOException
dbPath
localFS
setPermission
LEVELDB_DIR_UMASK
IOUtils
cleanupWithLogger
LOG
JniDBFactory
factory
options
createIfMissing
db
open
File
toString
info
checkVersion
LOG
info
TimelineServiceState
state
numKeys
loadTokenMasterKeys
numTokens
loadTokens
loadLatestSequenceNumber
Version
loadedVersion
loadVersion
init
res
UserGroupInformation
callerUGI
getUser
req
String
msg
init
res
UserGroupInformation
callerUGI
getUser
req
String
msg
UserGroupInformation
callerUGI
getUser
req
String
msg
LOG
error
ForbiddenException
domain
setOwner
getShortUserName
timelineDataManager
putDomain
e
getMessage
WebApplicationException
Response
Status
INTERNAL_SERVER_ERROR
metrics
incrRMMasterSlaveSwitch
rmId
addResourceRequestToAsk
rr
release
addAll
remotePendingRelease
blacklistAdditions
remoteBlacklistedNodes
change
putAll
remotePendingChange
schedulingRequest
reqs
reRegisterApplicationMaster
amRegistrationRequest
allocateRequest
setResponseId
allocateResponse
allocate
SubClusterInfo
subClusterInfo
T
proxy
current
LOG
info
subClusterId
facade
getSubCluster
flushFacadeCacheForYarnRMAddr
isFailover
updateRMAddress
InetSocketAddress
rmAddress
rmProxy
getRMAddress
conf
protocol
SubClusterInfo
subClusterInfo
T
proxy
current
LOG
info
subClusterId
facade
getSubCluster
flushFacadeCacheForYarnRMAddr
isFailover
updateRMAddress
InetSocketAddress
rmAddress
rmProxy
getRMAddress
conf
protocol
getSimpleName
createRMProxy
LOG
info
subClusterId
subClusterInfo
facade
getSubCluster
flushFacadeCacheForYarnRMAddr
isFailover
updateRMAddress
InetSocketAddress
rmAddress
rmProxy
getRMAddress
conf
protocol
getSimpleName
proxy
createRMProxy
originalUser
SubClusterPolicyConfiguration
configuration
federationFacade
getPolicyConfiguration
queue
LOG
warn
e
getMessage
info
YarnConfiguration
DEFAULT_FEDERATION_POLICY_KEY
SubClusterPolicyConfiguration
configuration
loadPolicyConfiguration
queue
conf
federationFacade
FederationPolicyInitializationContext
context
getSubClusterResolver
homeSubClusterId
headroom
put
subClusterId
response
getAvailableResources
bookkeeper
addLocalizedNodeRR
targetId
rr
targetIds
resolver
getSubClustersForRack
getResourceName
hasActive
addRackRR
tid
validSubClusters
removeAll
blackListSubClusters
SubClusterId
targetId
ResourceRequest
nodeRequest
rackRequest
anyRequest
resolver
getSubClusterForNode
rr
getResourceName
LOG
error
e
getLocalizedMessage
getSubClustersForRack
nodeRequest
rr
LOG
error
e
getLocalizedMessage
resolver
getSubClustersForRack
getResourceName
rackRequest
anyRequest
YarnException
LOG
error
e
getLocalizedMessage
resolver
getSubClustersForRack
rr
getResourceName
rackRequest
anyRequest
YarnException
resolver
getSubClustersForRack
rr
getResourceName
rackRequest
LOG
error
e
getLocalizedMessage
anyRequest
YarnException
info
nodeRequest
BufferedReader
reader
file
Paths
get
fileName
LOG
info
Files
newBufferedReader
Charset
defaultCharset
String
line
tokens
split
nodeName
NODE_NAME_INDEX
trim
toUpperCase
SubClusterId
subClusterId
newInstance
SUBCLUSTER_ID_INDEX
rackName
RACK_NAME_INDEX
file
Paths
get
fileName
LOG
info
reader
Files
newBufferedReader
Charset
defaultCharset
String
line
tokens
split
nodeName
NODE_NAME_INDEX
trim
toUpperCase
SubClusterId
subClusterId
newInstance
SUBCLUSTER_ID_INDEX
rackName
RACK_NAME_INDEX
driverClass
conf
get
YarnConfiguration
FEDERATION_STATESTORE_SQL_JDBC_CLASS
DEFAULT_FEDERATION_STATESTORE_SQL_JDBC_CLASS
maximumPoolSize
getInt
FEDERATION_STATESTORE_SQL_MAXCONNECTIONS
DEFAULT_FEDERATION_STATESTORE_SQL_MAXCONNECTIONS
userName
FEDERATION_STATESTORE_SQL_USERNAME
password
FEDERATION_STATESTORE_SQL_PASSWORD
url
FEDERATION_STATESTORE_SQL_URL
Class
forName
FederationStateStoreUtils
logAndThrowException
LOG
e
dataSource
HikariDataSource
setDataSourceClassName
setUsername
setPassword
setProperty
FEDERATION_STORE_URL
setMaximumPoolSize
SubClusterId
subClusterId
request
getApplicationHomeSubCluster
getHomeSubCluster
cstmt
getCallableStatement
CALL_SP_ADD_APPLICATION_HOME_SUBCLUSTER
setString
appId
toString
getId
registerOutParameter
java
sql
Types
VARCHAR
INTEGER
startTime
clock
getTime
executeUpdate
stopTime
subClusterHome
getString
subClusterIdHome
newInstance
FederationStateStoreClientMetrics
succeededStateStoreCall
FederationPolicyStoreInputValidator
validate
request
CallableStatement
cstmt
SubClusterPolicyConfiguration
subClusterPolicyConfiguration
getCallableStatement
CALL_SP_GET_POLICY_CONFIGURATION
setString
getQueue
registerOutParameter
java
sql
Types
VARCHAR
VARBINARY
startTime
clock
getTime
executeUpdate
stopTime
newInstance
getString
ByteBuffer
wrap
getBytes
String
methodName
Thread
currentThread
getStackTrace
getMethodName
MutableCounterLong
methodMetric
API_TO_FAILED_CALLS
get
String
methodName
Thread
currentThread
getStackTrace
getMethodName
MutableRate
methodMetric
API_TO_SUCCESSFUL_CALLS
get
MutableQuantiles
methodQuantileMetric
API_TO_QUANTILE_METRICS
LOG
warn
e
info
appId
retMap
scId
String
key
getRegistryKey
tokenString
readRegistry
registry
user
YarnException
Token
AMRMTokenIdentifier
amrmToken
decodeFromUrlString
setService
Text
put
Map
String
Token
AMRMTokenIdentifier
subClusterTokenMap
appSubClusterTokenMap
get
appId
updateBlacklist
blackList
opportContext
addToOutstandingReqs
oppResourceReqs
Set
String
nodeBlackList
HashSet
getBlacklist
allocatedNodes
List
Container
allocatedContainers
ArrayList
continueLoop
Map
Resource
Allocation
allocations
remAllocs
maxAllocationsPerAMHeartbeat
getMaxAllocationsPerAMHeartbeat
size
getTotalAllocations
Map
Resource
List
Allocation
containers
HashMap
remainingAllocs
totalAllocated
allocs
size
maxAllocations
LOG
info
getMaxAllocationsPerAMHeartbeat
allocateContainersInternal
rmIdentifier
appContext
getAppParams
getContainerIdGenerator
blackList
allocatedNodes
appAttId
getNodeMap
userName
enrichedAsk
ResourceRequest
anyAsk
getRequest
ResourceRequest
anyAsk
enrichedAsk
getRequest
toAllocate
getNumContainers
allocations
isEmpty
get
getCapability
size
Math
min
appParams
getMaxAllocationsPerSchedulerKeyPerRound
maxAllocations
numAllocated
loopIndex
OFF_SWITCH_LOOP
NODE_LOCAL_LOOP
Collection
RemoteNode
nodeCandidates
findNodeCandidates
allNodes
blacklist
allocatedNodes
String
rNodeHost
rNode
getNodeId
getHost
loopIndex
OFF_SWITCH_LOOP
NODE_LOCAL_LOOP
Collection
RemoteNode
nodeCandidates
findNodeCandidates
allNodes
blacklist
allocatedNodes
enrichedAsk
String
rNodeHost
rNode
getNodeId
getHost
LOG
info
location
ResourceRequest
ANY
String
location
ResourceRequest
ANY
rNodeHost
LOG
info
rNode
getRackName
Container
container
createContainer
rmIdentifier
appParams
idCounter
id
userName
allocations
anyAsk
SchedulerRequestKey
schedulerKey
create
request
Map
Resource
EnrichedResourceRequest
reqMap
outstandingOpReqs
get
HashMap
put
eReq
getCapability
getRequest
setResourceName
ResourceRequest
ANY
setNumContainers
getNumContainers
addLocation
getResourceName
LOG
warn
addressList
size
info
uamId
appIdMap
get
unmanagedAppMasterMap
remove
forceKillApplication
error
e
Future
KillApplicationResponse
future
completionService
take
registerRequest
request
LOG
info
applicationId
RegisterApplicationMasterResponse
response
rmProxyRelayer
registerApplicationMaster
heartbeatHandler
resetLastResponseId
SubmitApplicationRequest
submitRequest
recordFactory
newRecordInstance
ApplicationSubmissionContext
context
setApplicationId
appId
setApplicationName
APP_NAME
appNameSuffix
setQueue
conf
get
DEFAULT_QUEUE_CONFIG
YarnConfiguration
DEFAULT_QUEUE_NAME
queueName
ContainerLaunchContext
amContainer
Resource
resource
BuilderUtils
newResource
setResource
setAMContainerSpec
setApplicationSubmissionContext
setUnmanagedAM
setKeepContainersAcrossApplicationAttempts
keepContainersAcrossApplicationAttempts
Credentials
credentials
ByteBuffer
tokens
launchContext
getTokens
DataInputByteBuffer
buf
rewind
reset
readTokenStorageStream
puts
attemptid
UserGroupInformation
callerUGI
getCallerUGI
ApplicationAttemptReport
appAttemptReport
GetApplicationAttemptReportRequest
request
newInstance
appAttemptId
getApplicationAttemptReport
puts
aid
UserGroupInformation
callerUGI
getCallerUGI
ApplicationReport
appReport
GetApplicationReportRequest
request
newInstance
appID
getApplicationReport
String
message
appID
LOG
error
e
html
p
__
puts
aid
AppInfo
app
appReport
setTitle
join
Collection
ApplicationAttemptReport
attempts
GetApplicationAttemptsRequest
request
newInstance
getApplicationAttemptsReport
containerReport
getContainerReport
request
ContainerReport
report
LOG
warn
ex
getMessage
String
message
appAttemptReport
getApplicationAttemptId
puts
containerid
UserGroupInformation
callerUGI
getCallerUGI
ContainerReport
containerReport
GetContainerReportRequest
request
newInstance
containerId
getContainerReport
appInfo
appInfoProvider
getApp
req
builder
getAppId
clusterId
LOG
warn
ex
getContainerLogMeta
build
String
appOwner
getUser
setAppOwner
WrappedLogMetaRequest
request
nodeHttpAddress
getNMWebAddressFromRM
nmId
length
LogWebServiceUtils
parseLongParam
size
ApplicationId
appId
containerId
getApplicationAttemptId
getApplicationId
BasicAppInfo
appInfo
appInfoProvider
getApp
req
toString
clusterId
LOG
warn
ex
sendStreamOutputResponse
factory
containerIdStr
filename
format
String
appOwner
getUser
nodeHttpAddress
factory
LogAggregationFileControllerFactory
yarnConf
base
JOINER
join
WebAppUtils
getHttpSchemePrefix
getTimelineReaderWebAppURLWithoutScheme
RESOURCE_URI_STR_V2
defaultClusterid
get
YarnConfiguration
RM_CLUSTER_ID
DEFAULT_RM_CLUSTER_ID
ClientResponse
resp
getClient
resource
base
path
queryParams
params
accept
MediaType
APPLICATION_JSON
type
get
String
msg
getStatus
getEntity
validateRunning
ApplicationAttemptId
attemptId
getAppIdentifier
containersFromPreviousAttempt
add
Container
newInstance
containerId
InvalidApplicationMasterRequestException
AMRMClientUtils
APP_ALREADY_REGISTERED_MESSAGE
applicationContainerIdMap
put
appId
ArrayList
ContainerId
shouldReRegisterNext
registerSyncObj
notifyAll
LOG
info
wait
validateRunning
ApplicationAttemptId
attemptId
getAppIdentifier
validateRunning
ApplicationAttemptId
attemptId
getAppIdentifier
ApplicationAttemptId
attemptId
getAppIdentifier
LOG
info
ApplicationId
appId
getApplicationId
String
message
warn
ApplicationMasterNotRegisteredException
shouldWaitForSyncNextAllocate
allocateSyncObj
wait
Assert
fail
e
getMessage
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
LOG
info
assertTrue
startsWith
subClusterInfo
newInstance
LOG
info
e
getMessage
Assert
assertTrue
startsWith
subClusterInfo
SubClusterRegisterRequest
request
newInstance
FederationMembershipStateStoreInputValidator
validate
fail
SubClusterInfo
subClusterIdNull
amRMServiceAddress
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
subClusterInfo
SubClusterInfo
newInstance
subClusterIdNull
amRMServiceAddress
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
SubClusterRegisterRequest
subClusterIdInvalid
SubClusterRegisterRequest
request
newInstance
subClusterInfo
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
SubClusterInfo
subClusterIdInvalid
amRMServiceAddress
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
SubClusterInfo
subClusterInfo
newInstance
subClusterId
amRMServiceAddress
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeatNegative
stateNew
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
lastHeartBeat
lastStartTimeNegative
SubClusterInfo
subClusterInfo
newInstance
subClusterId
addressNull
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
addressEmpty
LOG
info
e
getMessage
Assert
assertTrue
startsWith
subClusterInfo
SubClusterInfo
newInstance
subClusterId
addressEmpty
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
fail
amRMServiceAddress
addressNull
LOG
info
e
getMessage
Assert
assertTrue
startsWith
subClusterInfo
SubClusterInfo
newInstance
subClusterId
amRMServiceAddress
addressNull
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
fail
addressEmpty
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
subClusterInfo
SubClusterInfo
newInstance
subClusterId
amRMServiceAddress
addressEmpty
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
SubClusterRegisterRequest
clientRMServiceAddress
addressNull
SubClusterRegisterRequest
request
newInstance
subClusterInfo
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
SubClusterInfo
subClusterId
amRMServiceAddress
clientRMServiceAddress
addressNull
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
subClusterInfo
SubClusterInfo
newInstance
subClusterId
amRMServiceAddress
clientRMServiceAddress
addressNull
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
addressEmpty
LOG
info
e
getMessage
Assert
assertTrue
startsWith
subClusterInfo
SubClusterInfo
newInstance
subClusterId
amRMServiceAddress
clientRMServiceAddress
addressEmpty
rmWebServiceAddress
lastHeartBeat
stateNew
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
fail
rmAdminServiceAddress
addressNull
SubClusterInfo
subClusterInfo
newInstance
subClusterId
addressWrong
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNull
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
contains
amRMServiceAddress
LOG
info
e
getMessage
Assert
assertTrue
contains
subClusterInfo
SubClusterInfo
newInstance
subClusterId
amRMServiceAddress
addressWrong
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNull
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
fail
clientRMServiceAddress
LOG
info
e
getMessage
Assert
assertTrue
contains
subClusterInfo
SubClusterInfo
newInstance
subClusterId
amRMServiceAddress
clientRMServiceAddress
addressWrong
rmWebServiceAddress
lastHeartBeat
stateNull
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
fail
rmAdminServiceAddress
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
LOG
info
e
getMessage
assertTrue
contains
subClusterInfo
SubClusterInfo
newInstance
subClusterId
amRMServiceAddress
clientRMServiceAddress
rmAdminServiceAddress
addressWrong
lastHeartBeat
stateNull
lastStartTime
capability
SubClusterRegisterRequest
addressWrongPort
rmWebServiceAddress
SubClusterRegisterRequest
request
newInstance
subClusterInfo
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
contains
SubClusterInfo
subClusterId
addressWrongPort
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNull
lastStartTime
capability
subClusterInfo
SubClusterInfo
newInstance
subClusterId
addressWrongPort
clientRMServiceAddress
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNull
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
contains
amRMServiceAddress
LOG
info
e
getMessage
Assert
assertTrue
contains
subClusterInfo
SubClusterInfo
newInstance
subClusterId
amRMServiceAddress
addressWrongPort
rmAdminServiceAddress
rmWebServiceAddress
lastHeartBeat
stateNull
lastStartTime
capability
SubClusterRegisterRequest
request
FederationMembershipStateStoreInputValidator
validate
fail
clientRMServiceAddress
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
e
getMessage
SubClusterDeregisterRequest
LOG
info
assertTrue
startsWith
newInstance
subClusterIdNull
stateLost
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
SubClusterDeregisterRequest
newInstance
subClusterIdNull
stateLost
subClusterIdInvalid
SubClusterDeregisterRequest
request
newInstance
subClusterIdNull
stateLost
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
subClusterIdInvalid
Assert
assertTrue
e
getMessage
startsWith
SubClusterDeregisterRequest
request
newInstance
subClusterIdInvalid
stateLost
FederationMembershipStateStoreInputValidator
validate
fail
LOG
info
subClusterId
stateNull
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
e
getMessage
SubClusterHeartbeatRequest
LOG
info
assertTrue
startsWith
newInstance
subClusterIdNull
lastHeartBeat
stateLost
capability
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
SubClusterHeartbeatRequest
newInstance
subClusterIdNull
lastHeartBeat
stateLost
capability
subClusterIdInvalid
SubClusterHeartbeatRequest
request
newInstance
subClusterIdNull
lastHeartBeat
stateLost
capability
FederationMembershipStateStoreInputValidator
validate
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
subClusterIdInvalid
Assert
assertTrue
e
getMessage
startsWith
SubClusterHeartbeatRequest
request
newInstance
subClusterIdInvalid
lastHeartBeat
stateLost
capability
FederationMembershipStateStoreInputValidator
validate
fail
LOG
info
subClusterId
stateNull
LOG
info
e
getMessage
Assert
assertTrue
startsWith
SubClusterHeartbeatRequest
request
newInstance
subClusterId
lastHeartBeat
stateNull
capability
FederationMembershipStateStoreInputValidator
validate
fail
lastHeartBeatNegative
stateLost
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
SubClusterHeartbeatRequest
request
newInstance
subClusterId
lastHeartBeatNegative
stateLost
capability
FederationMembershipStateStoreInputValidator
validate
lastHeartBeat
capabilityNull
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
e
getMessage
GetSubClusterInfoRequest
LOG
info
assertTrue
startsWith
newInstance
subClusterIdNull
FederationMembershipStateStoreInputValidator
validate
request
Assert
fail
LOG
info
e
getMessage
assertTrue
startsWith
GetSubClusterInfoRequest
newInstance
subClusterIdNull
subClusterIdInvalid
FederationApplicationHomeSubClusterStoreInputValidator
validate
request
Assert
fail
assertTrue
e
getMessage
startsWith
applicationHomeSubCluster
AddApplicationHomeSubClusterRequest
newInstance
ApplicationHomeSubCluster
appId
subClusterIdNull
AddApplicationHomeSubClusterRequest
request
newInstance
applicationHomeSubCluster
FederationApplicationHomeSubClusterStoreInputValidator
validate
Assert
fail
assertTrue
e
getMessage
startsWith
ApplicationHomeSubCluster
appId
subClusterIdNull
LOG
info
subClusterIdInvalid
FederationApplicationHomeSubClusterStoreInputValidator
validate
request
Assert
fail
assertTrue
e
getMessage
startsWith
applicationHomeSubCluster
UpdateApplicationHomeSubClusterRequest
newInstance
ApplicationHomeSubCluster
appId
subClusterIdNull
UpdateApplicationHomeSubClusterRequest
request
newInstance
applicationHomeSubCluster
FederationApplicationHomeSubClusterStoreInputValidator
validate
Assert
fail
assertTrue
e
getMessage
startsWith
ApplicationHomeSubCluster
appId
subClusterIdNull
LOG
info
subClusterIdInvalid
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
List
ResourceRequest
reqs
Arrays
asList
newBuilder
allocationRequestId
priority
PRIORITY_NORMAL
resourceName
ANY
capability
CAPABILITY_1GB
relaxLocality
executionType
ExecutionType
OPPORTUNISTIC
build
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocator
allocateContainers
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
List
ResourceRequest
reqs
Arrays
asList
newBuilder
allocationRequestId
priority
PRIORITY_NORMAL
resourceName
ANY
capability
CAPABILITY_1GB
relaxLocality
executionType
ExecutionType
OPPORTUNISTIC
build
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocator
allocateContainers
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
List
ResourceRequest
reqs
Arrays
asList
newBuilder
allocationRequestId
numContainers
priority
PRIORITY_NORMAL
resourceName
capability
CAPABILITY_1GB
relaxLocality
executionType
ExecutionType
OPPORTUNISTIC
build
ANY
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocator
allocateContainers
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
List
ResourceRequest
reqs
Arrays
asList
PRIORITY_NORMAL
CAPABILITY_1GB
OPPORTUNISTIC_REQ
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocator
allocateContainers
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
allocator
setMaxAllocationsPerAMHeartbeat
List
ResourceRequest
reqs
Arrays
asList
PRIORITY_NORMAL
CAPABILITY_1GB
OPPORTUNISTIC_REQ
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocateContainers
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
allocator
setMaxAllocationsPerAMHeartbeat
List
ResourceRequest
reqs
Arrays
asList
PRIORITY_NORMAL
CAPABILITY_1GB
OPPORTUNISTIC_REQ
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocateContainers
LOG
info
Assert
assertEquals
size
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
allocator
setMaxAllocationsPerAMHeartbeat
ExecutionTypeRequest
oppRequest
ExecutionType
OPPORTUNISTIC
List
ResourceRequest
reqs
Arrays
asList
Priority
CAPABILITY_1GB
OPPORTUNISTIC_REQ
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocateContainers
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
allocator
setMaxAllocationsPerAMHeartbeat
ExecutionTypeRequest
oppRequest
ExecutionType
OPPORTUNISTIC
List
ResourceRequest
reqs
Arrays
asList
Priority
CAPABILITY_1GB
OPPORTUNISTIC_REQ
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocateContainers
LOG
info
Assert
assertEquals
size
ResourceBlacklistRequest
blacklistRequest
newInstance
ArrayList
allocator
setMaxAllocationsPerAMHeartbeat
ExecutionTypeRequest
oppRequest
ExecutionType
OPPORTUNISTIC
List
ResourceRequest
reqs
Arrays
asList
Priority
CAPABILITY_1GB
OPPORTUNISTIC_REQ
ApplicationAttemptId
appAttId
ApplicationId
oppCntxt
updateNodeList
RemoteNode
NodeId
Container
containers
allocateContainers
LOG
info
Assert
assertEquals
size
oppCntxt
spy
OpportunisticSchedulerMetrics
metrics
mock
when
getOppSchedulerMetrics
thenReturn
ResourceBlacklistRequest
blacklistRequest
newInstance
Collections
emptyList
List
ResourceRequest
reqs
Arrays
asList
PRIORITY_NORMAL
CAPABILITY_1GB
OPPORTUNISTIC_REQ
ApplicationAttemptId
appAttId
ApplicationId
updateNodeList
RemoteNode
NodeId
Container
containers
allocator
allocateContainers
launchUAM
attemptId
registerApplicationMaster
RegisterApplicationMasterRequest
newInstance
LOG
info
e
Object
syncObj
MockResourceManagerFacade
getRegisterSyncObj
registerAMThread
start
wait
LOG
warn
containerId
ExitCode
TERMINATED
getExitCode
String
pid
ProcessIdFileReader
getProcessId
pidPath
IOException
info
ContainerLivenessContext
livenessContext
Builder
setContainer
container
setUser
user
setPid
build
Thread
sleep
sleepMsec
msecLeft
exitCodeFileTimeout
exitCodeFile
ContainerLaunch
getExitCodeFile
toString
File
file
String
shExecOutput
output
Map
Path
symLinks
resolveSymLinks
container
getLocalizedResources
getUser
InetSocketAddress
nmAddr
ctx
getNmAddr
String
user
getUser
appId
getAppId
locId
getLocId
LocalDirsHandlerService
dirsHandler
getDirsHandler
List
localDirs
getLocalDirs
logDirs
getLogDirs
createUserLocalDirs
createUserCacheDirs
createAppDirs
createAppLogDirs
Path
appStorageDir
getWorkingDir
tokenFn
format
TOKEN_FILE_NAME_FMT
tokenDst
copyFile
nmPrivateContainerTokensPath
LocalDirsHandlerService
dirsHandler
ctx
getDirsHandler
List
String
localDirs
getLocalDirs
logDirs
getLogDirs
createUserLocalDirs
user
createUserCacheDirs
createAppDirs
appId
createAppLogDirs
Path
appStorageDir
getWorkingDir
tokenFn
format
TOKEN_FILE_NAME_FMT
locId
tokenDst
copyFile
nmPrivateContainerTokensPath
LOG
info
FileContext
localizerFc
getFileContext
lfs
getDefaultFileSystem
getConf
setUMask
getUMask
setWorkingDirectory
copyFile
nmPrivateTokensPath
tokenDst
user
Path
keystoreDst
containerWorkDir
ContainerLaunch
KEYSTORE_FILE
nmPrivateKeystorePath
truststoreDst
TRUSTSTORE_FILE
nmPrivateTruststorePath
launchDst
CONTAINER_SCRIPT
nmPrivateContainerScriptPath
LocalWrapperScriptBuilder
sb
getLocalWrapperScriptBuilder
containerIdStr
IOException
String
format
getWrapperScriptPath
WIN_MAX_PATH
YarnConfiguration
NM_LOCAL_DIRS
pidFile
getPidFilePath
containerId
writeLocalWrapperScript
copyFile
nmPrivateContainerScriptPath
launchDst
user
LocalWrapperScriptBuilder
sb
getLocalWrapperScriptBuilder
containerIdStr
containerWorkDir
IOException
String
format
getWrapperScriptPath
WIN_MAX_PATH
YarnConfiguration
NM_LOCAL_DIRS
Path
pidFile
getPidFilePath
containerId
writeLocalWrapperScript
LOG
info
ExitCode
TERMINATED
getExitCode
Shell
CommandExecutor
shExec
setScriptExecutable
buildCommandExecutor
toString
container
getResource
File
toUri
getPath
getLaunchContext
getEnvironment
String
command
getRunCommand
wrapperScriptPath
containerIdStr
user
pidFile
getConf
resource
String
user
ctx
getUser
pid
getPid
Signal
signal
getSignal
Path
subDir
ctx
getSubDir
List
baseDirs
getBasedirs
directoryErrorInfo
put
entry
getKey
errorInformation
LOG
warn
dir
message
setChanged
numFailures
localDirs
add
Configuration
conf
getConf
nmContext
context
PrivilegedOperation
checkSetupOp
OperationType
CHECK_SETUP
PrivilegedOperationExecutor
privilegedOperationExecutor
getPrivilegedOperationExecutor
executePrivilegedOperation
exitCode
e
getExitCode
LOG
warn
IOException
resourceHandlerChain
ResourceHandlerModule
getConfiguredResourceHandlerChain
debug
PrivilegedOperation
checkSetupOp
OperationType
CHECK_SETUP
PrivilegedOperationExecutor
privilegedOperationExecutor
getPrivilegedOperationExecutor
executePrivilegedOperation
exitCode
e
getExitCode
LOG
warn
IOException
resourceHandlerChain
ResourceHandlerModule
getConfiguredResourceHandlerChain
conf
nmContext
debug
bootstrap
IOException
exitCode
e
resourceHandlerChain
ResourceHandlerModule
getConfiguredResourceHandlerChain
conf
nmContext
LOG
debug
bootstrap
error
LinuxContainerRuntime
runtime
DelegatingLinuxContainerRuntime
initialize
linuxContainerRuntime
resourceOps
add
PrivilegedOperation
OperationType
ADD_PID_TO_CGROUP
resourcesOptions
operation
PrivilegedOperationExecutor
squashCGroupOperations
getArguments
get
PrivilegedOperation
operation
PrivilegedOperationExecutor
squashCGroupOperations
resourceOps
resourcesOptions
getArguments
get
LOG
error
e
ResourceHandlerException
String
user
ctx
getUser
Path
dir
getSubDir
List
baseDirs
getBasedirs
verifyUsernamePattern
runAsUser
getRunAsUser
dirString
toUri
getPath
PrivilegedOperation
deleteAsUserOp
OperationType
DELETE_AS_USER
appendArgs
Integer
toString
RunAsUserCommand
getValue
pathsToDelete
ArrayList
String
user
ctx
getUser
Path
dir
getSubDir
List
baseDirs
getBasedirs
verifyUsernamePattern
runAsUser
getRunAsUser
dirString
toUri
getPath
PrivilegedOperation
deleteAsUserOp
OperationType
DELETE_AS_USER
appendArgs
Integer
toString
RunAsUserCommand
getValue
pathsToDelete
ArrayList
LOG
info
add
del
baseDir
LOG
info
dir
pathsToDelete
add
dirString
Path
del
baseDir
toString
deleteAsUserOp
appendArgs
toUri
getPath
Configuration
conf
getConf
PrivilegedOperationExecutor
privilegedOperationExecutor
getPrivilegedOperationExecutor
executePrivilegedOperation
exitCode
e
getExitCode
List
File
files
ArrayList
PrivilegedOperation
listAsUserOp
OperationType
LIST_AS_USER
String
runAsUser
getRunAsUser
user
dirString
dir
toUri
getPath
appendArgs
Integer
toString
RunAsUserCommand
getValue
PrivilegedOperationExecutor
privOpExecutor
getPrivilegedOperationExecutor
results
executePrivilegedOperation
add
file
PrivilegedOperationExecutor
privOpExecutor
getInstance
getConf
String
report
getDisksHealthReport
nmStore
stop
LOG
info
Configuration
conf
getConfig
Path
recoveryRoot
get
YarnConfiguration
NM_RECOVERY_DIR
LOG
info
containerManager
cleanupContainersOnNMResync
context
getKnownCollectors
clear
reregisterCollectors
NodeStatusUpdaterImpl
nodeStatusUpdater
rebootNodeStatusUpdaterAndRegisterWithRM
String
message
String
message
LOG
error
YarnRuntimeException
ShutdownHookManager
get
removeShutdownHook
nodeManagerShutdownHook
CompositeServiceShutdownHook
addShutdownHook
SHUTDOWN_HOOK_PRIORITY
shouldExitOnShutdownEvent
init
conf
start
totalResource
NodeManagerHardwareUtils
getNodeResources
conf
memoryMb
getMemorySize
vMemToPMem
getFloat
YarnConfiguration
NM_VMEM_PMEM_RATIO
DEFAULT_NM_VMEM_PMEM_RATIO
virtualMemoryMb
Math
ceil
virtualCores
getVirtualCores
updateConfiguredResourcesViaPlugins
physicalMemoryMb
memoryMb
physicalCores
virtualCores
ResourceCalculatorPlugin
rcp
getNodeResourceMonitorPlugin
conf
getPhysicalMemorySize
getNumProcessors
physicalResource
Resource
newInstance
tokenKeepAliveEnabled
isTokenKeepAliveEnabled
tokenRemovalDelayMs
getInt
YarnConfiguration
RM_NM_EXPIRY_INTERVAL_MS
DEFAULT_RM_NM_EXPIRY_INTERVAL_MS
minimumResourceManagerVersion
get
NM_RESOURCEMANAGER_MINIMUM_VERSION
DEFAULT_NM_RESOURCEMANAGER_MINIMUM_VERSION
nodeLabelsHandler
createNMNodeLabelsHandler
nodeLabelsProvider
nodeAttributesHandler
createNMNodeAttributesHandler
nodeAttributesProvider
durationToTrackStoppedContainers
getLong
YARN_NODEMANAGER_DURATION_TO_TRACK_STOPPED_CONTAINERS
String
message
LOG
info
isStopped
sendOutofBandHeartBeat
statusUpdater
join
registerWithRM
Thread
statusUpdaterRunnable
start
String
errorMessage
RegisterNodeManagerResponse
regNMResponse
Set
NodeLabel
nodeLabels
nodeLabelsHandler
getNodeLabelsForRegistration
NodeAttribute
nodeAttributes
nodeAttributesHandler
getNodeAttributesForRegistration
List
NMContainerStatus
containerReports
getNMContainerStatuses
NodeStatus
nodeStatus
getNodeStatus
RegisterNodeManagerRequest
request
newInstance
nodeId
httpPort
totalResource
nodeManagerVersionId
getRunningApplications
physicalResource
YarnRuntimeException
message
String
rmVersion
minimumResourceManagerVersion
registeredWithRM
MasterKey
masterKey
regNMResponse
getContainerTokenMasterKey
context
getContainerTokenSecretManager
setMasterKey
getNMTokenMasterKey
getNMTokenSecretManager
StringBuilder
successfullRegistrationMsg
append
nodeId
Resource
newResource
getResource
NodeHealthStatus
nodeHealthStatus
context
getNodeHealthStatus
setHealthReport
healthChecker
getHealthReport
setIsNodeHealthy
isHealthy
setLastHealthReportTime
getLastHealthReportTime
List
ContainerStatus
containerStatuses
ArrayList
ContainerId
containerId
container
getContainerId
ApplicationId
applicationId
getApplicationAttemptId
getApplicationId
org
apache
hadoop
yarn
api
records
containerStatus
cloneAndGetContainerStatus
ContainerId
containerId
container
getContainerId
ApplicationId
applicationId
getApplicationAttemptId
getApplicationId
org
apache
hadoop
yarn
api
records
ContainerStatus
containerStatus
cloneAndGetContainerStatus
LOG
debug
context
getContainers
remove
pendingCompletedContainers
put
addCompletedContainer
containerStatuses
add
addAll
values
currentTime
System
currentTimeMillis
Iterator
Entry
ContainerId
Long
i
recentlyStoppedContainers
entrySet
iterator
mapEntry
next
cid
getKey
ApplicationId
appId
getApplicationAttemptId
getApplicationId
remove
context
getNMStateStore
removeContainer
File
f
command
perms
FsPermission
DIR_PERM
String
appId
ctx
getAppId
locId
getLocId
LocalDirsHandlerService
dirsHandler
getDirsHandler
List
localDirs
getLocalDirs
logDirs
getLogDirs
Path
classpathJarPrivateDir
getLocalPathForWrite
ResourceLocalizationService
NM_PRIVATE_DIR
createUserLocalDirs
user
createUserCacheDirs
createAppDirs
createAppLogDirs
appStorageDir
getWorkingDir
tokenFn
format
ContainerExecutor
TOKEN_FILE_NAME_FMT
tokenDst
copyFile
nmPrivateContainerTokensPath
File
cwdApp
toString
LOG
info
RecoveredAMRMProxyState
state
nmContext
getNMStateStore
loadAMRMProxyState
secretManager
recover
getAppContexts
size
ApplicationAttemptId
attemptId
entry
getKey
Token
AMRMTokenIdentifier
amrmToken
user
String
contextEntry
getValue
decodeFromUrlString
setService
Text
IOException
attemptId
localToken
secretManager
createAndGetAMRMToken
Credentials
amCred
amrmToken
Token
decodeFromUrlString
String
contextEntry
getValue
setService
Text
IOException
attemptId
AMRMTokenIdentifier
localToken
secretManager
createAndGetAMRMToken
Credentials
amCred
LOG
debug
container
getContainerId
getContainerTokenIdentifier
getContainerType
amrmToken
decodeFromUrlString
String
contextEntry
getValue
setService
Text
IOException
attemptId
Token
AMRMTokenIdentifier
localToken
secretManager
createAndGetAMRMToken
Credentials
amCred
LOG
debug
container
getContainerId
getContainerTokenIdentifier
getContainerType
info
getCredentials
IOException
attemptId
Token
AMRMTokenIdentifier
localToken
secretManager
createAndGetAMRMToken
Credentials
amCred
LOG
debug
container
getContainerId
getContainerTokenIdentifier
getContainerType
info
getCredentials
error
startTime
clock
getTime
RequestInterceptorChainWrapper
pipeline
authorizeAndGetInterceptorChain
startTime
clock
getTime
RequestInterceptorChainWrapper
pipeline
authorizeAndGetInterceptorChain
LOG
info
request
getHost
getRpcPort
getTrackingUrl
getApplicationAttemptId
RegisterApplicationMasterResponse
response
getRootInterceptor
registerApplicationMaster
endTime
metrics
succeededRegisterAMRequests
startTime
clock
getTime
RequestInterceptorChainWrapper
pipeline
authorizeAndGetInterceptorChain
startTime
clock
getTime
RequestInterceptorChainWrapper
pipeline
authorizeAndGetInterceptorChain
LOG
info
getApplicationAttemptId
request
getTrackingUrl
FinishApplicationMasterResponse
response
getRootInterceptor
finishApplicationMaster
endTime
metrics
succeededFinishAMRequests
startTime
clock
getTime
AMRMTokenIdentifier
amrmTokenIdentifier
YarnServerSecurityUtils
authorizeRequest
RequestInterceptorChainWrapper
pipeline
getInterceptorChain
AllocateResponse
allocateResponse
getRootInterceptor
allocate
request
updateAMRMTokens
endTime
metrics
succeededAllocateRequests
RequestInterceptorChainWrapper
chainWrapper
LOG
warn
applicationAttemptId
toString
chainWrapperBackup
applPipelineMap
get
getApplicationId
LOG
warn
applicationAttemptId
getApplicationId
ex
chainWrapper
RequestInterceptorChainWrapper
applPipelineMap
put
info
user
RequestInterceptor
interceptorChain
createRequestInterceptorChain
init
createApplicationMasterContext
nmContext
amrmToken
localToken
credentials
registry
YarnRuntimeException
recover
recoveredDataMap
Preconditions
checkArgument
applicationId
RequestInterceptorChainWrapper
pipeline
applPipelineMap
remove
Preconditions
checkArgument
applicationId
RequestInterceptorChainWrapper
pipeline
applPipelineMap
remove
LOG
info
secretManager
applicationMasterFinished
getApplicationAttemptId
getRootInterceptor
shutdown
warn
ex
nmContext
getNMStateStore
removeAMRMProxyAppContext
AMRMProxyApplicationContextImpl
context
pipeline
getRootInterceptor
getApplicationContext
LOG
info
org
apache
hadoop
yarn
api
records
Token
token
allocateResponse
getAMRMToken
setAMRMToken
security
AMRMTokenIdentifier
newToken
ConverterUtils
convertFromYarn
Text
nmContext
getNMStateStore
storeAMRMProxyAppContextEntry
getApplicationAttemptId
NMSS_AMRMTOKEN_KEY
encodeToUrlString
getBytes
error
e
MasterKeyData
nextMasterKey
secretManager
getNextMasterKeyData
localToken
getLocalAMRMToken
writeLock
lock
writeLock
lock
readLock
lock
ApplicationAttemptId
applicationAttemptId
identifier
getApplicationAttemptId
readLock
lock
ApplicationAttemptId
applicationAttemptId
identifier
getApplicationAttemptId
appOwner
addCredentials
appContext
getCredentials
attemptId
getApplicationAttemptId
ApplicationId
appId
getApplicationId
homeSubClusterId
SubClusterId
newInstance
YarnConfiguration
getClusterId
conf
homeRMRelayer
AMRMClientRelayer
createHomeRMProxy
ApplicationMasterProtocol
toString
homeHeartbeartHandler
createHomeHeartbeartHandler
setUGI
setDaemon
start
lastAllocateResponse
RECORD_FACTORY
newRecordInstance
AllocateResponse
setResponseId
AMRMClientUtils
PRE_REGISTER_RESPONSE_ID
federationFacade
FederationStateStoreFacade
getInstance
subClusterResolver
getSubClusterResolver
policyInterpreter
uamPool
init
RegisterApplicationMasterRequestProto
pb
parseFrom
recoveredDataMap
get
NMSS_REG_REQUEST_KEY
amRegistrationRequest
RegisterApplicationMasterRequestPBImpl
LOG
info
attemptId
homeRMRelayer
setAMRegistrationRequest
RegisterApplicationMasterResponseProto
NMSS_REG_RESPONSE_KEY
amRegistrationResponse
RegisterApplicationMasterResponsePBImpl
Map
String
Token
AMRMTokenIdentifier
uamMap
registryClient
loadStateFromRegistry
getApplicationId
RegisterApplicationMasterResponseProto
pb
parseFrom
recoveredDataMap
get
NMSS_REG_RESPONSE_KEY
amRegistrationResponse
RegisterApplicationMasterResponsePBImpl
LOG
info
attemptId
Map
String
Token
AMRMTokenIdentifier
uamMap
registryClient
loadStateFromRegistry
getApplicationId
size
HashMap
scId
entry
getKey
substring
NMSS_SECONDARY_SC_PREFIX
length
amrmToken
decodeFromUrlString
getValue
STRING_TO_BYTE_FORMAT
RegisterApplicationMasterResponseProto
pb
parseFrom
recoveredDataMap
get
NMSS_REG_RESPONSE_KEY
amRegistrationResponse
RegisterApplicationMasterResponsePBImpl
LOG
info
attemptId
Map
String
Token
AMRMTokenIdentifier
uamMap
registryClient
loadStateFromRegistry
getApplicationId
size
HashMap
scId
entry
getKey
substring
NMSS_SECONDARY_SC_PREFIX
length
amrmToken
decodeFromUrlString
getValue
STRING_TO_BYTE_FORMAT
put
String
scId
entry
getKey
substring
NMSS_SECONDARY_SC_PREFIX
length
Token
AMRMTokenIdentifier
amrmToken
decodeFromUrlString
getValue
STRING_TO_BYTE_FORMAT
uamMap
put
LOG
debug
info
size
attemptId
getApplicationId
containers
SubClusterId
subClusterId
newInstance
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
getId
uamPool
reAttachUAM
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
toString
secondaryRelayers
getAMRMClientRelayer
RegisterApplicationMasterResponse
response
registerApplicationMaster
amRegistrationRequest
amrmToken
decodeFromUrlString
String
entry
getValue
STRING_TO_BYTE_FORMAT
uamMap
put
scId
LOG
debug
info
size
attemptId
getApplicationId
containers
SubClusterId
subClusterId
newInstance
getKey
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
getId
uamPool
reAttachUAM
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
toString
secondaryRelayers
getAMRMClientRelayer
RegisterApplicationMasterResponse
response
registerApplicationMaster
amRegistrationRequest
lastSCResponseTime
clock
getTime
subClusterTimeOut
uamMap
put
scId
amrmToken
LOG
debug
info
size
attemptId
getApplicationId
containers
SubClusterId
subClusterId
newInstance
entry
getKey
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
getId
uamPool
reAttachUAM
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
getValue
toString
secondaryRelayers
getAMRMClientRelayer
RegisterApplicationMasterResponse
response
registerApplicationMaster
amRegistrationRequest
lastSCResponseTime
clock
getTime
subClusterTimeOut
containerIdToSubClusterIdMap
container
SubClusterId
subClusterId
newInstance
entry
getKey
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
getId
uamPool
reAttachUAM
attemptId
getApplicationId
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
getValue
toString
secondaryRelayers
put
getAMRMClientRelayer
RegisterApplicationMasterResponse
response
registerApplicationMaster
amRegistrationRequest
lastSCResponseTime
clock
getTime
subClusterTimeOut
containerIdToSubClusterIdMap
container
containers
LOG
debug
info
getContainersFromPreviousAttempts
size
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
subClusterId
getId
uamPool
reAttachUAM
attemptId
getApplicationId
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
entry
getValue
toString
secondaryRelayers
put
getAMRMClientRelayer
RegisterApplicationMasterResponse
response
registerApplicationMaster
amRegistrationRequest
lastSCResponseTime
clock
getTime
subClusterTimeOut
containerIdToSubClusterIdMap
container
containers
LOG
debug
info
getContainersFromPreviousAttempts
size
error
e
UserGroupInformation
appSubmitter
createRemoteUser
RegisterApplicationMasterRequestPBImpl
pb
amRegistrationRequest
getNMStateStore
storeAMRMProxyAppContextEntry
attemptId
NMSS_REG_REQUEST_KEY
getProto
toByteArray
LOG
error
e
amRegistrationResponse
homeRMRelayer
registerApplicationMaster
request
cacheAllocatedContainers
getContainersFromPreviousAttempts
homeSubClusterId
ApplicationId
appId
getApplicationId
reAttachUAMAndMergeRegisterResponse
LOG
error
attemptId
e
amRegistrationResponse
homeRMRelayer
registerApplicationMaster
request
cacheAllocatedContainers
getContainersFromPreviousAttempts
homeSubClusterId
ApplicationId
appId
getApplicationId
reAttachUAMAndMergeRegisterResponse
RegisterApplicationMasterResponsePBImpl
pb
getNMStateStore
storeAMRMProxyAppContextEntry
NMSS_REG_RESPONSE_KEY
getProto
toByteArray
finishAMCalled
failedToUnRegister
ExecutorCompletionService
FinishApplicationMasterResponseInfo
compSvc
Set
String
subClusterIds
uamPool
getAllUAMIds
FinishApplicationMasterRequest
finishRequest
request
threadpool
finishAMCalled
failedToUnRegister
ExecutorCompletionService
FinishApplicationMasterResponseInfo
compSvc
Set
String
subClusterIds
uamPool
getAllUAMIds
FinishApplicationMasterRequest
finishRequest
request
threadpool
LOG
info
size
LOG
info
subClusterId
FinishApplicationMasterResponse
uamResponse
uamPool
finishApplicationMaster
finishRequest
secondaryRelayers
remove
getNMStateStore
removeAMRMProxyAppContextEntry
attemptId
NMSS_SECONDARY_SC_PREFIX
warn
e
FinishApplicationMasterResponseInfo
homeResponse
homeRMRelayer
request
homeHeartbeartHandler
shutdown
secondaryRelayers
remove
subClusterId
getNMStateStore
removeAMRMProxyAppContextEntry
attemptId
NMSS_SECONDARY_SC_PREFIX
LOG
warn
e
FinishApplicationMasterResponseInfo
uamResponse
FinishApplicationMasterResponse
homeResponse
homeRMRelayer
finishApplicationMaster
request
homeHeartbeartHandler
shutdown
info
subClusterIds
size
Future
future
compSvc
take
get
ExecutorCompletionService
RegisterApplicationMasterResponse
completionService
threadpool
SubClusterId
subClusterId
newInstance
entry
getKey
Token
AMRMTokenIdentifier
amrmToken
getValue
response
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
getId
uamPool
reAttachUAM
appId
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
toString
secondaryRelayers
put
getAMRMClientRelayer
registerApplicationMaster
amRegistrationRequest
lastSCResponseTime
clock
getTime
subClusterTimeOut
SubClusterId
subClusterId
newInstance
entry
getKey
Token
AMRMTokenIdentifier
amrmToken
getValue
RegisterApplicationMasterResponse
response
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
getId
uamPool
reAttachUAM
appId
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
toString
secondaryRelayers
put
getAMRMClientRelayer
registerApplicationMaster
amRegistrationRequest
lastSCResponseTime
clock
getTime
subClusterTimeOut
cacheAllocatedContainers
getContainersFromPreviousAttempts
FederationProxyProviderUtil
updateConfForFederation
config
subClusterId
getId
uamPool
reAttachUAM
appId
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
amrmToken
toString
secondaryRelayers
put
getAMRMClientRelayer
response
registerApplicationMaster
amRegistrationRequest
lastSCResponseTime
clock
getTime
subClusterTimeOut
cacheAllocatedContainers
getContainersFromPreviousAttempts
LOG
info
error
e
Future
RegisterApplicationMasterResponse
future
completionService
take
lastSCResponseTime
put
subClusterId
clock
getTime
subClusterTimeOut
uamRegisterFutures
clear
String
scId
getId
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
RegisterApplicationMasterResponse
uamResponse
Token
AMRMTokenIdentifier
token
uamPool
launchUAM
attemptId
getApplicationId
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
toString
secondaryRelayers
getAMRMClientRelayer
registerApplicationMaster
amRegistrationRequest
uamRegisterFutures
clear
String
subClusterId
scId
getId
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
RegisterApplicationMasterResponse
uamResponse
Token
AMRMTokenIdentifier
token
uamPool
launchUAM
attemptId
getApplicationId
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
toString
secondaryRelayers
put
getAMRMClientRelayer
registerApplicationMaster
amRegistrationRequest
LOG
error
e
String
subClusterId
scId
getId
YarnConfiguration
config
getConf
FederationProxyProviderUtil
updateConfForFederation
RegisterApplicationMasterResponse
uamResponse
Token
AMRMTokenIdentifier
token
uamPool
launchUAM
attemptId
getApplicationId
amRegistrationResponse
getQueue
getApplicationContext
getUser
homeSubClusterId
toString
secondaryRelayers
put
getAMRMClientRelayer
registerApplicationMaster
amRegistrationRequest
LOG
error
e
uamRegistrations
info
secondaryRelayers
put
subClusterId
uamPool
getAMRMClientRelayer
uamResponse
registerApplicationMaster
amRegistrationRequest
LOG
error
attemptId
e
uamRegistrations
scId
info
allocateAsync
requests
get
HeartbeatCallBack
registryClient
writeAMRMTokenForUAM
getApplicationId
token
String
className
getClassName
service
YarnRuntimeException
sName
appLocalClassPath
conf
get
format
YarnConfiguration
NM_AUX_SERVICES_CLASSPATH
createAuxServiceFromLocalClasspath
AuxServiceConfiguration
serviceConf
getConfiguration
List
Path
destFiles
ArrayList
AuxServiceFile
files
getFiles
add
maybeDownloadJars
file
getSrcFile
getType
AuxiliaryService
s
serviceMap
remove
sName
serviceRecordMap
serviceMetaData
AuxiliaryService
s
Preconditions
checkArgument
validateAuxServiceName
sName
createAuxService
service
conf
fromConfiguration
YarnRuntimeException
LOG
warn
getClass
getName
setAuxiliaryLocalPathHandler
auxiliaryLocalPathHandler
setStateStoreDir
Configuration
customConf
set
entry
getKey
getValue
init
Preconditions
checkArgument
validateAuxServiceName
sName
s
createAuxService
service
conf
fromConfiguration
YarnRuntimeException
LOG
warn
getClass
getName
setAuxiliaryLocalPathHandler
auxiliaryLocalPathHandler
setStateStoreDir
Configuration
customConf
set
entry
getKey
getValue
init
info
LOG
warn
manifest
FileStatus
status
manifestFS
getFileStatus
foundChanges
AuxServiceRecord
existingService
serviceRecordMap
get
service
getName
loadedAuxServices
add
LOG
debug
maybeRemoveAuxService
AuxiliaryService
s
initAuxService
conf
startAuxService
addService
NMStateStoreService
stateStore
context
getNMStateStore
rsrcLocalizationSrvc
recoverLocalizedResources
loadLocalizationState
RecoveredApplicationsState
appsState
loadApplicationsState
ContainerManagerApplicationProto
proto
rasIterator
next
ApplicationId
appId
ApplicationIdPBImpl
p
getId
Credentials
creds
readTokenStorageStream
DataInputStream
getCredentials
newInput
List
ApplicationACLMapProto
aclProtoList
getAclsList
Map
ApplicationAccessType
String
acls
HashMap
size
put
ProtoUtils
convertFromProtoFormat
aclProto
getAccessType
getAcl
LogAggregationContext
logAggregationContext
LogAggregationContextPBImpl
getLogAggregationContext
FlowContext
fc
FlowContextProto
fcp
getFlowContext
getFlowName
getFlowVersion
getFlowRunId
creds
readTokenStorageStream
DataInputStream
p
getCredentials
newInput
List
ApplicationACLMapProto
aclProtoList
getAclsList
Map
ApplicationAccessType
String
acls
HashMap
size
put
ProtoUtils
convertFromProtoFormat
aclProto
getAccessType
getAcl
LogAggregationContext
logAggregationContext
LogAggregationContextPBImpl
getLogAggregationContext
FlowContext
fc
FlowContextProto
fcp
getFlowContext
getFlowName
getFlowVersion
getFlowRunId
LOG
debug
appId
TimelineUtils
generateDefaultFlowName
YarnConfiguration
DEFAULT_FLOW_VERSION
getClusterTimestamp
connectAddress
NetUtils
getConnectAddress
initialAddress
server
start
NodeId
nodeId
buildNodeId
hostOverride
NodeManager
NMContext
context
setNodeId
getNMTokenSecretManager
getContainerTokenSecretManager
serviceStart
waitForRecoveredContainers
serverNode
connectAddress
NetUtils
getConnectAddress
initialAddress
server
start
NodeId
nodeId
buildNodeId
hostOverride
NodeManager
NMContext
context
setNodeId
getNMTokenSecretManager
getContainerTokenSecretManager
serviceStart
waitForRecoveredContainers
serverNode
LOG
info
applications
keySet
List
ApplicationId
appIds
ArrayList
handle
CMgrCompletedAppsEvent
Reason
ON_SHUTDOWN
waitStartTime
System
currentTimeMillis
Thread
sleep
warn
ex
LOG
info
handle
CMgrCompletedContainersEvent
containerIds
Reason
ON_NODEMANAGER_RESYNC
allContainersCompleted
Thread
sleep
warn
ex
ContainerId
containerId
containerTokenIdentifier
getContainerID
String
containerIdStr
toString
user
getApplicationSubmitter
YarnException
rsrc
getKey
getValue
Credentials
credentials
YarnServerSecurityUtils
parseCredentials
launchContext
containerStartTime
SystemClock
getInstance
getTime
Container
container
ContainerImpl
getConfig
dispatcher
metrics
containerTokenIdentifier
context
ApplicationId
applicationID
containerId
getApplicationAttemptId
getApplicationId
NMAuditLogger
logFailure
remoteUser
AuditConstants
START_CONTAINER
RPCUtil
getRemoteException
containerIdStr
readLock
lock
FlowContext
flowContext
getFlowContext
Application
application
ApplicationImpl
user
RPCUtil
getRemoteException
containerIdStr
readLock
lock
FlowContext
flowContext
getFlowContext
launchContext
applicationID
Application
application
ApplicationImpl
dispatcher
user
credentials
context
LOG
info
LogAggregationContext
logAggregationContext
containerTokenIdentifier
getLogAggregationContext
Map
ApplicationAccessType
String
appAcls
container
getLaunchContext
getApplicationACLs
getNMStateStore
storeApplication
buildAppProto
getEventHandler
handle
ApplicationInitEvent
readLock
lock
FlowContext
flowContext
getFlowContext
launchContext
applicationID
Application
application
ApplicationImpl
dispatcher
user
credentials
context
LOG
info
LogAggregationContext
logAggregationContext
containerTokenIdentifier
getLogAggregationContext
Map
ApplicationAccessType
String
appAcls
container
getLaunchContext
getApplicationACLs
getNMStateStore
storeApplication
buildAppProto
getEventHandler
handle
ApplicationInitEvent
String
containerIDStr
containerID
toString
Container
container
context
getContainers
get
String
containerIDStr
containerID
toString
Container
container
context
getContainers
get
sb
append
status
getCapability
LOG
isDebugEnabled
getDiagnostics
getExitStatus
getIPs
getHost
getExposedPorts
getContainerSubState
Application
app
context
getApplications
get
appID
String
diagnostic
dispatcher
getEventHandler
handle
ApplicationFinishEvent
appID
ApplicationId
appId
containerId
getApplicationAttemptId
getApplicationId
Application
app
context
getApplications
get
LOG
warn
Container
container
getContainers
ContainerId
containerId
request
getContainerId
Container
container
context
getContainers
get
Container
container
context
getContainers
get
containerID
writeLock
lock
ApplicationId
applicationID
event
getApplicationID
writeLock
lock
ContainerId
containerID
event
getContainerID
lfs
delete
subDir
error
LOG
warn
Path
del
baseDir
debug
ContainerId
containerId
container
getContainerId
String
containerIdStr
toString
ContainerId
containerId
container
getContainerId
String
containerIdStr
toString
LOG
info
context
getNMStateStore
storeContainerKilled
error
e
alreadyLaunched
launch
markLaunched
isLaunchCompleted
debug
exec
deactivateContainer
Path
pidFilePath
getPidFilePath
LOG
debug
processId
user
containerIdStr
ContainerExecutor
Signal
signal
sleepDelayBeforeSigKill
TERM
KILL
result
sendSignal
ContainerId
containerId
container
getContainerId
ContainerId
containerId
container
getContainerId
ContainerId
containerId
container
getContainerTokenIdentifier
getContainerID
String
containerIdStr
toString
user
getUser
Signal
signal
translateCommandToSignal
command
String
containerIdStr
containerId
toString
user
container
getUser
Signal
signal
translateCommandToSignal
command
LOG
info
alreadyLaunched
containerAlreadyLaunched
compareAndSet
debug
pidFilePath
processId
getContainerPid
LOG
info
command
containerIdStr
alreadyLaunched
containerAlreadyLaunched
compareAndSet
debug
pidFilePath
toString
String
processId
getContainerPid
user
result
exec
signalContainer
ContainerSignalContext
Builder
setContainer
container
setUser
setPid
setSignal
signal
build
diagnostics
ContainerId
containerId
container
getContainerId
String
containerIdStr
toString
ContainerId
containerId
container
getContainerId
String
containerIdStr
toString
LOG
info
ContainerId
containerId
container
getContainerId
String
containerIdStr
toString
LOG
info
exec
pauseContainer
dispatcher
getEventHandler
handle
ContainerEvent
ContainerEventType
CONTAINER_PAUSED
context
getNMStateStore
storeContainerPaused
warn
e
message
StringUtils
stringifyException
ContainerId
containerId
container
getContainerId
String
containerIdStr
toString
ContainerId
containerId
container
getContainerId
String
containerIdStr
toString
LOG
info
alreadyPaused
shouldPauseContainer
compareAndSet
String
containerIdStr
containerId
toString
LOG
info
alreadyPaused
shouldPauseContainer
compareAndSet
exec
resumeContainer
container
dispatcher
getEventHandler
handle
ContainerEvent
ContainerEventType
CONTAINER_RESUMED
context
getNMStateStore
removeContainerPaused
getContainerId
warn
e
message
StringUtils
stringifyException
Path
containerWorkDir
getContainerWorkDir
cleanupContainerFiles
containerLogDir
getContainerLogDir
Map
List
String
localResources
getLocalizedResources
appIdStr
app
getAppId
toString
nmPrivateContainerScriptPath
getNmPrivateContainerScriptPath
containerIdStr
nmPrivateTokensPath
getNmPrivateTokensPath
nmPrivateKeystorePath
container
getCredentials
getSecretKey
AMSecretKeys
YARN_APPLICATION_AM_KEYSTORE
getNmPrivateKeystorePath
nmPrivateTruststorePath
YARN_APPLICATION_AM_TRUSTSTORE
getNmPrivateTruststorePath
pidFilePath
getPidFilePath
pidFileSubpath
getPidFileSubpath
dirsHandler
getLocalPathForWrite
String
pidFileSubpath
getPidFileSubpath
appIdStr
containerIdStr
pidFilePath
dirsHandler
getLocalPathForWrite
LOG
info
containerWorkDir
toString
containerLogDir
nmPrivateContainerScriptPath
nmPrivateTokensPath
List
localDirs
getLocalDirs
logDirs
getLogDirs
containerLocalDirs
getContainerLocalDirs
containerLogDirs
getContainerLogDirs
filecacheDirs
getNMFilecacheDirs
userLocalDirs
getUserLocalDirs
userFilecacheDirs
getUserFilecacheDirs
applicationLocalDirs
getApplicationLocalDirs
ret
ContainerExitStatus
DISKS_FAILED
IOException
getDisksHealthReport
launch
RecoveredContainerLaunch
context
getConfig
dispatcher
exec
app
event
getContainer
dirsHandler
containerManager
containerLauncher
submit
running
put
containerId
RecoverPausedContainerLaunch
ContainerLaunch
runningContainer
get
ContainerLaunch
runningContainer
running
get
containerId
LOG
info
signalContainer
signalEvent
getCommand
warn
launchedContainer
pauseContainer
LOG
warn
containerId
signalEvent
getCommand
launchedContainer
pauseContainer
info
StringUtils
stringifyException
e
dispatcher
getEventHandler
handle
ContainerEvent
containerId
ContainerEventType
RECOVER_PAUSED_CONTAINER
notInterrupted
File
pidFile
locatePidFile
appIdStr
containerIdStr
String
pidPathStr
getPath
pidFilePath
Path
exec
activateContainer
retCode
reacquireContainer
ContainerReacquisitionContext
Builder
setContainer
container
setUser
getUser
setContainerId
build
LOG
warn
retCode
exec
reacquireContainer
ContainerReacquisitionContext
Builder
setContainer
container
setUser
getUser
setContainerId
containerId
build
LOG
warn
containerIdStr
notInterrupted
error
e
completed
set
deactivateContainer
getContext
getNMStateStore
storeContainerCompleted
LOG
warn
containerId
notInterrupted
error
containerIdStr
e
completed
set
exec
deactivateContainer
getContext
getNMStateStore
storeContainerCompleted
retCode
dispatcher
getEventHandler
handle
ContainerEvent
containerId
ContainerEventType
CONTAINER_LAUNCHED
notInterrupted
File
pidFile
locatePidFile
appIdStr
containerIdStr
String
pidPathStr
getPath
pidFilePath
Path
exec
activateContainer
retCode
reacquireContainer
ContainerReacquisitionContext
Builder
setContainer
container
setUser
getUser
setContainerId
build
LOG
warn
retCode
exec
reacquireContainer
ContainerReacquisitionContext
Builder
setContainer
container
setUser
getUser
setContainerId
containerId
build
LOG
warn
containerIdStr
notInterrupted
error
e
completed
set
deactivateContainer
getContext
getNMStateStore
storeContainerCompleted
LOG
warn
containerId
notInterrupted
error
containerIdStr
e
completed
set
exec
deactivateContainer
getContext
getNMStateStore
storeContainerCompleted
retCode
String
fullCommandArray
getPrivilegedOperationExecutionCommand
prefixCommands
operation
ShellCommandExecutor
exec
workingDir
env
inheritParentEnv
execute
LOG
debug
String
fullCommandArray
getPrivilegedOperationExecutionCommand
prefixCommands
operation
ShellCommandExecutor
exec
workingDir
env
inheritParentEnv
execute
LOG
debug
Arrays
toString
String
fullCommandArray
getPrivilegedOperationExecutionCommand
prefixCommands
operation
ProcessBuilder
pb
OutputStream
stdin
InputStream
stdout
redirectErrorStream
Process
p
start
getOutputStream
getInputStream
LOG
debug
resetCGroupParameters
LOG
info
String
format
yarnCGroupPath
oomListenerPath
executor
Executors
newFixedThreadPool
Future
errorListener
submit
IOUtils
toString
process
getErrorStream
Charset
defaultCharset
InputStream
events
getInputStream
event
read
resolveOOM
warn
exitCode
waitFor
error
get
String
existingMountPath
getControllerPath
controller
requestedMountPath
File
cGroupsMountConfig
getMountPath
getName
getAbsolutePath
rwLock
writeLock
lock
mountOptions
Joiner
on
join
parsedMtab
get
cGroupKV
PrivilegedOperation
OperationType
opType
MOUNT_CGROUPS
op
appendArgs
cGroupPrefix
rwLock
writeLock
lock
String
mountOptions
Joiner
on
join
parsedMtab
get
existingMountPath
controller
getName
cGroupKV
requestedMountPath
PrivilegedOperation
OperationType
opType
MOUNT_CGROUPS
op
appendArgs
cGroupPrefix
LOG
info
privilegedOperationExecutor
executePrivilegedOperation
controllerPaths
put
String
path
getPathForCGroup
controller
cGroupId
String
str
inl
readLine
deleted
String
cGroupPath
getPathForCGroup
controller
cGroupId
String
cGroupParamPath
getPathForCGroupParam
controller
cGroupId
param
PrintWriter
pw
cgroupUsage
cgroup
getCpuUsagePercent
procfsUsage
procfs
cgroupUsage
cgroup
getCpuUsagePercent
procfsUsage
procfs
LOG
debug
containerKilled
finished
String
pids
cgroups
getCGroupParam
CGroupsHandler
CGroupController
MEMORY
container
getContainerId
toString
CGROUP_PROCS_FILE
split
Class
NetworkTagMappingManager
managerClass
conf
getClass
YarnConfiguration
NM_NETWORK_TAG_MAPPING_MANAGER
NetworkTagMappingJsonManager
cGroupsHandler
CGroupsHandlerImpl
conf
PrivilegedOperationExecutor
getInstance
String
containerIdStr
containerId
toString
String
containerIdStr
containerId
toString
LOG
debug
classIdStrFromFile
cGroupsHandler
getCGroupParam
CGroupsHandler
CGroupController
NET_CLS
CGROUP_PARAM_CLASSID
classId
trafficController
getClassIdFromFileContents
List
String
regexes
ArrayList
add
format
ROOT_QDISC_HANDLE
ROOT_CLASS_ID
DEFAULT_CLASS_ID
YARN_ROOT_CLASS_ID
Pattern
pattern
compile
regex
MULTILINE
BatchBuilder
builder
PrivilegedOperation
OperationType
TC_READ_STATE
readState
op
commitBatchToTempFile
String
output
privilegedOperationExecutor
executePrivilegedOperation
String
tcClassesStr
state
substring
indexOf
tcClasses
Pattern
compile
MULTILINE
split
tcClassPattern
format
ROOT_QDISC_HANDLE
tcClass
tcClassSplit
trim
Matcher
classMatcher
matcher
classId
Integer
parseInt
group
classIdSet
set
MIN_CONTAINER_CLASS_ID
BatchBuilder
builder
PrivilegedOperation
OperationType
TC_READ_STATS
readClasses
op
commitBatchToTempFile
String
output
privilegedOperationExecutor
executePrivilegedOperation
BatchBuilder
builder
PrivilegedOperation
OperationType
TC_READ_STATS
readClasses
op
commitBatchToTempFile
String
output
privilegedOperationExecutor
executePrivilegedOperation
LOG
debug
Map
Integer
classIdBytesStats
parseStatsString
String
classIdStr
format
Integer
parseInt
input
device
setIPID
newIPID
setAocxHash
newHash
device
setIPID
newIPID
setAocxHash
newHash
LOG
info
List
PrivilegedOperation
ret
ArrayList
String
containerIdStr
container
getContainerId
toString
Resource
requestedResource
getResource
cGroupsHandler
createCGroup
CGroupsHandler
CGroupController
DEVICES
deviceCount
getResourceValue
FPGA_URI
Resource
requestedResource
container
getResource
cGroupsHandler
createCGroup
CGroupsHandler
CGroupController
DEVICES
containerIdStr
deviceCount
getResourceValue
FPGA_URI
LOG
info
String
ipFilePath
requestedIPID
getRequestedIPID
localizedIPIDHash
vendorPlugin
retrieveIPfilePath
getWorkDir
getResourceSet
getLocalizedResources
DigestUtils
sha256Hex
fis
ResourceHandlerException
e
FpgaResourceAllocator
FpgaAllocation
allocation
allocator
assignFpga
getFpgaType
ResourceHandlerException
e
FpgaResourceAllocator
FpgaAllocation
allocation
allocator
assignFpga
vendorPlugin
getFpgaType
deviceCount
container
localizedIPIDHash
LOG
info
PrivilegedOperation
privilegedOperation
OperationType
FPGA
Arrays
asList
CONTAINER_ID_CLI_OPTION
containerIdStr
List
Integer
denied
ArrayList
getDenied
forEach
device
add
getMinor
appendArgs
EXCLUDED_FPGAS_CLI_OPTION
StringUtils
join
privilegedOperationExecutor
executePrivilegedOperation
ipFilePath
retrieveIPfilePath
getRequestedIPID
getWorkDir
getResourceSet
getLocalizedResources
warn
REQUEST_FPGA_IP_ID_KEY
Resource
requestedResource
container
getResource
ContainerId
containerId
getContainerId
numRequestedGpuDevices
getRequestedGpus
List
GpuDevice
usableGpus
gpuDiscoverer
getGpusUsableByYarn
String
message
NumaNodeResource
numaNode
numaNodesList
get
currentAssignNode
index
size
assignResources
resource
containerId
NumaNodeResource
numaNode
numaNodesList
get
currentAssignNode
index
size
assignResources
resource
containerId
LOG
info
getNodeId
NumaResourceAllocation
getMemorySize
getVirtualCores
memoryRequirement
Map
String
Long
memoryAllocations
Maps
newHashMap
memoryRemaining
assignAvailableMemory
put
LOG
info
resource
getMemorySize
containerId
releaseNumaResource
cpusRequirement
getVirtualCores
Map
String
Integer
cpuAllocations
Maps
newHashMap
NumaNodeResource
numaNode
numaNodesList
get
currentAssignNode
index
size
cpusRemaining
assignAvailableCpus
put
getNodeId
LOG
info
resource
getMemorySize
containerId
releaseNumaResource
cpusRequirement
getVirtualCores
Map
String
Integer
cpuAllocations
Maps
newHashMap
NumaNodeResource
numaNode
numaNodesList
get
currentAssignNode
index
size
cpusRemaining
assignAvailableCpus
put
getNodeId
String
commandFile
dockerClient
writeCommandToTempFile
dockerVolumeCommand
container
getContainerId
nmContext
PrivilegedOperation
privOp
OperationType
RUN_DOCKER_CMD
appendArgs
output
privilegedOperationExecutor
executePrivilegedOperation
dockerExecCommand
setTTY
List
String
command
ArrayList
StringBuilder
sb
append
ctx
getShell
add
toString
setOverrideCommandWithArgs
commandFile
dockerClient
writeCommandToTempFile
ContainerId
fromString
containerId
nmContext
PrivilegedOperation
privOp
OperationType
EXEC_CONTAINER
appendArgs
disableFailureLogging
IOStreamPair
output
privilegedOperationExecutor
executePrivilegedInteractiveOperation
ContainerId
containerId
container
getContainerId
String
containerIdStr
toString
DockerInspectCommand
inspectCommand
getIpAndHost
output
executeDockerInspect
network
defaultNetwork
useHostNetwork
equalsIgnoreCase
InetAddress
address
getLocalHost
ips
getHostAddress
LOG
error
containerId
String
ipAndHost
host
network
defaultNetwork
useHostNetwork
equalsIgnoreCase
InetAddress
address
getLocalHost
ips
getHostAddress
LOG
error
containerId
String
ipAndHost
host
start
System
currentTimeMillis
DockerPullCommand
dockerPullCommand
imageName
start
System
currentTimeMillis
DockerPullCommand
dockerPullCommand
imageName
LOG
debug
containerIdStr
DockerCommandExecutor
executeDockerCommand
privilegedOperationExecutor
nmContext
end
pullImageTimeMs
DockerInspectCommand
inspectCommand
containerId
toString
get
String
STATUS_TEMPLATE
STOPSIGNAL_TEMPLATE
delimiter
output
executeDockerInspect
trim
statusAndSignal
StringUtils
split
containerStatus
DockerCommandExecutor
parseContainerStatus
stopSignal
LOG
debug
e
DockerKillCommand
dockerStopCommand
setSignal
executeDockerCommand
env
privilegedOperationExecutor
nmContext
String
commandFile
dockerClient
writeCommandToTempFile
inspectCommand
containerId
nmContext
PrivilegedOperation
privOp
OperationType
RUN_DOCKER_CMD
appendArgs
output
privilegedOperationExecutor
executePrivilegedOperation
Container
container
ctx
getContainer
ContainerVolumePublisher
publisher
getCsiVolumesRootDir
unpublishVolumes
ContainerExecutionException
e
serviceMode
Boolean
parseBoolean
env
get
ENV_DOCKER_CONTAINER_DOCKER_SERVICE_MODE
String
containerId
getContainerId
toString
DockerCommandExecutor
DockerContainerStatus
containerStatus
getContainerStatus
privilegedOperationExecutor
nmContext
DockerKillCommand
dockerKillCommand
setSignal
signal
name
executeDockerCommand
String
delayedRemoval
env
get
ENV_DOCKER_CONTAINER_DELAYED_REMOVAL
String
driverNames
CsiConfigUtils
getCsiDriverNames
config
InetSocketAddress
adaptorServiceAddress
getCsiAdaptorAddressForDriver
driverName
reapRuncLayerMountsInterval
conf
getInt
NM_REAP_RUNC_LAYER_MOUNTS_INTERVAL
DEFAULT_NM_REAP_RUNC_LAYER_MOUNTS_INTERVAL
exec
HadoopExecutors
newScheduledThreadPool
PrivilegedOperation
launchOp
OperationType
REAP_RUNC_LAYER_MOUNTS
appendArgs
Integer
toString
layersToKeep
String
stdout
privilegedOperationExecutor
executePrivilegedOperation
String
pluginName
conf
get
NM_RUNC_MANIFEST_TO_RESOURCES_PLUGIN
DEFAULT_NM_RUNC_MANIFEST_TO_RESOURCES_PLUGIN
String
currentContainerStatus
executeStatusCommand
containerId
privilegedOperationExecutor
nmContext
DockerContainerStatus
dockerContainerStatus
parseContainerStatus
LocalizerStatus
status
createStatus
LocalizerHeartbeatResponse
response
nodemanager
heartbeat
pendingResources
put
newRsrc
getResource
cs
submit
download
Path
getDestinationDirectory
getFile
ugi
pending
cancel
e
printStackTrace
System
out
String
appId
argv
locId
InetSocketAddress
nmAddr
Integer
parseInt
tokenFileName
sLocaldirs
Arrays
copyOfRange
length
ArrayList
Path
localDirs
add
sLocaldir
uid
UserGroupInformation
getCurrentUser
getShortUserName
LOG
warn
user
ContainerLocalizer
localizer
FileContext
getLocalFSFileContext
RecordFactoryProvider
getRecordFactory
runLocalization
e
printStackTrace
System
out
LocalizedResource
rsrc
localrsrc
get
req
inProgressLocalResourcesMap
remove
LOG
info
getLocalPath
removeResource
dispatcher
put
ResourceReleaseEvent
relEvent
event
LOG
warn
rsrc
recoverResource
req
ResourceRecoveredEvent
event
localrsrc
put
getType
handle
removeResource
LocalizedResource
rsrc
localrsrc
get
rem
getRequest
File
file
uniquePath
toUri
getRawPath
rPath
LOG
warn
FileDeletionTask
deletionTask
delService
getUser
delete
Path
localPath
req
getPath
getName
LocalizedResource
rsrc
localrsrc
get
setLocalPath
LocalResource
lr
newInstance
getResource
getType
getVisibility
getSize
getTimestamp
writeLock
lock
Path
resourcePath
event
getLocalResourceRequest
getPath
perDirFileLimit
conf
getInt
YarnConfiguration
NM_LOCAL_CACHE_MAX_FILES_PER_DIRECTORY
DEFAULT_NM_LOCAL_CACHE_MAX_FILES_PER_DIRECTORY
LocalizedResourceProto
proto
it
next
LocalResource
rsrc
LocalResourcePBImpl
getResource
LocalResourceRequest
req
LocalizedResourceProto
proto
it
next
LocalResource
rsrc
LocalResourcePBImpl
getResource
LocalResourceRequest
req
LOG
debug
getLocalPath
tracker
handle
ResourceRecoveredEvent
Path
getSize
Map
Entry
LocalResourceProto
entry
getKey
localPath
getValue
cacheCleanup
scheduleWithFixedDelay
CacheCleanup
dispatcher
cacheCleanupPeriod
TimeUnit
MILLISECONDS
server
createServer
start
localizationServerAddress
getConfig
updateConnectAddr
YarnConfiguration
NM_BIND_HOST
NM_LOCALIZER_ADDRESS
DEFAULT_NM_LOCALIZER_ADDRESS
getListenerAddress
RemoteIterator
FileStatus
fileStatuses
fs
listStatus
Path
logDir
fileStatus
next
String
appName
getPath
getName
LOG
debug
fs
mkdirs
directoryPath
DIRECTORY_PERMISSION
tempPath
Path
getTemporaryFileName
actualPath
LOG
warn
setPermission
FILE_PERMISSION
finalPath
getName
deleteTempFile
delete
replication
conf
getInt
YarnConfiguration
SHARED_CACHE_NM_UPLOADER_REPLICATION_FACTOR
DEFAULT_SHARED_CACHE_NM_UPLOADER_REPLICATION_FACTOR
Class
ContainerLogAggregationPolicy
policyClass
String
className
logAggregationContext
getLogAggregationPolicyClassName
policyFromContext
conf
getClassByName
asSubclass
LOG
warn
appId
getClass
YarnConfiguration
NM_LOG_AGG_POLICY_CLASS
AllContainerLogAggregationPolicy
addCredentials
Set
ContainerId
pendingContainerInThisCycle
HashSet
pendingContainers
drainTo
finishedContainers
ContainerType
containerType
container
getContainerTokenIdentifier
getContainerType
add
getContainerId
LOG
debug
sendLogAggregationReport
appFinished
logAggregationTimes
pendingContainerInThisCycle
add
container
getContainerId
LOG
debug
sendLogAggregationReport
appFinished
logAggregationTimes
String
diagnosticMessage
logAggregationSucceedInThisCycle
DeletionTask
deletionTask
logAggregationFileController
initializeWriter
logControllerContext
LOG
error
e1
deletionTask
FileDeletionTask
delService
userUgi
getShortUserName
uploadedFilePathsInThisCycleList
containerLogAggregators
remove
container
logControllerContext
setUploadedLogsInThisCycle
uploadedLogsInThisCycle
setLogUploadTimeStamp
System
currentTimeMillis
increLogAggregationTimes
logAggregationFileController
postWrite
diagnosticMessage
appId
LogAggregationUtils
getNodeString
nodeId
Times
format
getLogUploadTimeStamp
e
getMessage
renameTemporaryLogFileFailed
logAggregationSucceedInThisCycle
Credentials
systemCredentials
context
getSystemCredentialsForApps
get
appId
uploadLogsForContainers
wait
THREAD_SLEEP_TIME
LOG
warn
appFinishing
set
e
doAppLogAggregationPostCleanUp
interval
conf
getLong
YarnConfiguration
NM_LOG_AGGREGATION_ROLL_MONITORING_INTERVAL_SECONDS
DEFAULT_NM_LOG_AGGREGATION_ROLL_MONITORING_INTERVAL_SECONDS
threadPoolSize
getAggregatorThreadPoolSize
conf
threadPool
HadoopExecutors
newFixedThreadPool
ThreadFactoryBuilder
setNameFormat
build
rollingMonitorInterval
calculateRollingMonitorInterval
RecoveredLogDeleterState
state
stateStore
loadLogDeleterState
now
System
currentTimeMillis
ApplicationId
appId
entry
getKey
LogDeleterProto
proto
getValue
deleteDelayMsec
getDeletionTime
appOwners
put
appStartedEvent
getApplicationId
getUser
dispatcher
getEventHandler
handle
ApplicationEvent
ApplicationEventType
APPLICATION_LOG_HANDLING_INITED
ApplicationId
appId
appFinishedEvent
appOwners
put
appStartedEvent
getApplicationId
getUser
dispatcher
getEventHandler
handle
ApplicationEvent
ApplicationEventType
APPLICATION_LOG_HANDLING_INITED
ApplicationId
appId
appFinishedEvent
LOG
info
deleteDelaySeconds
String
user
remove
ApplicationId
appId
appFinishedEvent
getApplicationId
LOG
info
deleteDelaySeconds
String
user
appOwners
remove
error
NonAggregatingLogHandler
dispatcher
getEventHandler
handle
ApplicationEvent
ApplicationEventType
APPLICATION_LOG_HANDLING_FAILED
LogDeleterRunnable
logDeleter
deletionTimestamp
System
currentTimeMillis
LogDeleterProto
deleterProto
newBuilder
setUser
setDeletionTime
build
stateStore
storeLogDeleter
processTreeClass
conf
getClass
YarnConfiguration
NM_CONTAINER_MON_PROCESS_TREE
ResourceCalculatorProcessTree
LOG
info
containerMetricsEnabled
getBoolean
NM_CONTAINER_METRICS_ENABLE
DEFAULT_NM_CONTAINER_METRICS_ENABLE
containerMetricsPeriodMs
getLong
NM_CONTAINER_METRICS_PERIOD_MS
DEFAULT_NM_CONTAINER_METRICS_PERIOD_MS
containerMetricsUnregisterDelayMs
NM_CONTAINER_METRICS_UNREGISTER_DELAY_MS
DEFAULT_NM_CONTAINER_METRICS_UNREGISTER_DELAY_MS
configuredPMemForContainers
NodeManagerHardwareUtils
getContainerMemoryMB
resourceCalculatorPlugin
configuredVCoresForContainers
getVCores
vmemRatio
getFloat
NM_VMEM_PMEM_RATIO
DEFAULT_NM_VMEM_PMEM_RATIO
Preconditions
checkArgument
Resource
resourcesForContainers
newInstance
setAllocatedResourcesForContainers
pmemCheckEnabled
NM_PMEM_CHECK_ENABLED
DEFAULT_NM_PMEM_CHECK_ENABLED
vmemCheckEnabled
NM_VMEM_CHECK_ENABLED
DEFAULT_NM_VMEM_CHECK_ENABLED
elasticMemoryEnforcement
NM_ELASTIC_MEMORY_CONTROL_ENABLED
DEFAULT_NM_ELASTIC_MEMORY_CONTROL_ENABLED
strictMemoryEnforcement
NM_MEMORY_RESOURCE_ENFORCED
DEFAULT_NM_MEMORY_RESOURCE_ENFORCED
LOG
info
processTreeClass
containerMetricsEnabled
conf
getBoolean
YarnConfiguration
NM_CONTAINER_METRICS_ENABLE
DEFAULT_NM_CONTAINER_METRICS_ENABLE
containerMetricsPeriodMs
getLong
NM_CONTAINER_METRICS_PERIOD_MS
DEFAULT_NM_CONTAINER_METRICS_PERIOD_MS
containerMetricsUnregisterDelayMs
NM_CONTAINER_METRICS_UNREGISTER_DELAY_MS
DEFAULT_NM_CONTAINER_METRICS_UNREGISTER_DELAY_MS
configuredPMemForContainers
NodeManagerHardwareUtils
getContainerMemoryMB
resourceCalculatorPlugin
configuredVCoresForContainers
getVCores
vmemRatio
getFloat
NM_VMEM_PMEM_RATIO
DEFAULT_NM_VMEM_PMEM_RATIO
Preconditions
checkArgument
Resource
resourcesForContainers
newInstance
setAllocatedResourcesForContainers
pmemCheckEnabled
NM_PMEM_CHECK_ENABLED
DEFAULT_NM_PMEM_CHECK_ENABLED
vmemCheckEnabled
NM_VMEM_CHECK_ENABLED
DEFAULT_NM_VMEM_CHECK_ENABLED
elasticMemoryEnforcement
NM_ELASTIC_MEMORY_CONTROL_ENABLED
DEFAULT_NM_ELASTIC_MEMORY_CONTROL_ENABLED
strictMemoryEnforcement
NM_MEMORY_RESOURCE_ENFORCED
DEFAULT_NM_MEMORY_RESOURCE_ENFORCED
containerMetricsEnabled
conf
getBoolean
YarnConfiguration
NM_CONTAINER_METRICS_ENABLE
DEFAULT_NM_CONTAINER_METRICS_ENABLE
containerMetricsPeriodMs
getLong
NM_CONTAINER_METRICS_PERIOD_MS
DEFAULT_NM_CONTAINER_METRICS_PERIOD_MS
containerMetricsUnregisterDelayMs
NM_CONTAINER_METRICS_UNREGISTER_DELAY_MS
DEFAULT_NM_CONTAINER_METRICS_UNREGISTER_DELAY_MS
configuredPMemForContainers
NodeManagerHardwareUtils
getContainerMemoryMB
resourceCalculatorPlugin
configuredVCoresForContainers
getVCores
vmemRatio
getFloat
NM_VMEM_PMEM_RATIO
DEFAULT_NM_VMEM_PMEM_RATIO
Preconditions
checkArgument
Resource
resourcesForContainers
newInstance
setAllocatedResourcesForContainers
pmemCheckEnabled
NM_PMEM_CHECK_ENABLED
DEFAULT_NM_PMEM_CHECK_ENABLED
vmemCheckEnabled
NM_VMEM_CHECK_ENABLED
DEFAULT_NM_VMEM_CHECK_ENABLED
elasticMemoryEnforcement
NM_ELASTIC_MEMORY_CONTROL_ENABLED
DEFAULT_NM_ELASTIC_MEMORY_CONTROL_ENABLED
strictMemoryEnforcement
NM_MEMORY_RESOURCE_ENFORCED
DEFAULT_NM_MEMORY_RESOURCE_ENFORCED
LOG
info
containerMetricsPeriodMs
conf
getLong
YarnConfiguration
NM_CONTAINER_METRICS_PERIOD_MS
DEFAULT_NM_CONTAINER_METRICS_PERIOD_MS
containerMetricsUnregisterDelayMs
NM_CONTAINER_METRICS_UNREGISTER_DELAY_MS
DEFAULT_NM_CONTAINER_METRICS_UNREGISTER_DELAY_MS
configuredPMemForContainers
NodeManagerHardwareUtils
getContainerMemoryMB
resourceCalculatorPlugin
configuredVCoresForContainers
getVCores
vmemRatio
getFloat
NM_VMEM_PMEM_RATIO
DEFAULT_NM_VMEM_PMEM_RATIO
Preconditions
checkArgument
Resource
resourcesForContainers
newInstance
setAllocatedResourcesForContainers
pmemCheckEnabled
getBoolean
NM_PMEM_CHECK_ENABLED
DEFAULT_NM_PMEM_CHECK_ENABLED
vmemCheckEnabled
NM_VMEM_CHECK_ENABLED
DEFAULT_NM_VMEM_CHECK_ENABLED
elasticMemoryEnforcement
NM_ELASTIC_MEMORY_CONTROL_ENABLED
DEFAULT_NM_ELASTIC_MEMORY_CONTROL_ENABLED
strictMemoryEnforcement
NM_MEMORY_RESOURCE_ENFORCED
DEFAULT_NM_MEMORY_RESOURCE_ENFORCED
LOG
info
setAllocatedResourcesForContainers
resourcesForContainers
pmemCheckEnabled
conf
getBoolean
YarnConfiguration
NM_PMEM_CHECK_ENABLED
DEFAULT_NM_PMEM_CHECK_ENABLED
vmemCheckEnabled
NM_VMEM_CHECK_ENABLED
DEFAULT_NM_VMEM_CHECK_ENABLED
elasticMemoryEnforcement
NM_ELASTIC_MEMORY_CONTROL_ENABLED
DEFAULT_NM_ELASTIC_MEMORY_CONTROL_ENABLED
strictMemoryEnforcement
NM_MEMORY_RESOURCE_ENFORCED
DEFAULT_NM_MEMORY_RESOURCE_ENFORCED
LOG
info
YarnException
oomListenerThread
CGroupElasticMemoryController
context
ResourceHandlerModule
getCGroupsHandler
maxPmemAllottedForContainers
maxVmemAllottedForContainers
containersMonitorEnabled
isContainerMonitorEnabled
monitoringInterval
ContainerStartMonitoringEvent
startEvent
monitoringEvent
Map
String
ResourcePlugin
pluginMap
Maps
newHashMap
resourceName
trim
ensurePluginIsSupported
plugin
GpuDiscoverer
gpuDiscoverer
GpuNodeResourceUpdateHandler
updateHandler
conf
GpuResourcePlugin
FpgaResourcePlugin
YarnException
initialize
context
String
msg
resourceName
StringUtils
join
SUPPORTED_RESOURCE_PLUGINS
Class
pluginClazz
forName
pluginClassName
YarnRuntimeException
DevicePlugin
getCanonicalName
checkInterfaceCompatibility
dpInstance
ReflectionUtils
newInstance
configuration
DeviceRegisterRequest
request
getRegisterRequestInfo
e
getMessage
String
resourceName
getResourceName
Class
pluginClazz
forName
pluginClassName
YarnRuntimeException
DevicePlugin
getCanonicalName
checkInterfaceCompatibility
dpInstance
ReflectionUtils
newInstance
configuration
DeviceRegisterRequest
request
getRegisterRequestInfo
e
getMessage
String
resourceName
getResourceName
YarnConfiguration
RESOURCE_TYPES_CONFIGURATION_FILE
DeviceRegisterRequest
request
dpInstance
getRegisterRequestInfo
YarnRuntimeException
e
getMessage
String
resourceName
getResourceName
pluginClassName
YarnConfiguration
RESOURCE_TYPES_CONFIGURATION_FILE
LOG
info
DevicePluginAdapter
pluginAdapter
deviceMappingManager
initialize
context
YarnRuntimeException
e
getMessage
String
resourceName
request
getResourceName
pluginClassName
YarnConfiguration
RESOURCE_TYPES_CONFIGURATION_FILE
LOG
info
DevicePluginAdapter
pluginAdapter
dpInstance
deviceMappingManager
initialize
context
LOG
debug
expectedClass
getSimpleName
Method
expectedDevicePluginMethods
getMethods
found
LOG
debug
expectedClass
getSimpleName
Method
expectedDevicePluginMethods
getMethods
found
method
getName
LOG
info
binaryName
found
String
envBinaryPath
envProvider
apply
ENV_SCRIPT_PATH
binaryPath
getScriptFromEnvSetting
warn
getScriptFromHadoopCommon
getScriptFromSearchDirs
scriptPaths
Set
Device
devices
HashSet
String
scriptPath
hadoopCommon
envProvider
apply
HADOOP_COMMON_HOME
targetPath
binaryName
String
scriptPath
hadoopCommon
envProvider
apply
HADOOP_COMMON_HOME
targetPath
binaryName
LOG
info
String
scriptPath
File
f
dir
binaryName
CommandExecutor
executor
commandExecutorProvider
apply
String
p
toString
CommandExecutor
executor
commandExecutorProvider
apply
String
p
toString
LOG
info
execute
statOutput
getOutput
stat
trim
split
major
Integer
parseInt
minor
devType
getDevType
deviceNumber
makeDev
CommandExecutor
executor
commandExecutorProvider
apply
String
p
toString
LOG
info
execute
statOutput
getOutput
stat
trim
split
major
Integer
parseInt
minor
devType
getDevType
deviceNumber
makeDev
sysPath
udev
getSysPath
String
output
String
output
LOG
debug
devName
shellExecutor
getMajorMinorInfo
strs
trim
split
num
String
policy
envs
get
TOPOLOGY_POLICY_ENV_KEY
TOPOLOGY_POLICY_PACK
LOG
error
List
Map
Entry
Set
Device
Integer
combinationsToCost
cTable
count
Iterator
iterator
LinkedList
descendingIterator
element
next
allocation
addAll
getKey
String
envBinaryPath
System
getenv
ENV_BINARY_PATH
pathOfGpuBinary
LOG
info
File
binaryFile
found
dir
DEFAULT_BINARY_NAME
getAbsolutePath
pathOfGpuBinary
envBinaryPath
LOG
info
File
binaryFile
found
dir
DEFAULT_BINARY_NAME
getAbsolutePath
Resource
requestedResource
container
getResource
ContainerId
containerId
getContainerId
requestedDeviceCount
getRequestedDeviceCount
resourceName
Iterator
Map
Entry
Device
ContainerId
iter
allUsedDevices
get
resourceName
entrySet
iterator
entry
next
deviceDockerCommandPlugin
DeviceResourceDockerRuntimePluginImpl
resourceName
devicePlugin
deviceResourceUpdater
DeviceResourceUpdaterImpl
String
containerId
container
getContainerId
toString
String
containerId
container
getContainerId
toString
LOG
debug
DeviceRuntimeSpec
deviceRuntimeSpec
getRuntimeSpec
warn
devicePlugin
getClass
getCanonicalName
dockerRunCommand
addRuntime
getContainerRuntime
Set
MountDeviceSpec
deviceMounts
getDeviceMounts
addDevice
mountDeviceSpec
getDevicePathInHost
getDevicePathInContainer
MountVolumeSpec
mountVolumeSpecs
getVolumeMounts
LOG
warn
devicePlugin
getClass
getCanonicalName
containerId
dockerRunCommand
addRuntime
deviceRuntimeSpec
getContainerRuntime
debug
Set
MountDeviceSpec
deviceMounts
getDeviceMounts
addDevice
mountDeviceSpec
getDevicePathInHost
getDevicePathInContainer
MountVolumeSpec
mountVolumeSpecs
getVolumeMounts
addReadOnlyMountLocation
mountVolumeSpec
getHostPath
getMountPath
addReadWriteMountLocation
ContainerId
containerId
container
getContainerId
DeviceRuntimeSpec
deviceRuntimeSpec
cachedSpec
get
Set
Device
allocated
getAllocatedDevices
String
containerIdStr
container
getContainerId
toString
DeviceMappingManager
DeviceAllocation
allocation
deviceMappingManager
assignDevices
resourceName
LOG
error
Optional
empty
File
f
path
ShellCommandExecutor
shell
String
MAX_EXEC_TIMEOUT_MS
execute
output
getOutput
of
String
vendorPluginClass
conf
get
YarnConfiguration
NM_FPGA_VENDOR_PLUGIN
DEFAULT_NM_FPGA_VENDOR_PLUGIN
String
pluginDefaultBinaryName
DEFAULT_BINARY_NAME
executable
config
get
YarnConfiguration
NM_FPGA_PATH_TO_EXEC
File
binaryPath
LOG
warn
pluginDefaultPreferredPath
getDefaultPathToExecutable
ALTERAOCLSDKROOT_NAME
getAbsolutePath
String
ipFilePath
Shell
ShellCommandExecutor
shexec
String
aclName
device
getAliasDevName
pathToExecutable
ipPath
execute
Shell
ShellCommandExecutor
shexec
String
aclName
device
getAliasDevName
pathToExecutable
ipPath
execute
LOG
debug
getOutput
Shell
ShellCommandExecutor
shexec
String
aclName
device
getAliasDevName
pathToExecutable
ipPath
execute
LOG
debug
getOutput
info
error
Shell
ShellCommandExecutor
shexec
String
aclName
device
getAliasDevName
pathToExecutable
ipPath
execute
LOG
debug
getOutput
info
error
e
String
msg
getErrorMessageOfScriptExecutionThresholdReached
String
msg
getErrorMessageOfScriptExecutionThresholdReached
LOG
error
YarnException
lastDiscoveredGpuInformation
nvidiaBinaryHelper
getGpuDeviceInformation
pathOfGpuBinary
numOfErrorExecutionSinceLastSucceed
getErrorMessageOfScriptExecution
e
getMessage
debug
getFailedToParseErrorMessage
String
msg
YarnConfiguration
NM_GPU_ALLOWED_DEVICES
AUTOMATICALLY_DISCOVER_GPU_DEVICES
throwIfNecessary
GpuDeviceSpecificationException
createWithWrongValueSpecified
device
devices
getConf
LOG
warn
GpuDevice
gpuDevice
parseGpuDevice
splitByColon
e
gpuDevices
add
createWithDuplicateValueSpecified
setConf
config
nvidiaBinaryHelper
nvidiaHelper
numOfErrorExecutionSinceLastSucceed
lookUpAutoDiscoveryBinary
LOG
info
GpuDeviceInformation
getGpuDeviceInformation
LOG
info
List
GpuDevice
usableGpus
gpuDiscoverer
getGpusUsableByYarn
String
message
String
msg
MAX_REPEATED_ERROR_ALLOWED
String
endpoint
conf
get
YarnConfiguration
NVIDIA_DOCKER_PLUGIN_V1_ENDPOINT
DEFAULT_NVIDIA_DOCKER_PLUGIN_V1_ENDPOINT
String
cliOptions
URL
url
endpoint
URLConnection
uc
openConnection
setRequestProperty
StringWriter
writer
IOUtils
copy
getInputStream
toString
LOG
info
str
trim
addToCommand
DEVICE_OPTION
getValue
volumeDriver
List
Container
extraOppContainersToReclaim
pickOpportunisticContainersToReclaimResources
container
getContainerId
String
preemptionAction
usePauseEventForPreemption
numAllowed
queuingLimit
getMaxQueueLength
Iterator
Container
containerIter
queuedOpportunisticContainers
values
iterator
container
next
sendKillEvent
ContainerExitStatus
KILLED_BY_CONTAINER_SCHEDULER
remove
LOG
info
Map
String
volumeMounts
HashMap
List
VolumeMetaData
volumes
getVolumes
LOG
info
List
VolumeMetaData
volumes
getVolumes
Map
String
bindVolumes
HashMap
File
localMount
getLocalVolumeMountPath
localMountRoot
volume
getVolumeId
toString
localStaging
getLocalVolumeStagingPath
String
idStr
containerId
toString
String
localPath
proto
getLocalPath
startedKey
getResourceStartedKey
user
appId
completedKey
getResourceCompletedKey
String
localPathStr
localPath
toString
startedKey
getResourceStartedKey
user
appId
completedKey
getResourceCompletedKey
iter
next
result
setNextMasterKey
parseMasterKey
entry
getValue
LOG
info
getNextMasterKey
getKeyId
idEndPos
ApplicationAttemptId
attemptId
key
indexOf
AMRMPROXY_KEY_PREFIX
length
IOException
fromString
substring
warn
e
unknownKeys
add
Path
storeRoot
createStorageDir
conf
Options
options
createIfMissing
Version
loadedVersion
loadVersion
nodeHostAddr
nodeId
toString
List
ApplicationAttemptId
appAttemptList
appToAppAttemptMap
get
appId
dispatcher
createDispatcher
register
NMTimelineEventType
ForwardingEventHandler
addIfService
nmLoginUGI
UserGroupInformation
isSecurityEnabled
getLoginUser
getCurrentUser
memoryMetric
setRealtimeAggregationOp
TimelineMetricOperation
SUM
addValue
currentTimeMillis
pmemUsage
entity
addMetric
TimelineMetric
cpuMetric
setId
ContainerMetric
CPU
toString
Math
round
cpuUsagePercentPerCore
ApplicationId
appId
container
getContainerId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
entity
addMetric
memoryMetric
TimelineMetric
cpuMetric
setId
ContainerMetric
CPU
toString
setRealtimeAggregationOp
TimelineMetricOperation
SUM
addValue
currentTimeMillis
Math
round
cpuUsagePercentPerCore
ApplicationId
appId
container
getContainerId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
LOG
error
TimelineMetric
cpuMetric
setId
ContainerMetric
CPU
toString
setRealtimeAggregationOp
TimelineMetricOperation
SUM
addValue
currentTimeMillis
Math
round
cpuUsagePercentPerCore
entity
addMetric
ApplicationId
appId
container
getContainerId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
LOG
error
TimelineMetric
cpuMetric
setId
ContainerMetric
CPU
toString
setRealtimeAggregationOp
TimelineMetricOperation
SUM
addValue
currentTimeMillis
Math
round
cpuUsagePercentPerCore
entity
addMetric
ApplicationId
appId
container
getContainerId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
LOG
error
debug
e
cpuMetric
setId
ContainerMetric
CPU
toString
setRealtimeAggregationOp
TimelineMetricOperation
SUM
addValue
currentTimeMillis
Math
round
cpuUsagePercentPerCore
entity
addMetric
ApplicationId
appId
container
getContainerId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
LOG
error
debug
e
Container
container
event
getContainer
ContainerId
containerId
getContainerId
TimelineEntity
entity
createContainerEntity
TimelineEvent
tEvent
setId
eventType
setTimestamp
getTimestamp
addEvent
ApplicationId
appId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
Container
container
event
getContainer
ContainerId
containerId
getContainerId
TimelineEntity
entity
createContainerEntity
TimelineEvent
tEvent
setId
eventType
setTimestamp
getTimestamp
addEvent
ApplicationId
appId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
LOG
error
ContainerId
containerId
container
getContainerId
TimelineEntity
entity
createContainerEntity
TimelineEvent
tEvent
setId
eventType
setTimestamp
event
getTimestamp
addEvent
ApplicationId
appId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
LOG
error
TimelineEvent
tEvent
setId
eventType
setTimestamp
event
getTimestamp
entity
addEvent
ApplicationId
appId
container
getContainerId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
LOG
error
debug
e
tEvent
setId
eventType
setTimestamp
event
getTimestamp
entity
addEvent
ApplicationId
appId
container
getContainerId
getApplicationAttemptId
getApplicationId
TimelineV2Client
timelineClient
getTimelineClient
putEntitiesAsync
LOG
error
debug
e
getMessage
String
path
pathForCgroup
controller
groupName
String
path
pathForCgroup
controller
groupName
param
String
str
inl
readLine
deleted
Configuration
conf
configuration
String
memory
ResourceInformation
MEMORY_MB
getName
vcores
VCORES
Resource
ret
newInstance
Map
resourceInformation
ResourceUtils
getNodeResourceInformation
setResourceInformation
entry
getKey
getValue
Configuration
conf
configuration
String
memory
ResourceInformation
MEMORY_MB
getName
vcores
VCORES
Resource
ret
newInstance
Map
resourceInformation
ResourceUtils
getNodeResourceInformation
setResourceInformation
entry
getKey
getValue
LOG
debug
Long
value
get
YarnRuntimeException
memResInfo
setMemorySize
getContainerMemoryMB
Long
value
resourceInformation
get
memory
getValue
YarnRuntimeException
ResourceInformation
memResInfo
ret
setMemorySize
getContainerMemoryMB
conf
LOG
debug
getMemorySize
vcores
vcoresResInfo
setVirtualCores
getVCores
Long
value
resourceInformation
get
memory
getValue
YarnRuntimeException
ResourceInformation
memResInfo
ret
setMemorySize
getContainerMemoryMB
conf
LOG
debug
getMemorySize
vcores
vcoresResInfo
setVirtualCores
getVCores
getVirtualCores
String
command
containerPath
containerURI
getPath
split
cId
toLowerCase
Container
container
nmContext
getContainers
get
ContainerId
fromString
session
close
LOG
info
getRemoteAddress
getHostString
command
containerPath
toLowerCase
Container
container
nmContext
getContainers
get
ContainerId
fromString
cId
session
close
LOG
info
getRemoteAddress
getHostString
ContainerExecContext
execContext
Builder
setContainer
setNMLocalPath
getLocalDirsHandler
setShell
build
pair
exec
execContainer
StringBuilder
sb
String
endOfFile
outputFileName
append
containerIdStr
StringUtils
repeat
length
os
write
toString
getBytes
Charset
forName
ApplicationId
appId
containerId
getApplicationAttemptId
getApplicationId
Application
app
nmContext
getApplications
get
appOwner
getUser
ContainerLogsRequest
logRequest
setAppId
hasHadoopAuthFilterInitializer
targets
add
initializer
getName
AuthenticationFilterInitializer
conf
set
filterInitializerConfKey
StringUtils
join
ContainerShellWebSocket
init
nmContext
LOG
info
bindAddress
webApp
WebApps
$for
Context
at
withServlet
ContainerShellWebSocketServlet
params
TerminalServlet
terminalParams
with
withHttpSpnegoPrincipalKey
YarnConfiguration
NM_WEBAPP_SPNEGO_USER_NAME_KEY
withHttpSpnegoKeytabKey
NM_WEBAPP_SPNEGO_KEYTAB_FILE_KEY
withCSRFProtection
NM_CSRF_PREFIX
withXFSProtection
NM_XFS_PREFIX
start
nmWebApp
port
httpServer
getConnectorAddress
getPort
dispatcher
getEventHandler
handle
ApplicationInitedEvent
app
getAppId
Path
workSpacePath
workSpace
getAbsolutePath
files
mkdir
FileUtil
chmod
File
localDir
getAbsoluteFile
FsPermission
logDir
String
exec_path
System
getProperty
conf
Configuration
setClass
org
apache
hadoop
fs
local
LocalFs
AbstractFileSystem
appSubmitter
set
YarnConfiguration
NM_NONSECURE_MODE_LOCAL_USER_KEY
assertThat
result
get
isEqualTo
String
format
mockExec
getConf
YarnConfiguration
NM_LOG_DIRS
nm
init
conf
Object
services
getServices
toArray
lastService
length
Assert
assertTrue
NodeStatusUpdater
start
TestNodeStatusUpdater
nmStartError
e
YarnRuntimeException
System
out
println
getServiceState
waitCount
MyNodeStatusUpdater
context
dispatcher
healthChecker
metrics
MyContainerManager
exec
del
nodeStatusUpdater
diskhandler
YarnConfiguration
conf
createNMConfig
nm
init
start
System
out
println
getServiceState
waitCount
LOG
info
LOG
info
Server
resourceTracker
getMockResourceTracker
resource
start
NodeManager
nodeManager
YarnConfiguration
nmConf
setSocketAddr
RM_RESOURCE_TRACKER_ADDRESS
getListenerAddress
set
NM_LOCALIZER_ADDRESS
init
ContainerManager
containerManager
getContainerManager
ContainersMonitor
containerMonitor
getContainersMonitor
assertEquals
getVCoresAllocatedForContainers
GB
getPmemAllocatedForContainers
YarnConfiguration
nmConf
setSocketAddr
RM_RESOURCE_TRACKER_ADDRESS
resourceTracker
getListenerAddress
set
NM_LOCALIZER_ADDRESS
nodeManager
init
start
LOG
info
ContainerManager
containerManager
getContainerManager
ContainersMonitor
containerMonitor
getContainersMonitor
assertEquals
getVCoresAllocatedForContainers
GB
getPmemAllocatedForContainers
resource
GenericTestUtils
waitFor
setVirtualCores
setMemorySize
ExecutorCompletionService
R
completionService
getThreadPool
ExecutorCompletionService
R
completionService
getThreadPool
LOG
info
testContexts
size
T
testContext
get
index
ExecutorCompletionService
R
completionService
getThreadPool
LOG
info
testContexts
size
T
testContext
get
index
toString
ExecutorCompletionService
R
completionService
getThreadPool
LOG
info
testContexts
size
T
testContext
get
index
toString
response
func
invoke
T
testContext
testContexts
get
index
LOG
info
toString
R
response
func
invoke
error
ArrayList
responseList
response
func
invoke
testContext
LOG
info
toString
error
ArrayList
R
responseList
testContexts
size
Future
future
completionService
take
get
TimeUnit
MILLISECONDS
add
RegisterApplicationMasterResponseInfo
T
response
index
testContexts
indexOf
testContext
registerApplicationMaster
Assert
assertNotNull
getResponse
assertEquals
Integer
toString
getQueue
FinishApplicationMasterResponseInfo
T
response
finishApplicationMaster
testContexts
indexOf
testContext
FinalApplicationStatus
SUCCEEDED
Assert
assertNotNull
getResponse
ArrayList
String
testContexts
ArrayList
String
testContexts
LOG
info
numberOfRequests
add
Integer
toString
ep
numberOfRequests
ArrayList
String
testContexts
numberOfRequests
ArrayList
String
testContexts
LOG
info
add
Integer
toString
i
numberOfApps
ArrayList
Integer
tempAppIds
add
i
appIds
RegisterApplicationMasterResponse
registerResponse
registerApplicationMaster
testAppId
Assert
assertNotNull
List
Container
containers
getContainersAndAssert
releaseContainersAndAssert
LOG
info
List
Container
containers
ArrayList
numberOfResourceRequests
ResourceRequest
askList
add
createResourceRequest
Integer
toString
testAppId
allocateRequest
setAskList
AllocateResponse
allocateResponse
allocate
appId
Assert
assertNotNull
assertNull
getAMRMToken
addAll
getAllocatedContainers
numHeartbeat
Records
newRecord
AllocateRequest
List
ResourceRequest
askList
ArrayList
numberOfResourceRequests
add
createResourceRequest
Integer
toString
testAppId
allocateRequest
setAskList
AllocateResponse
allocateResponse
allocate
appId
Assert
assertNotNull
assertNull
getAMRMToken
containers
addAll
getAllocatedContainers
numHeartbeat
Records
newRecord
AllocateRequest
LOG
info
size
allocateRequest
setReleaseList
relList
AllocateResponse
allocateResponse
allocate
appId
Assert
assertNotNull
assertNull
getAMRMToken
List
ContainerId
containersForReleasedContainerIds
ArrayList
newlyFinished
getCompletedContainerIds
getCompletedContainersStatuses
addAll
numHeartbeat
Records
newRecord
AllocateRequest
LOG
info
Integer
toString
getAllocatedContainers
size
AllocateResponse
allocateResponse
interceptor
allocate
allocateRequest
Assert
assertNotNull
checkAMRMToken
getAMRMToken
lastResponseId
getResponseId
containers
addAll
getAllocatedContainers
LOG
info
Integer
toString
size
numHeartbeat
Records
newRecord
AllocateRequest
setResponseId
drainAllAsyncQueue
Assert
assertNotNull
allocateResponse
checkAMRMToken
getAMRMToken
lastResponseId
getResponseId
containers
addAll
getAllocatedContainers
LOG
info
Integer
toString
size
numHeartbeat
allocateRequest
Records
newRecord
AllocateRequest
setResponseId
interceptor
allocate
drainAllAsyncQueue
Assert
assertTrue
containers
size
AllocateRequest
allocateRequest
Records
newRecord
List
ContainerId
relList
ArrayList
add
container
getId
setReleaseList
setResponseId
lastResponseId
AllocateResponse
allocateResponse
interceptor
allocate
assertNotNull
checkAMRMToken
getAMRMToken
getResponseId
containersForReleasedContainerIds
newlyFinished
getCompletedContainerIds
getCompletedContainersStatuses
addAll
lastResponseId
allocateResponse
getResponseId
List
ContainerId
containersForReleasedContainerIds
ArrayList
newlyFinished
getCompletedContainerIds
getCompletedContainersStatuses
addAll
LOG
info
Integer
toString
size
numHeartbeat
allocateRequest
Records
newRecord
AllocateRequest
setResponseId
interceptor
allocate
Assert
assertNotNull
checkAMRMToken
getAMRMToken
drainAllAsyncQueue
List
ContainerId
containersForReleasedContainerIds
ArrayList
newlyFinished
getCompletedContainerIds
allocateResponse
getCompletedContainersStatuses
addAll
LOG
info
Integer
toString
size
numHeartbeat
allocateRequest
Records
newRecord
AllocateRequest
setResponseId
lastResponseId
interceptor
allocate
Assert
assertNotNull
checkAMRMToken
getAMRMToken
getResponseId
drainAllAsyncQueue
registerReq
setHost
Integer
toString
testAppId
setRpcPort
setTrackingUrl
UserGroupInformation
ugi
interceptor
getUGIWithToken
getAttemptId
RegisterApplicationMasterResponse
registerResponse
registerApplicationMaster
Assert
assertNotNull
lastResponseId
assertEquals
getUnmanagedAMPoolSize
registerSubCluster
SubClusterId
newInstance
HOME_SC_ID
numberOfContainers
List
Container
containers
getContainersAndAssert
localFS
delete
Path
localDir
getAbsolutePath
tmpDir
localLogDir
remoteLogDir
mkdir
localFS
delete
Path
localDir
getAbsolutePath
tmpDir
localLogDir
remoteLogDir
mkdir
LOG
info
List
ContainerId
list
ArrayList
add
containerID
GetContainerStatusesRequest
request
newInstance
ContainerStatus
containerStatus
HashSet
ContainerState
fStates
finalStates
timeoutSecs
Thread
sleep
containerManager
getContainerStatuses
get
Application
app
containerManager
getContext
getApplications
get
appID
timeout
localFS
delete
Path
localDir
getAbsolutePath
tmpDir
localLogDir
remoteLogDir
mkdir
localFS
delete
Path
localDir
getAbsolutePath
tmpDir
localLogDir
remoteLogDir
mkdir
LOG
info
StartContainersRequest
allRequests
newInstance
list
containerManager
startContainers
timeoutSecs
Thread
sleep
LOG
info
Assert
assertTrue
processStartFile
exists
BufferedReader
reader
FileReader
String
pid
readLine
trim
assertEquals
close
childProcessStartFile
child
List
PrivilegedOperation
ops
ArrayList
add
opTasksNone
opDisallowed
PrivilegedOperationExecutor
squashCGroupOperations
Assert
fail
LOG
info
e
clear
opTasksInvalid
File
emptyMtab
createEmptyCgroups
CGroupsHandler
cGroupsHandler
CGroupsHandlerImpl
createMountConfiguration
privilegedOperationExecutorMock
getAbsolutePath
PrivilegedOperation
expectedOp
OperationType
MOUNT_CGROUPS
String
controllerKV
controller
getName
tmpPath
Path
SEPARATOR
appendArgs
hierarchy
initializeCGroupController
ArgumentCaptor
opCaptor
forClass
verify
executePrivilegedOperation
capture
eq
Assert
assertEquals
getValue
verifyNoMoreInteractions
PrivilegedOperation
expectedOp
OperationType
MOUNT_CGROUPS
String
controllerKV
controller
getName
tmpPath
Path
SEPARATOR
appendArgs
hierarchy
cGroupsHandler
initializeCGroupController
ArgumentCaptor
opCaptor
forClass
verify
privilegedOperationExecutorMock
executePrivilegedOperation
capture
eq
Assert
assertEquals
getValue
verifyNoMoreInteractions
LOG
error
e
assertTrue
String
path
cGroupsHandler
createCGroup
controller
testCGroup
assertTrue
File
expectedPath
exists
Assert
assertEquals
param
paramValue
updateCGroupParam
paramPath
Path
SEPARATOR
getName
paramFile
Files
readAllBytes
toPath
LOG
error
e
fail
conf
setBoolean
YarnConfiguration
NM_RECOVERY_ENABLED
TrafficController
trafficController
privilegedOperationExecutorMock
when
executePrivilegedOperation
any
PrivilegedOperation
eq
thenReturn
DEFAULT_TC_STATE_EXAMPLE
bootstrap
DEVICE
ROOT_BANDWIDTH_MBIT
YARN_BANDWIDTH_MBIT
ArgumentCaptor
readOpCaptor
forClass
verify
times
capture
List
readOps
getAllValues
verifyTrafficControlOperation
get
OperationType
TC_READ_STATE
Arrays
asList
READ_QDISC_CMD
READ_FILTER_CMD
READ_CLASS_CMD
writeOpCaptor
writeOps
TC_MODIFY_STATE
WIPE_STATE_CMD
ADD_ROOT_QDISC_CMD
ADD_CGROUP_FILTER_CMD
ADD_ROOT_CLASS_CMD
ADD_DEFAULT_CLASS_CMD
ADD_YARN_CLASS_CMD
Assert
assertTrue
classId
MIN_CONTAINER_CLASS_ID
assertEquals
String
format
FORMAT_CONTAINER_CLASS_STR
trafficController
getStringForNetClsClassId
TrafficController
BatchBuilder
builder
PrivilegedOperation
OperationType
TC_MODIFY_STATE
addContainerClass
CONTAINER_BANDWIDTH_MBIT
addClassOp
commitBatchToTempFile
expectedAddClassCmd
FORMAT_ADD_CONTAINER_CLASS_TO_DEVICE
YARN_BANDWIDTH_MBIT
verifyTrafficControlOperation
Arrays
asList
strictModeBuilder
addClassStrictModeOp
expectedAddClassStrictModeCmd
deleteBuilder
deleteContainerClass
deleteClassOp
expectedDeleteClassCmd
FORAMT_DELETE_CONTAINER_CLASS_FROM_DEVICE
when
mockApplicationId
toString
thenReturn
appAttemptId
getApplicationId
cId
getApplicationAttemptId
container
getLaunchContext
context
getEnvironment
env
getUser
submittingUser
String
uid
gid
Shell
ShellCommandExecutor
shexec1
runAsUser
shexec2
shexec3
execute
getOutput
replaceAll
when
container
getUser
thenReturn
submittingUser
String
uid
gid
Shell
ShellCommandExecutor
shexec1
runAsUser
shexec2
shexec3
execute
getOutput
replaceAll
LOG
info
e
Shell
ShellCommandExecutor
shexec3
String
runAsUser
shexec1
execute
uid
getOutput
replaceAll
LOG
info
e
shexec2
gid
groups
replace
split
ConcurrentMap
ContainerId
Container
containerMap
mock
when
mockNMContext
getLocalDirsHandler
thenReturn
localDirsHandler
getResourcePluginManager
resourcePluginManager
getContainers
get
any
container
ContainerManager
mockContainerManager
ResourceLocalizationService
mockLocalzationService
LocalizedResource
mockLocalizedResource
getLocalPath
Path
getLocalizedResource
anyString
getResourceLocalizationService
getContainerManager
getLocalPathForWrite
tmpPath
Assert
assertEquals
dockerCommands
get
counter
String
join
groups
uidGidPair
env
put
DockerLinuxContainerRuntime
ENV_DOCKER_CONTAINER_NETWORK
customNetwork3
runtime
launchContainer
builder
build
fail
ConcurrentMap
ContainerId
Container
containerMap
mock
when
mockNMContext
getLocalDirsHandler
thenReturn
localDirsHandler
getResourcePluginManager
resourcePluginManager
getContainers
get
any
container
ContainerManager
mockContainerManager
ResourceLocalizationService
mockLocalzationService
LocalizedResource
mockLocalizedResource
getLocalPath
Path
getLocalizedResource
anyString
getResourceLocalizationService
getContainerManager
getLocalPathForWrite
tmpPath
String
containerStr
containerId
toString
File
containerLogDir
appLogDir
created
mkdirs
LogKey
key
valueStream
reader
next
LOG
info
toString
Map
String
perContainerMap
HashMap
logMap
put
ByteArrayOutputStream
baos
PrintStream
ps
LogReader
readAContainerLogsForALogType
writtenLines
split
System
getProperty
Assert
assertEquals
substring
fileType
fileTypes
add
Path
appLogDir
logAggregationService
getLogAggregationFileController
conf
getRemoteAppLogDir
appId
user
RemoteIterator
FileStatus
nodeFiles
qualifiedLogDir
FileContext
getFileContext
makeQualified
toUri
listStatus
LOG
info
fnf
count
status
next
String
filename
getPath
getName
Path
qualifiedLogDir
FileContext
getFileContext
conf
makeQualified
appLogDir
nodeFiles
toUri
listStatus
LOG
info
fnf
count
FileStatus
status
next
String
filename
getPath
getName
lastLogFile
totalBoostAgainstMedian
bstAgainstMedian
totalBoostAgainstMin
bstAgainstMinimum
count
maxBoostAgainstMedian
maxBoostAgainstMin
totalBoostAgainstMinCertainModel
totalBoostAgainstMedianCertainModel
maxBoostAgainstMinCertainModel
maxBoostAgainstMedianCertainModel
countOfEachModel
LOG
info
model
totalBoostAgainstMin
bstAgainstMinimum
count
maxBoostAgainstMedian
bstAgainstMedian
maxBoostAgainstMin
totalBoostAgainstMinCertainModel
totalBoostAgainstMedianCertainModel
maxBoostAgainstMinCertainModel
maxBoostAgainstMedianCertainModel
countOfEachModel
LOG
info
model
count
maxBoostAgainstMedian
bstAgainstMedian
maxBoostAgainstMin
bstAgainstMinimum
totalBoostAgainstMinCertainModel
totalBoostAgainstMedianCertainModel
maxBoostAgainstMinCertainModel
maxBoostAgainstMedianCertainModel
countOfEachModel
LOG
info
model
maxBoostAgainstMin
bstAgainstMinimum
totalBoostAgainstMinCertainModel
totalBoostAgainstMedianCertainModel
bstAgainstMedian
maxBoostAgainstMinCertainModel
maxBoostAgainstMedianCertainModel
countOfEachModel
LOG
info
model
maxBoostAgainstMedian
totalBoostAgainstMedian
count
port
startNMWebAppServer
LOG
info
port
StringBuilder
sb
append
String
dest
toString
WebSocketClient
client
ContainerShellClientSocketTest
socket
start
URI
echoUri
Future
Session
future
connect
session
get
getRemote
sendString
close
stop
ContainerShellClientSocketTest
socket
client
start
URI
echoUri
dest
Future
Session
future
connect
session
get
getRemote
sendString
close
stop
LOG
error
t
server
String
operation
UserGroupInformation
user
checkAcls
checkRMStatus
getShortUserName
Map
NodeId
ResourceOption
nodeResourceMap
request
getNodeResourceMap
Set
nodeIds
keySet
RMNode
node
rm
getRMContext
getRMNodes
get
nodeId
RMNode
node
rm
getRMContext
getRMNodes
get
nodeId
LOG
error
RPCUtil
getRemoteException
allSuccess
ResourceOption
newResourceOption
entry
getValue
NodeId
getKey
warn
getDispatcher
getEventHandler
handle
RMNodeResourceUpdateEvent
String
placementConstraintsHandler
conf
get
YarnConfiguration
RM_PLACEMENT_CONSTRAINTS_HANDLER
DISABLED_RM_PLACEMENT_CONSTRAINTS_HANDLER
ApplicationAttemptId
applicationAttemptId
YarnServerSecurityUtils
authorizeRequest
getApplicationAttemptId
ApplicationId
appId
getApplicationId
RMApp
rmApp
rmContext
getRMApps
get
RMAppImpl
removeCollectorData
LOG
info
FinishApplicationMasterResponse
newInstance
AllocateResponseLock
lock
responseMap
throwApplicationDoesNotExistInCacheException
String
message
String
message
appAttemptId
AMRMTokenIdentifier
amrmTokenIdentifier
YarnServerSecurityUtils
authorizeRequest
ApplicationAttemptId
appAttemptId
getApplicationAttemptId
amLivelinessMonitor
receivedPing
AllocateResponseLock
lock
responseMap
get
String
message
String
message
appAttemptId
ApplicationMasterNotRegisteredException
lastResponse
InvalidApplicationMasterRequestException
AMRMClientUtils
assembleInvalidResponseIdExceptionMessage
getResponseId
request
AllocateResponse
response
recordFactory
newRecordInstance
amsProcessingChain
allocate
amrmTokenIdentifier
getApplicationAttemptId
MasterKeyData
nextMasterKey
rmContext
getAMRMTokenSecretManager
getNextMasterKeyData
RMApp
app
getRMApps
get
getApplicationId
RMAppAttempt
appAttempt
getRMAppAttempt
RMAppAttemptImpl
appAttemptImpl
Token
AMRMTokenIdentifier
amrmToken
getAMRMToken
AllocateResponse
response
recordFactory
newRecordInstance
setResponseId
AMRMClientUtils
PRE_REGISTER_RESPONSE_ID
ApplicationId
applicationId
org
apache
hadoop
yarn
server
utils
BuilderUtils
newApplicationId
recordFactory
ResourceManager
getClusterTimeStamp
applicationCounter
incrementAndGet
LOG
warn
ie
RMAuditLogger
logFailure
user
AuditConstants
SUBMIT_APP_REQUEST
getMessage
applicationId
callerContext
submissionContext
getQueue
RPCUtil
getRemoteException
checkTags
getApplicationTags
String
value
tag
substring
TimelineUtils
FLOW_RUN_ID_TAG_PREFIX
length
Long
valueOf
e
String
value
tag
substring
TimelineUtils
FLOW_RUN_ID_TAG_PREFIX
length
Long
valueOf
LOG
warn
e
RMAuditLogger
logFailure
user
AuditConstants
SUBMIT_APP_REQUEST
getMessage
applicationId
submissionContext
getQueue
RPCUtil
getRemoteException
info
SubmitApplicationResponse
newInstance
ByteBuffer
tokenConf
getAMContainerSpec
getTokensConf
RMAuditLogger
ArgsBuilder
arguments
append
Keys
QUEUENAME
request
getQueueName
INCLUDEAPPS
String
valueOf
getIncludeApplications
INCLUDECHILDQUEUES
getIncludeChildQueues
RECURSIVE
getRecursive
QueueInfo
queueInfo
scheduler
getQueueInfo
List
ApplicationReport
appReports
EMPTY_APPS_REPORT
ApplicationAttemptId
apps
getAppsInQueue
ArrayList
size
RMApp
rmApp
rmContext
getRMApps
get
app
getApplicationId
add
createAndGetApplicationReport
callerUGI
getUserName
setApplications
response
setQueueInfo
LOG
debug
reservationId
reservationSystem
synchronizePlan
planName
DecommissioningNodeContext
context
decomNodes
get
nodeId
RMApp
app
getRmContext
getRMApps
get
applicationAttemptId
getApplicationId
List
Container
transferredContainers
getScheduler
getTransferredContainers
applicationAttemptId
response
setContainersFromPreviousAttempts
rmContext
getNMTokenSecretManager
clearNodeSetForAttempt
NMToken
nmTokens
ArrayList
token
getRmContext
createAndGetNMToken
app
getUser
container
add
UnknownHostException
e
getCause
setNMTokensFromPreviousAttempts
List
RMNode
nodesToDecom
ArrayList
HostDetails
hostDetails
gracefulDecommissionableNodes
clear
hostsReader
getLazyLoadedHostDetails
getHostDetails
Set
String
includes
getIncludedHosts
Map
Integer
excludes
getExcludedMap
NodeState
s
n
getState
isExcluded
isValidNode
getHostName
keySet
nodeStr
getNodeID
hostDetails
hostsReader
getHostDetails
Set
String
includes
getIncludedHosts
Map
Integer
excludes
getExcludedMap
NodeState
s
n
getState
isExcluded
isValidNode
getHostName
keySet
nodeStr
getNodeID
LOG
info
nodesToRecom
add
timeoutToUse
get
timeout
Map
String
Integer
excludes
hostDetails
getExcludedMap
NodeState
s
n
getState
isExcluded
isValidNode
getHostName
includes
keySet
nodeStr
getNodeID
LOG
info
nodesToRecom
add
timeoutToUse
get
timeout
nodesToDecom
String
nodeStr
n
getNodeID
s
LOG
info
nodesToRecom
add
Integer
timeoutToUse
excludes
get
getHostName
timeout
nodesToDecom
gracefulDecommissionableNodes
LOG
info
nodeStr
nodesToRecom
add
n
Integer
timeoutToUse
excludes
get
getHostName
timeout
nodesToDecom
gracefulDecommissionableNodes
ApplicationId
removeId
completedApps
get
size
completedAppsInStateStore
RMApp
removeApp
rmContext
getRMApps
ApplicationId
applicationId
event
getApplicationId
String
schedulerClassName
conf
get
YarnConfiguration
RM_SCHEDULER
DEFAULT_RM_SCHEDULER
String
schedulerClassName
YarnConfiguration
DEFAULT_YARN_API_SYSTEM_SERVICES_CLASS
builder
withAttribute
WebAppProxy
PROXY_HOST_ATTRIBUTE
proxyParts
WebAppContext
uiWebAppContext
String
onDiskPath
getConfig
get
YarnConfiguration
YARN_WEBAPP_UI2_WARFILE_PATH
setContextPath
UI2_WEBAPP_NAME
war
VersionInfo
getVersion
URL
url
getClass
getClassLoader
getResource
getWebAppsPath
getFile
LOG
error
String
onDiskPath
getConfig
get
YarnConfiguration
YARN_WEBAPP_UI2_WARFILE_PATH
uiWebAppContext
WebAppContext
setContextPath
UI2_WEBAPP_NAME
war
VersionInfo
getVersion
URL
url
getClass
getClassLoader
getResource
getWebAppsPath
getFile
LOG
error
deleteRMStateStore
conf
deleteRMConfStore
removeApplication
argv
printUsage
System
err
ResourceManager
resourceManager
ShutdownHookManager
get
addShutdownHook
CompositeServiceShutdownHook
SHUTDOWN_HOOK_PRIORITY
init
start
RMStateStore
rmStore
RMStateStoreFactory
getStore
conf
setResourceManager
ResourceManager
init
start
ApplicationId
removeAppId
fromString
applicationId
ApplicationAttemptId
appAttemptId
containerStatus
getContainerId
getApplicationAttemptId
RMApp
rmApp
rmContext
getRMApps
get
getApplicationId
NodeId
nodeId
request
getNodeId
String
host
getHost
cmPort
getPort
httpPort
getHttpPort
Resource
capability
getResource
nodeManagerVersion
getNMVersion
physicalResource
getPhysicalResource
NodeStatus
nodeStatus
getNodeStatus
RegisterNodeManagerResponse
response
recordFactory
newRecordInstance
minimumNodeManagerVersion
YarnVersionInfo
getVersion
message
String
message
nodeManagerVersion
minimumNodeManagerVersion
LOG
info
response
setDiagnosticsMessage
setNodeAction
NodeAction
SHUTDOWN
InetSocketAddress
nmAddress
NetUtils
createSocketAddrForHost
host
cmPort
InetAddress
inetAddress
Server
getRemoteIp
getHostAddress
warn
LOG
warn
message
response
setDiagnosticsMessage
setNodeAction
NodeAction
SHUTDOWN
String
host
info
nid
nodeId
toString
Resource
dynamicLoadCapability
loadNodeResourceFromDRConfiguration
debug
capability
String
nid
nodeId
toString
Resource
dynamicLoadCapability
loadNodeResourceFromDRConfiguration
LOG
debug
capability
response
setResource
message
host
minAllocMb
minAllocVcores
info
setDiagnosticsMessage
setNodeAction
NodeAction
SHUTDOWN
setContainerTokenMasterKey
containerTokenSecretManager
getCurrentKey
setNMTokenMasterKey
nmTokenSecretManager
RMNode
rmNode
RMNodeImpl
rmContext
cmPort
httpPort
resolve
nodeManagerVersion
physicalResource
LOG
debug
nid
capability
dynamicLoadCapability
response
setResource
String
message
host
minAllocMb
minAllocVcores
info
setDiagnosticsMessage
setNodeAction
NodeAction
SHUTDOWN
setContainerTokenMasterKey
containerTokenSecretManager
getCurrentKey
setNMTokenMasterKey
nmTokenSecretManager
RMNode
rmNode
RMNodeImpl
nodeId
rmContext
cmPort
httpPort
resolve
nodeManagerVersion
physicalResource
oldNode
getRMNodes
putIfAbsent
RMNodeStartedEvent
startEvent
request
getNMContainerStatuses
getRunningApplications
nodeStatus
LOG
debug
nodeId
request
getLogAggregationReportsForApps
size
startEvent
setLogAggregationReportsForApps
rmContext
getDispatcher
getEventHandler
handle
info
host
nmLivelinessMonitor
unregister
NodeRemovedSchedulerEvent
rmNode
getRMNodes
put
NodeStatus
remoteNodeStatus
request
getNodeStatus
NodeId
nodeId
getNodeId
String
message
getHost
NodeStatus
remoteNodeStatus
request
getNodeStatus
NodeId
nodeId
getNodeId
String
message
getHost
LOG
info
YarnServerBuilderUtils
newNodeHeartbeatResponse
NodeAction
SHUTDOWN
RMNode
rmNode
rmContext
getRMNodes
get
RESYNC
nmLivelinessMonitor
receivedPing
decommissioningWatcher
update
NodeHeartbeatResponse
lastNodeHeartbeatResponse
getLastNodeHeartBeatResponse
LOG
info
message
YarnServerBuilderUtils
newNodeHeartbeatResponse
NodeAction
SHUTDOWN
RMNode
rmNode
rmContext
getRMNodes
get
nodeId
String
remoteNodeStatus
getNodeId
RESYNC
nmLivelinessMonitor
receivedPing
decommissioningWatcher
update
NodeHeartbeatResponse
lastNodeHeartbeatResponse
getLastNodeHeartBeatResponse
getNodeAddress
getResponseId
String
message
remoteNodeStatus
getNodeId
LOG
info
YarnServerBuilderUtils
newNodeHeartbeatResponse
NodeAction
RESYNC
nmLivelinessMonitor
receivedPing
nodeId
decommissioningWatcher
update
rmNode
NodeHeartbeatResponse
lastNodeHeartbeatResponse
getLastNodeHeartBeatResponse
getNodeAddress
getResponseId
rmContext
getDispatcher
getEventHandler
handle
RMNodeEvent
RMNodeEventType
REBOOTING
Map
ApplicationId
RMApp
rmApps
rmContext
getRMApps
appId
entry
getKey
AppCollectorData
collectorData
getValue
setRMIdentifier
ResourceManager
getClusterTimeStamp
setVersion
timelineCollectorVersion
getAndIncrement
rmApp
get
LOG
warn
previousCollectorData
getCollectorData
UnRegisterNodeManagerResponse
response
recordFactory
newRecordInstance
NodeId
nodeId
request
getNodeId
RMNode
rmNode
rmContext
getRMNodes
get
Map
NodeId
Set
String
labelsUpdate
HashMap
put
nodeId
nodeLabels
rmContext
getNodeLabelManager
replaceLabelsOnNode
writer
applicationStarted
wasEvent
getApplicationStartData
writer
applicationStarted
wasEvent
getApplicationStartData
LOG
info
getApplicationId
error
applicationFinished
wafEvent
getApplicationFinishData
applicationAttemptStarted
waasEvent
getApplicationAttemptStartData
LOG
error
wasEvent
getApplicationId
writer
applicationFinished
wafEvent
getApplicationFinishData
info
applicationAttemptStarted
waasEvent
getApplicationAttemptStartData
getApplicationAttemptId
writer
applicationFinished
wafEvent
getApplicationFinishData
LOG
info
getApplicationId
error
applicationAttemptStarted
waasEvent
getApplicationAttemptStartData
getApplicationAttemptId
writer
applicationFinished
wafEvent
getApplicationFinishData
LOG
info
getApplicationId
error
applicationAttemptStarted
waasEvent
getApplicationAttemptStartData
getApplicationAttemptId
applicationAttemptFinished
waafEvent
getApplicationAttemptFinishData
writer
applicationAttemptStarted
waasEvent
getApplicationAttemptStartData
LOG
info
getApplicationAttemptId
error
applicationAttemptFinished
waafEvent
getApplicationAttemptFinishData
connect
ContainerId
masterContainerID
masterContainer
getId
ApplicationSubmissionContext
applicationContext
application
getSubmissionContext
connect
ContainerId
masterContainerID
masterContainer
getId
ApplicationSubmissionContext
applicationContext
application
getSubmissionContext
LOG
info
getAppAttemptId
ContainerLaunchContext
launchContext
createAMContainerLaunchContext
StartContainerRequest
scRequest
newInstance
getContainerToken
List
list
ArrayList
add
StartContainersRequest
allRequests
StartContainersResponse
response
containerMgrProxy
startContainers
Throwable
t
getFailedRequests
get
deSerialize
parseAndThrowException
LOG
info
application
getAppAttemptId
launch
handler
handle
RMAppAttemptEvent
RMAppAttemptEventType
LAUNCHED
System
currentTimeMillis
onAMLaunchFailed
masterContainer
getId
ie
cleanup
StringBuilder
sb
append
toString
String
message
application
getAppAttemptId
StringUtils
stringifyException
ie
ResourceBlacklistRequest
ret
List
String
blacklist
ArrayList
blacklistNodes
currentBlacklistSize
size
failureThreshold
blacklistDisableFailureThreshold
numberOfNodeManagerHosts
updateClusterState
SubClusterHeartbeatRequest
request
newInstance
subClusterId
SubClusterState
SC_RUNNING
capability
stateStoreService
subClusterHeartbeat
String
clientRMAddress
getServiceAddress
rmContext
getClientRMService
getBindAddress
amRMAddress
getApplicationMasterService
rmAdminAddress
config
getSocketAddr
YarnConfiguration
RM_ADMIN_ADDRESS
DEFAULT_RM_ADMIN_ADDRESS
DEFAULT_RM_ADMIN_PORT
webAppAddress
NetUtils
createSocketAddr
WebAppUtils
getRMWebAppURLWithScheme
SubClusterInfo
subClusterInfo
newInstance
subClusterId
SubClusterState
SC_NEW
ResourceManager
getClusterTimeStamp
registerSubCluster
SubClusterRegisterRequest
LOG
debug
entity
TimelineUtils
dumpTimelineRecordtoJSON
TimelineCollector
timelineCollector
rmTimelineCollectorManager
get
appId
TimelineEntities
entities
addEntity
putEntities
UserGroupInformation
getCurrentUser
error
e
SchedulingMonitor
mon
runningSchedulingMonitors
get
name
stop
Map
ApplicationAttemptId
Set
RMContainer
curCandidates
HashMap
preemptableAmountCalculator
computeIdealAllocation
clusterResource
totalPreemptionAllowed
CapacitySchedulerPreemptionUtils
deductPreemptableResourcesBasedSelectedCandidates
preemptionContext
selectedCandidates
List
skippedAMContainerlist
ArrayList
Collection
FiCaSchedulerApp
apps
tq
leafQueue
getAllApplications
PriorityQueue
TempAppPerPartition
orderedByPriority
createTempAppForResCalculation
clusterResource
perUserAMUsed
TreeSet
orderedApps
calculateIdealAssignedResourcePerApp
selectedCandidates
queueReassignableResource
Resource
maxIntraQueuePreemptable
Resources
multiply
getGuaranteed
maxAllowablePreemptLimit
subtractFrom
getActuallyToBePreempted
newInstance
preemptionLimit
min
rc
totalPreemptedResourceAllowed
calculateToBePreemptedResourcePerApp
clone
addAllApps
validateOutSameAppPriorityFromDemand
getUsersPerPartition
context
getIntraQueuePreemptionOrderPolicy
PriorityQueue
TempAppPerPartition
orderedByPriority
createTempAppForResCalculation
tq
apps
clusterResource
perUserAMUsed
TreeSet
orderedApps
calculateIdealAssignedResourcePerApp
selectedCandidates
queueReassignableResource
Resource
maxIntraQueuePreemptable
Resources
multiply
getGuaranteed
maxAllowablePreemptLimit
subtractFrom
getActuallyToBePreempted
newInstance
preemptionLimit
min
rc
totalPreemptedResourceAllowed
calculateToBePreemptedResourcePerApp
clone
addAllApps
validateOutSameAppPriorityFromDemand
getUsersPerPartition
context
getIntraQueuePreemptionOrderPolicy
LOG
debug
queueName
partition
used
Resources
createResource
amUsed
pending
reserved
HashSet
String
partitions
app
getAppAttemptResourceUsage
getNodePartitionsSet
addAll
getTotalPendingRequestsPerPartition
keySet
TempAppPerPartition
tmpApp
clone
idealAssigned
userName
getUser
TempUserPerPartition
tmpUser
usersPerPartition
get
ResourceUsage
userResourceUsage
tq
leafQueue
getResourceUsage
Resource
userSpecificAmUsed
perUserAMUsed
none
queueName
getUsed
partition
getReserved
rollingResourceUsagePerUser
put
user
Resources
clone
leafQueue
getUser
getResourceUsage
getUsed
partition
List
RMContainer
liveContainers
ArrayList
app
getLiveContainers
sortContainers
List
RMContainer
liveContainers
ArrayList
app
getLiveContainers
sortContainers
LOG
debug
totalPreemptedResourceAllowed
Resource
rollingUsedResourcePerUser
rollingResourceUsagePerUser
get
getUser
candidatesSelectionPolicies
add
QueuePriorityContainerCandidateSelector
selectCandidatesForResevedContainers
config
getBoolean
CapacitySchedulerConfiguration
PREEMPTION_SELECT_CANDIDATES_FOR_RESERVED_CONTAINERS
DEFAULT_PREEMPTION_SELECT_CANDIDATES_FOR_RESERVED_CONTAINERS
ReservedContainerCandidatesSelector
additionalPreemptionBasedOnReservedResource
ADDITIONAL_RESOURCE_BALANCE_BASED_ON_RESERVED_CONTAINERS
DEFAULT_ADDITIONAL_RESOURCE_BALANCE_BASED_ON_RESERVED_CONTAINERS
FifoCandidatesSelector
isPreemptionToBalanceRequired
PREEMPTION_TO_BALANCE_QUEUES_BEYOND_GUARANTEED
DEFAULT_PREEMPTION_TO_BALANCE_QUEUES_BEYOND_GUARANTEED
maximumKillWaitTimeForPreemptionToQueueBalance
getLong
MAX_WAIT_BEFORE_KILL_FOR_QUEUE_BALANCE_PREEMPTION
DEFAULT_MAX_WAIT_BEFORE_KILL_FOR_QUEUE_BALANCE_PREEMPTION
PreemptionCandidatesSelector
selector
setMaximumKillWaitTime
isIntraQueuePreemptionEnabled
INTRAQUEUE_PREEMPTION_ENABLED
DEFAULT_INTRAQUEUE_PREEMPTION_ENABLED
IntraQueueCandidatesSelector
cloneQueues
root
Resources
clone
nlm
getResourceByLabel
partitionToLookAt
clusterResources
leafQueueNames
ImmutableSet
copyOf
getLeafQueueNames
getQueueByPartition
CapacitySchedulerConfiguration
ROOT
RMNodeLabelsManager
NO_LABEL
Resource
totalPreemptionAllowed
multiply
percentageClusterPreemptionAllowed
partitionToUnderServedQueues
clear
Map
ApplicationAttemptId
Set
RMContainer
toPreempt
HashMap
PreemptionCandidatesSelector
toPreemptPerSelector
startTime
LOG
debug
MessageFormat
format
selector
getClass
getName
clock
getTime
curCandidates
selectCandidates
putIfAbsent
Map
PreemptionCandidatesSelector
ApplicationAttemptId
Set
RMContainer
toPreemptPerSelector
HashMap
startTime
LOG
debug
MessageFormat
format
selector
getClass
getName
clock
getTime
curCandidates
selectCandidates
toPreempt
clusterResources
totalPreemptionAllowed
putIfAbsent
totalSelected
curSelected
set
size
TempQueuePerPartition
tq1
preemptionContext
getQueueByPartition
q1
RMNodeLabelsManager
NO_LABEL
tq2
q2
List
path1
getPathToRoot
path2
i
size
j
p1
get
relativePriority
p2
priorityDigraph
put
TempQueuePerPartition
tq2
preemptionContext
getQueueByPartition
q2
RMNodeLabelsManager
NO_LABEL
List
path1
getPathToRoot
tq1
path2
i
size
j
p1
get
relativePriority
p2
priorityDigraph
put
q1
LOG
debug
Collections
sort
reservedContainers
CONTAINER_CREATION_TIME_COMPARATOR
currentTime
System
currentTimeMillis
FiCaSchedulerNode
node
preemptionContext
getScheduler
getNode
reservedContainer
getReservedNode
List
RMContainer
newlySelectedToBePreemptContainers
ArrayList
String
demandingQueueName
getQueueName
demandingQueueSatisfied
isQueueSatisfied
getPartition
canPreempt
canPreemptEnoughResourceForAsked
getReservedResource
o1
getContainerId
compareTo
o2
canAllocateReservedContainer
Resource
cur
Resources
add
available
node
getTotalKillableResources
String
partition
getPartition
amPreemptionCost
containerQueueName
c
getQueueName
conf
config
context
rmContext
scheduler
throwOnInvariantViolation
getBoolean
InvariantsChecker
THROW_ON_VIOLATION
monitoringInterval
getLong
INVARIANT_MONITOR_INTERVAL
replaceNodeToAttribute
nodeHost
attributePrefix
node
getAttributes
attributes
replaceAttributes
logMsg
append
entry
getKey
StringUtils
join
getValue
keySet
LOG
debug
dispatcher
getEventHandler
handle
NodeAttributesStoreEvent
nodeAttributeMapping
op
Map
String
Set
NodeAttribute
newNodeToAttributesMap
HashMap
Host
nodeCollections
get
k
put
String
msg
format
operation
QueueMapping
newMapping
validateAndGetAutoCreatedQueueMapping
queueManager
mapping
IOException
getQueue
newMappings
add
validateAndGetQueueMapping
queue
mappings
String
queueName
asc
getQueue
applicationName
getApplicationName
ApplicationPlacementContext
mappedQueue
getAppPlacementContext
user
IOException
LOG
info
getClass
getSimpleName
CapacitySchedulerContext
csContext
scheduler
queueManager
getCapacitySchedulerQueueManager
CapacitySchedulerConfiguration
conf
getConfiguration
overrideWithQueueMappings
getOverrideWithQueueMappings
groups
Groups
getUserToGroupsMappingService
MappingRuleValidationContext
validationContext
buildValidationContext
mappingRules
getMappingRules
rule
validate
CapacitySchedulerContext
csContext
scheduler
queueManager
getCapacitySchedulerQueueManager
CapacitySchedulerConfiguration
conf
getConfiguration
overrideWithQueueMappings
getOverrideWithQueueMappings
groups
Groups
getUserToGroupsMappingService
MappingRuleValidationContext
validationContext
buildValidationContext
mappingRules
getMappingRules
rule
validate
LOG
error
e
getMessage
IOException
String
appQueue
asc
getQueue
VariableContext
variables
createVariableContext
asc
user
LOG
error
e
YarnException
MappingRuleResult
result
evaluateRule
rule
String
queueName
validateAndNormalizeQueue
variables
replacePathVariables
createQueue
getCreateFlag
conf
defaultQueueName
getAttribute
createQueue
create
defaultQueueName
assureRoot
YarnConfiguration
DEFAULT_QUEUE_NAME
Class
PlacementRule
ruleClass
forName
ruleStr
asSubclass
Set
String
groupSet
groupProvider
getGroupsSet
user
YarnException
ioe
parentQueue
PlacementRule
parentRule
getParentRule
LOG
debug
getName
ApplicationPlacementContext
parent
getPlacementForApp
asc
getQueue
String
queueName
asc
getQueue
LOG
debug
user
getContextForGroupParent
mapping
getPrimaryGroup
getSecondaryGroup
getPlacementContext
getContextForGroupParent
user
mapping
getPrimaryGroup
LOG
debug
getSecondaryGroup
getPlacementContext
LOG
debug
user
getContextForGroupParent
mapping
getSecondaryGroup
getPlacementContext
getPrimaryGroup
LOG
debug
user
getPlacementContext
mapping
getPrimaryGroup
getSecondaryGroup
LOG
debug
user
getPlacementContext
mapping
getPrimaryGroup
getSecondaryGroup
getPlacementContext
mapping
getPrimaryGroup
user
LOG
debug
getSecondaryGroup
LOG
debug
user
getPlacementContext
mapping
getSecondaryGroup
getPrimaryGroup
String
secondaryGroup
getPlacementContext
mapping
LOG
debug
user
getPrimaryGroup
String
secondaryGroup
getSecondaryGroup
LOG
debug
user
getPlacementContext
mapping
getPrimaryGroup
String
secondaryGroup
getSecondaryGroup
String
queueName
asc
getQueue
ApplicationId
applicationId
getApplicationId
ApplicationPlacementContext
mappedQueue
getPlacementForUser
user
String
queueName
cleanUser
cleanName
user
PlacementRule
parentRule
getParentRule
hostsFilePath
conf
get
YarnConfiguration
RM_SUBMISSION_PREPROCESSOR_FILE_PATH
DEFAULT_RM_SUBMISSION_PREPROCESSOR_FILE_PATH
refreshPeriod
getInt
RM_SUBMISSION_PREPROCESSOR_REFRESH_INTERVAL_MS
DEFAULT_RM_SUBMISSION_PREPROCESSOR_REFRESH_INTERVAL_MS
FileInputStream
fileInputStream
hostFile
BufferedReader
reader
Map
String
ContextProp
tempHostCommands
HashMap
InputStreamReader
StandardCharsets
UTF_8
line
commands
split
host
trim
cMap
String
line
commands
split
host
trim
Map
ContextProp
cMap
cSplit
i
LOG
error
HashMap
Path
appDirPath
getAppDir
rmAppRoot
appId
mkdirsWithRetries
nodeCreatePath
getNodePath
toString
Path
appDirPath
getAppDir
rmAppRoot
appId
nodeCreatePath
getNodePath
toString
Path
appDirPath
getAppDir
rmAppRoot
appAttemptId
getApplicationId
nodeCreatePath
getNodePath
toString
Path
appDirPath
getAppDir
rmAppRoot
appAttemptId
getApplicationId
nodeCreatePath
getNodePath
toString
Path
appDirPath
getAppDir
rmAppRoot
appAttemptId
getApplicationId
nodeRemovePath
getNodePath
toString
ApplicationId
appId
appState
getApplicationSubmissionContext
getApplicationId
Path
nodeRemovePath
getAppDir
rmAppRoot
Path
nodeCreatePath
getNodePath
rmDTSecretManagerRoot
DELEGATION_TOKEN_PREFIX
identifier
getSequenceNumber
Path
nodeCreatePath
getNodePath
rmDTSecretManagerRoot
DELEGATION_TOKEN_PREFIX
identifier
getSequenceNumber
RMDelegationTokenIdentifierData
identifierData
renewDate
Path
nodeCreatePath
getNodePath
rmDTSecretManagerRoot
DELEGATION_KEY_PREFIX
masterKey
getKeyId
ByteArrayOutputStream
os
Path
nodeCreatePath
getNodePath
rmDTSecretManagerRoot
DELEGATION_KEY_PREFIX
masterKey
getKeyId
Path
planCreatePath
getNodePath
reservationRoot
planName
mkdirsWithRetries
reservationPath
reservationIdName
Path
planCreatePath
getNodePath
reservationRoot
planName
reservationPath
reservationIdName
Path
storeRoot
createStorageDir
Options
options
createIfMissing
String
planReservationString
key
substring
RM_RESERVATION_KEY_PREFIX
length
parts
split
SEPARATOR
LOG
warn
planName
reservationName
ReservationAllocationStateProto
allocationState
parseFrom
entry
getValue
rmState
getReservationState
put
HashMap
ReservationId
reservationId
parseReservationId
get
numReservations
IOException
e
numKeys
loadRMDTSecretManagerKeys
state
numKeys
loadRMDTSecretManagerKeys
state
LOG
info
numTokens
loadRMDTSecretManagerTokens
rmState
appState
put
appId
String
attemptNodePrefix
getApplicationNodeKey
SEPARATOR
Entry
entry
iter
peekNext
key
asString
getKey
attemptId
substring
length
ApplicationAttemptStateData
attemptState
createAttemptState
getValue
attempts
getAttemptId
LOG
warn
next
numAttempts
size
String
key
getApplicationNodeKey
appId
String
key
getApplicationAttemptNodeKey
attemptId
String
attemptKey
getApplicationAttemptNodeKey
attemptId
String
key
getReservationNodeKey
planName
reservationIdName
String
reservationKey
getReservationNodeKey
planName
reservationIdName
batch
delete
bytes
String
tokenKey
getRMDTTokenNodeKey
tokenId
RMDelegationTokenIdentifierData
tokenData
renewDate
String
tokenKey
getRMDTTokenNodeKey
tokenId
String
dbKey
getRMDTMasterKeyNodeKey
masterKey
String
dbKey
getRMDTMasterKeyNodeKey
masterKey
Path
root
getStorageDir
String
appKey
getApplicationNodeKey
removeAppId
numEntries
iter
seekToFirst
Entry
entry
next
ApplicationStateData
appState
state
getApplicationState
get
appAttemptId
getApplicationId
ApplicationAttemptStateData
attemptState
attempts
remove
Map
RMDelegationTokenIdentifier
Long
rmDTState
state
rmSecretManagerState
getTokenState
IOException
e
rmDTIdentifier
Map
RMDelegationTokenIdentifier
Long
rmDTState
state
rmSecretManagerState
getTokenState
remove
rmDTIdentifier
removeRMDelegationTokenState
rmDTIdentifier
storeOrUpdateRMDT
renewDate
Set
DelegationKey
rmDTMasterKeyState
state
rmSecretManagerState
getMasterKeyState
IOException
e
delegationKey
getKeyId
Version
loadedVersion
loadVersion
writeLock
lock
writeLock
lock
LOG
debug
event
getType
RMStateStoreState
oldState
getRMStateStoreState
stateMachine
doTransition
isFenced
Class
RMStateStore
storeClass
conf
getClass
YarnConfiguration
RM_STORE
MemoryRMStateStore
fencingNodePath
getNodePath
zkRootNodePath
FENCING_LOCK
zkSessionTimeout
conf
getInt
YarnConfiguration
RM_ZK_TIMEOUT_MS
DEFAULT_RM_ZK_TIMEOUT_MS
zknodeLimit
RM_ZK_ZNODE_SIZE_LIMIT_BYTES
DEFAULT_RM_ZK_ZNODE_SIZE_LIMIT_BYTES
appIdNodeSplitIndex
ZK_APPID_NODE_SPLIT_INDEX
DEFAULT_ZK_APPID_NODE_SPLIT_INDEX
LOG
info
zkAcl
ZKCuratorManager
getZKAcls
String
zkRootNodeAclConf
HAUtil
getConfValueForRMInstance
ZK_RM_STATE_STORE_ROOT_NODE_ACL
ZKUtil
resolveConfIndirection
zkRootNodeAcl
parseACLs
List
String
planNodes
getChildren
reservationRoot
List
String
planNodes
getChildren
reservationRoot
LOG
debug
planName
planNodePath
getNodePath
reservationNodes
reservationNodePath
reservationNodeName
List
String
childNodes
getChildren
tokenRoot
dtNodeFound
parentNodePath
getNodePath
childNodeName
loadDelegationTokenFromNode
rmState
leafNodes
leafNodeName
appData
getData
appNodePath
List
String
childNodes
getChildren
appRoot
appNodeFound
loadRMAppStateFromAppNode
rmState
getNodePath
childNodeName
parentNodePath
leafNodes
appIdStr
leafNodeName
String
nodeCreatePath
getLeafAppIdNodePath
appId
toString
ZnodeSplitInfo
alternatePathInfo
getAlternateAppPath
appId
toString
nodeUpdatePath
path
pathExists
String
rootNode
getSplitZnodeParent
appIdNodeSplitIndex
zkManager
safeCreate
zkAcl
CreateMode
PERSISTENT
fencingNodePath
LOG
debug
appStateData
appStateDataPB
getProto
toByteArray
safeSetData
YarnRuntimeException
appId
appDirPath
alternatePathInfo
path
String
getNodePath
appAttemptId
toString
attemptStateData
attemptStateDataPB
getProto
toByteArray
LOG
debug
operation
zkManager
safeSetData
zkAcl
fencingNodePath
safeCreate
CreateMode
PERSISTENT
String
nodeCreatePath
getLeafDelegationTokenNodePath
rmDTIdentifier
getSequenceNumber
String
nodeCreatePath
getLeafDelegationTokenNodePath
rmDTIdentifier
getSequenceNumber
LOG
debug
DELEGATION_TOKEN_PREFIX
RMDelegationTokenIdentifierData
identifierData
renewDate
ByteArrayOutputStream
seqOs
SafeTransaction
trx
zkManager
createTransaction
zkAcl
fencingNodePath
create
toByteArray
CreateMode
PERSISTENT
seqOut
writeInt
String
nodeCreatePath
getNodePath
dtMasterKeysRootPath
DELEGATION_KEY_PREFIX
delegationKey
getKeyId
String
nodeRemovePath
getNodePath
dtMasterKeysRootPath
DELEGATION_KEY_PREFIX
delegationKey
getKeyId
String
planNodePath
getNodePath
reservationRoot
planName
reservationPath
reservationIdName
String
planCreatePath
getNodePath
reservationRoot
planName
reservationPath
reservationIdName
reservationData
reservationAllocation
toByteArray
writeLock
lock
ReservationId
resId
newInstance
ResourceManager
getClusterTimeStamp
resCounter
incrementAndGet
String
planQueuePath
getPlanQueuePath
planQueueName
SharingPolicy
adPolicy
getAdmissionPolicy
init
getReservationSchedulerConfiguration
Resource
minAllocation
getMinAllocation
maxAllocation
getMaxAllocation
ResourceCalculator
rescCalc
getResourceCalculator
totCap
getPlanQueueCapacity
Plan
plan
InMemoryPlan
getRootQueueMetrics
getAgent
planStepSize
getReplanner
getMoveOnExpiry
maxPeriodicity
rmContext
ReservationSchedulerConfiguration
reservationConfig
getReservationSchedulerConfiguration
String
plannerClassName
getReplanner
planQueueName
ReservationSchedulerConfiguration
reservationConfig
getReservationSchedulerConfiguration
String
agentClassName
getReservationAgent
queueName
ReservationSchedulerConfiguration
reservationConfig
getReservationSchedulerConfiguration
String
admissionPolicyClassName
getReservationAdmissionPolicy
queueName
String
planQueueName
plan
getQueueName
curReservationNames
remove
reservationId
expired
add
cleanupExpiredQueues
planQueueName
plan
getMoveOnExpiry
defReservationQueue
totalAssignedCapacity
setQueueEntitlement
LOG
warn
e
List
ReservationAllocation
sortedAllocations
sortByDelta
ArrayList
currentReservations
now
String
currResId
res
getReservationId
toString
addReservationQueue
planQueue
setQueueEntitlement
planQueueName
defReservationQueue
LOG
warn
e
List
ReservationAllocation
sortedAllocations
sortByDelta
ArrayList
currentReservations
now
plan
String
currResId
res
getReservationId
toString
addReservationQueue
planQueue
Resource
capToAssign
getResourcesAtTime
targetCapacity
calculateReservationToPlanProportion
getResourceCalculator
planResources
reservedResources
calculateReservationToPlanRatio
clusterResources
addReservationQueue
planQueueName
planQueue
currResId
Resource
capToAssign
res
getResourcesAtTime
now
targetCapacity
calculateReservationToPlanProportion
plan
getResourceCalculator
planResources
reservedResources
calculateReservationToPlanRatio
clusterResources
LOG
debug
maxCapacity
setQueueEntitlement
warn
e
Queue
planQueue
fs
getQueueManager
getParentQueue
planQueueName
InMemoryReservationAllocation
inMemReservation
reservation
String
errMsg
getReservationId
writeLock
lock
String
errMsg
inMemReservation
getReservationId
LOG
error
IllegalArgumentException
policy
validate
reservation
setAcceptanceTimestamp
clock
getTime
rmStateStore
storeNewReservation
ReservationSystemUtil
buildStateProto
getQueueName
toString
ReservationInterval
searchInterval
getStartTime
getEndTime
Set
InMemoryReservationAllocation
reservations
currentReservations
get
HashSet
IllegalArgumentException
errMsg
policy
validate
inMemReservation
reservation
setAcceptanceTimestamp
clock
getTime
rmStateStore
storeNewReservation
ReservationSystemUtil
buildStateProto
getQueueName
getReservationId
toString
ReservationInterval
searchInterval
getStartTime
getEndTime
Set
InMemoryReservationAllocation
reservations
currentReservations
get
HashSet
LOG
error
put
reservationTable
writeLock
lock
result
ReservationId
resId
reservation
getReservationId
ReservationAllocation
currReservation
getReservationById
String
errMsg
result
ReservationId
resId
reservation
getReservationId
ReservationAllocation
currReservation
getReservationById
String
errMsg
LOG
error
IllegalArgumentException
policy
validate
addReservation
ReservationId
resId
reservation
getReservationId
ReservationAllocation
currReservation
getReservationById
String
errMsg
LOG
error
IllegalArgumentException
policy
validate
result
addReservation
e
getMessage
LOG
error
errMsg
IllegalArgumentException
policy
validate
reservation
getReservationId
result
addReservation
e
getMessage
info
currReservation
Set
InMemoryReservationAllocation
reservations
currentReservations
get
searchInterval
rmStateStore
removeReservation
getQueueName
reservation
getReservationId
toString
LOG
error
remove
String
errMsg
IllegalArgumentException
reservationTable
decrementAllocation
writeLock
lock
ReservationAllocation
reservation
getReservationById
reservationID
String
errMsg
LOG
info
contract
res
planner
createReservation
reservationId
user
plan
allocateLeft
conf
getBoolean
FAVOR_EARLY_ALLOCATION
DEFAULT_GREEDY_FAVOR_EARLY_ALLOCATION
LOG
info
contract
res
planner
createReservation
reservationId
user
plan
setInt
getNodePrefix
node
VCORES
vcores
setInt
getNodePrefix
node
MEMORY
memory
setInt
getNodePrefix
node
OVERCOMMIT_TIMEOUT
overCommitTimeout
resourcesFile
tmp
getPath
ObjectMapper
mapper
Map
data
readValue
File
Iterator
iterator
entrySet
Entry
entry
next
String
profileName
getKey
toString
IOException
format
MINIMUM_PROFILE
MAXIMUM_PROFILE
sourceFile
profileInfo
getValue
MEMORY
VCORES
Map
Entry
entry
iterator
next
String
profileName
getKey
toString
IOException
format
MINIMUM_PROFILE
MAXIMUM_PROFILE
sourceFile
profileInfo
getValue
MEMORY
VCORES
Resource
resource
parseResource
profiles
put
LOG
info
ResourceUtils
getResourceTypesMinimumAllocation
getResourceTypesMaximumAllocation
writeLock
lock
ApplicationId
appID
event
getApplicationId
ApplicationStateData
appState
state
getApplicationState
get
getApplicationId
recoveredFinalState
getState
NodeState
nodeState
node
getState
updatedNodes
put
RMAppNodeUpdateType
convertToNodeUpdateType
type
AppAdminClient
client
createAppAdminClient
app
applicationType
conf
result
actionCleanUp
name
user
diagnosticsLimitKC
configuration
getInt
YarnConfiguration
APP_ATTEMPT_DIAGNOSTICS_LIMIT_KC
DEFAULT_APP_ATTEMPT_DIAGNOSTICS_LIMIT_KC
String
message
format
DIAGNOSTIC_LIMIT_CONFIG_ERROR_MESSAGE
writeLock
lock
ApplicationAttemptId
appAttemptID
event
getApplicationAttemptId
finalTrackingUrl
sanitizeTrackingUrl
unregisterEvent
getFinalTrackingUrl
finalStatus
getFinalApplicationStatus
diags
append
getAMContainerCrashedDiagnostics
finishEvent
exitStatus
getContainerStatus
getExitStatus
AggregateAppResourceUsage
resUsage
attemptMetrics
getAggregateAppResourceUsage
RMStateStore
rmStore
rmContext
getStateStore
ContainerId
containerId
container
getId
List
ContainerStatus
newlyLaunchedContainers
ArrayList
newlyCompletedContainers
Map
Entry
ApplicationId
needUpdateContainers
numRemoteRunningContainers
ContainerId
containerId
remoteContainer
getContainerId
List
ContainerStatus
newlyLaunchedContainers
ArrayList
newlyCompletedContainers
Map
Entry
ApplicationId
needUpdateContainers
numRemoteRunningContainers
ContainerId
containerId
remoteContainer
getContainerId
LOG
info
containerAppId
getApplicationAttemptId
getApplicationId
readLock
lock
SchedulerApplicationAttempt
application
getCurrentAttemptForContainer
containerId
SchedulerApplicationAttempt
application
getCurrentAttemptForContainer
containerId
SchedulerApplicationAttempt
attempt
getApplicationAttempt
appAttemptId
SchedulerApplicationAttempt
attempt
getApplicationAttempt
appAttemptId
ApplicationId
appId
container
getContainerId
getApplicationAttemptId
getApplicationId
RMApp
rmApp
rmContext
getRMApps
get
LOG
error
killOrphanContainerOnNode
nm
SchedulerApplication
T
schedulerApp
applications
info
getState
SchedulerApplicationAttempt
schedulerAttempt
getCurrentAppAttempt
killOrphanContainerOnNode
nm
container
Queue
queue
schedulerApp
getQueue
String
queueName
CSQueue
getQueuePath
getQueueName
RMContainer
rmContainer
recoverAndCreateContainer
handle
RMContainerRecoverEvent
getContainerId
SchedulerNode
schedulerNode
nodeTracker
getNode
getNodeID
recoverContainer
queueToRecover
schedulerAttempt
getClusterResource
RMAppAttempt
appAttempt
rmApp
getCurrentAppAttempt
Container
masterContainer
getMasterContainer
RMContainer
rmContainer
getRMContainer
containerId
writeLock
lock
SchedulerNode
node
getSchedulerNode
nm
getNodeID
Resource
newResource
resourceOption
getResource
timeout
getOverCommitTimeout
oldResource
getTotalResource
rmContext
getNodeLabelManager
updateNodeResource
containerIncreasedOnNode
container
getId
schedulerNode
SchedulerApplication
T
app
applications
get
c
getKey
ContainerId
containerId
getValue
getContainerId
RMContainer
rmContainer
getCurrentAppAttempt
getRMContainer
String
strExposedPorts
getExposedPorts
Gson
gson
releasedContainers
List
ContainerId
untrackedContainerIdList
ArrayList
containerId
completedContainer
getContainerId
LOG
debug
nm
getClusterResource
SchedulerNode
schedulerNode
getNode
getNodeID
List
ContainerStatus
completedContainers
updateNewContainerInfo
notifyNodeUpdate
Resource
releasedResources
newInstance
releasedContainers
updateCompletedContainers
rmContext
getDispatcher
getEventHandler
handle
RMNodeResourceUpdateEvent
ResourceOption
getAllocatedResource
updateSchedulerHealthInformation
updateNodeResourceUtilization
signalContainersIfOvercommitted
eventType
SchedulerEventType
MARK_CONTAINER_FOR_KILLABLE
ResourceCalculator
rc
getResourceCalculator
Resource
unallocated
newInstance
schedulerNode
getUnallocatedResource
LOG
info
getNodeID
container
getContainerId
getAllocatedResource
ApplicationAttemptId
appId
getApplicationAttemptId
ContainerPreemptEvent
event
rmContext
getDispatcher
getEventHandler
handle
Resources
addTo
List
UpdateContainerRequest
promotionRequests
updates
getPromotionRequests
List
UpdateContainerRequest
promotionRequests
updates
getPromotionRequests
LOG
info
handleIncreaseRequests
appAttempt
increaseRequests
getIncreaseRequests
demotionRequests
getDemotionRequests
handleDecreaseRequests
decreaseRequests
getDecreaseRequests
RMContainer
rmContainer
getRMContainer
containerId
Resource
ret
ResourceUtils
getResourceTypesMinimumAllocation
Resource
ret
ResourceUtils
getResourceTypesMaximumAllocation
Set
ApplicationId
userApps
usersApplications
get
user
HashSet
put
activeUsers
metrics
incrActiveUsers
Class
ConfigurationMutationACLPolicy
policyClass
conf
getClass
YarnConfiguration
RM_SCHEDULER_MUTATION_ACL_POLICY_CLASS
DefaultConfigurationMutationACLPolicy
SchedulerQueue
T
queue
queueManager
getQueue
queueName
writeLock
lock
String
labelExp
resReq
getNodeLabelExpression
String
labelExp
resReq
getNodeLabelExpression
LOG
debug
ResourceInformation
availableRI
availableResource
getResourceInformation
requestedRI
getName
requestedResourceValue
getValue
availableResourceValue
unitsRelation
UnitsConversionUtil
compareUnits
getUnits
ResourceInformation
availableRI
availableResource
getResourceInformation
requestedRI
getName
requestedResourceValue
getValue
availableResourceValue
unitsRelation
UnitsConversionUtil
compareUnits
getUnits
LOG
debug
ResourceInformation
availableRI
availableResource
getResourceInformation
requestedRI
getName
requestedResourceValue
getValue
availableResourceValue
unitsRelation
UnitsConversionUtil
compareUnits
getUnits
LOG
debug
ResourceInformation
availableRI
availableResource
getResourceInformation
requestedRI
getName
requestedResourceValue
getValue
availableResourceValue
unitsRelation
UnitsConversionUtil
compareUnits
getUnits
LOG
debug
convert
CapacityScheduler
cs
rmContext
getScheduler
numNodes
getRMNodes
size
newAppActivitiesMaxQueueLength
numAsyncSchedulerThreads
getNumAsyncSchedulerThreads
Math
max
configuredAppActivitiesMaxQueueLength
LOG
info
appActivitiesMaxQueueLength
Iterator
Map
Entry
ApplicationId
Queue
AppAllocation
iteApp
completedAppAllocations
entrySet
iterator
appAllocation
next
RMApp
rmApp
rmContext
getRMApps
get
getKey
remove
appActivitiesIt
getValue
Iterator
Map
Entry
ApplicationId
Queue
AppAllocation
iteApp
completedAppAllocations
entrySet
iterator
appAllocation
next
RMApp
rmApp
rmContext
getRMApps
get
getKey
remove
appActivitiesIt
getValue
CapacitySchedulerConfiguration
conf
csContext
getConfiguration
Set
String
configuredNodelabels
getConfiguredNodeLabels
queuePath
Resource
minResource
getMinimumAbsoluteResource
label
maxResource
getMaximumAbsoluteResource
LOG
debug
capacityConfigType
getQueuePath
CapacityConfigType
localType
checkConfigTypeIsAbsoluteResource
ABSOLUTE_RESOURCE
PERCENTAGE
Resource
currentLimitResource
getCurrentLimitResource
nodePartition
clusterResource
currentResourceLimits
schedulingMode
nowTotalUsed
queueUsage
getUsed
usedExceptKillable
Resources
subtract
getTotalKillableResource
setHeadroom
newTotalWithoutReservedResource
resourceCouldBeUnreserved
LOG
debug
getQueuePath
Resource
usedExceptKillable
nowTotalUsed
Resources
subtract
getTotalKillableResource
nodePartition
currentResourceLimits
setHeadroom
currentLimitResource
newTotalWithoutReservedResource
resourceCouldBeUnreserved
LOG
debug
getQueuePath
queueUsage
getUsed
clusterResource
ContainerAllocationProposal
FiCaSchedulerApp
FiCaSchedulerNode
allocation
request
getFirstAllocatedOrReservedContainer
SchedulerContainer
schedulerContainer
getAllocatedOrReservedContainer
Resource
required
getAllocatedOrReservedResource
netAllocated
Resources
subtract
getTotalReleasedResource
readLock
lock
String
partition
getNodePartition
maxResourceLimit
getQueueMaxResource
labelManager
getResourceByLabel
cluster
FiCaSchedulerApp
next
iter
LeafQueue
nextQueue
getCSLeafQueue
LOG
info
getApplicationAttemptId
trackRunnableApp
appSched
submitApplicationAttempt
getUser
noLongerPendingApps
add
prev
LeafQueue
nextQueue
next
getCSLeafQueue
LOG
info
getApplicationAttemptId
trackRunnableApp
FiCaSchedulerApp
appSched
submitApplicationAttempt
getUser
noLongerPendingApps
add
prev
error
scheduleAsynchronously
conf
getScheduleAynschronously
asyncScheduleInterval
getLong
ASYNC_SCHEDULER_INTERVAL
DEFAULT_ASYNC_SCHEDULER_INTERVAL
assignMultipleEnabled
getAssignMultipleEnabled
maxAssignPerHeartbeat
getMaxAssignPerHeartbeat
maxAsyncSchedulingThreads
getInt
CapacitySchedulerConfiguration
SCHEDULE_ASYNCHRONOUSLY_MAXIMUM_THREAD
Math
max
asyncSchedulerThreads
ArrayList
add
AsyncScheduleThread
resourceCommitterService
ResourceCommitterService
asyncMaxPendingBacklogs
SCHEDULE_ASYNCHRONOUSLY_MAXIMUM_PENDING_BACKLOGS
DEFAULT_SCHEDULE_ASYNCHRONOUSLY_MAXIMUM_PENDING_BACKLOGS
offswitchPerHeartbeatLimit
getOffSwitchPerHeartbeatLimit
multiNodePlacementEnabled
getMultiNodePlacementEnabled
CSQueue
queue
getOrCreateQueueFromPlacementContext
applicationId
user
queueName
placementContext
rmContext
getDispatcher
getEventHandler
handle
RMAppEvent
RMAppEventType
KILL
String
queueErrorMsg
LOG
error
FATAL
QueueInvalidException
rmContext
getDispatcher
getEventHandler
handle
RMAppEvent
applicationId
RMAppEventType
KILL
queueName
String
queueErrorMsg
LOG
error
FATAL
QueueInvalidException
LeafQueue
queue
recoverDrainingState
submitApplication
user
getMetrics
submitApp
SchedulerApplication
FiCaSchedulerApp
application
priority
rmContext
getDispatcher
getEventHandler
handle
RMAppEvent
applicationId
RMAppEventType
KILL
queueName
String
queueErrorMsg
LOG
error
FATAL
QueueInvalidException
LeafQueue
queue
recoverDrainingState
submitApplication
user
getMetrics
submitApp
SchedulerApplication
FiCaSchedulerApp
application
priority
CSQueue
queue
getQueue
queueName
autoCreateLeafQueue
placementContext
LOG
error
e
rmContext
getDispatcher
getEventHandler
handle
RMAppEvent
applicationId
RMAppEventType
KILL
String
queueErrorMsg
FATAL
QueueInvalidException
String
message
applicationId
user
queueName
QUEUE_MAPPING
rmContext
getDispatcher
getEventHandler
handle
RMAppEvent
RMAppEventType
APP_REJECTED
placementContext
getQueue
queue
getParent
getQueueShortName
CapacitySchedulerConfiguration
getParentQueue
priority
workflowPriorityMappingsMgr
mapWorkflowPriorityForApp
e
getMessage
String
message
placementContext
getQueue
queue
getParent
getQueueShortName
CapacitySchedulerConfiguration
QUEUE_MAPPING
getParentQueue
user
rmContext
getDispatcher
getEventHandler
handle
RMAppEvent
applicationId
RMAppEventType
APP_REJECTED
priority
workflowPriorityMappingsMgr
mapWorkflowPriorityForApp
e
getMessage
submitApplication
queueName
LOG
info
ace
writeLock
lock
SchedulerApplication
FiCaSchedulerApp
application
applications
get
applicationAttemptId
getApplicationId
LOG
warn
CSQueue
queue
getQueue
attempt
getUser
getAbstractUsersManager
rmContext
getPriority
isAttemptRecovering
activitiesManager
transferStateFromPreviousAttempt
getCurrentAppAttempt
setCurrentAppAttempt
setPriority
maxRunningEnforcer
checkRunnabilityWithUpdate
trackApp
submitApplicationAttempt
SchedulerApplication
FiCaSchedulerApp
application
applications
get
applicationAttemptId
getApplicationId
LOG
warn
CSQueue
queue
getQueue
attempt
getUser
getAbstractUsersManager
rmContext
getPriority
isAttemptRecovering
activitiesManager
transferStateFromPreviousAttempt
getCurrentAppAttempt
setCurrentAppAttempt
setPriority
maxRunningEnforcer
checkRunnabilityWithUpdate
trackApp
submitApplicationAttempt
info
getQueuePath
writeLock
lock
writeLock
lock
LOG
info
applicationAttemptId
rmAppAttemptFinalState
FiCaSchedulerApp
attempt
getApplicationAttempt
SchedulerApplication
application
applications
get
getApplicationId
SchedulerApplication
FiCaSchedulerApp
application
applications
get
applicationAttemptId
getApplicationId
LOG
info
rmContainer
getContainerId
completedContainer
SchedulerUtils
createAbnormalContainerStatus
COMPLETED_APPLICATION
RMContainerEventType
KILL
attempt
stop
rmAppAttemptFinalState
Queue
queue
getQueue
CSQueue
csQueue
FiCaSchedulerApp
application
getApplicationAttempt
applicationAttemptId
LOG
error
applicationAttemptId
EMPTY_ALLOCATION
handleContainerUpdates
application
updateRequests
releaseContainers
release
LeafQueue
updateDemandForQueue
normalizeResourceRequests
ask
normalizeSchedulingRequests
schedulingRequests
Allocation
allocation
getWriteLock
lock
EMPTY_ALLOCATION
LOG
debug
applicationAttemptId
ask
size
application
showRequests
updateDemandForQueue
LeafQueue
getQueue
updateBlacklist
blacklistAdditions
blacklistRemovals
allocation
getAllocation
getResourceCalculator
getClusterResource
getMinimumResourceCapability
getWriteLock
unlock
assignedContainers
CandidateNodeSet
FiCaSchedulerNode
candidates
getCandidateNodeSet
node
CSAssignment
assignment
allocateContainersToNode
withNodeHeartbeat
offswitchCount
LOG
debug
node
getNodeName
getUnallocatedResource
FiCaSchedulerApp
reservedApplication
getCurrentAttemptForContainer
reservedContainer
getContainerId
Container
container
rmContainer
getContainer
ContainerId
containerId
getId
FiCaSchedulerApp
application
getCurrentAttemptForContainer
ApplicationId
appId
getApplicationAttemptId
getApplicationId
writeLock
lock
writeLock
lock
CSQueue
queue
getQueue
queueName
writeLock
lock
YarnException
e
FiCaSchedulerApp
app
application
getCurrentAppAttempt
source
detachContainer
getClusterResource
rmContainer
dest
attachContainer
finishApplicationAttempt
sourceQueueName
submitApplicationAttempt
user
move
appFinished
SchedulerApplication
FiCaSchedulerApp
application
applications
get
applicationId
YarnException
RMApp
rmApp
rmContext
getRMApps
appPriority
checkAndGetApplicationPriority
newPriority
user
getQueue
future
set
getApplicationSubmissionContext
setPriority
ApplicationStateData
appState
newInstance
getSubmitTime
getStartTime
getUser
getCallerContext
setApplicationTimeouts
getApplicationTimeouts
setLaunchTime
getLaunchTime
getStateStore
updateApplicationStateSynchronously
LeafQueue
queue
updateApplicationPriority
attemptId
request
getContainersToRelease
get
getSchedulerApplicationAttempt
getApplicationAttemptId
LOG
debug
isSuccess
FiCaSchedulerApp
app
getApplicationAttempt
commitSuccess
System
nanoTime
commitStart
CapacitySchedulerMetrics
getMetrics
addCommitSuccess
info
commitFailed
addCommitFailure
writeLock
lock
writeLock
lock
LOG
debug
toBeMovedContainer
targetNode
getNodeID
FiCaSchedulerNode
sourceNode
getNode
getNodeId
writeLock
lock
LOG
debug
toBeMovedContainer
targetNode
getNodeID
FiCaSchedulerNode
sourceNode
getNode
getNodeId
FiCaSchedulerApp
app
getApplicationAttempt
getApplicationAttemptId
CSQueue
queue
getQueue
queueName
String
queuePath
oldQueue
getQueuePath
CSQueue
newQueue
newQueues
get
configPrefix
newConf
getQueuePrefix
state
QueueState
newQueueState
valueOf
LOG
warn
LOG
warn
oldQueue
getQueuePath
info
queuePath
IOException
getState
newQueue
CapacitySchedulerConfiguration
AUTO_CREATE_CHILD_QUEUE_ENABLED
LOG
info
queuePath
IOException
oldQueue
getQueuePath
getState
newQueue
CapacitySchedulerConfiguration
AUTO_CREATE_CHILD_QUEUE_ENABLED
setInt
getQueuePrefix
queue
USER_LIMIT
userLimit
set
getQueuePrefix
queue
QUEUES
StringUtils
arrayToString
subQueues
setBoolean
getQueuePrefix
queue
IS_RESERVABLE
isReservable
String
queueManagementPolicyClassName
getAutoCreatedQueueManagementPolicy
queueName
Resources
none
Resource
resource
newInstance
Matcher
matcher
RESOURCE_PATTERN
resourceString
String
subGroup
group
substring
length
splits
kvPair
split
updateResourceValuesFromConfig
resourceTypes
root
parseQueue
csContext
conf
CapacitySchedulerConfiguration
ROOT
queues
NOOP
setQueueAcls
authorizer
appPriorityACLManager
labelManager
reinitializeQueueLabels
getQueueToLabels
queueStateManager
initialize
queue
ManagedParentQueue
csContext
queueName
parent
oldQueues
get
fullQueueName
LeafQueue
hook
IllegalStateException
ParentQueue
parentQueue
List
CSQueue
childQueues
ArrayList
nodeLocalityDelay
schedConf
getNodeLocalityDelay
rackLocalityAdditionalDelay
getRackLocalityAdditionalDelay
rackLocalityFullReset
getRackLocalityFullReset
minimumAllocationFactor
Resources
ratio
resourceCalculator
subtract
maximumAllocation
minimumAllocation
StringBuilder
aclsString
append
e
getKey
getValue
getAclString
labelStrBuilder
s
defaultAppPriorityPerQueue
Priority
newInstance
conf
getDefaultApplicationPriorityConfPerQueue
getQueuePath
queueUL
Math
min
getUserLimit
val
floatValue
writeLock
lock
String
msg
getQueuePath
applicationId
AccessControlException
msg
String
getQueuePath
getNumApplications
applicationId
LOG
info
User
user
usersManager
getUserAndAddIfAbsent
userName
getTotalApplications
writeLock
unlock
getParent
validateSubmitApplication
queue
userWeight
getUser
userName
getWeight
readLock
lock
effectiveUserLimit
Math
max
usersManager
getUserLimit
getAbstractUsersManager
getNumActiveUsers
preWeightedUserLimit
min
Resource
queuePartitionResource
getEffectiveCapacity
nodePartition
userAMLimit
Resources
multiplyAndNormalizeUp
resourceCalculator
queueCapacities
getMaxAMResourcePercentage
getUserLimitFactor
minimumAllocation
lastClusterResource
clone
getAMResourceLimitPerPartition
preWeighteduserAMLimit
queueUsage
setUserAMLimit
writeLock
lock
Map
String
Resource
userAmPartitionLimit
HashMap
calculateAndGetAMResourceLimitPerPartition
nodePartition
FiCaSchedulerApp
application
fsApp
next
ApplicationId
applicationId
getApplicationId
partitionName
getAppAMNodePartitionName
amLimit
getAMResourceLimitPerPartition
amIfStarted
Resources
add
getAMResource
queueUsage
getAMUsed
FiCaSchedulerApp
application
fsApp
next
ApplicationId
applicationId
getApplicationId
String
partitionName
getAppAMNodePartitionName
Resource
amLimit
getAMResourceLimitPerPartition
calculateAndGetAMResourceLimitPerPartition
amIfStarted
Resources
add
getAMResource
queueUsage
getAMUsed
LOG
debug
getId
maxAMResourcePerQueuePercent
lastClusterResource
warn
updateAMContainerDiagnostics
AMState
INACTIVATED
CSAMContainerLaunchDiagnosticsConstants
QUEUE_AM_RESOURCE_LIMIT_EXCEED
LOG
warn
application
updateAMContainerDiagnostics
AMState
INACTIVATED
CSAMContainerLaunchDiagnosticsConstants
QUEUE_AM_RESOURCE_LIMIT_EXCEED
debug
applicationId
amIfStarted
amLimit
User
user
getUser
Resource
userAMLimit
userAmPartitionLimit
get
partitionName
getUserAMResourceLimitPerPartition
put
userAmIfStarted
Resources
add
getAMResource
getConsumedAMResources
Resource
userAMLimit
userAmPartitionLimit
get
partitionName
getUserAMResourceLimitPerPartition
application
getUser
put
userAmIfStarted
Resources
add
getAMResource
user
getConsumedAMResources
LOG
warn
updateAMContainerDiagnostics
AMState
INACTIVATED
CSAMContainerLaunchDiagnosticsConstants
USER_AM_RESOURCE_LIMIT_EXCEED
debug
applicationId
activateApplication
orderingPolicy
addSchedulableEntity
ACTIVATED
writeLock
lock
applicationAttemptMap
put
application
getApplicationAttemptId
runnableApps
add
applicationAttemptMap
put
application
getApplicationAttemptId
runnableApps
add
LOG
debug
nonRunnableApps
info
user
submitApplication
getPendingAppsOrderingPolicy
addSchedulableEntity
activateApplications
updateAMContainerDiagnostics
AMState
INACTIVATED
CSAMContainerLaunchDiagnosticsConstants
CLUSTER_RESOURCE_EMPTY
writeLock
lock
User
user
usersManager
getUserAndAddIfAbsent
userName
runnable
runnableApps
remove
application
LOG
error
application
getQueuePath
String
partitionName
getAppAMNodePartitionName
wasActive
orderingPolicy
removeSchedulableEntity
pendingOrderingPolicy
queueUsage
decAMUsed
getAMResource
user
getResourceUsage
metrics
getUser
applicationAttemptMap
remove
getApplicationAttemptId
finishApplication
usersManager
removeUser
activateApplications
updateCurrentResourceLimits
currentResourceLimits
clusterResource
FiCaSchedulerNode
node
CandidateNodeSetUtils
getSingleNode
candidates
CachedUserLimit
cul
userLimits
get
application
getUser
Resource
cachedUserLimit
userLimit
computeUserLimitAndSetHeadroom
clusterResource
candidates
getPartition
schedulingMode
put
userAssignable
canAssignToUser
currentResourceLimits
canAssign
ContainerAllocationProposal
FiCaSchedulerApp
FiCaSchedulerNode
allocation
request
getFirstAllocatedOrReservedContainer
SchedulerContainer
schedulerContainer
getAllocatedOrReservedContainer
readLock
lock
app
getSchedulerApplicationAttempt
String
username
getUser
p
getNodePartition
Resource
userLimit
computeUserLimitAndSetHeadroom
cluster
getSchedulingMode
User
user
SchedulerContainer
FiCaSchedulerApp
FiCaSchedulerNode
schedulerContainer
allocation
getAllocatedOrReservedContainer
readLock
lock
app
getSchedulerApplicationAttempt
String
username
getUser
p
getNodePartition
Resource
userLimit
computeUserLimitAndSetHeadroom
cluster
getSchedulingMode
User
user
LOG
debug
usedResource
Resources
clone
getUsed
subtractFrom
request
getTotalReleasedResource
String
user
application
getUser
User
queueUser
readLock
lock
User
user
getUser
userName
User
user
getUser
userName
LOG
debug
currentResourceLimits
setAmountNeededUnreserve
Resources
none
getQueuePath
getUsed
application
getCurrentReservation
limit
Resource
amountNeededToUnreserve
subtract
nodePartition
allocateResource
clusterResource
resource
nodePartition
TreeSet
RMContainer
rmContainers
ignorePartitionExclusivityRMContainers
put
add
rmContainer
String
userName
application
getUser
User
user
usersManager
updateUserResourceUsage
Resource
partitionHeadroom
Resources
createResource
getHeadroom
cachedResourceLimitsForHeadroom
getLimit
getResourceLimitForActiveUsers
SchedulingMode
RESPECT_PARTITION_EXCLUSIVITY
metrics
setAvailableResourcesToUser
releaseResource
clusterResource
resource
nodePartition
Set
RMContainer
rmContainers
ignorePartitionExclusivityRMContainers
get
remove
rmContainer
String
userName
application
getUser
User
user
usersManager
updateUserResourceUsage
Resource
partitionHeadroom
Resources
createResource
getHeadroom
cachedResourceLimitsForHeadroom
getLimit
getResourceLimitForActiveUsers
SchedulingMode
RESPECT_PARTITION_EXCLUSIVITY
metrics
setAvailableResourcesToUser
FiCaSchedulerNode
node
scheduler
getNode
rmContainer
getContainer
getNodeId
allocateResource
clusterResource
application
getResource
getPartition
FiCaSchedulerNode
node
scheduler
getNode
rmContainer
getContainer
getNodeId
releaseResource
clusterResource
application
getResource
getPartition
validate
newlyParsedQueue
shouldFailAutoCreationWhenGuaranteedCapacityExceeded
csContext
getConfiguration
getShouldFailAutoQueueCreationWhenGuaranteedCapacityExceeded
getQueuePath
childCap
sumOfChildCapacities
IOException
getCapacity
leafQueueTemplate
initializeLeafQueueConfigs
build
reinitialize
clusterResource
res
reinitializeQueueManagementPolicy
List
QueueManagementChange
queueManagementChanges
queueManagementPolicy
computeQueueManagementChanges
validateAndApplyQueueManagementChanges
LOG
info
queueName
getMaximumCapacity
ParentQueue
newlyParsedParentQueue
newlyParsedQueue
setupQueueConfigs
clusterResource
Map
String
CSQueue
currentChildQueues
getQueuesMap
childQueues
newChildQueues
newChildQueueName
e
getKey
newChildQueue
getValue
childQueue
get
setParent
put
CapacitySchedulerQueueManager
queueManager
csContext
getCapacitySchedulerQueueManager
addQueue
String
newChildQueueName
e
getKey
CSQueue
newChildQueue
getValue
childQueue
currentChildQueues
get
setParent
put
CapacitySchedulerQueueManager
queueManager
csContext
getCapacitySchedulerQueueManager
addQueue
reinitialize
clusterResource
LOG
info
getQueuePath
writeLock
lock
numApplications
writeLock
lock
numApplications
FiCaSchedulerNode
node
CandidateNodeSetUtils
getSingleNode
candidates
now
System
currentTimeMillis
FiCaSchedulerNode
node
CandidateNodeSetUtils
getSingleNode
candidates
now
System
currentTimeMillis
LOG
debug
getQueuePath
getPartition
lastSkipQueueDebugLoggingTimestamp
ActivitiesLogger
QUEUE
recordQueueActivity
activitiesManager
getParentName
ActivityState
REJECTED
ActivityDiagnosticConstant
QUEUE_NOT_ABLE_TO_ACCESS_PARTITION
NODE
finishSkippedNodeAllocation
CSAssignment
NULL_ASSIGNMENT
ActivitiesLogger
NODE
finishSkippedNodeAllocation
activitiesManager
node
CSAssignment
assignedToChild
assignContainersToChildQueues
clusterResource
candidates
resourceLimits
schedulingMode
assignment
setType
getType
setRequestLocalityType
getRequestLocalityType
setExcessReservation
getExcessReservation
setContainersToKill
getContainersToKill
setFulfilledReservation
isFulfilledReservation
setFulfilledReservedContainer
getFulfilledReservedContainer
QUEUE
recordQueueActivity
getParentName
getQueuePath
ActivityState
ACCEPTED
ActivityDiagnosticConstant
EMPTY
isReserved
getAssignmentInformation
getReservationDetails
isEmpty
finishAllocatedNodeAllocation
getFirstAllocatedOrReservedContainerId
AllocationState
RESERVED
ALLOCATED
Resources
addTo
getResource
CSAssignment
assignedToChild
assignContainersToChildQueues
clusterResource
candidates
resourceLimits
schedulingMode
assignment
setType
getType
setRequestLocalityType
getRequestLocalityType
setExcessReservation
getExcessReservation
setContainersToKill
getContainersToKill
setFulfilledReservation
isFulfilledReservation
setFulfilledReservedContainer
getFulfilledReservedContainer
ActivitiesLogger
QUEUE
recordQueueActivity
activitiesManager
node
getParentName
getQueuePath
ActivityState
ACCEPTED
ActivityDiagnosticConstant
EMPTY
isReserved
getAssignmentInformation
getReservationDetails
isEmpty
NODE
finishAllocatedNodeAllocation
getFirstAllocatedOrReservedContainerId
AllocationState
RESERVED
ALLOCATED
Resources
addTo
getResource
getAllocated
CSAssignment
assignment
NULL_ASSIGNMENT
printChildQueues
CSQueue
childQueue
iter
next
LOG
debug
childQueue
getQueuePath
childAssignment
getResource
getType
assignment
Resource
blockedHeadroom
childLimits
getHeadroom
getBlockedHeadroom
resourceToSubtract
Resources
max
resourceCalculator
cluster
none
limits
addBlockedHeadroom
writeLock
lock
releaseResource
clusterResource
releasedResource
node
getPartition
numeratorForMinRatio
queueResourceQuotas
getEffectiveMinResource
label
Map
String
Float
effectiveMinRatioPerResource
getEffectiveMinRatioPerResource
configuredMinResources
Resource
minResource
childQueue
getQueueResourceQuotas
getConfiguredMinResource
setEffectiveMinResource
getMinResourceNormalized
getQueuePath
parentMaxRes
getConfiguredMaxResource
parent
getEffectiveMaxResource
childMaxResource
effMaxResource
Resources
min
resourceCalculator
resourceByLabel
equals
none
setEffectiveMaxResource
clone
deriveCapacityFromAbsoluteConfigurations
clusterResource
rc
Resource
ret
newInstance
minResource
maxLength
ResourceUtils
getNumberOfCountableResourceTypes
ResourceInformation
nResourceInformation
getResourceInformation
i
Float
ratio
effectiveMinRatio
get
getName
setResourceValue
getValue
floatValue
childQueue
getQueueCapacities
setAbsoluteCapacity
label
getCapacity
getAbsoluteCapacity
setAbsoluteMaximumCapacity
getMaximumCapacity
getAbsoluteMaximumCapacity
LeafQueue
leafQueue
CapacitySchedulerConfiguration
conf
csContext
getConfiguration
maxApplications
getMaximumApplicationsPerQueue
getQueuePath
maxGlobalPerQueueApps
getGlobalMaximumApplicationsPerQueue
getMaximumSystemApplications
setMaxApplications
maxApplicationsPerUser
Math
min
getUsersManager
getUserLimit
getUserLimitFactor
setMaxApplicationsPerUser
FiCaSchedulerNode
node
scheduler
getNode
rmContainer
getContainer
getNodeId
allocateResource
clusterResource
getResource
getPartition
FiCaSchedulerNode
node
scheduler
getNode
rmContainer
getContainer
getNodeId
releaseResource
clusterResource
getResource
getPartition
ContainerAllocationProposal
FiCaSchedulerApp
FiCaSchedulerNode
allocation
request
getFirstAllocatedOrReservedContainer
SchedulerContainer
schedulerContainer
getAllocatedOrReservedContainer
writeLock
lock
allocateResource
cluster
getAllocatedOrReservedResource
getNodePartition
List
QueueManagementChange
queueManagementChanges
Collections
emptyList
AutoCreatedQueueManagementPolicy
policyClazz
parentQueue
getAutoCreatedQueueManagementPolicy
startTime
clock
getTime
computeQueueManagementChanges
QueueManagementChangeEvent
queueManagementChangeEvent
scheduler
getRMContext
getDispatcher
getEventHandler
handle
LOG
debug
getClass
getName
getQueuePath
size
toString
AutoCreatedQueueManagementPolicy
policyClazz
parentQueue
getAutoCreatedQueueManagementPolicy
startTime
clock
getTime
queueManagementChanges
computeQueueManagementChanges
QueueManagementChangeEvent
queueManagementChangeEvent
scheduler
getRMContext
getDispatcher
getEventHandler
handle
LOG
debug
getClass
getName
getQueuePath
size
toString
error
e
Resource
consumed
Resources
multiplyAndNormalizeUp
resourceCalculator
partitionResource
getUsageRatio
nodePartition
lQueue
getMinimumAllocation
currentCapacity
lessThan
queueCapacity
add
required
usersSummedByWeight
activeUsersTimesWeights
resourceUsed
totalResUsageForActiveUsers
getUsed
allUsersTimesWeights
userLimitResource
max
divideAndCeil
multiplyAndRoundDown
getUserLimit
maxUserLimit
none
getUserLimitFactor
roundUp
min
writeLock
lock
User
user
getUser
userName
ResourceUsage
resourceUsage
getResourceUsage
activeUsersSet
remove
nonActiveUsersSet
add
activeUsersTimesWeights
sumActiveUsersTimesWeights
totalResUsageForActiveUsers
decUsed
partition
getUsed
totalResUsageForNonActiveUsers
incUsed
scheduler
conf
getConfiguration
overrideWithWorkflowPriorityMappings
getOverrideWithWorkflowPriorityMappings
CSAssignment
SkippedType
skipped
result
getAllocationState
AllocationState
APP_SKIPPED
OTHER
NONE
assignment
setApplication
application
setExcessReservation
getContainerToBeUnreserved
setRequestLocalityType
requestLocalityType
Resource
allocatedResource
getResourceToBeAllocated
RMContainer
updatedContainer
getUpdatedContainer
setResource
setType
getContainerNodeType
Resource
allocatedResource
result
getResourceToBeAllocated
RMContainer
updatedContainer
getUpdatedContainer
assignment
setResource
setType
getContainerNodeType
LOG
debug
application
getApplicationId
appInfo
getQueueName
clusterResource
getAssignmentInformation
addReservationDetails
getCSLeafQueue
getQueuePath
incrReservations
Resources
addTo
getReserved
ActivitiesLogger
APP
finishSkippedAppAllocationRecording
activitiesManager
ActivityState
SKIPPED
ActivityDiagnosticConstant
EMPTY
finishAllocatedAppAllocationRecording
getContainerId
RESERVED
LOG
debug
application
getApplicationAttemptId
updateAppSkipNodeDiagnostics
ActivitiesLogger
APP
recordSkippedAppActivityWithoutAllocation
activitiesManager
node
schedulerKey
ActivityDiagnosticConstant
REQUEST_SKIPPED_IN_IGNORE_EXCLUSIVITY_MODE
ActivityLevel
REQUEST
ContainerAllocation
APP_SKIPPED
Optional
DiagnosticsCollector
dcOpt
empty
getOptionalDiagnosticsCollector
NODE_DO_NOT_MATCH_PARTITION_OR_PLACEMENT_CONSTRAINTS
ActivitiesManager
getDiagnostics
NODE
PRIORITY_SKIPPED
REQUEST_SKIPPED_BECAUSE_OF_RESERVATION
LOG
debug
ActivitiesLogger
APP
recordSkippedAppActivityWithoutAllocation
activitiesManager
node
application
schedulerKey
ActivityDiagnosticConstant
REQUEST_SKIPPED_BECAUSE_OF_RESERVATION
ActivityLevel
REQUEST
ContainerAllocation
PRIORITY_SKIPPED
required
recordAppActivityWithoutAllocation
QUEUE_DO_NOT_HAVE_ENOUGH_HEADROOM
ActivityState
REJECTED
QUEUE_SKIPPED
missedNonPartitionedRequestSchedulingOpportunity
AppPlacementAllocator
appPlacementAllocator
appInfo
getAppPlacementAllocator
REQUEST_SKIPPED_BECAUSE_NULL_ANY_REQUEST
String
requestPartition
getPrimaryRequestedNodePartition
requiredContainers
application
getOutstandingAsksCount
schedulerKey
reservedContainers
getNumReservedContainers
starvation
nodeFactor
Resources
ratio
rc
required
getCSLeafQueue
getMaximumAllocation
getReReservations
Math
min
getMinimumAllocationFactor
FiCaSchedulerNode
node
CandidateNodeSetUtils
getSingleNode
candidates
String
pathName
path
getName
startsWith
YarnConfiguration
CS_CONFIGURATION_FILE
endsWith
TMP
Configuration
conf
fsConf
schedulerConfPathStr
get
SCHEDULER_CONFIGURATION_FS_PATH
IOException
schedulerConfDir
Path
scheme
toUri
getScheme
FileSystem
getDefaultUri
disableCacheName
format
setBoolean
fileSystem
getFileSystem
pathName
startsWith
YarnConfiguration
CS_CONFIGURATION_FILE
endsWith
TMP
Configuration
conf
fsConf
String
schedulerConfPathStr
get
SCHEDULER_CONFIGURATION_FS_PATH
IOException
schedulerConfDir
Path
scheme
toUri
getScheme
FileSystem
getDefaultUri
disableCacheName
format
setBoolean
fileSystem
getFileSystem
maxVersion
getInt
SCHEDULER_CONFIGURATION_FS_MAX_VERSION
DEFAULT_SCHEDULER_CONFIGURATION_FS_MAX_VERSION
Path
finalConfigPath
getFinalConfigPath
tempConfigPath
fileSystem
rename
fileSystem
delete
tempConfigPath
start
Time
monotonicNow
String
tempSchedulerConfigFile
YarnConfiguration
CS_CONFIGURATION_FILE
System
currentTimeMillis
TMP
Path
tempSchedulerConfigPath
schedulerConfDir
cleanConfigurationFile
vSchedConf
writeXml
outputStream
Version
loadedVersion
getConfStoreVersion
currentVersion
getCurrentVersion
String
store
conf
get
YarnConfiguration
SCHEDULER_CONFIGURATION_STORE_CLASS
MEMORY_CONFIGURATION_STORE
leafQueueTemplate
parentQueue
getLeafQueueTemplate
leafQueueTemplateCapacities
getQueueCapacities
Set
String
parentQueueLabels
getNodeLabelsForQueue
updateLeafQueueState
readLock
lock
List
QueueManagementChange
queueManagementChanges
ArrayList
FiCaSchedulerApp
pendingApps
getSortedPendingApplications
Map
String
QueueCapacities
leafQueueEntitlements
HashMap
parentAbsoluteCapacity
managedParentQueue
getQueueCapacities
getAbsoluteCapacity
nodeLabel
leafQueueTemplateAbsoluteCapacity
leafQueueTemplateCapacities
deactivatedLeafQueues
deactivateLeafQueuesIfInActive
List
QueueManagementChange
queueManagementChanges
ArrayList
FiCaSchedulerApp
pendingApps
getSortedPendingApplications
Map
String
QueueCapacities
leafQueueEntitlements
HashMap
parentAbsoluteCapacity
managedParentQueue
getQueueCapacities
getAbsoluteCapacity
nodeLabel
leafQueueTemplateAbsoluteCapacity
leafQueueTemplateCapacities
deactivatedLeafQueues
deactivateLeafQueuesIfInActive
LOG
debug
getQueuePath
size
deactivatedCapacity
getTotalDeactivatedCapacity
sumOfChildQueueActivatedCapacity
parentQueueState
getAbsoluteActivatedChildQueueCapacity
availableCapacity
EPSILON
parentAbsoluteCapacity
managedParentQueue
getQueueCapacities
getAbsoluteCapacity
nodeLabel
leafQueueTemplateAbsoluteCapacity
leafQueueTemplateCapacities
Map
String
QueueCapacities
deactivatedLeafQueues
deactivateLeafQueuesIfInActive
leafQueueEntitlements
LOG
debug
getQueuePath
size
deactivatedCapacity
getTotalDeactivatedCapacity
sumOfChildQueueActivatedCapacity
parentQueueState
getAbsoluteActivatedChildQueueCapacity
availableCapacity
EPSILON
maxLeafQueuesTobeActivated
getMaxLeavesToBeActivated
pendingApps
writeLock
lock
Set
String
newPartitions
HashSet
newQueues
leafQueueState
createLeafQueueStateIfNotExists
LeafQueue
newQueue
nodeLabel
add
getQueuePath
Map
Entry
LeafQueueStatePerPartition
e
itr
next
partition
getKey
remove
leafQueueState
createLeafQueueStateIfNotExists
LeafQueue
newQueue
nodeLabel
newPartitions
add
newQueues
getQueuePath
Map
Entry
String
LeafQueueStatePerPartition
e
itr
next
partition
getKey
remove
LOG
info
managedParentQueue
queues
getValue
queue
queueItr
AutoCreatedLeafQueueConfig
updatedQueueTemplate
queueManagementChange
getUpdatedQueueTemplate
CSQueue
queue
getQueue
SchedulerDynamicEditException
getClass
getName
AutoCreatedLeafQueue
leafQueue
LOG
debug
getQueuePath
activate
nodeLabel
LOG
debug
c
getRmContainer
r
getAllocateFromReservedContainer
LOG
debug
allocation
getAllocateFromReservedContainer
getRmContainer
getContainerId
Resource
availableResource
Resources
clone
schedulerContainer
getSchedulerNode
getUnallocatedResource
releaseContainer
getNodeID
getReservedContainer
addTo
getAllocatedResource
readLock
lock
ContainerAllocationProposal
FiCaSchedulerApp
FiCaSchedulerNode
allocation
request
getFirstAllocatedOrReservedContainer
SchedulerContainer
schedulerContainer
getAllocatedOrReservedContainer
LOG
debug
getSchedulerNode
getNodeID
getRMNode
getState
containerRequest
getRmContainer
getContainerRequest
LOG
debug
schedulerContainer
getSchedulerNode
getNodeID
getRMNode
getState
containerRequest
getRmContainer
getContainerRequest
allocation
getAllocationLocalityType
getSchedulerRequestKey
getApplicationAttemptId
RMContainer
reservedContainer
allocation
getAllocateFromReservedContainer
getRmContainer
unreserve
schedulerContainer
getSchedulerRequestKey
getSchedulerNode
addToNewlyAllocatedContainers
rmContainer
liveContainers
put
containerId
ContainerRequest
containerRequest
appSchedulingInfo
allocate
getAllocationLocalityType
RMContainerImpl
setContainerRequest
setAllocationTags
getSchedulingRequest
getAllocationTags
AppSchedulingInfo
updateMetrics
getApplicationId
getUser
getQueue
attemptResourceUsage
incUsed
getNodePartition
getAllocatedOrReservedResource
handle
RMContainerEvent
RMContainerEventType
START
allocateContainer
ContainerRequest
containerRequest
appSchedulingInfo
allocate
allocation
getAllocationLocalityType
schedulerContainer
getSchedulerNode
getSchedulerRequestKey
getRmContainer
RMContainerImpl
rmContainer
setContainerRequest
setAllocationTags
getSchedulingRequest
getAllocationTags
AppSchedulingInfo
updateMetrics
getApplicationId
getUser
getQueue
attemptResourceUsage
incUsed
getNodePartition
getAllocatedOrReservedResource
handle
RMContainerEvent
containerId
RMContainerEventType
START
allocateContainer
incNumAllocatedContainers
getRequestLocalityType
LOG
debug
getApplicationAttemptId
getAllocatedNode
getHost
String
partition
getPartition
Map
NodeId
RMContainer
reservedContainers
get
schedulerKey
nodeId
entry
getKey
reservedContainer
getValue
Resource
reservedResource
getReservedResource
LOG
debug
Map
NodeId
RMContainer
map
reservedContainers
get
reservedContainer
getReservedSchedulerKey
targetNode
reserveResource
allocateContainer
rmContainer
launchedOnNode
Container
container
getContainer
Map
String
PlacementConstraint
constraintsForApp
HashMap
readLock
lock
LOG
warn
appId
Set
sourceTags
entry
getKey
constraint
getValue
sourceTag
getValidSourceTag
put
unlock
writeLock
lock
Map
String
PlacementConstraint
constraintsForApp
appConstraints
get
appId
String
sourceTag
getValidSourceTag
sourceTags
readLock
lock
LOG
debug
requestAttribute
schedulerNode
getNodeID
found
NodeAttribute
nodeAttribute
it
next
getAttributeValue
NodeAttribute
nodeAttribute
ConstraintPlacementAlgorithm
algorithm
instances
get
DefaultPlacementAlgorithm
LOG
info
getClass
getName
String
iteratorName
RMContextImpl
amsContext
getYarnConfiguration
YarnConfiguration
RM_PLACEMENT_CONSTRAINTS_ALGORITHM_ITERATOR
BatchedRequests
IteratorType
SERIAL
name
iteratorType
valueOf
YarnRuntimeException
e
algoPSize
getInt
RM_PLACEMENT_CONSTRAINTS_ALGORITHM_POOL_SIZE
DEFAULT_RM_PLACEMENT_CONSTRAINTS_ALGORITHM_POOL_SIZE
placementDispatcher
PlacementDispatcher
init
algorithm
DefaultPlacementAlgorithm
LOG
info
getClass
getName
String
iteratorName
RMContextImpl
amsContext
getYarnConfiguration
get
YarnConfiguration
RM_PLACEMENT_CONSTRAINTS_ALGORITHM_ITERATOR
BatchedRequests
IteratorType
SERIAL
name
iteratorType
valueOf
YarnRuntimeException
e
algoPSize
getInt
RM_PLACEMENT_CONSTRAINTS_ALGORITHM_POOL_SIZE
DEFAULT_RM_PLACEMENT_CONSTRAINTS_ALGORITHM_POOL_SIZE
placementDispatcher
PlacementDispatcher
init
schedPSize
RM_PLACEMENT_CONSTRAINTS_SCHEDULER_POOL_SIZE
DEFAULT_RM_PLACEMENT_CONSTRAINTS_SCHEDULER_POOL_SIZE
schedulingThreadPool
Executors
newFixedThreadPool
ConstraintPlacementAlgorithmOutputCollector
collector
List
PlacedSchedulingRequest
processed
placedRequests
computeIfAbsent
placement
getApplicationId
k
ArrayList
updateBlacklist
blackList
opportContext
addToOutstandingReqs
oppResourceReqs
Set
String
nodeBlackList
HashSet
getBlacklist
List
Container
allocatedContainers
ArrayList
maxAllocationsPerAMHeartbeat
getMaxAllocationsPerAMHeartbeat
Map
Resource
Allocation
allocations
remAllocs
getTotalAllocations
List
Container
allocatedContainers
ArrayList
RMNode
node
nodeQueueLoadMonitor
selectLocalNode
nodeLocation
blacklist
toAllocate
container
createContainer
rmIdentifier
appParams
idCounter
id
userName
allocations
enrichedAsk
getRequest
convertToRemoteNode
add
List
Container
allocatedContainers
ArrayList
RMNode
node
nodeQueueLoadMonitor
selectRackLocalNode
rackLocation
blacklist
toAllocate
container
createContainer
rmIdentifier
appParams
idCounter
id
userName
allocations
enrichedAsk
getRequest
convertToRemoteNode
add
metrics
incrRackLocalOppContainers
List
Container
allocatedContainers
ArrayList
RMNode
node
nodeQueueLoadMonitor
selectAnyNode
blacklist
toAllocate
container
createContainer
rmIdentifier
appParams
idCounter
id
userName
allocations
ResourceRequest
ANY
enrichedAsk
getRequest
convertToRemoteNode
add
metrics
incrOffSwitchOppContainers
opportQueueCapacity
status
getOpportQueueCapacity
estimatedQueueWaitTime
getEstimatedQueueWaitTime
waitQueueLength
getWaitQueueLength
clusterNodes
put
rmNode
getNodeID
ClusterNode
setQueueWaitTime
setQueueLength
setNodeLabels
getNodeLabels
setQueueCapacity
estimatedQueueWaitTime
status
getEstimatedQueueWaitTime
waitQueueLength
getWaitQueueLength
clusterNode
setQueueWaitTime
setQueueLength
setNodeLabels
rmNode
getNodeLabels
updateTimestamp
allocFile
getAllocationFile
conf
fs
getFileSystem
reloadListener
onCheck
time
clock
getTime
lastModified
getFileStatus
getModificationTime
reloadAllocations
reloadListener
onCheck
time
clock
getTime
lastModified
fs
getFileStatus
allocFile
getModificationTime
reloadAllocations
LOG
error
ex
lastReloadAttemptFailed
warn
exists
writeLock
lock
Container
container
rmContainer
getContainer
ContainerId
containerId
getId
FSQueue
fsQueue
getQueue
SchedulingPolicy
policy
getPolicy
Resource
queueFairShare
getFairShare
queueUsage
getResourceUsage
clusterResource
scheduler
getClusterResource
clusterUsage
getRootQueueMetrics
getAllocatedResources
clusterAvailableResources
Resources
subtract
subtractResourcesOnBlacklistedNodes
queueMaxAvailableResources
getMaxShare
maxAvailableResource
componentwiseMin
headroom
getHeadroom
resetAllowedLocalityLevel
schedulerKey
type
container
reservedContainer
createContainer
node
pendingAsk
getPerAllocationResource
rmContainer
RMContainerImpl
getApplicationAttemptId
getNodeID
appSchedulingInfo
getUser
rmContext
setQueueName
getQueueName
addToNewlyAllocatedContainers
liveContainers
put
getId
ContainerRequest
containerRequest
allocate
attemptResourceUsage
incUsed
getResource
getQueue
incUsedResource
setContainerRequest
handle
RMContainerEvent
RMContainerEventType
START
RMContainer
nodeReservedContainer
node
getReservedContainer
reservableForThisApp
getApplicationAttemptId
equals
existingReservations
getNumReservations
node
getRackName
type
NodeType
OFF_SWITCH
totalAvailNodes
scheduler
getNumClusterNodes
getNumNodesInRack
numAllowedReservations
Math
ceil
getReservableNodesRatio
DecimalFormat
df
setMaximumFractionDigits
RMContainer
allocatedContainer
allocate
type
node
schedulerKey
pendingAsk
reservedContainer
unreserve
LOG
debug
capability
available
Resources
none
allocateContainer
setAMResource
getQueue
addAMResourceUsage
setAmRunning
Resources
none
unreserve
schedulerKey
node
allocateContainer
allocatedContainer
setAMResource
capability
getQueue
addAMResourceUsage
setAmRunning
LOG
debug
updateAMDiagnosticMsg
getName
FairScheduler
CONTAINER_RESERVED
RMContainer
rmContainer
node
getReservedContainer
SchedulerRequestKey
reservedSchedulerKey
getReservedSchedulerKey
PendingAsk
amAsk
appSchedulingInfo
getNextPendingAsk
updateAMDiagnosticMsg
getPerAllocationResource
Resource
assigned
none
writeLock
lock
demand
Resources
createResource
childQueue
updateDemand
Resource
toAdd
getDemand
add
Resource
assigned
Resources
none
List
RMContainer
containersToPreempt
ArrayList
FSSchedulerNode
potentialNodes
scheduler
getNodeTracker
getNodesByResourceName
rr
getResourceName
PreemptableContainers
bestContainers
getBestPreemptableContainers
containers
getAllContainers
addAll
trackPreemptionsAgainstNode
starvedApp
FSAppAttempt
app
getSchedulerApp
container
getApplicationAttemptId
PreemptableContainers
preemptableContainers
maxAMContainers
List
RMContainer
containersToCheck
node
getRunningContainersWithAMsAtTheEnd
removeAll
getContainersForPreemption
Resource
potential
Resources
subtractFromNonNegative
clone
getUnallocatedResource
getTotalReserved
FSAppAttempt
app
scheduler
getSchedulerApp
container
getApplicationAttemptId
fairShare
metrics
setFairShare
Resource
usagePlusAddition
Resources
add
getResourceUsage
additionalResource
allocateContainer
rmContainer
launchedOnNode
Container
container
getContainer
Container
container
rmContainer
getContainer
LOG
debug
getId
getResource
getRMNode
getNodeAddress
getNumContainers
getAllocatedResource
getUnallocatedResource
Resource
allocated
FSAppAttempt
app
appIdToAppMap
get
getApplicationAttemptId
reserved
resourcesPreemptedForApp
fulfilled
Resources
componentwiseMin
subtractFrom
totalResourcesPreempted
remove
FSQueue
rootQueue
queueMgr
getRootQueue
Resource
clusterResource
getClusterResource
FSQueue
rootQueue
queueMgr
getRootQueue
Resource
clusterResource
getClusterResource
STATE_DUMP_LOG
debug
rootMetrics
getAllocatedResources
newInstance
getAvailableMB
getAvailableVirtualCores
getDemand
rejectApplicationWithMessage
applicationId
queueName
queue
queueMgr
getLeafQueue
UserGroupInformation
userUgi
createRemoteUser
user
String
msg
removeAssignedApp
RMApp
rmApp
rmContext
getRMApps
get
setQueue
rejectApplicationWithMessage
applicationId
msg
queue
removeAssignedApp
RMApp
rmApp
rmContext
getRMApps
get
setQueue
queueName
LOG
error
List
MaxResourceValidationResult
invalidAMResourceRequests
validateResourceRequests
getAMResourceRequests
String
format
getMaxShare
RMApp
rmApp
rmContext
getRMApps
get
applicationId
setQueue
queueName
LOG
error
List
MaxResourceValidationResult
invalidAMResourceRequests
validateResourceRequests
getAMResourceRequests
queue
String
msg
format
getMaxShare
rejectApplicationWithMessage
removeAssignedApp
SchedulerApplication
FSAppAttempt
application
user
applications
put
SchedulerApplication
FSAppAttempt
application
applications
get
applicationAttemptId
getApplicationId
String
user
getUser
FSLeafQueue
queue
getQueue
attempt
ActiveUsersManager
getRootQueueMetrics
rmContext
transferStateFromPreviousAttempt
getCurrentAppAttempt
setCurrentAppAttempt
runnable
maxRunningEnforcer
canAppBeRunnable
addApp
trackRunnableApp
trackNonRunnableApp
getMetrics
submitAppAttempt
String
user
application
getUser
FSLeafQueue
queue
getQueue
FSAppAttempt
attempt
applicationAttemptId
ActiveUsersManager
getRootQueueMetrics
rmContext
transferStateFromPreviousAttempt
getCurrentAppAttempt
setCurrentAppAttempt
runnable
maxRunningEnforcer
canAppBeRunnable
addApp
trackRunnableApp
trackNonRunnableApp
getMetrics
submitAppAttempt
LOG
info
writeLock
lock
writeLock
lock
LOG
info
applicationAttemptId
rmAppAttemptFinalState
FSAppAttempt
attempt
getApplicationAttempt
writeLock
lock
Container
container
rmContainer
getContainer
FSAppAttempt
application
getCurrentAttemptForContainer
getId
ApplicationId
appId
getApplicationAttemptId
getApplicationId
writeLock
lock
Container
container
rmContainer
getContainer
FSAppAttempt
application
getCurrentAttemptForContainer
getId
ApplicationId
appId
getApplicationAttemptId
getApplicationId
LOG
info
event
NodeId
nodeID
getNodeId
FSSchedulerNode
node
getFSSchedulerNode
unreserve
getReservedSchedulerKey
LOG
info
container
appId
event
NodeId
nodeID
getNodeId
FSSchedulerNode
node
getFSSchedulerNode
application
unreserve
rmContainer
getReservedSchedulerKey
debug
containerCompleted
containerStatus
releaseContainer
getContainerId
NodeId
nodeID
container
getNodeId
FSSchedulerNode
node
getFSSchedulerNode
application
unreserve
rmContainer
getReservedSchedulerKey
LOG
debug
containerCompleted
containerStatus
event
releaseContainer
getContainerId
updateRootQueueMetrics
writeLock
lock
FSSchedulerNode
schedulerNode
node
usePortForNodeName
nodeTracker
addNode
triggerUpdate
Resource
clusterResource
getClusterResource
queueMgr
getRootQueue
setSteadyFairShare
recomputeSteadyShares
writeLock
lock
NodeId
nodeId
rmNode
getNodeID
FSSchedulerNode
node
nodeTracker
getNode
LOG
error
nodeId
List
RMContainer
runningContainers
node
getCopiedListOfRunningContainers
completedContainer
container
SchedulerUtils
createAbnormalContainerStatus
getContainerId
LOST_CONTAINER
RMContainerEventType
KILL
releaseContainer
reservedContainer
getReservedContainer
nodeTracker
removeNode
Resource
clusterResource
getClusterResource
queueMgr
getRootQueue
setSteadyFairShare
recomputeSteadyShares
updateRootQueueMetrics
triggerUpdate
ContainerStatus
status
SchedulerUtils
createKilledContainerStatus
container
getContainerId
FSAppAttempt
application
getSchedulerApp
appAttemptId
LOG
error
appAttemptId
EMPTY_ALLOCATION
ApplicationId
applicationId
application
getApplicationId
FSLeafQueue
queue
getQueue
List
MaxResourceValidationResult
invalidAsks
validateResourceRequests
ask
SchedulerInvalidResoureRequestException
String
format
getName
handleContainerUpdates
updateRequests
normalizeResourceRequests
recordContainerRequestTime
getClock
getTime
releaseContainers
release
ReentrantReadWriteLock
WriteLock
lock
getWriteLock
handleContainerUpdates
application
updateRequests
normalizeResourceRequests
ask
queue
getName
recordContainerRequestTime
getClock
getTime
releaseContainers
release
ReentrantReadWriteLock
WriteLock
lock
getWriteLock
LOG
debug
appAttemptId
getApplicationId
showRequests
updateResourceRequests
unlock
NodeId
nodeID
node
getNodeID
LOG
info
assignPreemptedContainers
FSAppAttempt
reservedAppSchedulable
getReservedAppSchedulable
validReservation
assignReservedContainer
assignedContainers
Resource
assignedResource
Resources
clone
none
maxResourcesToAssign
multiply
getUnallocatedResource
assignment
queueMgr
getRootQueue
assignContainer
readLock
lock
FSQueue
queue
getQueueManager
getQueue
queueName
List
FSAppAttempt
noLongerPendingApps
ArrayList
next
iter
trackRunnableApp
appSched
getQueue
addApp
add
prev
FSAppAttempt
next
iter
trackRunnableApp
appSched
getQueue
addApp
noLongerPendingApps
add
prev
LOG
error
AllocationConfiguration
queueConf
scheduler
getAllocationConfiguration
Iterator
String
i
newQueueNames
iterator
FSParentQueue
parent
topParent
FSQueue
queue
newParent
queueName
next
SchedulingPolicy
childPolicy
getSchedulingPolicy
FSParentQueue
parent
topParent
FSQueue
queue
newParent
String
queueName
i
next
SchedulingPolicy
childPolicy
scheduler
getAllocationConfiguration
getSchedulingPolicy
LOG
error
FSLeafQueue
leafQueue
leafQueues
add
siteConf
set
YarnConfiguration
FS_BASED_RM_CONF_STORE
outputDir
ConfigurationProvider
provider
FileSystemBasedConfigurationProvider
init
rmContext
setConfigurationProvider
RMNodeLabelsManager
mgr
setNodeLabelManager
cs
setConf
setRMContext
serviceInit
csConfig
serviceStart
LOG
info
serviceStop
LOG
info
noOfErrors
errors
size
noOfWarnings
warnings
LOG
info
noOfErrors
errors
size
noOfWarnings
warnings
LOG
debug
t
String
action
properties
getProperty
property
RMContainer
rmContainer
RMContainerImpl
container
schedulerKey
getApplicationAttemptId
node
getNodeID
appSchedulingInfo
getUser
rmContext
getPartition
setQueueName
getQueueName
updateAMContainerDiagnostics
AMState
ASSIGNED
addToNewlyAllocatedContainers
ContainerId
containerId
getId
liveContainers
put
ContainerRequest
containerRequest
allocate
type
attemptResourceUsage
incUsed
getResource
setContainerRequest
handle
RMContainerEvent
RMContainerEventType
START
FifoAppAttempt
application
getApplicationAttempt
applicationAttemptId
FifoAppAttempt
application
getApplicationAttempt
applicationAttemptId
LOG
error
getApplicationId
EMPTY_ALLOCATION
normalizeResourceRequests
ask
releaseContainers
release
info
LOG
error
applicationAttemptId
getApplicationId
EMPTY_ALLOCATION
normalizeResourceRequests
ask
releaseContainers
release
application
info
debug
showRequests
updateResourceRequests
LOG
error
applicationAttemptId
EMPTY_ALLOCATION
normalizeResourceRequests
ask
releaseContainers
release
application
info
debug
showRequests
updateResourceRequests
SchedulerApplication
FifoAppAttempt
application
DEFAULT_QUEUE
user
applications
put
applicationId
metrics
submitApp
SchedulerApplication
FifoAppAttempt
application
DEFAULT_QUEUE
user
applications
put
applicationId
metrics
submitApp
LOG
info
size
AppAddedSchedulerEvent
appAddedEvent
event
addApplication
getApplicationId
getQueue
getUser
getIsAppRecovering
AppRemovedSchedulerEvent
appRemovedEvent
doneApplication
getApplicationID
getFinalState
AppAttemptAddedSchedulerEvent
appAttemptAddedEvent
addApplicationAttempt
getApplicationAttemptId
getTransferStateFromPreviousAttempt
getIsAttemptRecovering
AppAttemptRemovedSchedulerEvent
appAttemptRemovedEvent
Container
container
rmContainer
getContainer
FifoAppAttempt
application
getCurrentAttemptForContainer
getId
ApplicationId
appId
getApplicationAttemptId
getApplicationId
FiCaSchedulerNode
node
getNode
getNodeId
ContainerStatus
status
SchedulerUtils
createKilledContainerStatus
container
getContainerId
appSchedulingInfo
rmContext
schedulerRequestKey
multiNodeSortPolicyName
getApplicationSchedulingEnvs
get
ApplicationSchedulingConfig
ENV_MULTI_NODE_SORTING_POLICY_CLASS
multiNodeSortingManager
MultiNodeSortingManager
N
getMultiNodeSortingManager
policySpecs
addAll
multiNodePlacementPolicies
multiNodePlacementEnabled
isMultiNodePlacementEnabled
newNumAllocations
existingNumAllocations
sizing
getNumAllocations
setNumAllocations
SchedulerInvalidResoureRequestException
schedulingRequest
toString
newSchedulingRequest
PendingAskUpdateResult
updateResult
PendingAsk
getResourceSizing
targetNodePartition
readLock
lock
writeLock
lock
writeLock
lock
writeLock
lock
AMRMTokenIdentifier
identifier
token
decodeIdentifier
readLock
lock
ApplicationAttemptId
applicationAttemptId
identifier
getApplicationAttemptId
readLock
lock
ApplicationAttemptId
applicationAttemptId
identifier
getApplicationAttemptId
serviceStateLock
writeLock
lock
isServiceStarted
renewerService
shutdown
unlock
dtCancelThread
interrupt
join
e
printStackTrace
delayedRemovalThread
ApplicationId
applicationId
evt
getApplicationId
Credentials
ts
getCredentials
shouldCancelAtEnd
LOG
debug
Collection
Token
tokens
getAllTokens
now
System
currentTimeMillis
appTokens
put
Collections
synchronizedSet
HashSet
DelegationTokenToRenew
Set
tokenList
hasHdfsToken
now
System
currentTimeMillis
appTokens
put
applicationId
Collections
synchronizedSet
HashSet
DelegationTokenToRenew
Set
tokenList
hasHdfsToken
LOG
info
token
dttr
allTokens
get
Configuration
tokenConf
DelegationTokenToRenew
dttr
allTokens
get
token
Configuration
tokenConf
evt
LOG
info
size
Map
Entry
String
entry
itor
next
debug
getKey
getValue
getConfig
Arrays
asList
applicationId
now
shouldCancelAtEnd
getUser
renewToken
expiresIn
token
expirationDate
System
currentTimeMillis
applicationIds
HashSet
dttr
referringAppIds
clear
Set
DelegationTokenToRenew
tokenSet
appTokens
get
appId
Iterator
iter
iterator
t
next
remove
allTokens
token
cancelTimer
Collection
ApplicationId
applicationIds
t
referringAppIds
rmContext
getSystemCredentialsForApps
remove
applicationId
Set
DelegationTokenToRenew
tokens
appTokens
Iterator
it
iterator
dttr
next
writeLock
lock
HashSet
NodeId
nodeSet
appAttemptToNodeKeyMap
get
attemptId
writeLock
lock
HashSet
NodeId
nodeSet
appAttemptToNodeKeyMap
get
appAttemptId
NMToken
nmToken
LOG
info
String
addresses
conf
getStrings
YarnConfiguration
NM_CSI_ADAPTOR_ADDRESSES
LOG
info
String
addresses
conf
getStrings
YarnConfiguration
NM_CSI_ADAPTOR_ADDRESSES
addr
InetSocketAddress
address
NetUtils
createSocketAddr
YarnRPC
rpc
create
UserGroupInformation
currentUser
getCurrentUser
CsiAdaptorProtocol
adaptorClient
NMProxy
createNMProxy
String
addresses
conf
getStrings
YarnConfiguration
NM_CSI_ADAPTOR_ADDRESSES
LOG
info
addr
InetSocketAddress
address
NetUtils
createSocketAddr
YarnRPC
rpc
create
UserGroupInformation
currentUser
getCurrentUser
CsiAdaptorProtocol
adaptorClient
NMProxy
createNMProxy
GetPluginInfoResponse
response
getPluginInfo
GetPluginInfoRequest
newInstance
driverName
getDriverName
YarnException
adaptorMap
put
writeLock
lock
VolumeId
volumeId
event
getVolumeId
LOG
warn
getType
name
info
toString
VolumeState
oldState
newState
stateMachine
getCurrentState
doTransition
e
ApplicationId
appId
ApplicationAttemptId
appAttemptId
ContainerId
containerId
Apps
toAppID
parts
LOG
debug
e
redirectPath
pjoin
ahsPageURLPrefix
fromString
LOG
debug
parts
e
redirectPath
pjoin
ahsPageURLPrefix
appId
appAttemptId
ApplicationAttemptId
fromString
containerId
ContainerId
UserGroupInformation
callerUGI
getCallerUserGroupInformation
hsr
initForWritableEndpoints
RMNode
rmNode
getRMNode
nodeId
Map
NodeId
ResourceOption
nodeResourceMap
Collections
singletonMap
getNodeID
resourceOption
getResourceOption
UpdateNodeResourceRequest
updateRequest
newInstance
RMContext
rmContext
rm
getRMContext
AdminService
admin
getRMAdminService
updateNodeResource
String
message
LOG
error
e
YarnRuntimeException
limitNum
Integer
parseInt
limit
AppActivitiesInfo
appId
maxTime
Double
parseDouble
time
ApplicationId
applicationId
rm
getClientRMService
renewDelegationToken
req
BadRequestException
ue
getCause
getMessage
Response
status
Status
FORBIDDEN
entity
build
LOG
info
Response
status
Status
FORBIDDEN
entity
ye
getMessage
build
Token
RMDelegationTokenIdentifier
token
extractToken
hsr
org
apache
hadoop
yarn
api
records
dToken
BuilderUtils
newDelegationToken
getIdentifier
getKind
toString
getPassword
getService
CancelDelegationTokenRequest
req
newInstance
rm
getClientRMService
cancelDelegationToken
BadRequestException
ue
getCause
Token
RMDelegationTokenIdentifier
token
extractToken
hsr
org
apache
hadoop
yarn
api
records
dToken
BuilderUtils
newDelegationToken
getIdentifier
getKind
toString
getPassword
getService
CancelDelegationTokenRequest
req
newInstance
rm
getClientRMService
cancelDelegationToken
BadRequestException
ue
getCause
getMessage
Response
status
Status
FORBIDDEN
entity
build
LOG
info
UserGroupInformation
callerUGI
getCallerUserGroupInformation
hsr
initForWritableEndpoints
ResourceScheduler
scheduler
rm
getResourceScheduler
MutableConfigurationProvider
mutableConfigurationProvider
MutableConfScheduler
getMutableConfProvider
formatConfigurationInStore
conf
getRMContext
getRMAdminService
refreshQueues
LOG
error
e
revertToOldConfig
Response
status
Status
OK
entity
build
MutableConfigurationProvider
provider
MutableConfScheduler
scheduler
getMutableConfProvider
org
apache
hadoop
security
AccessControlException
LogMutation
logMutation
logAndApplyMutation
callerUGI
mutationInfo
rm
getRMContext
getRMAdminService
refreshQueues
confirmPendingMutation
e
SchedulerRequestKey
schedulerKey
task
getSchedulerKey
Map
String
ResourceRequest
requests
get
HashMap
put
LOG
debug
applicationId
ask
size
Container
container
i
next
String
host
getNodeId
toString
Task
task
t
NodeManager
nodeManager
getNodeManager
start
getId
remove
Resources
addTo
used
getResource
request
setNumContainers
getNumContainers
ask
remove
add
ResourceRequest
clone
driver
put
testCapacityDRConf
EnumSet
of
YarnServiceProtos
SchedulerResourceTypes
CPU
MEMORY
testCapacityDefConf
testFairDefConf
expectedValue
entry
getValue
MockRM
rm
getKey
start
MockNM
nm1
registerNode
DEFAULT_HOST
DEFAULT_PORT
GB
RMApp
app1
MockRMAppSubmitter
submitWithMemory
Thread
sleep
nodeHeartbeat
RMAppAttempt
attempt1
getCurrentAppAttempt
MockAM
am1
sendAMLaunched
getAppAttemptId
RegisterApplicationMasterResponse
resp
registerAppAttempt
types
getSchedulerResourceTypes
drainEventsImplicitly
timeWaiting
List
ContainerStatus
containers
attempt
getJustFinishedContainers
nm
nodeHeartbeat
drainEventsImplicitly
container
getResourceScheduler
getRMContainer
containerId
LOG
info
containerState
Thread
sleep
WAIT_MS_PER_LOOP
timeWaiting
getState
tick
rm
drainEventsImplicitly
Thread
sleep
rm
drainEventsImplicitly
RMAppAttempt
attempt
waitForAttemptScheduled
app
rm
drainEventsImplicitly
waitForState
app
getApplicationId
RMAppState
ACCEPTED
RMAppAttempt
attempt
getCurrentAppAttempt
waitForSchedulerAppAttemptAdded
getAppAttemptId
RPCUtil
getRemoteException
e
ContainerId
containerID
tokenId
getContainerID
ApplicationId
applicationId
getApplicationAttemptId
getApplicationId
List
Container
applicationContainers
containers
get
ArrayList
put
IllegalStateException
containerManagerAddress
container
BuilderUtils
newContainer
nodeId
nodeHttpAddress
getResource
ContainerStatus
containerStatus
newContainerStatus
getId
ContainerState
NEW
add
containerStatusMap
Resources
subtractFrom
available
heartbeat
RPCUtil
getRemoteException
ioe
ctr
Container
container
i
next
remove
IllegalStateException
containerID
Resources
addTo
available
getResource
subtractFrom
used
waitCount
Container
mockContainer
mock
NodeId
mockNodeId
String
host
when
getHost
thenReturn
getNodeId
mockRMAppAttempt
getMasterContainer
app
getCurrentAppAttempt
Map
Long
resourceSecondsMap
HashMap
put
ResourceInformation
MEMORY_MB
getName
VCORES
RMAppMetrics
metrics
Resource
newInstance
getRMAppMetrics
getDiagnostics
StringBuilder
RMAppManager
ApplicationSummary
SummaryBuilder
summary
createAppSummary
msg
toString
GetApplicationReportRequest
appReportRequest
recordFactory
newRecordInstance
setApplicationId
applicationId
KillApplicationRequest
finishAppRequest
ApplicationClientProtocol
enemyRmClient
getRMClientForUser
ENEMY
ApplicationReport
appReport
getApplicationReport
verifyEnemyAppReport
List
appReports
getApplications
GetApplicationsRequest
getApplicationList
Assert
assertEquals
size
report
forceKillApplication
fail
MockRM
rm
start
MockNM
nm1
registerNode
RMApp
app
MockRMAppSubmitter
submitWithMemory
nodeHeartbeat
RMAppAttempt
attempt
getCurrentAppAttempt
MockAM
am
sendAMLaunched
getAppAttemptId
registerAppAttempt
request
allocate
ArrayList
ContainerId
List
Container
conts
ResourceRequest
getAllocatedContainers
contReceived
size
waitCount
Thread
sleep
conts
am
allocate
ArrayList
ResourceRequest
ContainerId
getAllocatedContainers
contReceived
size
nm1
nodeHeartbeat
Assert
assertEquals
request
unregisterAppAttempt
NodeHeartbeatResponse
resp
attempt
getAppAttemptId
ContainerState
COMPLETE
rm
waitForState
getApplicationAttemptId
RMAppAttemptState
FINISHED
List
containersToCleanup
getContainersToCleanup
ApplicationId
appsToCleanup
getApplicationsToCleanup
numCleanedContainers
numCleanedApps
waitCount
rm
start
MockNM
nm1
registerNode
RMApp
app
MockRMAppSubmitter
submitWithMemory
nodeHeartbeat
RMAppAttempt
attempt
getCurrentAppAttempt
MockAM
am
sendAMLaunched
getAppAttemptId
registerAppAttempt
request
allocate
ArrayList
ContainerId
drainEvents
List
Container
conts
ResourceRequest
getAllocatedContainers
contReceived
size
waitCount
waitCount
cleanedConts
List
ContainerId
contsToClean
rm
drainEvents
resp
getContainersToCleanup
size
Thread
sleep
nm
nodeHeartbeat
LOG
error
ClientRMService
rmContext
scheduler
rmAppManager
applicationACLsManager
queueACLsManager
getRMContext
getRMDelegationTokenSecretManager
rm
start
nodeMemory
MockNM
nm1
registerNode
sendNodeStarted
nodeHeartbeat
waitForState
getNodeId
NodeState
RUNNING
Integer
decommissioningTimeout
sendNodeGracefulDecommission
DECOMMISSIONING
Configuration
conf
YarnRPC
rpc
create
InetSocketAddress
rmAddress
getClientRMService
getBindAddress
rm
start
NodeLabel
labelX
newInstance
labelY
RMNodeLabelsManager
labelsMgr
getRMContext
getNodeLabelManager
addToCluserNodeLabels
ImmutableSet
of
NodeId
node1
node2
Map
Set
String
map
HashMap
put
replaceLabelsOnNode
Configuration
conf
YarnRPC
rpc
create
InetSocketAddress
rmAddress
getClientRMService
getBindAddress
rm
start
NodeAttributesManager
mgr
getRMContext
getNodeAttributesManager
NodeId
host1
newInstance
host2
NodeAttribute
gpu
PREFIX_CENTRALIZED
NodeAttributeType
STRING
os
docker
PREFIX_DISTRIBUTED
Map
String
Set
nodes
HashMap
put
getHost
ImmutableSet
of
addNodeAttributes
Configuration
conf
YarnRPC
rpc
create
InetSocketAddress
rmAddress
getClientRMService
getBindAddress
yarnConf
setClass
CapacitySchedulerConfiguration
RESOURCE_CALCULATOR_CLASS
DominantResourceCalculator
ResourceCalculator
ClientRMService
rmContext
scheduler
rmAppManager
applicationACLsManager
queueACLsManager
getRMContext
getRMDelegationTokenSecretManager
rm
start
Resource
resource
BuilderUtils
newResource
setResourceInformation
ResourceInformation
newInstance
MockNM
node
registerNode
nodeHeartbeat
Configuration
conf
YarnRPC
rpc
create
InetSocketAddress
rmAddress
getClientRMService
getBindAddress
YarnConfiguration
conf
set
RM_PRINCIPAL
CommonConfigurationKeysPublic
HADOOP_SECURITY_AUTHENTICATION
UserGroupInformation
setConfiguration
ResourceScheduler
scheduler
createMockScheduler
initialInterval
maxLifetime
renewInterval
RMDelegationTokenSecretManager
rmDtSecretManager
createRMDelegationTokenSecretManager
startThreads
maxLifetime
renewInterval
RMDelegationTokenSecretManager
rmDtSecretManager
createRMDelegationTokenSecretManager
initialInterval
startThreads
LOG
info
ClientRMService
clientRMService
ClientRMServiceForTest
conf
scheduler
init
start
ApplicationClientProtocol
clientRMWithDT
UserGroupInformation
loggedInUser
createRemoteUser
Assert
assertEquals
getShortUserName
setAuthenticationMethod
AuthenticationMethod
KERBEROS
org
apache
hadoop
yarn
api
records
Token
token
getDelegationToken
tokenFetchTime
System
currentTimeMillis
org
apache
hadoop
yarn
api
records
Token
token
getDelegationToken
loggedInUser
clientRMService
getShortUserName
tokenFetchTime
System
currentTimeMillis
LOG
info
clientRMWithDT
getClientRMProtocolWithDT
getBindAddress
conf
GetNewApplicationRequest
request
Records
newRecord
getNewApplication
fail
e
Thread
sleep
nextExpTime
renewDelegationToken
renewalTime
Thread
sleep
nextExpTime
renewDelegationToken
loggedInUser
clientRMService
token
renewalTime
System
currentTimeMillis
LOG
info
clientRMWithDT
getNewApplication
request
fail
e
clientRMWithDT
getNewApplication
request
fail
assertEquals
InvalidToken
getName
e
getClass
assertTrue
getMessage
contains
RPC
stopProxy
token
getDelegationToken
loggedInUser
clientRMService
getShortUserName
tokenFetchTime
System
currentTimeMillis
LOG
info
getClientRMProtocolWithDT
getBindAddress
conf
Records
newRecord
GetNewApplicationRequest
MockNM
nm1
rm
registerNode
nm2
RMApp
app
MockRMAppSubmitter
submitWithMemory
nodeHeartbeat
RMAppAttempt
attempt
getCurrentAppAttempt
MockAM
am
sendAMLaunched
getAppAttemptId
registerAppAttempt
request
allocate
ArrayList
ContainerId
List
Container
conts
ResourceRequest
getAllocatedContainers
contReceived
size
addAll
List
Container
conts
am
allocate
ArrayList
ResourceRequest
ContainerId
getAllocatedContainers
contReceived
size
nm1
nodeHeartbeat
addAll
LOG
info
Thread
sleep
WAIT_SLEEP_MS
Assert
assertEquals
nm2
allocateContainersAndValidateNMTokens
am
containersReceivedForNM1
nmTokens
nm1
Assert
assertEquals
size
MockNM
nm2
rm
registerNode
nodeHeartbeat
ArrayList
Container
containersReceivedForNM2
response
allocate
releaseContainerList
getAllocatedContainers
Map
NodeId
RMNode
nodes
getRMContext
getRMNodes
Thread
sleep
WAIT_SLEEP_MS
interval
conf
setInt
YarnConfiguration
RM_AM_MAX_ATTEMPTS
count
startRMs
addNodeCapacityToPlan
rm1
explicitFailover
rm2
ClientRMService
clientService
getClientRMService
ReservationId
reservationID
getNewReservation
getReservationId
ReservationSubmissionRequest
request
createReservationSubmissionRequest
ReservationSubmissionResponse
response
submitReservation
Assert
fail
e
getMessage
assertNotNull
response
clientService
submitReservation
request
Assert
fail
e
getMessage
assertNotNull
resID1
LOG
info
ReservationId
resID2
getNewReservation
getReservationId
setReservationId
ReservationId
resID2
getNewReservation
clientService
getReservationId
request
setReservationId
response
submitReservation
Assert
fail
e
getMessage
assertNotNull
LOG
info
resID3
fs
FairScheduler
rm
getResourceScheduler
start
MockNM
nm1
registerNode
RMApp
app
MockRMAppSubmitter
submitWithMemory
nodeHeartbeat
RMAppAttempt
attempt
getCurrentAppAttempt
MockAM
am
sendAMLaunched
getAppAttemptId
registerAppAttempt
request
allocate
ArrayList
ContainerId
List
Container
conts
waitCount
waitCount
LOG
info
conts
size
request
Thread
sleep
List
Container
allocation
am
allocate
ArrayList
ResourceRequest
ContainerId
getAllocatedContainers
addAll
nm1
nodeHeartbeat
Assert
assertEquals
rm
signalToContainer
container
getId
SignalContainerCommand
OUTPUT_THREAD_DUMP
NodeHeartbeatResponse
resp
SignalContainerRequest
contsToSignal
signaledConts
cId
compareTo
RMContainer
invocation
getArguments
getContainerId
when
rmc
isAMContainer
thenReturn
app
getAMResource
label
res
getAppAMNodePartitionName
reservedContainers
add
getReservedResource
liveContainers
addContainerToSchedulerNode
host
reserved
String
partition
HashMap
String
ResourceUsage
userResourceUsagePerLabel
LeafQueue
queue
mulp
strs
a
split
queueName
Integer
intValue
List
RMContainer
liveContainers
ArrayList
reservedContainers
ApplicationId
appId
newInstance
id
ApplicationAttemptId
appAttemptId
FiCaSchedulerApp
app
mock
when
getAMResource
anyString
thenReturn
Resources
createResource
mockContainers
userResourceUsage
put
app
getUser
usage
incAMUsed
getAMResource
label
incUsed
getAppAttemptResourceUsage
getUsed
id
queue
LeafQueue
nameToCSQueues
get
queueName
Resource
totResoucePerPartition
partitionToResource
capacity
Resources
multiply
getQueueCapacities
getAbsoluteCapacity
HashSet
String
users
userMap
getQueueName
getQueuePath
when
getAllUsers
thenReturn
userLimit
FiCaSchedulerNode
sn
mock
when
getNodeID
thenReturn
nodeId
getPartition
partition
Resource
totalRes
Resources
createResource
String
res
arr
resSring
substring
indexOf
length
parseResourceFromString
getTotalResource
getUnallocatedResource
clone
getTotalKillableResources
none
List
RMContainer
liveContainers
ArrayList
getCopiedListOfRunningContainers
nodeIdToSchedulerNodes
put
String
partitionConfigArr
nodeLabelsConfigStr
split
clusterResource
Resources
createResource
partitionName
p
substring
indexOf
Resource
res
parseResourceFromString
exclusivity
Boolean
valueOf
length
when
nlm
getResourceByLabel
eq
any
thenReturn
isExclusiveNodeLabel
partitionToResource
put
queuePath
ROOT
String
queueName
getQueueName
q
when
queue
thenReturn
ParentQueue
parentQueue
getParentQueue
queueExprArray
idx
myLevel
getParent
getChildQueues
add
getQueuePath
QueueCapacities
qc
ResourceUsage
ru
QueueResourceQuotas
qr
getQueueCapacities
getQueueResourceUsage
getQueueResourceQuotas
qr
setEffectiveMaxResource
parseResourceFromString
values
trim
setEffectiveMinResource
partitionName
when
queue
getUsedCapacity
thenReturn
used
getEffectiveCapacity
getEffectiveMaxCapacity
ru
setPending
pending
Resource
reserved
Resources
none
setReserved
LeafQueue
lq
getTotalPendingResourcesConsideringUserLimit
isA
String
eq
alloc
timeSteps
RLESparseResourceAllocation
rleSparseVector
ReservationSystemTestUtil
generateRLESparseResourceAllocation
PeriodicRLESparseResourceAllocation
periodicVector
alloc
timeSteps
RLESparseResourceAllocation
rleSparseVector
ReservationSystemTestUtil
generateRLESparseResourceAllocation
PeriodicRLESparseResourceAllocation
periodicVector
ResourceCalculator
resCalc
DefaultResourceCalculator
RLESparseResourceAllocation
rleSparseVector
ReservationInterval
riAdd
Resource
rr
newInstance
riAdd2
rr2
riRemove
ResourceCalculator
resCalc
DefaultResourceCalculator
RLESparseResourceAllocation
rleSparseVector
ReservationInterval
riAdd
Resource
rr
newInstance
riAdd2
rr2
riRemove
LOG
info
toString
addInterval
ResourceCalculator
resCalc
DefaultResourceCalculator
RLESparseResourceAllocation
rleSparseVector
ReservationInterval
riAdd
Resource
rr
newInstance
riAdd2
rr2
riRemove
LOG
info
toString
addInterval
removeInterval
Resource
rr2
newInstance
ReservationInterval
riRemove
LOG
info
rleSparseVector
toString
addInterval
riAdd
rr
riAdd2
removeInterval
Assert
assertEquals
getCapacityAtTime
getMemorySize
riRemove2
ResourceCalculator
resCalc
DefaultResourceCalculator
RLESparseResourceAllocation
rleSparseVector
addInterval
ReservationInterval
Long
MAX_VALUE
Resource
newInstance
timeSteps
alloc
RLESparseResourceAllocation
rleSparseVector
ReservationSystemTestUtil
generateRLESparseResourceAllocation
timeSteps
alloc
RLESparseResourceAllocation
rleSparseVector
ReservationSystemTestUtil
generateRLESparseResourceAllocation
Assert
fail
assertNull
plan
String
message
e
getMessage
assertTrue
startsWith
LOG
info
request
createSimpleReservationSubmissionRequest
rrValidator
validateReservationSubmissionRequest
rSystem
ReservationSystemTestUtil
getNewReservationId
Assert
fail
assertNull
plan
String
message
e
getMessage
assertTrue
startsWith
LOG
info
request
createSimpleReservationUpdateRequest
rrValidator
validateReservationUpdateRequest
rSystem
seed
rand
nextLong
setSeed
seed
rand
nextLong
setSeed
seed
rand
nextLong
setSeed
String
queueName
QueueMetrics
source
Map
users
String
queueName
QueueMetrics
source
Map
users
waitCount
YarnConfiguration
conf
CapacitySchedulerContext
csContext
mock
when
getConfiguration
thenReturn
csConf
getConf
getMinimumResourceCapability
Resources
createResource
GB
getMaximumResourceCapability
getResourceCalculator
resourceCalculator
getRMContext
rmContext
getPreemptionManager
PreemptionManager
Resource
clusterResource
getClusterResource
CSQueueStore
queues
CSQueue
root
CapacitySchedulerQueueManager
parseQueue
TestUtils
spyHook
updateClusterResource
ResourceLimits
LeafQueue
queue
get
A
nodeUpdate
nm_0
nm_1
application_0
schedule
checkApplicationResourceUsage
GB
application_1
checkNodeResourceUsage
LOG
info
Task
task_1_1
priority_0
String
ResourceRequest
ANY
addTask
task_0_1
host_0
host_1
application_0
schedule
checkApplicationResourceUsage
GB
application_1
checkNodeResourceUsage
nm_0
nm_1
LOG
info
Task
task_1_1
priority_0
String
ResourceRequest
ANY
addTask
task_0_1
host_0
host_1
getHostName
nodeUpdate
conf
setClass
YarnConfiguration
RM_SCHEDULER
CapacityScheduler
ResourceScheduler
MyContainerManager
containerManager
MockRMWithAMS
rm
start
MockNM
nm1
registerNode
Map
ApplicationAccessType
String
acls
HashMap
put
VIEW_APP
MockRMAppSubmissionData
data
Builder
createWithMemory
withAppName
withUser
withAcls
build
RMApp
app
MockRMAppSubmitter
submit
nodeHeartbeat
RMAppAttempt
attempt
getCurrentAppAttempt
ApplicationAttemptId
applicationAttemptId
getAppAttemptId
msecToWait
msecToSleep
String
b1QTobeDeleted
LeafQueue
csB1Queue
Mockito
spy
queues
get
when
getState
thenReturn
QueueState
DRAINING
STOPPED
cs
getCapacitySchedulerQueueManager
addQueue
conf
CapacitySchedulerConfiguration
setupQueueConfigurationWithOutB1
reinitialize
mockContext
fail
conf
setQueues
AGROUP
String
setCapacity
AGROUP_A
setUserLimitFactor
C
setAutoCreateChildQueueEnabled
setAutoCreatedLeafQueueConfigCapacity
setAutoCreatedLeafQueueConfigMaxCapacity
setAutoCreatedLeafQueueConfigUserLimit
setAutoCreatedLeafQueueConfigUserLimitFactor
setAutoCreatedLeafQueueTemplateCapacityByLabel
NODEL_LABEL_GPU
NODE_LABEL_GPU_TEMPLATE_CAPACITY
setAutoCreatedLeafQueueTemplateMaxCapacity
NODEL_LABEL_SSD
NODEL_LABEL_SSD_TEMPLATE_CAPACITY
setDefaultNodeLabelExpression
setAutoCreatedLeafQueueConfigDefaultNodeLabelExpression
conf
setAutoCreatedLeafQueueConfigCapacity
D
setAutoCreatedLeafQueueConfigMaxCapacity
setAutoCreatedLeafQueueConfigUserLimit
setAutoCreatedLeafQueueConfigUserLimitFactor
set
CapacitySchedulerConfiguration
PREFIX
C
DOT
AUTO_CREATED_LEAF_QUEUE_TEMPLATE_PREFIX
ORDERING_POLICY
FAIR_APP_ORDERING_POLICY
accessibleNodeLabelsOnC
add
NODEL_LABEL_GPU
NODEL_LABEL_SSD
NO_LABEL
setAccessibleNodeLabels
ROOT
setCapacityByLabel
QueueEntitlement
expectedEntitlement
ManagedParentQueue
autoCreateEnabledParentQueue
parentQueue
AutoCreatedLeafQueue
leafQueue
cs
getQueue
leafQueueName
GuaranteedOrZeroCapacityOverTimePolicy
policy
getAutoCreatedQueueManagementPolicy
Map
String
expectedEntitlements
HashMap
SuppressWarnings
MockRM
rm
conf
start
MockNM
nm1
registerNode
GB
nm2
nodeHeartbeat
waitCount
size
getRMContext
getRMNodes
Resource
clusterResource
Resources
createResource
numNodes
GB
when
csContext
getNumClusterNodes
thenReturn
getClusterResource
root
updateClusterResource
ResourceLimits
Priority
priority
TestUtils
createMockPriority
app0
updateResourceRequests
Collections
singletonList
createResourceRequest
ResourceRequest
ANY
recordFactory
NO_LABEL
app2
b
setUserLimit
setUserLimitFactor
User
queueUser0
getUser
user0
queueUser1
user1
assertEquals
getAbstractUsersManager
getNumActiveUsers
CSAssignment
assign
assignContainers
node0
SchedulingMode
RESPECT_PARTITION_EXCLUSIVITY
NodeId
nodeId
newInstance
host
port
RMNode
rmNode
mock
when
getNodeID
thenReturn
getTotalCapability
Resources
createResource
memory
vcores
getNodeAddress
getHostName
getRackName
rack
getState
NodeState
RUNNING
FiCaSchedulerNode
node
spy
Map
String
Long
nmTags
atm
getAllocationTagsWithCount
nm
getNodeId
StringBuffer
sb
forEach
tag
count
append
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
allocator
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
allocator
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
allocator
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
NodeQueueLoadMonitor
selector
createNodeQueueLoadMonitor
allocator
setNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
allocator
setMaxAllocationsPerAMHeartbeat
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
allocator
setMaxAllocationsPerAMHeartbeat
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
LOG
info
assertEquals
size
ArrayList
allocator
setMaxAllocationsPerAMHeartbeat
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
allocator
setMaxAllocationsPerAMHeartbeat
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
LOG
info
assertEquals
size
ArrayList
allocator
setMaxAllocationsPerAMHeartbeat
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
oppCntxt
LOG
info
assertEquals
size
ArrayList
oppCntxt
spy
OpportunisticSchedulerMetrics
metrics
mock
when
getOppSchedulerMetrics
thenReturn
List
ResourceRequest
reqs
Arrays
asList
createResourceRequest
ANY
ApplicationAttemptId
appAttId
newInstance
ApplicationId
allocator
setNodeQueueLoadMonitor
createNodeQueueLoadMonitor
Container
containers
allocateContainers
EMPTY_BLACKLIST_REQUEST
setupFSConfigConversionFiles
ArgumentCaptor
FSConfigToCSConfigConverterParams
conversionParams
forClass
FSConfigToCSConfigArgumentHandler
argumentHandler
createArgumentHandler
String
args
getArgumentsAsArrayWithDefaults
FSConfigConverterTestCommons
FS_ALLOC_FILE
CONVERSION_RULES_FILE
parseAndConvert
verify
mockConverter
convert
capture
params
getValue
setupFSConfigConversionFiles
ArgumentCaptor
FSConfigToCSConfigConverterParams
conversionParams
forClass
FSConfigToCSConfigArgumentHandler
argumentHandler
createArgumentHandler
String
args
getArgumentsAsArrayWithDefaults
FSConfigConverterTestCommons
FS_ALLOC_FILE
CONVERSION_RULES_FILE
parseAndConvert
verify
mockConverter
convert
capture
params
getValue
setupFSConfigConversionFiles
ArgumentCaptor
FSConfigToCSConfigConverterParams
conversionParams
forClass
FSConfigToCSConfigArgumentHandler
argumentHandler
createArgumentHandler
String
args
getArgumentsAsArrayWithDefaults
FSConfigConverterTestCommons
FS_ALLOC_FILE
CONVERSION_RULES_FILE
parseAndConvert
verify
mockConverter
convert
capture
params
getValue
Assert
assertEquals
nm1
getNodeId
allocated1
get
report_nm1
rm
getResourceScheduler
getNodeReport
getAvailableResource
getMemorySize
GB
getUsedResource
Container
c1
getResource
Map
NodeId
ResourceOption
nodeResourceMap
HashMap
put
newInstance
Resource
UpdateNodeResourceRequest
request
getAdminService
updateNodeResource
waitCount
UpdateNodeResourceRequest
request
newInstance
nodeResourceMap
rm
getAdminService
updateNodeResource
waitCount
report_nm1
getResourceScheduler
getNodeReport
nm1
getNodeId
LOG
info
Thread
sleep
Assert
assertEquals
GB
getUsedResource
getMemorySize
getAvailableResource
ContainerStatus
containerStatus
BuilderUtils
newContainerStatus
c1
getId
ContainerState
COMPLETE
getResource
MyFS
dfs
FileSystem
get
conf
MyFS
dfs
FileSystem
get
conf
LOG
info
Object
hashCode
MyToken
token1
token2
token3
getDelegationToken
Renewer
tokenToRenewIn2Sec
delegationTokenRenewer
addApplicationAsync
applicationId_0
ts
Configuration
waitForEventsToGetProcessed
numberOfExpectedRenewals
attempts
Thread
sleep
Renewer
counter
LOG
info
dfs
hashCode
lastRenewed
assertEquals
token1
Credentials
MyToken
token4
getDelegationToken
tokenToRenewIn2Sec
assertEquals
numberOfExpectedRenewals
Renewer
counter
lastRenewed
token1
ts
Credentials
MyToken
token4
dfs
getDelegationToken
tokenToRenewIn2Sec
LOG
info
String
nn4
DelegationTokenRenewer
SCHEME
addToken
Text
ApplicationId
applicationId_1
BuilderUtils
newApplicationId
delegationTokenRenewer
addApplicationAsync
Configuration
waitForEventsToGetProcessed
applicationFinished
MyFS
dfs
FileSystem
get
conf
MyFS
dfs
FileSystem
get
conf
MyFS
dfs
FileSystem
get
conf
MyFS
dfs
FileSystem
get
conf
LOG
info
Object
hashCode
Credentials
ts
MyToken
token1
getDelegationToken
Renewer
tokenToRenewIn2Sec
lconf
setBoolean
YarnConfiguration
RM_DELEGATION_TOKEN_ALWAYS_CANCEL
DelegationTokenRenewer
localDtr
createNewDelegationTokenRenewer
counter
RMContext
mockContext
mock
when
getSystemCredentialsForApps
thenReturn
ConcurrentHashMap
ApplicationId
SystemCredentialsForAppsProto
ClientRMService
mockClientRMService
getClientRMService
getDelegationTokenRenewer
getDispatcher
dispatcher
InetSocketAddress
sockAddr
createUnresolved
getBindAddress
setDelegationTokenRenewerPoolTracker
setRMContext
init
start
MyFS
dfs
FileSystem
get
ClientRMService
mockClientRMService
mock
when
mockContext
getClientRMService
thenReturn
getDelegationTokenRenewer
localDtr
getDispatcher
dispatcher
InetSocketAddress
sockAddr
createUnresolved
getBindAddress
setDelegationTokenRenewerPoolTracker
setRMContext
init
lconf
start
MyFS
dfs
FileSystem
get
LOG
info
Object
hashCode
Credentials
ts
MyToken
token1
getDelegationToken
Renewer
tokenToRenewIn2Sec
lconf
setLong
YarnConfiguration
RM_DELAYED_DELEGATION_TOKEN_REMOVAL_INTERVAL_MS
DelegationTokenRenewer
localDtr
createNewDelegationTokenRenewer
counter
RMContext
mockContext
mock
when
getSystemCredentialsForApps
thenReturn
ConcurrentHashMap
ApplicationId
SystemCredentialsForAppsProto
ClientRMService
mockClientRMService
getClientRMService
getDelegationTokenRenewer
getDispatcher
dispatcher
InetSocketAddress
sockAddr
createUnresolved
getBindAddress
setDelegationTokenRenewerPoolTracker
setRMContext
init
start
MyFS
dfs
FileSystem
get
lconf
setLong
YarnConfiguration
RM_DELAYED_DELEGATION_TOKEN_REMOVAL_INTERVAL_MS
DelegationTokenRenewer
localDtr
createNewDelegationTokenRenewer
conf
counter
RMContext
mockContext
mock
when
getSystemCredentialsForApps
thenReturn
ConcurrentHashMap
ApplicationId
SystemCredentialsForAppsProto
ClientRMService
mockClientRMService
getClientRMService
getDelegationTokenRenewer
getDispatcher
dispatcher
InetSocketAddress
sockAddr
createUnresolved
getBindAddress
setDelegationTokenRenewerPoolTracker
setRMContext
init
start
MyFS
dfs
FileSystem
get
renewerCounter
incrementAndGet
submit
r
pool
Thread
sleep
config
getTimeDuration
YarnConfiguration
RM_DT_RENEWER_THREAD_TIMEOUT
DEFAULT_RM_DT_RENEWER_THREAD_TIMEOUT
TimeUnit
MILLISECONDS
renewToken
dttr
assertEquals
json
length
JSONObject
info
getJSONObject
WebResource
r
resource
ClientResponse
response
SchedConfUpdateInfo
updateInfo
Map
String
updateParam
HashMap
put
CapacitySchedulerConfiguration
MAXIMUM_AM_RESOURCE_SUFFIX
QueueConfigInfo
aUpdateInfo
getUpdateQueueInfo
add
CapacityScheduler
cs
rm
getResourceScheduler
assertEquals
DEFAULT_MAXIMUM_APPLICATIONMASTERS_RESOURCE_PERCENT
getConfiguration
getMaximumApplicationMasterResourcePerQueuePercent
path
queryParam
userName
accept
MediaType
APPLICATION_JSON
entity
YarnWebServiceUtils
toJson
String
responseStr
response
getEntity
String
responseStr
response
getEntity
LOG
info
path
toString
String
responseStr
response
getEntity
String
responseStr
response
getEntity
LOG
info
path
toString
startTime
clock
getTime
Map
SubClusterId
SubClusterInfo
subClustersActive
federationFacade
getSubClusters
subClusterId
getRandomActiveSubCluster
LOG
debug
i
subClusterId
ApplicationClientProtocol
clientRMProxy
getClientRMProxyForSubCluster
GetNewApplicationResponse
response
getNewApplication
request
warn
getId
e
stopTime
clock
getTime
routerMetrics
succeededAppsCreated
startTime
subClustersActive
remove
incrAppsFailedCreated
String
errMsg
LOG
info
applicationId
i
subClusterId
ApplicationHomeSubCluster
appHomeSubCluster
newInstance
federationFacade
addApplicationHomeSubCluster
routerMetrics
incrAppsFailedSubmitted
String
message
RouterServerUtil
logAndThrowException
e
updateApplicationHomeSubCluster
SubClusterId
subClusterIdInStateStore
getApplicationHomeSubCluster
federationFacade
updateApplicationHomeSubCluster
appHomeSubCluster
String
message
applicationId
SubClusterId
subClusterIdInStateStore
getApplicationHomeSubCluster
LOG
info
subClusterId
routerMetrics
incrAppsFailedSubmitted
RouterServerUtil
logAndThrowException
e
ApplicationClientProtocol
clientRMProxy
getClientRMProxyForSubCluster
SubmitApplicationResponse
response
submitApplication
request
startTime
clock
getTime
routerMetrics
incrAppsFailedKilled
RouterServerUtil
logAndThrowException
ApplicationId
applicationId
request
getApplicationId
SubClusterId
subClusterId
federationFacade
getApplicationHomeSubCluster
e
ApplicationClientProtocol
clientRMProxy
getClientRMProxyForSubCluster
KillApplicationResponse
response
RouterServerUtil
logAndThrowException
ApplicationId
applicationId
request
getApplicationId
SubClusterId
subClusterId
federationFacade
getApplicationHomeSubCluster
routerMetrics
incrAppsFailedKilled
e
ApplicationClientProtocol
clientRMProxy
getClientRMProxyForSubCluster
KillApplicationResponse
response
LOG
info
forceKillApplication
SubClusterId
subClusterId
federationFacade
getApplicationHomeSubCluster
request
getApplicationId
routerMetrics
incrAppsFailedKilled
RouterServerUtil
logAndThrowException
applicationId
e
ApplicationClientProtocol
clientRMProxy
getClientRMProxyForSubCluster
KillApplicationResponse
response
LOG
info
forceKillApplication
error
getId
routerMetrics
incrAppsFailedRetrieved
RouterServerUtil
logAndThrowException
SubClusterId
subClusterId
federationFacade
getApplicationHomeSubCluster
request
getApplicationId
e
ApplicationClientProtocol
clientRMProxy
getClientRMProxyForSubCluster
GetApplicationReportResponse
response
getApplicationReport
SubClusterId
subClusterId
federationFacade
getApplicationHomeSubCluster
request
getApplicationId
routerMetrics
incrAppsFailedRetrieved
RouterServerUtil
logAndThrowException
e
ApplicationClientProtocol
clientRMProxy
getClientRMProxyForSubCluster
GetApplicationReportResponse
response
getApplicationReport
LOG
error
getId
ApplicationClientProtocol
protocol
getClientRMProxyForSubCluster
subClusterId
Method
method
getMethod
request
getMethodName
getTypes
invoke
getParams
Map
SubClusterId
R
results
TreeMap
futures
addAll
executorService
invokeAll
callables
clusterIds
get
i
Future
Object
future
result
put
clazz
cast
Throwable
cause
ex
getCause
Map
SubClusterId
SubClusterInfo
subClustersInfo
facade
getSubClusters
List
subclusters
ArrayList
addAll
values
o1
getSubClusterId
compareTo
o2
Collections
sort
cmp
subClusterId
subcluster
String
webAppAddress
getRMWebServiceAddress
capability
getCapability
ClusterMetricsInfo
subClusterInfo
getClusterMetricsInfo
tbody
tr
td
a
toString
__
Integer
getAppsSubmitted
getAppsPending
getAppsRunning
getAppsFailed
getAppsKilled
getAppsCompleted
getContainersAllocated
getReservedContainers
getPendingContainers
StringUtils
byteDesc
getAvailableMB
BYTES_IN_MB
getAllocatedMB
getReservedMB
getTotalMB
Long
getAvailableVirtualCores
getAllocatedVirtualCores
getReservedVirtualCores
getTotalVirtualCores
getActiveNodes
getLostNodes
getDecommissionedNodes
getUnhealthyNodes
getRebootedNodes
getTotalNodes
ApplicationId
applicationId
fromString
newApp
getApplicationId
routerMetrics
incrAppsFailedSubmitted
Response
status
Status
BAD_REQUEST
entity
e
getLocalizedMessage
build
List
SubClusterId
blacklist
ArrayList
ApplicationSubmissionContext
context
RMWebAppUtil
createAppSubmissionContext
getConf
subClusterId
policyFacade
getHomeSubcluster
SERVICE_UNAVAILABLE
ApplicationHomeSubCluster
appHomeSubCluster
newInstance
applicationId
subClusterId
federationFacade
addApplicationHomeSubCluster
routerMetrics
incrAppsFailedSubmitted
String
errMsg
Response
status
Status
SERVICE_UNAVAILABLE
entity
e
getLocalizedMessage
build
updateApplicationHomeSubCluster
SubClusterId
subClusterIdInStateStore
String
errMsg
applicationId
SubClusterId
subClusterIdInStateStore
federationFacade
getApplicationHomeSubCluster
routerMetrics
incrAppsFailedSubmitted
Response
status
Status
SERVICE_UNAVAILABLE
entity
e1
getLocalizedMessage
build
LOG
info
subClusterId
SubClusterInfo
subClusterInfo
getSubCluster
LOG
info
applicationId
subClusterId
routerMetrics
incrAppsFailedSubmitted
Response
status
Status
SERVICE_UNAVAILABLE
entity
errMsg
build
SubClusterInfo
subClusterInfo
federationFacade
getSubCluster
e
getLocalizedMessage
response
getOrCreateInterceptorForSubCluster
getRMWebServiceAddress
submitApplication
newApp
hsr
Map
SubClusterId
SubClusterInfo
subClustersActive
federationFacade
getSubClusters
routerMetrics
incrMultipleAppsFailedRetrieved
CompletionService
AppsInfo
compSvc
ExecutorCompletionService
threadpool
HttpServletRequest
hsrCopy
clone
hsr
DefaultRequestInterceptorREST
interceptor
getOrCreateInterceptorForSubCluster
info
getSubClusterId
getRMWebServiceAddress
rmApps
getApps
stateQuery
statesQuery
finalStatusQuery
userQuery
queueQuery
count
startedBegin
startedEnd
finishBegin
finishEnd
applicationTypes
applicationTags
name
unselectedFields
Map
SubClusterId
SubClusterInfo
subClustersActive
getActiveSubclusters
LOG
error
e
getMessage
NodesInfo
CompletionService
compSvc
ExecutorCompletionService
threadpool
DefaultRequestInterceptorREST
interceptor
getOrCreateInterceptorForSubCluster
info
getSubClusterId
getRMWebServiceAddress
nodesInfo
getNodes
states
Map
SubClusterId
SubClusterInfo
subClustersActive
getActiveSubclusters
LOG
error
e
getLocalizedMessage
metrics
CompletionService
ClusterMetricsInfo
compSvc
ExecutorCompletionService
threadpool
DefaultRequestInterceptorREST
interceptor
getOrCreateInterceptorForSubCluster
info
getSubClusterId
getRMWebServiceAddress
getClusterMetricsInfo
Map
String
paramMap
hsr
getParameterMap
additionalParam
ClientResponse
response
RouterWebServiceUtil
invokeRMWebService
webApp
targetPath
method
getPathInfo
formParam
getMediaTypeFromHttpServletRequest
returnType
conf
T
clientResponseToResponse
getEntity
setUpConfig
interceptor
TestableFederationClientInterceptor
stateStore
MemoryFederationStateStore
init
getConf
FederationStateStoreFacade
getInstance
reinitialize
stateStoreUtil
FederationStateStoreTestUtil
setConf
user
subClusters
ArrayList
SubClusterId
sc
newInstance
Integer
toString
i
registerSubCluster
add
String
user
ClientRequestInterceptor
interceptor
pipeline
e
printStackTrace
RequestInterceptorChainWrapper
wrapper
getRouterClientRMService
getInterceptorChain
getRootInterceptor
Assert
assertNotNull
String
user
RMAdminRequestInterceptor
interceptor
pipeline
e
printStackTrace
RequestInterceptorChainWrapper
wrapper
getRouterRMAdminService
getInterceptorChain
getRootInterceptor
Assert
assertNotNull
validateRunning
ApplicationId
appId
fromString
newApp
getApplicationId
setUpConfig
interceptor
TestableFederationInterceptorREST
stateStore
MemoryFederationStateStore
init
getConf
FederationStateStoreFacade
getInstance
reinitialize
stateStoreUtil
FederationStateStoreTestUtil
setConf
user
subClusters
ArrayList
SubClusterId
sc
newInstance
Integer
toString
i
registerSubCluster
add
String
user
RESTRequestInterceptor
interceptor
pipeline
e
printStackTrace
RequestInterceptorChainWrapper
wrapper
getInterceptorChain
getRootInterceptor
Assert
assertNotNull
FileSystem
fs
get
conf
String
root
YarnConfiguration
SHARED_CACHE_ROOT
DEFAULT_SHARED_CACHE_ROOT
Path
pidPath
GLOBAL_CLEANER_PID
delete
metrics
reportCleaningStart
String
pattern
SharedCacheUtil
getCacheEntryGlobPattern
nestedLevel
FileStatus
resources
fs
globStatus
Path
root
numResources
length
LOG
info
numResources
beginMs
System
currentTimeMillis
warn
processSingleResource
resource
getPath
toString
Thread
sleep
sleepTime
endMs
durationMs
LOG
warn
processSingleResource
resource
getPath
toString
Thread
sleep
sleepTime
endMs
System
currentTimeMillis
durationMs
beginMs
info
numResources
Path
path
resource
getPath
ResourceStatus
resourceStatus
INIT
Path
path
resource
getPath
ResourceStatus
resourceStatus
INIT
LOG
info
toString
DELETED
error
e
String
key
getName
store
cleanResourceReferences
LOG
error
path
e
String
key
getName
store
cleanResourceReferences
deleted
removeResourceFromCacheFileSystem
resourceStatus
ResourceStatus
DELETED
String
key
path
getName
store
cleanResourceReferences
LOG
error
e
deleted
removeResourceFromCacheFileSystem
resourceStatus
ResourceStatus
DELETED
ERROR
Path
renamedPath
path
toString
RENAMED_SUFFIX
Map
String
initialCachedResources
getInitialCachedResources
FileSystem
get
conf
FileStatus
entries
fs
globStatus
Path
root
pattern
numEntries
length
LOG
info
Map
String
initialCachedEntries
HashMap
file
entry
getPath
fileName
getName
parent
getParent
key
warn
get
SCMWebApp
scmWebApp
scm
webApp
WebApps
$for
at
bindAddress
start
Context
nmContext
yarnCluster
getNodeManager
getNMContext
timeout
Container
waitContainer
getContainers
get
containerId
String
dirType
localORLogDirs
dirsProperty
YarnConfiguration
NM_LOCAL_DIRS
NM_LOG_DIRS
Configuration
conf
setLong
NM_DISK_HEALTH_CHECK_INTERVAL_MS
TOO_HIGH_DISK_HEALTH_CHECK_INTERVAL
setFloat
NM_MIN_HEALTHY_DISKS_FRACTION
yarnCluster
stop
FileUtil
fullyDelete
localFSDirBase
mkdirs
LOG
info
MiniYARNCluster
TestDiskFailures
getName
numLocalDirs
numLogDirs
init
start
NodeManager
nm
getNodeManager
dirsHandler
checkDirs
List
String
list
localORLogDirs
getLocalDirs
getLogDirs
seenDirs
StringUtils
join
dirsHandler
checkDirs
List
String
list
localORLogDirs
getLocalDirs
getLogDirs
seenDirs
StringUtils
join
LOG
info
expectedDirs
metrics
EntityGroupFSTimelineStoreMetrics
create
summaryStore
createSummaryStore
addService
logRetainSecs
conf
getLong
YarnConfiguration
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS_DEFAULT
logRetainMillis
metrics
EntityGroupFSTimelineStoreMetrics
create
summaryStore
createSummaryStore
addService
logRetainSecs
conf
getLong
YarnConfiguration
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS_DEFAULT
logRetainMillis
LOG
info
unknownActiveSecs
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_UNKNOWN_ACTIVE_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_UNKNOWN_ACTIVE_SECONDS_DEFAULT
unknownActiveMillis
metrics
EntityGroupFSTimelineStoreMetrics
create
summaryStore
createSummaryStore
addService
logRetainSecs
conf
getLong
YarnConfiguration
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS_DEFAULT
logRetainMillis
LOG
info
unknownActiveSecs
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_UNKNOWN_ACTIVE_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_UNKNOWN_ACTIVE_SECONDS_DEFAULT
unknownActiveMillis
appCacheMaxSize
getInt
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_APP_CACHE_SIZE
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_APP_CACHE_SIZE_DEFAULT
metrics
EntityGroupFSTimelineStoreMetrics
create
summaryStore
createSummaryStore
addService
logRetainSecs
conf
getLong
YarnConfiguration
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS_DEFAULT
logRetainMillis
LOG
info
unknownActiveSecs
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_UNKNOWN_ACTIVE_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_UNKNOWN_ACTIVE_SECONDS_DEFAULT
unknownActiveMillis
appCacheMaxSize
getInt
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_APP_CACHE_SIZE
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_APP_CACHE_SIZE_DEFAULT
TimelineEntityGroupId
groupId
eldest
getKey
addService
summaryStore
logRetainSecs
conf
getLong
YarnConfiguration
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_RETAIN_SECONDS_DEFAULT
logRetainMillis
LOG
info
unknownActiveSecs
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_UNKNOWN_ACTIVE_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_UNKNOWN_ACTIVE_SECONDS_DEFAULT
unknownActiveMillis
appCacheMaxSize
getInt
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_APP_CACHE_SIZE
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_APP_CACHE_SIZE_DEFAULT
TimelineEntityGroupId
groupId
eldest
getKey
debug
EntityCacheItem
cacheItem
getValue
Collection
String
pluginNames
conf
getTrimmedStringCollection
YarnConfiguration
TIMELINE_SERVICE_ENTITY_GROUP_PLUGIN_CLASSES
pluginClasspath
getTrimmed
TIMELINE_SERVICE_ENTITY_GROUP_PLUGIN_CLASSPATH
systemClasses
getTrimmedStrings
TIMELINE_SERVICE_ENTITY_GROUP_PLUGIN_SYSTEM_CLASSES
List
TimelineEntityGroupPlugin
pluginList
LinkedList
ClassLoader
customClassLoader
createPluginClassLoader
LOG
warn
ioe
debug
name
cacheIdPlugin
summaryTdm
init
conf
addService
serviceStart
fs
mkdirs
activeRootPath
setPermission
ACTIVE_DIR_PERMISSION
doneRootPath
DONE_DIR_PERMISSION
objMapper
ObjectMapper
setAnnotationIntrospector
JaxbAnnotationIntrospector
TypeFactory
defaultInstance
jsonFactory
MappingJsonFactory
scanIntervalSecs
getLong
YarnConfiguration
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_SCAN_INTERVAL_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_SCAN_INTERVAL_SECONDS_DEFAULT
cleanerIntervalSecs
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_CLEANER_INTERVAL_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_CLEANER_INTERVAL_SECONDS_DEFAULT
numThreads
getInt
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_THREADS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_THREADS_DEFAULT
addService
summaryTdm
serviceStart
fs
mkdirs
activeRootPath
setPermission
ACTIVE_DIR_PERMISSION
doneRootPath
DONE_DIR_PERMISSION
objMapper
ObjectMapper
setAnnotationIntrospector
JaxbAnnotationIntrospector
TypeFactory
defaultInstance
jsonFactory
MappingJsonFactory
scanIntervalSecs
conf
getLong
YarnConfiguration
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_SCAN_INTERVAL_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_SCAN_INTERVAL_SECONDS_DEFAULT
cleanerIntervalSecs
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_CLEANER_INTERVAL_SECONDS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_CLEANER_INTERVAL_SECONDS_DEFAULT
numThreads
getInt
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_THREADS
TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_THREADS_DEFAULT
LOG
info
RemoteIterator
FileStatus
iter
list
dir
logsToScanCount
stat
next
String
name
getPath
getName
ApplicationId
appId
parseApplicationId
appState
AppState
COMPLETED
appDirPath
getActiveAppPath
applicationId
ACTIVE
RemoteIterator
FileStatus
iter
list
activeRootPath
Path
child
next
getPath
getName
toString
RemoteIterator
FileStatus
iter
fs
listStatusIterator
appLogPath
stat
next
List
TimelineStore
stores
LinkedList
storeForId
getCachedStore
groupId
cacheItems
Set
TimelineEntityGroupId
groupIds
HashSet
Set
TimelineEntityGroupId
groupIds
HashSet
idsFromPlugin
cacheIdPlugin
getTimelineEntityGroupId
entityType
primaryFilter
secondaryFilters
EntityCacheItem
cacheItem
cachedLogs
get
groupId
EntityCacheItem
cacheItem
cachedLogs
get
groupId
LOG
debug
getConfig
AppLogs
appLogs
getAndSetAppLogs
getApplicationId
cacheItem
cachedLogs
get
groupId
LOG
debug
EntityCacheItem
getConfig
AppLogs
appLogs
getAndSetAppLogs
getApplicationId
setAppLogs
put
warn
TimelineStore
store
getAppLogs
LOG
debug
entityType
primaryFilter
List
EntityCacheItem
relatedCacheItems
ArrayList
TimelineStore
stores
getTimelineStoresForRead
secondaryFilters
TimelineEntities
returnEntities
LOG
debug
entityType
entityId
List
EntityCacheItem
relatedCacheItems
ArrayList
TimelineStore
stores
getTimelineStoresForRead
LOG
debug
appDirPath
attemptDirName
Path
logPath
getPath
FileStatus
status
fs
getFileStatus
numParsed
startTime
Time
monotonicNow
LOG
debug
appDirPath
attemptDirName
Path
logPath
getPath
FileStatus
status
fs
getFileStatus
numParsed
startTime
Time
monotonicNow
offset
count
parsePath
tdm
appCompleted
jsonFactory
objMapper
ArrayList
TimelineEntity
entityList
bytesParsed
bytesParsedLastBatch
postError
MappingIterator
iter
objMapper
readValues
parser
entity
next
String
etype
getEntityType
eid
getEntityId
LOG
trace
count
getCurrentLocation
getCharOffset
Configuration
conf
YarnConfiguration
DocumentStoreVendor
storeType
DocumentStoreUtils
getStoreVendor
conf
storeType
DocumentStoreUtils
getStoreVendor
conf
List
TimelineEntityDocument
entityDocs
ArrayList
StringBuilder
queryStrBuilder
append
String
format
SELECT_DISTINCT_TYPES_FROM_COLLECTION
collectionName
sqlQuery
addPredicates
context
String
sqlQuery
buildQueryWithPredicates
context
collectionName
maxDocumentsSize
hasPredicate
queryStrBuilder
append
AND_OPERATOR
String
format
CONTAINS_FUNC_FOR_ID
context
getFlowName
getAppId
getEntityId
getFlowRunId
CONTAINS_FUNC_FOR_TYPE
getEntityType
Observable
ResourceResponse
Database
databaseReadObs
client
readDatabase
String
format
DATABASE_LINK
databaseName
DocumentClientException
de
throwable
LOG
info
collectionName
databaseName
DocumentCollection
collection
setId
o
setArgName
setRequired
options
addOption
Option
SUB_APP_METRICS_TTL_OPTION_SHORT
SKIP_EXISTING_TABLE_OPTION_SHORT
CommandLineParser
parser
PosixParser
CommandLine
commandLine
parse
args
serviceInit
conf
Configuration
hbaseConf
HBaseTimelineStorageUtils
getTimelineServiceHBaseConf
conn
ConnectionFactory
createConnection
entityTable
EntityTableRW
getTableMutator
appToFlowTable
AppToFlowTableRW
applicationTable
ApplicationTableRW
flowRunTable
FlowRunTableRW
flowActivityTable
FlowActivityTableRW
subApplicationTable
SubApplicationTableRW
domainTable
DomainTableRW
UserGroupInformation
ugi
isSecurityEnabled
getLoginUser
getCurrentUser
storageMonitor
HBaseStorageMonitor
K
converterColumnKey
LOG
debug
keyConverter
decode
entry
getKey
error
iae
columnNameParts
Separator
QUALIFIERS
split
actualColumnPrefixBytes
K
converterColumnKey
keyConverter
decode
columnKey
LOG
error
iae
columnNameParts
Separator
QUALIFIERS
split
actualColumnPrefixBytes
TableName
table
getTableName
hbaseConf
IOException
getNameAsString
HTableDescriptor
flowRunTableDescp
HColumnDescriptor
infoCF
FlowRunColumnFamily
INFO
getBytes
setBloomFilterType
BloomType
ROWCOL
addFamily
setMinVersions
setMaxVersions
DEFAULT_METRICS_MAX_VERSIONS
String
coprocessorJarPathStr
get
YarnConfiguration
FLOW_RUN_COPROCESSOR_JAR_HDFS_LOCATION
DEFAULT_HDFS_LOCATION_FLOW_RUN_COPROCESSOR_JAR
Path
coprocessorJarPath
LOG
info
toString
addCoprocessor
Coprocessor
PRIORITY_USER
admin
createTable
validateParams
augmentParams
hbaseConf
conn
Set
String
types
TreeSet
TimelineReaderContext
context
getContext
EntityRowKeyPrefix
prefix
getClusterId
getUserId
getFlowName
getFlowRunId
getAppId
currRowKey
getRowKeyPrefix
nextRowKey
length
FilterList
typeFilterList
addFilter
FirstKeyOnlyFilter
KeyOnlyFilter
PageFilter
typeFilterList
addFilter
FirstKeyOnlyFilter
KeyOnlyFilter
PageFilter
LOG
debug
counter
TimelineEntity
entity
parseEntityForType
results
next
warn
getType
String
currType
typeFilterList
addFilter
KeyOnlyFilter
PageFilter
LOG
debug
counter
TimelineEntity
entity
parseEntityForType
results
next
warn
getType
String
currType
Arrays
toString
currRowKey
validateParams
augmentParams
hbaseConf
conn
FilterList
filterList
constructFilterListBasedOnFields
HashSet
validateParams
augmentParams
hbaseConf
conn
Set
TimelineEntity
entities
LinkedHashSet
FilterList
filterList
createFilterList
FlowScannerOperation
requestOp
MINOR_COMPACTION
request
isMajor
MAJOR_COMPACTION
currentColumnQualifier
CellUtil
cloneQualifier
cell
previousColumnQualifier
converter
getValueConverter
addedCnt
emitCells
cells
currentColumnCells
currentAggOp
currentTimestamp
resetState
alreadySeenAggDim
getCurrentAggOp
collectCells
scannerContext
nextCell
sum
converter
add
currentValue
summationDone
LOG
trace
Bytes
toString
CellUtil
cloneQualifier
cell
decodeValue
cloneValue
getTimestamp
action
finalCells
Cell
anyCell
currentColumnCells
first
List
Tag
tags
ArrayList
t
HBaseTimelineServerUtils
createTag
AggregationOperation
SUM_FINAL
getTagType
toBytes
FLOW_APP_ID
AggregationCompactionDimension
APPLICATION_ID
tagByteArray
convertTagListToByteArray
sumCell
createNewCell
cloneRow
cloneFamily
TimestampGenerator
getSupplementedTimestamp
System
currentTimeMillis
encodeValue
LOG
trace
sum
Bytes
toString
CellUtil
cloneQualifier
cell
converter
decodeValue
cloneValue
getTimestamp
action
finalCells
add
Cell
anyCell
currentColumnCells
first
List
Tag
tags
ArrayList
t
HBaseTimelineServerUtils
createTag
AggregationOperation
SUM_FINAL
getTagType
toBytes
FLOW_APP_ID
AggregationCompactionDimension
APPLICATION_ID
tagByteArray
convertTagListToByteArray
sumCell
createNewCell
cloneRow
cloneFamily
TimestampGenerator
getSupplementedTimestamp
System
currentTimeMillis
encodeValue
currentCell
Number
previouslyChosenCellValue
converter
decodeValue
CellUtil
cloneValue
previouslyChosenCell
currentCellValue
FlowScannerOperation
requestOp
MINOR_COMPACTION
request
isMajor
MAJOR_COMPACTION
currentColumnQualifier
CellUtil
cloneQualifier
cell
previousColumnQualifier
converter
getValueConverter
addedCnt
emitCells
cells
currentColumnCells
currentAggOp
currentTimestamp
resetState
alreadySeenAggDim
getCurrentAggOp
collectCells
scannerContext
nextCell
summationDone
LOG
trace
sum
Bytes
toString
CellUtil
cloneQualifier
cell
converter
decodeValue
cloneValue
getTimestamp
action
finalCells
add
Cell
anyCell
currentColumnCells
first
List
Tag
tags
ArrayList
t
HBaseTimelineServerUtils
createTag
AggregationOperation
SUM_FINAL
getTagType
toBytes
FLOW_APP_ID
AggregationCompactionDimension
APPLICATION_ID
tagByteArray
convertTagListToByteArray
sumCell
createNewCell
cloneRow
cloneFamily
TimestampGenerator
getSupplementedTimestamp
System
currentTimeMillis
encodeValue
LOG
trace
sum
Bytes
toString
CellUtil
cloneQualifier
cell
converter
decodeValue
cloneValue
getTimestamp
action
finalCells
add
Cell
anyCell
currentColumnCells
first
List
Tag
tags
ArrayList
t
HBaseTimelineServerUtils
createTag
AggregationOperation
SUM_FINAL
getTagType
toBytes
FLOW_APP_ID
AggregationCompactionDimension
APPLICATION_ID
tagByteArray
convertTagListToByteArray
sumCell
createNewCell
cloneRow
cloneFamily
TimestampGenerator
getSupplementedTimestamp
System
currentTimeMillis
encodeValue
currentCell
Number
previouslyChosenCellValue
converter
decodeValue
CellUtil
cloneValue
previouslyChosenCell
currentCellValue
bindAddress
conf
get
YarnConfiguration
DEFAULT_TIMELINE_SERVICE_BIND_HOST
startPort
host
HttpServer2
Builder
builder
setName
setConf
addEndpoint
URI
create
useHttps
setPortRanges
portRanges
WebAppUtils
loadSslConfiguration
timelineRestServer
build
addJerseyResourcePackage
TimelineCollectorWebService
getPackage
getName
GenericExceptionHandler
YarnJacksonJaxbJsonProvider
setAttribute
COLLECTOR_MANAGER_ATTR_KEY
start
ReportNewCollectorInfoRequest
request
newInstance
appId
timelineRestServerBindAddress
token
GetTimelineCollectorContextRequest
request
newInstance
appId
GetTimelineCollectorContextRequest
request
newInstance
appId
LOG
info
GetTimelineCollectorContextResponse
response
getNMCollectorService
getTimelineCollectorContext
String
userId
getUserId
GetTimelineCollectorContextResponse
response
getNMCollectorService
getTimelineCollectorContext
request
String
userId
getUserId
LOG
debug
collector
getTimelineEntityContext
setUserId
flowName
getFlowName
setFlowName
flowVersion
getFlowVersion
setFlowVersion
flowRunId
getFlowRunId
Configuration
conf
getConfig
InetSocketAddress
nmCollectorServiceAddress
getSocketAddr
YarnConfiguration
NM_BIND_HOST
NM_COLLECTOR_SERVICE_ADDRESS
DEFAULT_NM_COLLECTOR_SERVICE_ADDRESS
DEFAULT_NM_COLLECTOR_SERVICE_PORT
ApplicationId
appId
containerId
getApplicationAttemptId
getApplicationId
shouldRemoveApplication
Set
ContainerId
masterContainers
appIdToContainerId
get
String
timelineWriterClassName
conf
get
YarnConfiguration
TIMELINE_SERVICE_WRITER_CLASS
DEFAULT_TIMELINE_SERVICE_WRITER_CLASS
TimelineCollector
collectorInTable
collectors
get
appId
collector
init
getConfig
setWriter
writer
start
put
TimelineCollector
collectorInTable
collectors
get
appId
collector
init
getConfig
setWriter
writer
start
put
LOG
info
postPut
YarnRuntimeException
e
TimelineCollector
collector
collectors
remove
appId
init
res
UserGroupInformation
callerUgi
getUser
req
isAsync
async
trim
equalsIgnoreCase
String
msg
UserGroupInformation
callerUgi
getUser
req
isAsync
async
trim
equalsIgnoreCase
String
msg
LOG
error
ForbiddenException
startTime
Time
monotonicNow
succeeded
ApplicationId
appID
parseApplicationId
appId
Response
status
Status
BAD_REQUEST
build
NodeTimelineCollectorManager
collectorManager
context
getAttribute
COLLECTOR_MANAGER_ATTR_KEY
TimelineCollector
collector
get
Response
status
Status
BAD_REQUEST
build
NodeTimelineCollectorManager
collectorManager
context
getAttribute
COLLECTOR_MANAGER_ATTR_KEY
TimelineCollector
collector
get
appID
LOG
error
appId
NotFoundException
putEntitiesAsync
processTimelineEntities
entities
Boolean
valueOf
isSubAppEntities
callerUgi
putEntities
succeeded
ok
WebApplicationException
e
INTERNAL_SERVER_ERROR
NodeTimelineCollectorManager
collectorManager
context
getAttribute
COLLECTOR_MANAGER_ATTR_KEY
TimelineCollector
collector
get
appID
LOG
error
appId
NotFoundException
putEntitiesAsync
processTimelineEntities
entities
Boolean
valueOf
isSubAppEntities
callerUgi
putEntities
succeeded
Response
ok
build
WebApplicationException
e
Status
INTERNAL_SERVER_ERROR
init
res
UserGroupInformation
callerUgi
getUser
req
String
msg
ApplicationId
appID
parseApplicationId
appId
Response
status
Status
BAD_REQUEST
build
NodeTimelineCollectorManager
collectorManager
context
getAttribute
COLLECTOR_MANAGER_ATTR_KEY
TimelineCollector
collector
get
LOG
error
NotFoundException
domain
setOwner
callerUgi
getShortUserName
putDomain
ok
WebApplicationException
e
INTERNAL_SERVER_ERROR
String
timelineReaderClassName
conf
get
YarnConfiguration
TIMELINE_SERVICE_READER_CLASS
DEFAULT_TIMELINE_SERVICE_READER_CLASS
hostProperty
YarnConfiguration
TIMELINE_SERVICE_BIND_HOST
String
bindAddress
WebAppUtils
getWebAppBindURL
conf
webAppURLWithoutScheme
LOG
info
httpScheme
getHttpSchemePrefix
HttpServer2
Builder
builder
setName
setConf
addEndpoint
URI
create
loadSslConfiguration
readerWebServer
build
addJerseyResourcePackage
TimelineReaderWebServices
getPackage
getName
GenericExceptionHandler
YarnJacksonJaxbJsonProvider
LogWebService
setAttribute
TIMELINE_READER_MANAGER_ATTR
timelineReaderManager
start
msg
endTime
Time
monotonicNow
endTime
Time
monotonicNow
LOG
info
url
startTime
BadRequestException
invalidNumMsg
e
getMessage
NotFoundException
ForbiddenException
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
TimelineEntity
entities
TimelineReaderContext
context
TimelineUIDConverter
APPLICATION_UID
decodeUID
uId
BadRequestException
setEntityType
TimelineReaderWebServicesUtils
parseStr
entityType
getEntities
createTimelineEntityFilters
limit
createdTimeStart
createdTimeEnd
relatesTo
isRelatedTo
infofilters
conffilters
metricfilters
eventfilters
fromId
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForGenericEntities
callerUGI
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
TimelineEntity
entities
TimelineReaderContext
context
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
userId
flowName
flowRunId
appId
entityType
getEntities
createTimelineEntityFilters
limit
createdTimeStart
createdTimeEnd
relatesTo
isRelatedTo
infofilters
conffilters
metricfilters
eventfilters
fromId
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForGenericEntities
callerUGI
handleException
e
url
latency
METRICS
addGetEntitiesLatency
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
TimelineReaderContext
context
TimelineUIDConverter
GENERIC_ENTITY_UID
decodeUID
uId
BadRequestException
getEntity
TimelineReaderWebServicesUtils
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForGenericEntity
callerUGI
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
TimelineEntity
entity
TimelineReaderContext
context
TimelineUIDConverter
GENERIC_ENTITY_UID
decodeUID
uId
BadRequestException
timelineReaderManager
getEntity
TimelineReaderWebServicesUtils
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForGenericEntity
callerUGI
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
LOG
info
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
LOG
info
url
TimelineReaderWebServicesUtils
getUserName
callerUGI
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
getEntity
createTimelineReaderContext
clusterId
userId
flowName
flowRunId
appId
entityType
entityIdPrefix
entityId
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForGenericEntity
handleException
e
latency
METRICS
addGetEntitiesLatency
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
getEntity
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
userId
flowName
flowRunId
appId
entityType
entityIdPrefix
entityId
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForGenericEntity
callerUGI
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
LOG
info
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
TimelineReaderContext
context
TimelineUIDConverter
FLOWRUN_UID
decodeUID
uId
BadRequestException
checkAccess
callerUGI
getUserId
setEntityType
TimelineEntityType
YARN_FLOW_RUN
toString
getEntity
TimelineReaderWebServicesUtils
createTimelineDataToRetrieve
metricsToRetrieve
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
TimelineReaderContext
context
TimelineUIDConverter
FLOWRUN_UID
decodeUID
uId
BadRequestException
checkAccess
timelineReaderManager
callerUGI
getUserId
setEntityType
TimelineEntityType
YARN_FLOW_RUN
toString
entity
getEntity
TimelineReaderWebServicesUtils
createTimelineDataToRetrieve
metricsToRetrieve
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
LOG
info
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
TimelineReaderContext
context
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
userId
flowName
flowRunId
TimelineEntityType
YARN_FLOW_RUN
toString
checkAccess
callerUGI
getUserId
getEntity
createTimelineDataToRetrieve
metricsToRetrieve
handleException
e
url
latency
METRICS
addGetEntitiesLatency
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
TimelineReaderContext
context
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
userId
flowName
flowRunId
TimelineEntityType
YARN_FLOW_RUN
toString
checkAccess
callerUGI
getUserId
getEntity
createTimelineDataToRetrieve
metricsToRetrieve
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
LOG
info
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
TimelineEntity
entities
TimelineReaderContext
context
TimelineUIDConverter
FLOW_UID
decodeUID
uId
BadRequestException
checkAccess
callerUGI
getUserId
setEntityType
TimelineEntityType
YARN_FLOW_RUN
toString
getEntities
TimelineReaderWebServicesUtils
createTimelineEntityFilters
limit
createdTimeStart
createdTimeEnd
fromId
createTimelineDataToRetrieve
metricsToRetrieve
fields
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
TimelineEntity
entities
TimelineReaderContext
timelineReaderContext
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
userId
flowName
TimelineEntityType
YARN_FLOW_RUN
toString
checkAccess
callerUGI
getUserId
getEntities
createTimelineEntityFilters
limit
createdTimeStart
createdTimeEnd
fromId
createTimelineDataToRetrieve
metricsToRetrieve
fields
handleException
e
url
latency
METRICS
addGetEntitiesLatency
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
TimelineEntity
entities
DateRange
range
parseDateRange
dateRange
TimelineEntityFilters
entityFilters
TimelineReaderWebServicesUtils
createTimelineEntityFilters
limit
dateStart
dateEnd
fromId
getEntities
createTimelineReaderContext
clusterId
TimelineEntityType
YARN_FLOW_ACTIVITY
toString
createTimelineDataToRetrieve
handleException
e
url
latency
METRICS
addGetEntitiesLatency
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
TimelineReaderContext
context
TimelineUIDConverter
APPLICATION_UID
decodeUID
uId
BadRequestException
setEntityType
TimelineEntityType
YARN_APPLICATION
toString
getEntity
TimelineReaderWebServicesUtils
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForAppEntity
callerUGI
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
TimelineReaderContext
context
TimelineUIDConverter
APPLICATION_UID
decodeUID
uId
BadRequestException
setEntityType
TimelineEntityType
YARN_APPLICATION
toString
entity
timelineReaderManager
getEntity
TimelineReaderWebServicesUtils
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForAppEntity
callerUGI
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
LOG
info
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
LOG
info
url
TimelineReaderWebServicesUtils
getUserName
callerUGI
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
getEntity
createTimelineReaderContext
clusterId
userId
flowName
flowRunId
appId
TimelineEntityType
YARN_APPLICATION
toString
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForAppEntity
handleException
e
latency
METRICS
addGetEntitiesLatency
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
TimelineEntity
entity
getEntity
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
userId
flowName
flowRunId
appId
TimelineEntityType
YARN_APPLICATION
toString
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForAppEntity
callerUGI
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
LOG
info
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
TimelineEntity
entities
TimelineReaderContext
context
TimelineUIDConverter
FLOWRUN_UID
decodeUID
uId
BadRequestException
checkAccess
callerUGI
getUserId
setEntityType
TimelineEntityType
YARN_APPLICATION
toString
getEntities
TimelineReaderWebServicesUtils
createTimelineEntityFilters
limit
createdTimeStart
createdTimeEnd
relatesTo
isRelatedTo
infofilters
conffilters
metricfilters
eventfilters
fromId
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
succeeded
handleException
e
url
startTime
latency
Time
monotonicNow
METRICS
addGetEntitiesLatency
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
String
results
TimelineReaderContext
context
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
userId
flowName
flowRunId
appId
getEntityTypes
checkAccess
callerUGI
getUserId
handleException
e
url
latency
METRICS
addGetEntityTypesLatency
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
TimelineEntity
entities
TimelineReaderContext
context
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
entityType
userId
getEntities
createTimelineEntityFilters
limit
createdTimeStart
createdTimeEnd
relatesTo
isRelatedTo
infofilters
conffilters
metricfilters
eventfilters
fromId
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForSubAppEntities
callerUGI
handleException
e
url
latency
METRICS
addGetEntitiesLatency
String
url
req
getRequestURI
getQueryString
QUERY_STRING_SEP
UserGroupInformation
callerUGI
TimelineReaderWebServicesUtils
getUser
startTime
Time
monotonicNow
succeeded
init
res
TimelineReaderManager
timelineReaderManager
getTimelineReaderManager
Set
TimelineEntity
entities
TimelineReaderContext
context
TimelineReaderWebServicesUtils
createTimelineReaderContext
clusterId
entityType
entityIdPrefix
entityId
userId
getEntities
TimelineEntityFilters
Builder
build
createTimelineDataToRetrieve
confsToRetrieve
metricsToRetrieve
fields
metricsLimit
metricsTimeStart
metricsTimeEnd
checkAccessForSubAppEntities
callerUGI
handleException
e
url
latency
METRICS
addGetEntitiesLatency
String
authUser
TimelineReaderWebServicesUtils
getUserName
ugi
requestedUser
parseStr
entityUser
isWhitelistReadAuthEnabled
YarnConfiguration
DEFAULT_TIMELINE_SERVICE_READ_AUTH_ENABLED
Boolean
valueOf
isWhitelistReadAuthEnabledStr
String
listAllowedUsers
conf
getInitParameter
TIMELINE_SERVICE_READ_ALLOWED_USERS
DEFAULT_TIMELINE_SERVICE_READ_ALLOWED_USERS
LOG
info
allowedUsersAclList
AccessControlList
getUsers
adminAclListStr
YARN_ADMIN_ACL
TimelineReaderWhitelistAuthorizationFilter
EMPTY_STRING
adminAclList
String
schemaCreatorClassName
conf
get
YarnConfiguration
TIMELINE_SERVICE_SCHEMA_CREATOR_CLASS
DEFAULT_TIMELINE_SERVICE_SCHEMA_CREATOR_CLASS
SubjectPublicKeyInfo
subPubKeyInfo
getInstance
publicKey
getEncoded
X509v3CertificateBuilder
certBuilder
issuer
BigInteger
srand
from
to
subject
AlgorithmIdentifier
digAlgId
DefaultDigestAlgorithmIdentifierFinder
find
SIG_ALG_ID
ContentSigner
contentSigner
BcRSAContentSignerBuilder
build
PrivateKeyFactory
createKey
privateKey
GeneralSecurityException
oce
addExtension
Extension
basicConstraints
BasicConstraints
authorityKeyIdentifier
JcaX509ExtensionUtils
createAuthorityKeyIdentifier
caCert
X509CertificateHolder
certHolder
X509Certificate
cert
JcaX509CertificateConverter
setProvider
getCertificate
Date
from
to
GregorianCalendar
Calendar
DECEMBER
getTime
KeyPairGenerator
keyGen
getInstance
initialize
caKeyPair
genKeyPair
String
subject
UUID
randomUUID
caCert
createCert
getPublic
getPrivate
LOG
warn
CommonConfigurationKeys
HADOOP_SECURITY_AUTHENTICATION
auth
String
proxy
WebAppUtils
getProxyHostAndPort
conf
proxyParts
split
proxyHost
fetcher
AppReportFetcher
bindAddress
get
YarnConfiguration
PROXY_ADDRESS
YarnRuntimeException
parts
StringUtils
port
Integer
parseInt
bindHost
getTrimmed
PROXY_BIND_HOST
String
proxy
WebAppUtils
getProxyHostAndPort
conf
proxyParts
split
proxyHost
fetcher
AppReportFetcher
bindAddress
get
YarnConfiguration
PROXY_ADDRESS
YarnRuntimeException
parts
StringUtils
port
Integer
parseInt
bindHost
getTrimmed
PROXY_BIND_HOST
LOG
debug
checkUser
securityEnabled
userWasWarned
userApproved
FetchedAppReport
fetchedAppReport
getFetchedAppReport
id
ApplicationReport
applicationReport
getApplicationReport
LOG
warn
remoteUser
URI
toFetch
ProxyUriUtils
getUriFromTrackingPlugins
trackingUriPlugins
ProxyUtils
sendRedirect
req
resp
toString
fetchedAppReport
ApplicationReport
applicationReport
getApplicationReport
LOG
warn
remoteUser
id
URI
toFetch
ProxyUriUtils
getUriFromTrackingPlugins
trackingUriPlugins
ProxyUtils
sendRedirect
req
resp
toString
notFound
appId
trackingUri
getTrackingUri
getOriginalTrackingUrl
getAppReportSource
now
Time
monotonicNow
proxyAddresses
HashSet
ProxyUtils
rejectNonHttpRequests
req
HttpServletRequest
httpReq
HttpServletResponse
httpResp
resp
insertPoint
PROXY_PATH
length
redirect
insert
String
queryString
httpReq
getQueryString
append
ProxyUtils
sendRedirect
httpResp
toString
user
c
getValue
server
Server
QueuedThreadPool
getThreadPool
setMaxThreads
ServletContextHandler
context
setContextPath
setHandler
addServlet
ServletHolder
TestServlet
ServerConnector
getConnectors
setHost
start
originalPort
getLocalPort
proxyConn
HttpURLConnection
url
openConnection
connect
assertEquals
HTTP_OK
getResponseCode
String
s
readInputStream
getInputStream
assertTrue
contains
appReportFetcher
answer
setRequestProperty
URL
clientUrl
proxyPort
